## Cancel an Existing Order and Send a New Orde

POST /openApi/swap/v1/trade/cancelReplace

rate limitation by UID: 5/s & rate limitation by IP in group Number: 2

API KEY permission: Perpetual Futures Trading

Content-Type:request body(application/json)

This api is used to cancel an order and place a new one on the same trading
pair.

### Request Parameters

| Parameter Name      | Type    | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ------------------- | ------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| cancelReplaceMode   | string  | yes      | STOP_ON_FAILURE: If the order cancellation fails, the replacement order will not continue. ALLOW_FAILURE: Regardless of the success of the order cancellation, the replacement order will proceed.                                                                                                                                                                                                                                                        |
| cancelClientOrderId | string  | no       | The original client-defined order ID to be canceled. The system will convert this field to lowercase. Either cancelClientOrderId or cancelOrderId must be provided. If both parameters are provided, cancelOrderId takes precedence.                                                                                                                                                                                                                      |
| cancelOrderId       | int64   | no       | The platform order ID to be canceled. Either cancelClientOrderId or cancelOrderId must be provided. If both parameters are provided, cancelOrderId takes precedence.                                                                                                                                                                                                                                                                                      |
| cancelRestrictions  | string  | no       | ONLY_NEW: If the order status is NEW, the cancellation will succeed. ONLY_PENDING: If the order status is PENDING, the cancellation will succeed. ONLY_PARTIALLY_FILLED: If the order status is PARTIALLY_FILLED, the cancellation will succeed.                                                                                                                                                                                                          |
| symbol              | string  | yes      | There must be a hyphen/ "-" in the trading pair symbol. eg: BTC-USDT                                                                                                                                                                                                                                                                                                                                                                                      |
| type                | string  | yes      | LIMIT: Limit Order / MARKET: Market Order / STOP_MARKET: Stop Market Order / TAKE_PROFIT_MARKET: Take Profit Market Order / STOP: Stop Limit Order / TAKE_PROFIT: Take Profit Limit Order / TRIGGER_LIMIT: Stop Limit Order with Trigger / TRIGGER_MARKET: Stop Market Order with Trigger / TRAILING_STOP_MARKET: Trailing Stop Market Order / TRAILING_TP_SL: Trailing TakeProfit or StopLoss                                                            |
| side                | string  | yes      | buying and selling direction SELL, BUY                                                                                                                                                                                                                                                                                                                                                                                                                    |
| positionSide        | string  | yes      | Position direction, required for single position as BOTH, for both long and short positions only LONG or SHORT can be chosen, defaults to LONG if empty                                                                                                                                                                                                                                                                                                   |
| reduceOnly          | string  | no       | true, false; Default value is false for single position mode; This parameter is not accepted for both long and short positions mode                                                                                                                                                                                                                                                                                                                       |
| price               | float64 | no       | Price, represents the trailing stop distance in TRAILING_STOP_MARKET and TRAILING_TP_SL                                                                                                                                                                                                                                                                                                                                                                   |
| quantity            | float64 | no       | Original quantity, only support units by COIN ,Ordering with quantity U is not currently supported.                                                                                                                                                                                                                                                                                                                                                       |
| stopPrice           | float64 | no       | Trigger price, only required for STOP_MARKET, TAKE_PROFIT_MARKET, STOP, TAKE_PROFIT, TRIGGER_LIMIT, TRIGGER_MARKET                                                                                                                                                                                                                                                                                                                                        |
| priceRate           | float64 | no       | For type: TRAILING_STOP_MARKET or TRAILING_TP_SL ; Maximum: 1                                                                                                                                                                                                                                                                                                                                                                                             |
| workingType         | string  | no       | StopPrice trigger price types: MARK_PRICE, CONTRACT_PRICE, default MARK_PRICE. When the type is STOP or STOP_MARKET, and stopGuaranteed is true, the workingType must only be CONTRACT_PRICE.                                                                                                                                                                                                                                                             |
| stopLoss            | string  | no       | Support setting stop loss while placing an order. Only supports type: STOP_MARKET/STOP                                                                                                                                                                                                                                                                                                                                                                    |
| takeProfit          | string  | no       | Support setting take profit while placing an order. Only supports type: TAKE_PROFIT_MARKET/TAKE_PROFIT                                                                                                                                                                                                                                                                                                                                                    |
| clientOrderId       | string  | no       | Customized order ID for users, with a limit of characters from 1 to 40. The system will convert this field to lowercase. Different orders cannot use the same clientOrderId, clientOrderId only supports LIMIT/MARKET order type                                                                                                                                                                                                                          |
| timestamp           | int64   | yes      | request timestamp, unit: millisecond                                                                                                                                                                                                                                                                                                                                                                                                                      |
| recvWindow          | int64   | no       | Request valid time window value, Unit: milliseconds                                                                                                                                                                                                                                                                                                                                                                                                       |
| closePosition       | string  | no       | true, false; all position squaring after triggering, only support STOP_MARKET and TAKE_PROFIT_MARKET; not used with quantity; comes with only position squaring effect, not used with reduceOnly                                                                                                                                                                                                                                                          |
| activationPrice     | float64 | no       | Used with TRAILING_STOP_MARKET or TRAILING_TP_SL orders, default as the latest price(supporting different workingType)                                                                                                                                                                                                                                                                                                                                    |
| stopGuaranteed      | string  | no       | true: Enables the guaranteed stop-loss and take-profit feature; false: Disables the feature. The guaranteed stop-loss feature is not enabled by default. Supported order types include: STOP_MARKET: Market stop-loss order / TAKE_PROFIT_MARKET: Market take-profit order / STOP: Limit stop-loss order / TAKE_PROFIT: Limit take-profit order / TRIGGER_LIMIT: Stop-limit order with trigger / TRIGGER_MARKET: Market order with trigger for stop-loss. |
| timeInForce         | string  | no       | Time in Force, currently supports PostOnly, GTC, IOC, and FOK                                                                                                                                                                                                                                                                                                                                                                                             |
| positionId          | int64   | no       | In the Separate Isolated mode, closing a position must be transmitted                                                                                                                                                                                                                                                                                                                                                                                     |

### Response Parameters

| Parameter Name   | Type             | Description                                                                    |
| ---------------- | ---------------- | ------------------------------------------------------------------------------ |
| cancelResult     | string           | Cancellation result. true: Cancellation successful, false: Cancellation failed |
| cancelMsg        | string           | Reason for the cancellation failure                                            |
| cancelResponse   | CancelResponse   | Information about the canceled order                                           |
| replaceResult    | string           | Replacement result. true: Replacement successful, false: Replacement failed    |
| replaceMsg       | string           | Reason for the replacement failure                                             |
| newOrderResponse | NewOrderResponse | Information about the new order                                                |

### Data Parameters

|                | Description                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| type           | Only supports type: STOP_MARKET/STOP, TAKE_PROFIT_MARKET/TAKE_PROFIT                                                                                                                                                                                                                                                                                                                                                                                      |
| stopPrice      | Trigger price, only for STOP_MARKET, TAKE_PROFIT_MARKET, STOP, TAKE_PROFIT                                                                                                                                                                                                                                                                                                                                                                                |
| price          | Order price                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| workingType    | Trigger price type for stopPrice: MARK_PRICE, CONTRACT_PRICE, default is MARK_PRICE. When the type is STOP or STOP_MARKET, and stopGuaranteed is true, the workingType must only be CONTRACT_PRICE.                                                                                                                                                                                                                                                       |
| stopGuaranteed | true: Enables the guaranteed stop-loss and take-profit feature; false: Disables the feature. The guaranteed stop-loss feature is not enabled by default. Supported order types include: STOP_MARKET: Market stop-loss order / TAKE_PROFIT_MARKET: Market take-profit order / STOP: Limit stop-loss order / TAKE_PROFIT: Limit take-profit order / TRIGGER_LIMIT: Stop-limit order with trigger / TRIGGER_MARKET: Market order with trigger for stop-loss. |

### Errors

| Error Code | Description                                                                                                                                                  |
| ---------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 80014      | timestamp is invalid                                                                                                                                         |
| 100421     | Null timestamp or timestamp mismatch, try to run our sample code from the link https://bingx-api.github.io/docs/#/en-us/spot/account-api.html#Query%20Assets |
| 100419     | IP does not match IP whitelist , please go to https://bingx.com/en/account/api/ to verify the ip you have set                                                |
| 100410     | code:100410:The endpoint trigger frequency limit rule is currently in the disabled period and will be unblocked after 1727193814249                          |
| 100410     | rate limited                                                                                                                                                 |
| 100413     | Incorrect apiKey                                                                                                                                             |
| 100410     | over 20 error code:100202 requests within 480000 ms for this api, please verify and fix it ,can retry after time: 1727193970155                              |
| 109400     | CATI-USDT,symbol not exist, please verify it in api: /openApi/swap/v2/quote/contracts                                                                        |
| 80020      | risk forbidden                                                                                                                                               |

> **Source:**
> [https://bingx-api.github.io/docs/#/en-us/swapV2/trade-api.html](https://bingx-api.github.io/docs/#/en-us/swapV2/trade-api.html)
