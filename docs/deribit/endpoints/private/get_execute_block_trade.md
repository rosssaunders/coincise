## /private/execute_block_trade

Creates block trade

The whole request have to be exact the same as in `private/verify_block_trade`,
only `role` field should be set appropriately - it basically means that both
sides have to agree on the same `timestamp`, `nonce`, `trades` fields and server
will assure that `role` field is different between sides (each party accepted
own role).

Using the same `timestamp` and `nonce` by both sides in
`private/verify_block_trade` assures that even if unintentionally both sides
execute given block trade with valid `counterparty_signature`, the given block
trade will be executed only once.

**Note:** In the API, the `direction` field is always expressed from the maker's
perspective. This means that when you accept a block trade as a taker, the
direction shown in the API represents the opposite side of your trade. For
example, if you are buying puts as a taker, the API will show the operation as a
"sell put" (maker's perspective), and you will be verifying and accepting a
"sell put" block trade.

**ðŸ“– Related Support Article:**
[Block Trading](https://support.deribit.com/hc/en-us/articles/25944688627229-Block-Trading)

**Scope:** `block_trade:read_write`

This is a private method; it can only be used after authentication.

This is a matching engine method.

### Parameters

| Parameter              | Required                                               | Type             | Enum    | Description                                                                                                                                                                       |
| ---------------------- | ------------------------------------------------------ | ---------------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| timestamp              | true                                                   | integer          |         | Timestamp, shared with other party (milliseconds since the UNIX epoch)                                                                                                            |
| nonce                  | true                                                   | string           |         | Nonce, shared with other party                                                                                                                                                    |
| role                   | true                                                   | string           | `maker` |
| `taker`                | Describes if user wants to be maker or taker of trades |
| trades                 | true                                                   | array of objects |         | List of trades for block trade                                                                                                                                                    |
| Â Â â€ºÂ Â instrument_name   | true                                                   | string           |         | Instrument name                                                                                                                                                                   |
| Â Â â€ºÂ Â price             | true                                                   | number           |         | Price for trade                                                                                                                                                                   |
| Â Â â€ºÂ Â amount            | false                                                  | number           |         | It represents the requested trade size. For perpetual and inverse futures the amount is in USD units. For options and linear futures and it is the underlying base currency coin. |
| Â Â â€ºÂ Â direction         | true                                                   | string           | `buy`   |
| `sell`                 | Direction of trade from the maker perspective          |
| counterparty_signature | true                                                   | string           |         | Signature of block trade generated by `private/verify_block_trade_method`                                                                                                         |

### Response

| Name                               | Type              | Description                                                                                                                                                                                                             |
| ---------------------------------- | ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                                 | integer           | The id that was sent in the request                                                                                                                                                                                     |
| jsonrpc                            | string            | The JSON-RPC version (2.0)                                                                                                                                                                                              |
| result                             | _object_          |                                                                                                                                                                                                                         |
| Â Â â€ºÂ Â app_name                      | string            | The name of the application that executed the block trade on behalf of the user (optional).                                                                                                                             |
| Â Â â€ºÂ Â broker_code                   | string            | Broker code associated with the broker block trade.                                                                                                                                                                     |
| Â Â â€ºÂ Â broker_name                   | string            | Name of the broker associated with the block trade.                                                                                                                                                                     |
| Â Â â€ºÂ Â id                            | string            | Block trade id                                                                                                                                                                                                          |
| Â Â â€ºÂ Â timestamp                     | integer           | The timestamp (milliseconds since the Unix epoch)                                                                                                                                                                       |
| Â Â â€ºÂ Â trades                        | array of _object_ |                                                                                                                                                                                                                         |
| Â Â â€ºÂ Â Â Â â€ºÂ Â trade_id                 | string            | Unique (per currency) trade identifier                                                                                                                                                                                  |
| Â Â â€ºÂ Â Â Â â€ºÂ Â tick_direction           | integer           | Direction of the "tick" (`0` = Plus Tick, `1` = Zero-Plus Tick, `2` = Minus Tick, `3` = Zero-Minus Tick).                                                                                                               |
| Â Â â€ºÂ Â Â Â â€ºÂ Â fee_currency             | string            | Currency, i.e `"BTC"`, `"ETH"`, `"USDC"`                                                                                                                                                                                |
| Â Â â€ºÂ Â Â Â â€ºÂ Â api                      | boolean           | `true` if user order was created with API                                                                                                                                                                               |
| Â Â â€ºÂ Â Â Â â€ºÂ Â advanced                 | string            | Advanced type of user order: `"usd"` or `"implv"` (only for options; omitted if not applicable)                                                                                                                         |
| Â Â â€ºÂ Â Â Â â€ºÂ Â order_id                 | string            | Id of the user order (maker or taker), i.e. subscriber's order id that took part in the trade                                                                                                                           |
| Â Â â€ºÂ Â Â Â â€ºÂ Â liquidity                | string            | Describes what was role of users order: `"M"` when it was maker order, `"T"` when it was taker order                                                                                                                    |
| Â Â â€ºÂ Â Â Â â€ºÂ Â post_only                | string            | `true` if user order is post-only                                                                                                                                                                                       |
| Â Â â€ºÂ Â Â Â â€ºÂ Â direction                | string            | Direction: `buy`, or `sell`                                                                                                                                                                                             |
| Â Â â€ºÂ Â Â Â â€ºÂ Â contracts                | number            | Trade size in contract units (optional, may be absent in historical trades)                                                                                                                                             |
| Â Â â€ºÂ Â Â Â â€ºÂ Â mmp                      | boolean           | `true` if user order is MMP                                                                                                                                                                                             |
| Â Â â€ºÂ Â Â Â â€ºÂ Â fee                      | number            | User's fee in units of the specified `fee_currency`                                                                                                                                                                     |
| Â Â â€ºÂ Â Â Â â€ºÂ Â quote_id                 | string            | QuoteID of the user order (optional, present only for orders placed with `private/mass_quote`)                                                                                                                          |
| Â Â â€ºÂ Â Â Â â€ºÂ Â index_price              | number            | Index Price at the moment of trade                                                                                                                                                                                      |
| Â Â â€ºÂ Â Â Â â€ºÂ Â label                    | string            | User defined label (presented only when previously set for order by user)                                                                                                                                               |
| Â Â â€ºÂ Â Â Â â€ºÂ Â block_trade_id           | string            | Block trade id - when trade was part of a block trade                                                                                                                                                                   |
| Â Â â€ºÂ Â Â Â â€ºÂ Â price                    | number            | Price in base currency                                                                                                                                                                                                  |
| Â Â â€ºÂ Â Â Â â€ºÂ Â combo_id                 | string            | Optional field containing combo instrument name if the trade is a combo trade                                                                                                                                           |
| Â Â â€ºÂ Â Â Â â€ºÂ Â matching_id              | string            | Always `null`                                                                                                                                                                                                           |
| Â Â â€ºÂ Â Â Â â€ºÂ Â order_type               | string            | Order type: `"limit`, `"market"`, or `"liquidation"`                                                                                                                                                                    |
| Â Â â€ºÂ Â Â Â â€ºÂ Â trade_allocations        | array of _object_ | List of allocations for Block RFQ pre-allocation. Each allocation specifies `user_id`, `amount`, and `fee` for the allocated part of the trade. For broker client allocations, a `client_info` object will be included. |
| Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â amount              | number            | Amount allocated to this user.                                                                                                                                                                                          |
| Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â client_info         | _object_          | Optional client allocation info for brokers.                                                                                                                                                                            |
| Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â client_id      | integer           | ID of a client; available to broker. Represents a group of users under a common name.                                                                                                                                   |
| Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â client_link_id | integer           | ID assigned to a single user in a client; available to broker.                                                                                                                                                          |
| Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â name           | string            | Name of the linked user within the client; available to broker.                                                                                                                                                         |
| Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â fee                 | number            | Fee for the allocated part of the trade.                                                                                                                                                                                |
| Â Â â€ºÂ Â Â Â â€ºÂ Â Â Â â€ºÂ Â user_id             | integer           | User ID to which part of the trade is allocated. For brokers the User ID is obstructed.                                                                                                                                 |
| Â Â â€ºÂ Â Â Â â€ºÂ Â profit_loss              | number            | Profit and loss in base currency.                                                                                                                                                                                       |
| Â Â â€ºÂ Â Â Â â€ºÂ Â timestamp                | integer           | The timestamp of the trade (milliseconds since the UNIX epoch)                                                                                                                                                          |
| Â Â â€ºÂ Â Â Â â€ºÂ Â iv                       | number            | Option implied volatility for the price (Option only)                                                                                                                                                                   |
| Â Â â€ºÂ Â Â Â â€ºÂ Â state                    | string            | Order state: `"open"`, `"filled"`, `"rejected"`, `"cancelled"`, `"untriggered"` or `"archive"` (if order was archived)                                                                                                  |
| Â Â â€ºÂ Â Â Â â€ºÂ Â underlying_price         | number            | Underlying price for implied volatility calculations (Options only)                                                                                                                                                     |
| Â Â â€ºÂ Â Â Â â€ºÂ Â block_rfq_quote_id       | integer           | ID of the Block RFQ quote - when trade was part of the Block RFQ                                                                                                                                                        |
| Â Â â€ºÂ Â Â Â â€ºÂ Â quote_set_id             | string            | QuoteSet of the user order (optional, present only for orders placed with `private/mass_quote`)                                                                                                                         |
| Â Â â€ºÂ Â Â Â â€ºÂ Â mark_price               | number            | Mark Price at the moment of trade                                                                                                                                                                                       |
| Â Â â€ºÂ Â Â Â â€ºÂ Â block_rfq_id             | integer           | ID of the Block RFQ - when trade was part of the Block RFQ                                                                                                                                                              |
| Â Â â€ºÂ Â Â Â â€ºÂ Â combo_trade_id           | number            | Optional field containing combo trade identifier if the trade is a combo trade                                                                                                                                          |
| Â Â â€ºÂ Â Â Â â€ºÂ Â reduce_only              | string            | `true` if user order is reduce-only                                                                                                                                                                                     |
| Â Â â€ºÂ Â Â Â â€ºÂ Â amount                   | number            | Trade amount. For perpetual and inverse futures the amount is in USD units. For options and linear futures and it is the underlying base currency coin.                                                                 |
| Â Â â€ºÂ Â Â Â â€ºÂ Â liquidation              | string            | Optional field (only for trades caused by liquidation): `"M"` when maker side of trade was under liquidation, `"T"` when taker side was under liquidation, `"MT"` when both sides of trade were under liquidation       |
| Â Â â€ºÂ Â Â Â â€ºÂ Â trade_seq                | integer           | The sequence number of the trade within instrument                                                                                                                                                                      |
| Â Â â€ºÂ Â Â Â â€ºÂ Â risk_reducing            | boolean           | `true` if user order is marked by the platform as a risk reducing order (can apply only to orders placed by PM users)                                                                                                   |
| Â Â â€ºÂ Â Â Â â€ºÂ Â instrument_name          | string            | Unique instrument identifier                                                                                                                                                                                            |
| Â Â â€ºÂ Â Â Â â€ºÂ Â legs                     | array             | Optional field containing leg trades if trade is a combo trade (present when querying for **only** combo trades and in `combo_trades` events)                                                                           |
