# OKX API Documentation - Private Orderbook Trading WebSocket API

### Overview

WebSocket is a new HTML5 protocol that achieves full-duplex data transmission
between the client and server, allowing data to be transferred effectively in
both directions. A connection between the client and server can be established
with just one handshake. The server will then be able to push data to the client
according to preset rules. Its advantages include:

- The WebSocket request header size for data transmission between client and
  server is only 2 bytes.
- Either the client or server can initiate data transmission.
- There's no need to repeatedly create and delete TCP connections, saving
  resources on bandwidth and server.

We recommend developers use WebSocket API to retrieve market data and order book
depth.

---

### Connect

**Connection limit**: 3 requests per second (based on IP)

When subscribing to a public channel, use the address of the public service.
When subscribing to a private channel, use the address of the private service

**Request limit**:

The total number of 'subscribe'/'unsubscribe'/'login' requests per connection is
limited to 480 times per hour.

If there’s a network problem, the system will automatically disable the
connection.

The connection will break automatically if the subscription is not established
or data has not been pushed for more than 30 seconds.

To keep the connection stable:

1\. Set a timer of N seconds whenever a response message is received, where N is
less than 30.

2\. If the timer is triggered, which means that no new message is received
within N seconds, send the String 'ping'.

3\. Expect a 'pong' as a response. If the response message is not received
within N seconds, please raise an error or reconnect.

---

### Connection count limit

The limit will be set at 30 WebSocket connections per specific WebSocket channel
per sub-account. Each WebSocket connection is identified by the unique `connId`.

The WebSocket channels subject to this limitation are as follows:

1.  [Orders channel](/docs-v5/en/#order-book-trading-trade-ws-order-channel)
2.  [Account channel](/docs-v5/en/#trading-account-websocket-account-channel)
3.  [Positions channel](/docs-v5/en/#trading-account-websocket-positions-channel)
4.  [Balance and positions channel](/docs-v5/en/#trading-account-websocket-balance-and-position-channel)
5.  [Position risk warning channel](/docs-v5/en/#trading-account-websocket-position-risk-warning)
6.  [Account greeks channel](/docs-v5/en/#trading-account-websocket-account-greeks-channel)

If users subscribe to the same channel through the same WebSocket connection
through multiple arguments, for example, by using
`{"channel": "orders", "instType": "ANY"}` and
`{"channel": "orders", "instType": "SWAP"}`, it will be counted once only. If
users subscribe to the listed channels (such as orders and accounts) using
either the same or different connections, it will not affect the counting, as
these are considered as two different channels. The system calculates the number
of WebSocket connections per channel.

The platform will send the number of active connections to clients through the
`channel-conn-count` event message **to new channel subscriptions**.

> Connection count update

When the limit is breached, generally the latest connection that sends the
subscription request will be rejected. Client will receive the usual
subscription acknowledgement followed by the `channel-conn-count-error` from the
connection that the subscription has been terminated. In exceptional
circumstances the platform may unsubscribe existing connections.

> Connection limit error

Order operations through WebSocket, including place, amend and cancel orders,
are not impacted through this change.

---

### Login

#### Request Parameters

| Parameter       | Type             | Required | Description                          |
| --------------- | ---------------- | -------- | ------------------------------------ |
| op              | String           | Yes      | Operation<br><code>login</code>      |
| args            | Array of objects | Yes      | List of account to login             |
| &gt; apiKey     | String           | Yes      | API Key                              |
| &gt; passphrase | String           | Yes      | API Key password                     |
| &gt; timestamp  | String           | Yes      | Unix Epoch time, the unit is seconds |
| &gt; sign       | String           | Yes      | Signature string                     |

#### Response parameters

| Parameter | Type   | Required | Description                                           |
| --------- | ------ | -------- | ----------------------------------------------------- |
| event     | String | Yes      | Operation<br><code>login</code><br><code>error</code> |
| code      | String | No       | Error code                                            |
| msg       | String | No       | Error message                                         |
| connId    | String | Yes      | WebSocket connection ID                               |

**apiKey**: Unique identification for invoking API. Requires user to apply one
manually.

**passphrase**: API Key password

**timestamp**: the Unix Epoch time, the unit is seconds, e.g. 1704876947

**sign**: signature string, the signature algorithm is as follows:

First concatenate `timestamp`, `method`, `requestPath`, strings, then use HMAC
SHA256 method to encrypt the concatenated string with SecretKey, and then
perform Base64 encoding.

**secretKey**: The security key generated when the user applies for API key,
e.g. `22582BD0CFF14C41EDBF1AB98506286D`

**Example of timestamp**: const timestamp = '' + Date.now() / 1,000

**Among sign example**:
sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp
+'GET'+'/users/self/verify', secretKey))

**method**: always 'GET'.

**requestPath** : always '/users/self/verify'

The request will expire 30 seconds after the timestamp. If your server time
differs from the API server time, we recommended using the REST API to query the
API server time and then set the timestamp.

---

### Subscribe

**Subscription Instructions**

WebSocket channels are divided into two categories: `public` and `private`
channels.

`Public channels` -- No authentication is required, include tickers channel,
K-Line channel, limit price channel, order book channel, and mark price channel
etc.

`Private channels` -- including account channel, order channel, and position
channel, etc -- require log in.

Users can choose to subscribe to one or more channels, and the total length of
multiple channels cannot exceed 64 KB.

Below is an example of subscription parameters. The requirement of subscription
parameters for each channel is different. For details please refer to the
specification of each channels.

**Request parameters**

| Parameter       | Type             | Required | Description                                                                                                                                         |
| --------------- | ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| op              | String           | Yes      | Operation<br><code>subscribe</code>                                                                                                                 |
| args            | Array of objects | Yes      | List of subscribed channels                                                                                                                         |
| &gt; channel    | String           | Yes      | Channel name                                                                                                                                        |
| &gt; instType   | String           | No       | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code> |
| &gt; instFamily | String           | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                       |
| &gt; instId     | String           | No       | Instrument ID                                                                                                                                       |

**Return parameters**

| Parameter       | Type   | Required | Description                                                                                                                                         |
| --------------- | ------ | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| event           | String | Yes      | Event<br><code>subscribe</code><br><code>error</code>                                                                                               |
| arg             | Object | No       | Subscribed channel                                                                                                                                  |
| &gt; channel    | String | Yes      | Channel name                                                                                                                                        |
| &gt; instType   | String | No       | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code> |
| &gt; instFamily | String | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                       |
| &gt; instId     | String | No       | Instrument ID                                                                                                                                       |
| code            | String | No       | Error code                                                                                                                                          |
| msg             | String | No       | Error message                                                                                                                                       |
| connId          | String | Yes      | WebSocket connection ID                                                                                                                             |

---

### Unsubscribe

Unsubscribe from one or more channels.

**Request parameters**

| Parameter       | Type             | Required | Description                                                                                                                                         |
| --------------- | ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| op              | String           | Yes      | Operation<br><code>unsubscribe</code>                                                                                                               |
| args            | Array of objects | Yes      | List of channels to unsubscribe from                                                                                                                |
| &gt; channel    | String           | Yes      | Channel name                                                                                                                                        |
| &gt; instType   | String           | No       | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code> |
| &gt; instFamily | String           | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                       |
| &gt; instId     | String           | No       | Instrument ID                                                                                                                                       |

**Response parameters**

| Parameter       | Type   | Required | Description                                                                                                                     |
| --------------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------- |
| event           | String | Yes      | Event<br><code>unsubscribe</code><br><code>error</code>                                                                         |
| arg             | Object | No       | Unsubscribed channel                                                                                                            |
| &gt; channel    | String | Yes      | Channel name                                                                                                                    |
| &gt; instType   | String | No       | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code> |
| &gt; instFamily | String | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                   |
| &gt; instId     | String | No       | Instrument ID                                                                                                                   |
| code            | String | No       | Error code                                                                                                                      |
| msg             | String | No       | Error message                                                                                                                   |

---

### Notification

WebSocket has introduced a new message type (event = `notice`).

Client will receive the information in the following scenarios:

- Websocket disconnect for service upgrade

30 seconds prior to the upgrade of the WebSocket service, the notification
message will be sent to users indicating that the connection will soon be
disconnected. Users are encouraged to establish a new connection to prevent any
disruptions caused by disconnection.

The feature is supported by WebSocket Public (/ws/v5/public) and Private
(/ws/v5/private) for now.

---

### Public

Error Code from 60000 to 64002

#### General Class

| Error Code | Error Message                                                                                                                                                                                                                                                    |
| ---------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 60004      | Invalid timestamp                                                                                                                                                                                                                                                |
| 60005      | Invalid apiKey                                                                                                                                                                                                                                                   |
| 60006      | Timestamp request expired                                                                                                                                                                                                                                        |
| 60007      | Invalid sign                                                                                                                                                                                                                                                     |
| 60008      | The current WebSocket endpoint does not support subscribing to {0} channels. Please check the WebSocket URL                                                                                                                                                      |
| 60009      | Login failure                                                                                                                                                                                                                                                    |
| 60011      | Please log in                                                                                                                                                                                                                                                    |
| 60012      | Invalid request                                                                                                                                                                                                                                                  |
| 60013      | Invalid args                                                                                                                                                                                                                                                     |
| 60014      | Requests too frequent                                                                                                                                                                                                                                            |
| 60018      | Wrong URL or {0} doesn't exist. Please use the correct URL, channel and parameters referring to API document.                                                                                                                                                    |
| 60019      | Invalid op: {op}                                                                                                                                                                                                                                                 |
| 60023      | Bulk login requests too frequent                                                                                                                                                                                                                                 |
| 60024      | Wrong passphrase                                                                                                                                                                                                                                                 |
| 60026      | Batch login by APIKey and token simultaneously is not supported.                                                                                                                                                                                                 |
| 60027      | Parameter {0} can not be empty.                                                                                                                                                                                                                                  |
| 60028      | The current operation is not supported by this URL. Please use the correct WebSocket URL for the operation.                                                                                                                                                      |
| 60029      | Only users who are VIP5 and above in trading fee tier are allowed to subscribe to this channel.                                                                                                                                                                  |
| 60030      | Only users who are VIP4 and above in trading fee tier are allowed to subscribe to books50-l2-tbt channel.                                                                                                                                                        |
| 60031      | The WebSocket endpoint does not allow multiple or repeated logins.                                                                                                                                                                                               |
| 60032      | API key doesn't exist.                                                                                                                                                                                                                                           |
| 63999      | Login failed due to internal error. Please try again later.                                                                                                                                                                                                      |
| 64000      | Subscription parameter uly is unavailable anymore, please replace uly with instFamily. More details can refer to: https://www.okx.com/help-center/changes-to-v5-api-websocket-subscription-parameter-and-url.                                                    |
| 64001      | This channel has been migrated to the '/business' URL. Please subscribe using the new URL. More details can refer to: https://www.okx.com/help-center/changes-to-v5-api-websocket-subscription-parameter-and-url.                                                |
| 64002      | This channel is not supported by "/business" URL. Please use "/private" URL(for private channels), or "/public" URL(for public channels). More details can refer to: https://www.okx.com/help-center/changes-to-v5-api-websocket-subscription-parameter-and-url. |
| 64003      | Your trading fee tier doesn't meet the requirement to access this channel                                                                                                                                                                                        |
| 64004      | Subscribe to both {channelName} and books-l2-tbt for {instId} is not allowed. Unsubscribe books-l2-tbt first.                                                                                                                                                    |
| 64007      | Operation {0} failed due to WebSocket internal error. Please try again later.                                                                                                                                                                                    |
| 64008      | The connection will soon be closed for a service upgrade. Please reconnect.                                                                                                                                                                                      |

#### Close Frame

| Status Code | Reason Text                                                               |
| ----------- | ------------------------------------------------------------------------- |
| 1009        | Request message exceeds the maximum frame length                          |
| 4001        | Login Failed                                                              |
| 4002        | Invalid Request                                                           |
| 4003        | APIKey subscription amount exceeds the limit 100                          |
| 4004        | No data received in 30s                                                   |
| 4005        | Buffer is full, cannot write data                                         |
| 4006        | Abnormal disconnection                                                    |
| 4007        | API key has been updated or deleted. Please reconnect.                    |
| 4008        | The number of subscribed channels exceeds the maximum limit.              |
| 4009        | The number of subscription channels for this connection exceeds the limit |

Disclaimer: The availability of products and services listed on this page will
depend on your region. Please see your applicable Terms of Service for more
detail.

---

## Production Trading Services

The Production Trading URL:

- REST: `https://www.okx.com`
- Public WebSocket: `wss://ws.okx.com:8443/ws/v5/public`
- Private WebSocket: `wss://ws.okx.com:8443/ws/v5/private`
- Business WebSocket: `wss://ws.okx.com:8443/ws/v5/business`

---

## Demo Trading Services

Currently, the API works for Demo Trading, but some functions are not supported,
such as `withdraw`,`deposit`,`purchase/redemption`, etc.

The Demo Trading URL:

- REST: `https://www.okx.com`
- Public WebSocket: `wss://wspap.okx.com:8443/ws/v5/public`
- Private WebSocket: `wss://wspap.okx.com:8443/ws/v5/private`
- Business WebSocket: `wss://wspap.okx.com:8443/ws/v5/business`

OKX account can be used for login on Demo Trading. If you already have an OKX
account, you can log in directly.

Start API Demo Trading by the following steps:  
Login OKX —> Trade —> Demo Trading —> Personal Center —> Demo Trading API ->
Create Demo Trading API Key —> Start your Demo Trading

Note: \`x-simulated-trading: 1\` needs to be added to the header of the Demo
Trading request.

---

### Demo Trading Explorer

You need to sign in to your OKX account before accessing the explorer. The
interface only allow access to the demo trading environment.

- Clicking `Try it out` button in Parameters Panel and editing request
  parameters.
- Clicking `Execute` button to send your request. You can check response in
  Responses panel.

Try [demo trading explorer](/demo-trading-explorer/v5/en)

---

### Account channel

Retrieve account information. Data will be pushed when triggered by events such
as placing order, canceling order, transaction execution, etc. It will also be
pushed in regular interval according to subscription granularity.

Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter               | Type             | Required | Description                                                                                                                                                                                                                                                                                              |
| ----------------------- | ---------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                      | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                         |
| op                      | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                                                                                      |
| args                    | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                                                                              |
| &gt; channel            | String           | Yes      | Channel name<br><code>account</code>                                                                                                                                                                                                                                                                     |
| &gt; ccy                | String           | No       | Currency                                                                                                                                                                                                                                                                                                 |
| &gt; extraParams        | String           | No       | Additional configuration                                                                                                                                                                                                                                                                                 |
| &gt;&gt; updateInterval | int              | No       | <code>0</code>: only push due to account events<br>The data will be pushed both by events and regularly if this field is omitted or set to other values than 0.<br>The following format should be strictly obeyed when using this field.<br>"extraParams": "<br>{<br>\"updateInterval\": \"0\"<br>}<br>" |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                           |
| ------------ | ------ | -------- | ------------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                      |
| event        | String | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                    |
| &gt; channel | String | Yes      | Channel name<br><code>account</code>                                                  |
| &gt; ccy     | String | No       | Currency                                                                              |
| code         | String | No       | Error code                                                                            |
| msg          | String | No       | Error message                                                                         |
| connId       | String | Yes      | WebSocket connection ID                                                               |

#### Push data parameters

| **Parameters**                 | **Types**        | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------------ | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg                            | Object           | Successfully subscribed channel                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; channel                   | String           | Channel name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; uid                       | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| eventType                      | String           | Event type:<br><code>snapshot</code>: Initial and regular snapshot push<br><code>event_update</code>: Event-driven update push                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| curPage                        | Integer          | Current page number.<br>Only applicable for <code>snapshot</code> events. Not included in <code>event_update</code> events.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| lastPage                       | Boolean          | Whether this is the last page of pagination:<br><code>true</code><br><code>false</code><br>Only applicable for <code>snapshot</code> events. Not included in <code>event_update</code> events.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| data                           | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; uTime                     | String           | The latest time to get account information, millisecond format of Unix timestamp, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; totalEq                   | String           | The total amount of equity in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; isoEq                     | String           | Isolated margin equity in <code>USD</code><br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; adjEq                     | String           | Adjusted / Effective equity in <code>USD</code><br>The net fiat value of the assets in the account that can provide margins for spot, expiry futures, perpetual futures and options under the cross-margin mode.<br>In multi-ccy or PM mode, the asset and margin requirement will all be converted to USD value to process the order check or liquidation.<br>Due to the volatility of each currency market, our platform calculates the actual USD value of each currency based on discount rates to balance market risks.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code> |
| &gt; availEq                   | String           | Account level available equity, excluding currencies that are restricted due to the collateralized borrowing limit.<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; ordFroz                   | String           | Margin frozen for pending cross orders in <code>USD</code><br>Only applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; imr                       | String           | Initial margin requirement in <code>USD</code><br>The sum of initial margins of all open positions and pending orders under cross-margin mode in <code>USD</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                           |
| &gt; mmr                       | String           | Maintenance margin requirement in <code>USD</code><br>The sum of maintenance margins of all open positions and pending orders under cross-margin mode in <code>USD</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                   |
| &gt; borrowFroz                | String           | Potential borrowing IMR of the account in <code>USD</code><br>Only applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>. It is "" for other margin modes.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; mgnRatio                  | String           | Maintenance margin ratio in <code>USD</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; notionalUsd               | String           | Notional value of positions in <code>USD</code><br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; notionalUsdForBorrow      | String           | Notional value for <code>Borrow</code> in USD<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; notionalUsdForSwap        | String           | Notional value of positions for <code>Perpetual Futures</code> in USD<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; notionalUsdForFutures     | String           | Notional value of positions for <code>Expiry Futures</code> in USD<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; notionalUsdForOption      | String           | Notional value of positions for <code>Option</code> in USD<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; upl                       | String           | Cross-margin info of unrealized profit and loss at the account level in <code>USD</code><br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; details                   | Array of objects | Detailed asset information in all currencies                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; ccy                   | String           | Currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; eq                    | String           | Equity of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; cashBal               | String           | Cash Balance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; uTime                 | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; isoEq                 | String           | Isolated margin equity of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; availEq               | String           | Available equity of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; disEq                 | String           | Discount equity of currency in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; fixedBal              | String           | Frozen balance for <code>Dip Sniper</code> and <code>Peak Sniper</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt;&gt; availBal              | String           | Available balance of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; frozenBal             | String           | Frozen balance of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; ordFrozen             | String           | Margin frozen for open orders<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>/<code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; liab                  | String           | Liabilities of currency<br>It is a positive value, e.g. <code>21625.64</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt;&gt; upl                   | String           | The sum of the unrealized profit &amp; loss of all margin and derivatives positions of currency.<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; uplLiab               | String           | Liabilities due to Unrealized loss of currency<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; crossLiab             | String           | Cross Liabilities of currency<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt;&gt; isoLiab               | String           | Isolated Liabilities of currency<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; rewardBal             | String           | Trial fund balance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; mgnRatio              | String           | Cross Maintenance margin ratio of currency<br>The index for measuring the risk of a certain asset in the account.<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; imr                   | String           | Cross initial margin requirement at the currency level<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; mmr                   | String           | Cross maintenance margin requirement at the currency level<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt;&gt; interest              | String           | Interest of currency<br>It is a positive value, e.g."9.01". Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt;&gt; twap                  | String           | System is forced repayment(TWAP) indicator<br>Divided into multiple levels from 0 to 5, the larger the number, the more likely the auto repayment will be triggered.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; maxLoan               | String           | Max loan of currency<br>Applicable to <code>cross</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; eqUsd                 | String           | Equity <code>USD</code> of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; borrowFroz            | String           | Potential borrowing IMR of currency in <code>USD</code><br>Only applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>. It is "" for other margin modes.                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt;&gt; notionalLever         | String           | Leverage of currency<br>Applicable to <code>Futures mode</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; coinUsdPrice          | String           | Price index <code>USD</code> of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; stgyEq                | String           | strategy equity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; isoUpl                | String           | Isolated unrealized profit and loss of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt;&gt; spotInUseAmt          | String           | Spot in use amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt;&gt; clSpotInUseAmt        | String           | User-defined spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; maxSpotInUseAmt       | String           | Max possible spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; spotIsoBal            | String           | Spot isolated balance<br>Applicable to copy trading<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; smtSyncEq             | String           | Smart sync equity<br>The default is "0", only applicable to copy trader.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; spotCopyTradingEq     | String           | Spot smart sync equity.<br>The default is "0", only applicable to copy trader.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; spotBal               | String           | Spot balance. The unit is currency, e.g. BTC. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; openAvgPx             | String           | Spot average cost price. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; accAvgPx              | String           | Spot accumulated cost price. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; spotUpl               | String           | Spot unrealized profit and loss. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; spotUplRatio          | String           | Spot unrealized profit and loss ratio. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt;&gt; totalPnl              | String           | Spot accumulated profit and loss. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; totalPnlRatio         | String           | Spot accumulated profit and loss ratio. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; collateralEnabled     | Boolean          | <code>true</code>: Collateral enabled<br><code>false</code>: Collateral disabled<br>Applicable to <code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; collateralRestrict    | Boolean          | Platform level collateralized borrow restriction<br><code>true</code><br><code>false</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt;&gt; colBorrAutoConversion | String           | Indicator of forced repayment when the collateralized borrowing on a crypto reaches the platform limit and users' trading accounts hold this crypto.<br>Divided into multiple levels from 1-5, the larger the number, the more likely the repayment will be triggered.<br>The default will be 0, indicating there is no risk currently. 5 means this user is undergoing auto conversion now.<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                       |

"" will be returned for inapplicable fields under the current account level.

\- The account data is sent on event basis and regular basis.  
\- The event push is not pushed in real-time. It is aggregated and pushed at a
fixed time interval, around 50ms. For example, if multiple events occur within a
fixed time interval, the system will aggregate them into a single message and
push it at the end of the fixed time interval. If the data volume is too large,
it may be split into multiple messages.  
\- The regular push sends updates regardless of whether there are activities in
the trading account or not.

\- Only currencies with non-zero balance will be pushed. Definition of non-zero
balance: any value of eq, availEq, availBql parameters is not 0. If the data is
too large to be sent in a single push message, it will be split into multiple
messages.  
\- For example, when subscribing to account channel without specifying ccy and
there are 5 currencies are with non-zero balance, all 5 currencies data will be
pushed in initial snapshot and in regular update. Subsequently when there is
change in balance or equity of an token, only the incremental data of that
currency will be pushed triggered by this change.

---

### Positions channel

Retrieve position information. Initial snapshot will be pushed according to
subscription granularity. Data will be pushed when triggered by events such as
placing/canceling order, and will also be pushed in regular interval according
to subscription granularity.

Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter               | Type             | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ----------------------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                      | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                          |
| op                      | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                                                                                                                                                                                                                                                       |
| args                    | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; channel            | String           | Yes      | Channel name<br><code>positions</code>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; instType           | String           | Yes      | Instrument type<br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code>                                                                                                                                                                                                                                                                                                                                            |
| &gt; instFamily         | String           | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; instId             | String           | No       | Instrument ID<br>If instId and instFamily are both passed, instId will be used                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; extraParams        | String           | No       | Additional configuration                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; updateInterval | int              | No       | <code>0</code>: only push due to positions events<br><code>2000, 3000, 4000</code>: push by events and regularly according to the time interval setting (ms)<br><br>The data will be pushed both by events and around per 5 seconds regularly if this field is omitted or set to other values than the valid values above.<br><br>The following format should be strictly followed when using this field.<br>"extraParams": "<br>{<br>\"updateInterval\": \"0\"<br>}<br>" |

#### Response parameters

| Parameter       | Type   | Required | Description                                                                                                                    |
| --------------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------ |
| id              | String | No       | Unique identifier of the message                                                                                               |
| event           | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code>                                              |
| arg             | Object | No       | Subscribed channel                                                                                                             |
| &gt; channel    | String | Yes      | Channel name                                                                                                                   |
| &gt; instType   | String | Yes      | Instrument type<br><code>MARGIN</code><br><code>FUTURES</code><br><code>SWAP</code><br><code>OPTION</code><br><code>ANY</code> |
| &gt; instFamily | String | No       | Instrument family                                                                                                              |
| &gt; instId     | String | No       | Instrument ID                                                                                                                  |
| code            | String | No       | Error code                                                                                                                     |
| msg             | String | No       | Error message                                                                                                                  |
| connId          | String | Yes      | WebSocket connection ID                                                                                                        |

#### Push data parameters

| Parameter                   | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                |
| --------------------------- | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg                         | Object           | Successfully subscribed channel                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; channel                | String           | Channel name                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; uid                    | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; instType               | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; instFamily             | String           | Instrument family                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; instId                 | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                              |
| eventType                   | String           | Event type:<br><code>snapshot</code>: Initial and regular snapshot push<br><code>event_update</code>: Event-driven update push                                                                                                                                                                                                                                                                                             |
| curPage                     | Integer          | Current page number.<br>Only applicable for <code>snapshot</code> events. Not included in <code>event_update</code> events.                                                                                                                                                                                                                                                                                                |
| lastPage                    | Boolean          | Whether this is the last page of pagination:<br><code>true</code><br><code>false</code><br>Only applicable for <code>snapshot</code> events. Not included in <code>event_update</code> events.                                                                                                                                                                                                                             |
| data                        | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; instType               | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; mgnMode                | String           | Margin mode, <code>cross</code> <code>isolated</code>                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; posId                  | String           | Position ID                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; posSide                | String           | Position side<br><code>long</code><br><code>short</code><br><code>net</code> (<code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>: positive <code>pos</code> means long position and negative <code>pos</code> means short position. <code>MARGIN</code>: <code>posCcy</code> being base currency means long position, <code>posCcy</code> being quote currency means short position.)                              |
| &gt; pos                    | String           | Quantity of positions. In the isolated margin mode, when doing manual transfers, a position with pos of <code>0</code> will be generated after the deposit is transferred                                                                                                                                                                                                                                                  |
| &gt; baseBal                | String           | <del>Base currency balance, only applicable to <code>MARGIN</code>（Quick Margin Mode）</del>(Deprecated)                                                                                                                                                                                                                                                                                                                  |
| &gt; quoteBal               | String           | <del>Quote currency balance, only applicable to <code>MARGIN</code>（Quick Margin Mode）</del>(Deprecated)                                                                                                                                                                                                                                                                                                                 |
| &gt; baseBorrowed           | String           | <del>Base currency amount already borrowed, only applicable to MARGIN(Quick Margin Mode）</del>(Deprecated)                                                                                                                                                                                                                                                                                                                |
| &gt; baseInterest           | String           | <del>Base Interest, undeducted interest that has been incurred, only applicable to MARGIN(Quick Margin Mode）</del>(Deprecated)                                                                                                                                                                                                                                                                                            |
| &gt; quoteBorrowed          | String           | <del>Quote currency amount already borrowed, only applicable to MARGIN(Quick Margin Mode）</del>(Deprecated)                                                                                                                                                                                                                                                                                                               |
| &gt; quoteInterest          | String           | <del>Quote Interest, undeducted interest that has been incurred, only applicable to MARGIN(Quick Margin Mode）</del>(Deprecated)                                                                                                                                                                                                                                                                                           |
| &gt; posCcy                 | String           | Position currency, only applicable to <code>MARGIN</code> positions                                                                                                                                                                                                                                                                                                                                                        |
| &gt; availPos               | String           | Position that can be closed<br>Only applicable to <code>MARGIN</code> and <code>OPTION</code>.<br>For <code>Margin</code> position, the rest of sz will be <code>SPOT</code> trading after the liability is repaid while closing the position. Please get the available reduce-only amount from "Get maximum available tradable amount" if you want to reduce the amount of <code>SPOT</code> trading as much as possible. |
| &gt; avgPx                  | String           | Average open price                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; upl                    | String           | Unrealized profit and loss calculated by mark price.                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; uplRatio               | String           | Unrealized profit and loss ratio calculated by mark price.                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; uplLastPx              | String           | Unrealized profit and loss calculated by last price. Main usage is showing, actual value is upl.                                                                                                                                                                                                                                                                                                                           |
| &gt; uplRatioLastPx         | String           | Unrealized profit and loss ratio calculated by last price.                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instId                 | String           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; lever                  | String           | Leverage, not applicable to <code>OPTION</code> seller                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; liqPx                  | String           | Estimated liquidation price<br>Not applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                       |
| &gt; markPx                 | String           | Latest Mark price                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; imr                    | String           | Initial margin requirement, only applicable to <code>cross</code>                                                                                                                                                                                                                                                                                                                                                          |
| &gt; margin                 | String           | Margin, can be added or reduced. Only applicable to <code>isolated</code> <code>Margin</code>.                                                                                                                                                                                                                                                                                                                             |
| &gt; mgnRatio               | String           | Maintenance margin ratio                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; mmr                    | String           | Maintenance margin requirement                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; liab                   | String           | Liabilities, only applicable to <code>MARGIN</code>.                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; liabCcy                | String           | Liabilities currency, only applicable to <code>MARGIN</code>.                                                                                                                                                                                                                                                                                                                                                              |
| &gt; interest               | String           | Interest accrued that has not been settled.                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; tradeId                | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; notionalUsd            | String           | Notional value of positions in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; optVal                 | String           | Option Value, only applicable to <code>OPTION</code>.                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; pendingCloseOrdLiabVal | String           | The amount of close orders of isolated margin liability.                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; adl                    | String           | Auto decrease line, signal area<br>Divided into 5 levels, from 1 to 5, the smaller the number, the weaker the adl intensity.<br>Only applicable to <code>FUTURES/SWAP/OPTION</code>                                                                                                                                                                                                                                        |
| &gt; bizRefId               | String           | External business id, e.g. experience coupon id                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; bizRefType             | String           | External business type                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; ccy                    | String           | Currency used for margin                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; last                   | String           | Latest traded price                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; idxPx                  | String           | Latest underlying index price                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; usdPx                  | String           | Latest USD price of the <code>ccy</code> on the market, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                             |
| &gt; bePx                   | String           | Breakeven price                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; deltaBS                | String           | delta: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                             |
| &gt; deltaPA                | String           | delta: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                             |
| &gt; gammaBS                | String           | gamma: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                             |
| &gt; gammaPA                | String           | gamma: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                             |
| &gt; thetaBS                | String           | theta: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                             |
| &gt; thetaPA                | String           | theta: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                             |
| &gt; vegaBS                 | String           | vega: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                              |
| &gt; vegaPA                 | String           | vega: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                              |
| &gt; spotInUseAmt           | String           | Spot in use amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                          |
| &gt; spotInUseCcy           | String           | Spot in use unit, e.g. <code>BTC</code><br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                     |
| &gt; clSpotInUseAmt         | String           | User-defined spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                        |
| &gt; maxSpotInUseAmt        | String           | Max possible spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                        |
| &gt; realizedPnl            | String           | Realized profit and loss<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code><br>realizedPnl=pnl+fee+fundingFee+liqPenalty+settledPnl                                                                                                                                                                                                                                                          |
| &gt; pnl                    | String           | Accumulated pnl of closing order(s)                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; fee                    | String           | Accumulated fee<br>Negative number represents the user transaction fee charged by the platform.Positive number represents rebate.                                                                                                                                                                                                                                                                                          |
| &gt; fundingFee             | String           | Accumulated funding fee                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; liqPenalty             | String           | Accumulated liquidation penalty. It is negative when there is a value.                                                                                                                                                                                                                                                                                                                                                     |
| &gt; closeOrderAlgo         | Array of objects | Close position algo orders attached to the position. This array will have values only after you request "Place algo order" with <code>closeFraction</code>=1.                                                                                                                                                                                                                                                              |
| &gt;&gt; algoId             | String           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; slTriggerPx        | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; slTriggerPxType    | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                         |
| &gt;&gt; tpTriggerPx        | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; tpTriggerPxType    | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                       |
| &gt;&gt; closeFraction      | String           | Fraction of position to be closed when the algo order is triggered.                                                                                                                                                                                                                                                                                                                                                        |
| &gt; cTime                  | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                                                                     |
| &gt; uTime                  | String           | Latest time position was adjusted, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                                                 |
| &gt; pTime                  | String           | Push time of positions information, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                                                |
| &gt; nonSettleAvgPx         | String           | Non-Settlement entry price<br>The non-settlement entry price only reflects the average price at which the position is opened or increased.<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                                                                        |
| &gt; settledPnl             | String           | Accumulated settled P&amp;L (calculated by settlement price)<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                                                                                                                                                      |

\- The position data is sent on event basis and regular basis  
\- The event push is not pushed in real-time. It is aggregated and pushed at a
fixed time interval, around 50ms. For example, if multiple events occur within a
fixed time interval, the system will aggregate them into a single message and
push it at the end of the fixed time interval. If the data volume is too large,
it may be split into multiple messages.  
\- The regular push sends updates regardless of whether there are position
activities or not.  
\- If an event push and a regular push happen at the same time, the system will
send the event push first, followed by the regular push.

As for portfolio margin account, the IMR and MMR of the position are calculated
in risk unit granularity, thus their values of the same risk unit cross
positions are the same.

In the position-by-position trading setting, it is an autonomous transfer mode.
After the margin is transferred, positions with a position of 0 will be pushed

\- Only position with non-zero position quantity will be pushed. Definition of
non-zero quantity: value of pos parameter is not 0. If the data is too large to
be sent in a single push message, it will be split into multiple messages.  
\- For example, when subscribing to positions channel specifying an underlying
and there are 20 positions are with non-zero quantity, all 20 positions data
will be pushed in initial snapshot and in regular push. Subsequently when there
is change in pos of a position, only the data of that position will be pushed
triggered by this change.

---

### Balance and position channel

Retrieve account balance and position information. Data will be pushed when
triggered by events such as filled order, funding transfer.  
This channel applies to getting the account cash balance and the change of
position asset ASAP.  
Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name<br><code>balance_and_position</code>                                                                                                                                                                                                |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                           |
| ------------ | ------ | -------- | ------------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                      |
| event        | String | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | List of subscribed channels                                                           |
| &gt; channel | String | Yes      | Channel name<br><code>balance_and_position</code>                                     |
| code         | String | No       | Error code                                                                            |
| msg          | String | No       | Error message                                                                         |
| connId       | String | Yes      | WebSocket connection ID                                                               |

#### Push data parameters

| **Parameter**           | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                           |
| ----------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg                     | Object           | Channel to subscribe to                                                                                                                                                                                                                                                                                                                                                   |
| &gt; channel            | String           | Channel name                                                                                                                                                                                                                                                                                                                                                              |
| &gt; uid                | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                           |
| data                    | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                           |
| &gt; pTime              | String           | Push time of both balance and position information, millisecond format of Unix timestamp, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                 |
| &gt; eventType          | String           | Event Type<br><code>snapshot</code><br><code>delivered</code><br><code>exercised</code><br><code>transferred</code><br><code>filled</code><br><code>liquidation</code><br><code>claw_back</code><br><code>adl</code><br><code>funding_fee</code><br><code>adjust_margin</code><br><code>set_leverage</code><br><code>interest_deduction</code><br><code>settlement</code> |
| &gt; balData            | Array of objects | Balance data                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; ccy            | String           | Currency                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; cashBal        | String           | Cash Balance                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; uTime          | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                       |
| &gt; posData            | Array of objects | Position data                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; posId          | String           | Position ID                                                                                                                                                                                                                                                                                                                                                               |
| &gt;&gt; tradeId        | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; instId         | String           | Instrument ID, e.g <code>BTC-USD-180213</code>                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; instType       | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                           |
| &gt;&gt; mgnMode        | String           | Margin mode<br><code>isolated</code>, <code>cross</code>                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; avgPx          | String           | Average open price                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; ccy            | String           | Currency used for margin                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; posSide        | String           | Position side<br><code>long</code>, <code>short</code>, <code>net</code>                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; pos            | String           | Quantity of positions. In the isolated margin mode, when doing manual transfers, a position with pos of <code>0</code> will be generated after the deposit is transferred                                                                                                                                                                                                 |
| &gt;&gt; baseBal        | String           | <del>Base currency balance, only applicable to <code>MARGIN</code>（Quick Margin Mode）</del>(Deprecated)                                                                                                                                                                                                                                                                 |
| &gt;&gt; quoteBal       | String           | <del>Quote currency balance, only applicable to <code>MARGIN</code>（Quick Margin Mode）</del>(Deprecated)                                                                                                                                                                                                                                                                |
| &gt;&gt; posCcy         | String           | Position currency, only applicable to MARGIN positions.                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; nonSettleAvgPx | String           | Non-Settlement entry price<br>The non-settlement entry price only reflects the average price at which the position is opened or increased.<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                       |
| &gt;&gt; settledPnl     | String           | Accumulated settled P&amp;L (calculated by settlement price)<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                                                                                                     |
| &gt;&gt; uTime          | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                       |
| &gt; trades             | Array of objects | Details of trade                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; instId         | String           | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; tradeId        | String           | Trade ID                                                                                                                                                                                                                                                                                                                                                                  |

Only balData will be pushed if only the account balance changes; only posData
will be pushed if only the position changes.

\- Initial snapshot: Only either position with non-zero position quantity or
cash balance with non-zero quantity will be pushed. If the data is too large to
be sent in a single push message, it will be split into multiple messages.  
\- For example, if you subscribe according to all currencies and the user has 5
currency balances that are not 0 and 20 positions, all 20 positions data and 5
currency balances data will be pushed in initial snapshot; Subsequently when
there is change in pos of a position, only the data of that position will be
pushed triggered by this change.

---

### Position risk warning

This push channel is only used as a risk warning, and is not recommended as a
risk judgment for strategic trading  
In the case that the market is volatile, there may be the possibility that the
position has been liquidated at the same time that this message is pushed.  
The warning is sent when a position is at risk of liquidation for isolated
margin positions. The warning is sent when all the positions are at risk of
liquidation for cross-margin positions.  
Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter       | Type             | Required | Description                                                                                                                                                                                                                                      |
| --------------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id              | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op              | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args            | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel    | String           | Yes      | Channel name<br><code>liquidation-warning</code>                                                                                                                                                                                                 |
| &gt; instType   | String           | Yes      | Instrument type<br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code>                                                                                                                   |
| &gt; instFamily | String           | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                    |
| &gt; instId     | String           | No       | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter       | Type   | Required | Description                                                                                                                    |
| --------------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------ |
| id              | String | No       | Unique identifier of the message                                                                                               |
| event           | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code>                                              |
| arg             | Object | No       | Subscribed channel                                                                                                             |
| &gt; channel    | String | Yes      | Channel name<br><code>liquidation-warning</code>                                                                               |
| &gt; instType   | String | Yes      | Instrument type<br><code>OPTION</code><br><code>FUTURES</code><br><code>SWAP</code><br><code>MARGIN</code><br><code>ANY</code> |
| &gt; instFamily | String | No       | Instrument family                                                                                                              |
| &gt; instId     | String | No       | Instrument ID                                                                                                                  |
| code            | String | No       | Error code                                                                                                                     |
| msg             | String | No       | Error message                                                                                                                  |
| connId          | String | Yes      | WebSocket connection ID                                                                                                        |

#### Push data parameters

| Parameter       | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                   |
| --------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg             | Object           | Successfully subscribed channel                                                                                                                                                                                                                                                                                                                                                               |
| &gt; channel    | String           | Channel name                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; uid        | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; instType   | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; instFamily | String           | Instrument family                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; instId     | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                 |
| data            | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; instType   | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; mgnMode    | String           | Margin mode, <code>cross</code> <code>isolated</code>                                                                                                                                                                                                                                                                                                                                         |
| &gt; posId      | String           | Position ID                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; posSide    | String           | Position side<br><code>long</code><br><code>short</code><br><code>net</code> (<code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>: positive <code>pos</code> means long position and negative <code>pos</code> means short position. <code>MARGIN</code>: <code>posCcy</code> being base currency means long position, <code>posCcy</code> being quote currency means short position.) |
| &gt; pos        | String           | Quantity of positions                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; posCcy     | String           | Position currency, only applicable to <code>MARGIN</code> positions                                                                                                                                                                                                                                                                                                                           |
| &gt; instId     | String           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>                                                                                                                                                                                                                                                                                                                                                |
| &gt; lever      | String           | Leverage, not applicable to <code>OPTION</code> seller                                                                                                                                                                                                                                                                                                                                        |
| &gt; markPx     | String           | Mark price                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; mgnRatio   | String           | Maintenance margin ratio                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; ccy        | String           | Currency used for margin                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; cTime      | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                                        |
| &gt; uTime      | String           | Latest time position was adjusted, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                    |
| &gt; pTime      | String           | Push time of positions information, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                   |

Trigger push logic: the trigger logic of the liquidation warning and the
liquidation message is the same

---

### Account greeks channel

Retrieve account greeks information. Data will be pushed when triggered by
events such as increase/decrease positions or cash balance in account, and will
also be pushed in regular interval according to subscription granularity.  
Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                                                           |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                      |
| op           | String           | Yes      | Operation<br><code>subscribe</code> <code>unsubscribe</code>                                                                                                                                                                                                                          |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                                                           |
| &gt; channel | String           | Yes      | Channel name<br><code>account-greeks</code>                                                                                                                                                                                                                                           |
| &gt; ccy     | String           | No       | Settlement currency<br>When the user specifies a settlement currency, event push will only be triggered when the position of the same settlement currency changes. For example, when ccy=BTC, if the position of <code>BTC-USDT-SWAP</code> changes, no event push will be triggered. |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                           |
| ------------ | ------ | -------- | ------------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                      |
| event        | String | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                    |
| &gt; channel | String | Yes      | Channel name,<code>account-greeks</code>                                              |
| &gt; ccy     | String | No       | Settlement currency                                                                   |
| code         | String | No       | Error code                                                                            |
| msg          | String | No       | Error message                                                                         |
| connId       | String | Yes      | WebSocket connection ID                                                               |

#### Push data parameters

| **Parameters** | **Types**        | **Description**                                                                        |
| -------------- | ---------------- | -------------------------------------------------------------------------------------- |
| arg            | Object           | Successfully subscribed channel                                                        |
| &gt; channel   | String           | Channel name                                                                           |
| &gt; uid       | String           | User Identifier                                                                        |
| data           | Array of objects | Subscribed data                                                                        |
| &gt; deltaBS   | String           | delta: Black-Scholes Greeks in dollars                                                 |
| &gt; deltaPA   | String           | delta: Greeks in coins                                                                 |
| &gt; gammaBS   | String           | gamma: Black-Scholes Greeks in dollars, only applicable to OPTION cross                |
| &gt; gammaPA   | String           | gamma: Greeks in coins, only applicable to OPTION cross                                |
| &gt; thetaBS   | String           | theta: Black-Scholes Greeks in dollars, only applicable to OPTION cross                |
| &gt; thetaPA   | String           | theta: Greeks in coins, only applicable to OPTION cross                                |
| &gt; vegaBS    | String           | vega: Black-Scholes Greeks in dollars, only applicable to OPTION cross                 |
| &gt; vegaPA    | String           | vega: Greeks in coins, only applicable to OPTION cross                                 |
| &gt; ccy       | String           | Currency                                                                               |
| &gt; ts        | String           | Push time of account greeks, Unix timestamp format in milliseconds, e.g. 1597026383085 |

The account greeks data is sent on event basis and regular basis  
\- The event push is not pushed in real-time. It is aggregated and pushed at a
fixed time interval, around 50ms. For example, if multiple events occur within a
fixed time interval, the system will aggregate them into a single message and
push it at the end of the fixed time interval. If the data volume is too large,
it may be split into multiple messages.  
\- When the user specifies a settlement currency in the subscribe request, event
push will only be triggered when the position of the same settlement currency
changes. For example, when subscribe \`ccy\`=BTC, if the position of
\`BTC-USDT-SWAP\` changes, no event push will be triggered.  
\- The regular push sends updates regardless of whether there are activities or
not.

\- Only currencies in the account will be pushed. If the data is too large to be
sent in a single push message, it will be split into multiple messages.  
\- For example, when subscribing to account-greeks channel without specifying
ccy and there are 5 currencies are with non-zero balance, all 5 currencies data
will be pushed in initial snapshot and in regular interval. Subsequently when
there is change in balance or equity of an token, only the incremental data of
that currency will be pushed triggered by this change.

---

### WS / Order channel

Retrieve order information. Data will not be pushed when first subscribed. Data
will only be pushed when there are order updates.

Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter       | Type             | Required | Description                                                                                                                                                                                                                                      |
| --------------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id              | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op              | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args            | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel    | String           | Yes      | Channel name<br><code>orders</code>                                                                                                                                                                                                              |
| &gt; instType   | String           | Yes      | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code>                                                                                              |
| &gt; instFamily | String           | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                    |
| &gt; instId     | String           | No       | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter       | Type   | Required | Description                                                                                                                                         |
| --------------- | ------ | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| id              | String | No       | Unique identifier of the message                                                                                                                    |
| event           | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code>                                                                   |
| arg             | Object | No       | Subscribed channel                                                                                                                                  |
| &gt; channel    | String | Yes      | Channel name                                                                                                                                        |
| &gt; instType   | String | Yes      | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code> |
| &gt; instFamily | String | No       | Instrument family                                                                                                                                   |
| &gt; instId     | String | No       | Instrument ID                                                                                                                                       |
| code            | String | No       | Error code                                                                                                                                          |
| msg             | String | No       | Error message                                                                                                                                       |
| connId          | String | Yes      | WebSocket connection ID                                                                                                                             |

#### Push data parameters

| Parameter                     | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ----------------------------- | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg                           | Object           | Successfully subscribed channel                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; channel                  | String           | Channel name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; uid                      | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instType                 | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instFamily               | String           | Instrument family                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; instId                   | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| data                          | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instType                 | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instId                   | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; tgtCcy                   | String           | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market orders.<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; ccy                      | String           | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; ordId                    | String           | Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; clOrdId                  | String           | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; tag                      | String           | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; px                       | String           | Price<br>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; pxUsd                    | String           | Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; pxVol                    | String           | Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; pxType                   | String           | Price type of options<br><code>px</code>: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)<br><code>pxVol</code>: Place an order based on pxVol<br><code>pxUsd</code>: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; sz                       | String           | The original order quantity, <code>SPOT</code>/<code>MARGIN</code>, in the unit of currency; <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, in the unit of contract                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; notionalUsd              | String           | Estimated national value in <code>USD</code> of order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; ordType                  | String           | Order type<br><code>market</code>: market order<br><code>limit</code>: limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures)<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode).<br><code>op_fok</code>: Simple options (fok)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; side                     | String           | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; posSide                  | String           | Position side<br><code>net</code><br><code>long</code> or <code>short</code> Only applicable to <code>FUTURES</code>/<code>SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; tdMode                   | String           | Trade mode, <code>cross</code>: cross <code>isolated</code>: isolated <code>cash</code>: cash                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; fillPx                   | String           | Last filled price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; tradeId                  | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; fillSz                   | String           | Last filled quantity<br>The unit is <code>base_ccy</code> for SPOT and MARGIN, e.g. BTC-USDT, the unit is BTC; For market orders, the unit both is <code>base_ccy</code> when the tgtCcy is <code>base_ccy</code> or <code>quote_ccy</code>;<br>The unit is contract for <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; fillPnl                  | String           | Last filled profit and loss, applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; fillTime                 | String           | Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; fillFee                  | String           | last filled fee amount or rebate amount:<br>Negative number represents the user transaction fee charged by the platform;<br>Positive number represents rebate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; fillFeeCcy               | String           | last filled fee currency or rebate currency.<br>It is fee currency when fillFee is less than 0; It is rebate currency when fillFee&gt;=0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; fillPxVol                | String           | Implied volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; fillPxUsd                | String           | Options price when filled, in the unit of USD<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; fillMarkVol              | String           | Mark volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; fillFwdPx                | String           | Forward price when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; fillMarkPx               | String           | Mark price when filled<br>Applicable to <code>FUTURES</code>, <code>SWAP</code>, <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; fillIdxPx                | String           | Index price at the moment of trade execution<br>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; execType                 | String           | Liquidity taker or maker of the last filled, T: taker M: maker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; accFillSz                | String           | Accumulated fill quantity<br>The unit is <code>base_ccy</code> for SPOT and MARGIN, e.g. BTC-USDT, the unit is BTC; For market orders, the unit both is <code>base_ccy</code> when the tgtCcy is <code>base_ccy</code> or <code>quote_ccy</code>;<br>The unit is contract for <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; fillNotionalUsd          | String           | Filled notional value in <code>USD</code> of order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; avgPx                    | String           | Average filled price. If none is filled, it will return <code>0</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; state                    | String           | Order state<br><code>canceled</code><br><code>live</code><br><code>partially_filled</code><br><code>filled</code><br><code>mmp_canceled</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; lever                    | String           | Leverage, from <code>0.01</code> to <code>125</code>.<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; attachAlgoClOrdId        | String           | Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; tpTriggerPx              | String           | Take-profit trigger price, it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; tpTriggerPxType          | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; tpOrdPx                  | String           | Take-profit order price, it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; slTriggerPx              | String           | Stop-loss trigger price, it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; slTriggerPxType          | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slOrdPx                  | String           | Stop-loss order price, it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; attachAlgoOrds           | Array of objects | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; attachAlgoId         | String           | The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; attachAlgoClOrdId    | String           | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; tpOrdKind            | String           | TP order kind<br><code>condition</code><br><code>limit</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; tpTriggerPx          | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; tpTriggerPxType      | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; tpOrdPx              | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; slTriggerPx          | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; slTriggerPxType      | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; slOrdPx              | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; sz                   | String           | Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; amendPxOnTriggerType | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; linkedAlgoOrd            | Object           | Linked SL order detail, only applicable to TP limit order of one-cancels-the-other order(oco)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; algoId               | Object           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; stpId                    | String           | <del>Self trade prevention ID<br>Return "" if self trade prevention is not applicable</del> (deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; stpMode                  | String           | Self trade prevention mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; feeCcy                   | String           | Fee currency<br><code>SPOT</code>/<code>MARGIN</code>: If you buy, you will receive <code>base currency</code>; if you sell, you will receive <code>quota currency</code><br><code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code> What is charged is the margin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; fee                      | String           | Fee and rebate<br>For spot and margin, it is accumulated fee charged by the platform. It is always negative, e.g. -0.01.<br>For Expiry Futures, Perpetual Futures and Options, it is accumulated fee and rebate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; rebateCcy                | String           | Rebate currency, if there is no rebate, this field is "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; rebate                   | String           | Rebate accumulated amount, only applicable to spot and margin, the reward of placing orders from the platform (rebate) given to user who has reached the specified trading level. If there is no rebate, this field is "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; pnl                      | String           | Profit and loss, applicable to orders which have a trade and aim to close position. It always is 0 in other conditions.<br>For liquidation under cross margin mode, it will include liquidation penalties.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; source                   | String           | Order source<br><code>6</code>: The normal order triggered by the <code>trigger order</code><br><code>7</code>:The normal order triggered by the <code>TP/SL order</code><br><code>13</code>: The normal order triggered by the algo order<br><code>25</code>:The normal order triggered by the <code>trailing stop order</code><br><code>34</code>: The normal order triggered by the chase order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; cancelSource             | String           | Source of the order cancellation.<br>Valid values and the corresponding meanings are:<br><code>0</code>: Order canceled by system<br><code>1</code>: Order canceled by user<br><code>2</code>: Order canceled: Pre reduce-only order canceled, due to insufficient margin in user position<br><code>3</code>: Order canceled: Risk cancellation was triggered. Pending order was canceled due to insufficient maintenance margin ratio and forced-liquidation risk.<br><code>4</code>: Order canceled: Borrowings of crypto reached hard cap, order was canceled by system.<br><code>6</code>: Order canceled: ADL order cancellation was triggered. Pending order was canceled due to a low margin ratio and forced-liquidation risk.<br><code>7</code>: Order canceled: Futures contract delivery.<br><code>9</code>: Order canceled: Insufficient balance after funding fees deducted.<br><code>10</code>: Order canceled: Option contract expiration.<br><code>13</code>: Order canceled: FOK order was canceled due to incompletely filled.<br><code>14</code>: Order canceled: IOC order was partially canceled due to incompletely filled.<br><code>15</code>: Order canceled: The order price is beyond the limit<br><code>17</code>: Order canceled: Close order was canceled, due to the position was already closed at market price.<br><code>20</code>: Cancel all after triggered<br><code>21</code>: Order canceled: The TP/SL order was canceled because the position had been closed<br><code>22</code> Order canceled: Due to a better price was available for the order in the same direction, the current operation reduce-only order was automatically canceled<br><code>23</code> Order canceled: Due to a better price was available for the order in the same direction, the existing reduce-only order was automatically canceled<br><code>27</code>: Order canceled: Price limit verification failed because the price difference between counterparties exceeds 5%<br><code>31</code>: The post-only order will take liquidity in taker orders<br><code>32</code>: Self trade prevention<br><code>33</code>: The order exceeds the maximum number of order matches per taker order<br><code>36</code>: Your TP limit order was canceled because the corresponding SL order was triggered.<br><code>37</code>: Your TP limit order was canceled because the corresponding SL order was canceled.<br><code>38</code>: You have canceled market maker protection (MMP) orders.<br><code>39</code>: Your order was canceled because market maker protection (MMP) was triggered.<br><code>42</code>: Your order was canceled because the difference between the initial and current best bid or ask prices reached the maximum chase difference.<br><code>43</code>: Order cancelled because the buy order price is higher than the index price or the sell order price is lower than the index price.<br><code>44</code>: Your order was canceled because your available balance of this crypto was insufficient for auto conversion. Auto conversion was triggered when the total collateralized liabilities for this crypto reached the platform’s risk control limit. |
| &gt; amendSource              | String           | Source of the order amendation.<br><code>1</code>: Order amended by user<br><code>2</code>: Order amended by user, but the order quantity is overriden by system due to reduce-only<br><code>3</code>: New order placed by user, but the order quantity is overriden by system due to reduce-only<br><code>4</code>: Order amended by system due to other pending orders<br><code>5</code>: Order modification due to changes in options px, pxVol, or pxUsd as a result of following variations. For example, when iv = 60, USD and px are anchored at iv = 60, the changes in USD or px lead to modification.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; category                 | String           | Category<br><code>normal</code><br><code>twap</code><br><code>adl</code><br><code>full_liquidation</code><br><code>partial_liquidation</code><br><code>delivery</code><br><code>ddh</code>: Delta dynamic hedge                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; isTpLimit                | String           | Whether it is TP limit order. true or false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; uTime                    | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; cTime                    | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; reqId                    | String           | Client Request ID as assigned by the client for order amendment. "" will be returned if there is no order amendment.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; amendResult              | String           | The result of amending the order<br><code>-1</code>: failure<br><code>0</code>: success<br><code>1</code>: Automatic cancel (amendment request returned success but amendment subsequently failed then automatically canceled by the system)<br><code>2</code>: Automatic amendation successfully, only applicable to pxVol and pxUsd orders of Option.<br>When amending the order through API and <code>cxlOnFail</code> is set to <code>true</code> in the order amendment request but the amendment is rejected, "" is returned.<br>When amending the order through API, the order amendment acknowledgement returns success and the amendment subsequently failed, <code>-1</code> will be returned if <code>cxlOnFail</code> is set to <code>false</code>, <code>1</code> will be returned if <code>cxlOnFail</code> is set to <code>true</code>.<br>When amending the order through Web/APP and the amendment failed, <code>-1</code> will be returned.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; reduceOnly               | String           | Whether the order can only reduce the position size. Valid options: <code>true</code> or <code>false</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; quickMgnType             | String           | Quick Margin type, Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; algoClOrdId              | String           | Client-supplied Algo ID. There will be a value when algo order attaching <code>algoClOrdId</code> is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; algoId                   | String           | Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; lastPx                   | String           | Last price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; code                     | String           | Error Code, the default is 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; msg                      | String           | Error Message, The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |

For market orders, it's likely the orders channel will show order state as
"filled" while showing the "last filled quantity (fillSz)" as 0.

---

### WS / Fills channel

Retrieve transaction information. Data will not be pushed when first subscribed.
Data will only be pushed when there are order book fill events, where
tradeId > 0.

The channel is exclusively available to users with trading fee tier VIP5 or
above. For other users, please use
[WS / Order channel](/docs-v5/en/#order-book-trading-trade-ws-order-channel).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code> <code>unsubscribe</code>                                                                                                                                                                                     |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name <code>fills</code>                                                                                                                                                                                                                  |
| &gt; instId  | String           | No       | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                 |
| ------------ | ------ | -------- | --------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                            |
| event        | String | Yes      | Event<br><code>subscribe</code> <code>unsubscribe</code> <code>error</code> |
| arg          | Object | No       | Subscribed channel                                                          |
| &gt; channel | String | Yes      | Channel name                                                                |
| &gt; instId  | String | No       | Instrument ID                                                               |
| code         | String | No       | Error code                                                                  |
| msg          | String | No       | Error message                                                               |
| connId       | String | Yes      | WebSocket connection ID                                                     |

#### Push data parameters

| Parameter     | Type             | Description                                                                               |
| ------------- | ---------------- | ----------------------------------------------------------------------------------------- |
| arg           | Object           | Successfully subscribed channel                                                           |
| &gt; channel  | String           | Channel name                                                                              |
| &gt; uid      | String           | User Identifier                                                                           |
| &gt; instId   | String           | Instrument ID                                                                             |
| data          | Array of objects | Subscribed data                                                                           |
| &gt; instId   | String           | Instrument ID                                                                             |
| &gt; fillSz   | String           | Filled quantity. If the trade is aggregated, the filled quantity will also be aggregated. |
| &gt; fillPx   | String           | Last filled price                                                                         |
| &gt; side     | String           | Trade direction<br><code>buy</code> <code>sell</code>                                     |
| &gt; ts       | String           | Filled time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>       |
| &gt; ordId    | String           | Order ID                                                                                  |
| &gt; tradeId  | String           | The last trade ID in the trades aggregation                                               |
| &gt; execType | String           | Liquidity taker or maker, <code>T</code>: taker <code>M</code>: maker                     |
| &gt; count    | String           | The count of trades aggregated                                                            |

\- The channel is exclusively available to users with trading fee tier VIP5 or
above. Others will receive error code 60029 when subscribing to it.  
\- The channel only pushes partial information of the orders channel. Fill
events of block trading, nitro spread, liquidation, ADL, and some other non
order book events will not be pushed through this channel. Users should also
subscribe to the orders channel for order confirmation.  
\- When a fill event is received by this channel, the account balance, margin,
and position information might not have changed yet.  
\- Taker orders will be aggregated based on different fill prices. When
aggregation occurs, the count field indicates the number of orders matched, and
the tradeId represents the tradeId of the last trade in the aggregation. Maker
orders will not be aggregated.  
\- In the future, connection limits will be imposed on this channel. The maximum
number of connections subscribing to this channel per subaccount will be 20. We
recommend users always use this channel within this limit to avoid any impact on
their strategies when the limit is enforced.

---

### WS / Place order

You can place an order only if you have sufficient funds.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 60 requests per 2 seconds

#### Rate Limit of lead instruments for Copy Trading: 4 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Rate limit is shared with the \`Place order\` REST API endpoints

#### Request Parameters

| Parameter         | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----------------- | ---------------- | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                   |
| op                | String           | Yes         | Operation<br><code>order</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| args              | Array of objects | Yes         | Request parameters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instId       | String           | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; tdMode       | String           | Yes         | Trade mode<br>Margin mode <code>isolated</code> <code>cross</code><br>Non-Margin mode <code>cash</code><br><code>spot_isolated</code> (only applicable to SPOT lead trading, <code>tdMode</code> should be <code>spot_isolated</code> for <code>SPOT</code> lead trading.)                                                                                                                                                                                                                                                                                                                         |
| &gt; ccy          | String           | No          | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; clOrdId      | String           | No          | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; tag          | String           | No          | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; side         | String           | Yes         | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; posSide      | String           | Conditional | Position side<br>The default is <code>net</code> in the <code>net</code> mode<br>It is required in the <code>long/short</code> mode, and can only be <code>long</code> or <code>short</code>.<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>.                                                                                                                                                                                                                                                                                                                                        |
| &gt; ordType      | String           | Yes         | Order type<br><code>market</code>: Market order, only applicable to <code>SPOT/MARGIN/FUTURES/SWAP</code><br><code>limit</code>: limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode) |
| &gt; sz           | String           | Yes         | Quantity to buy or sell.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; px           | String           | Conditional | Order price. Only applicable to <code>limit</code>,<code>post_only</code>,<code>fok</code>,<code>ioc</code>,<code>mmp</code>,<code>mmp_and_post_only</code> order.<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                         |
| &gt; pxUsd        | String           | Conditional | Place options orders in <code>USD</code><br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; pxVol        | String           | Conditional | Place options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; reduceOnly   | Boolean          | No          | Whether the order can only reduce the position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>Only applicable to <code>MARGIN</code> orders, and <code>FUTURES</code>/<code>SWAP</code> orders in <code>net</code> mode<br>Only applicable to <code>Futures mode</code> and <code>Multi-currency margin</code>                                                                                                                                                                                                                       |
| &gt; tgtCcy       | String           | No          | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                 |
| &gt; banAmend     | Boolean          | No          | Whether to disallow the system from amending the size of the SPOT Market Order.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>If <code>true</code>, system will not amend and reject the market order if user does not have sufficient funds.<br>Only applicable to SPOT Market Orders                                                                                                                                                                                                                                                    |
| &gt; quickMgnType | String           | No          | <del>Quick Margin type. Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code><br>The default value is <code>manual</code></del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; stpId        | String           | No          | <del>Self trade prevention ID. Orders from the same master account with the same ID will be prevented from self trade.<br>Numerical integers defined by user in the range of 1&lt;= x&lt;= 999999999</del> (deprecated)                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; stpMode      | String           | No          | Self trade prevention mode.<br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code>.<br>Cancel both does not support FOK<br><br>The account-level acctStpMode will be used to place orders. The default value of this field is <code>cancel_maker</code>. Users can log in to the webpage through the master account to modify this configuration. Users can also utilize the stpMode request parameter of the placing order endpoint to determine the stpMode of a certain order.                                                                                        |
| expTime           | String           | No          | Request effective deadline. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; tag     | String           | Order tag                                                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Rejection or success message of event execution.                                                                                              |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

tdMode  
Trade Mode, when placing an order, you need to specify the trade mode.  
**Spot mode:**  
\- SPOT and OPTION buyer: cash  
**Futures mode:**  
\- Isolated MARGIN: isolated  
\- Cross MARGIN: cross  
\- SPOT: cash  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated  
**Multi-currency margin:**  
\- Isolated MARGIN: isolated  
\- Cross SPOT: cross  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated  
**Portfolio margin:**  
\- Isolated MARGIN: isolated  
\- Cross SPOT: cross  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated

clOrdId  
clOrdId is a user-defined unique ID used to identify the order. It will be
included in the response parameters if you have specified during order
submission, and can be used as a request parameter to the endpoints to query,
cancel and amend orders.  
clOrdId must be unique among the clOrdIds of all pending orders.

posSide  
Position side, this parameter is not mandatory in **net** mode. If you pass it
through, the only valid value is **net**.  
In **long/short** mode, it is mandatory. Valid values are **long** or
**short**.  
In **long/short** mode, **side** and **posSide** need to be specified in the
combinations below:  
Open long: buy and open long (side: fill in buy; posSide: fill in long)  
Open short: sell and open short (side: fill in sell; posSide: fill in short)  
Close long: sell and close long (side: fill in sell; posSide: fill in long)  
Close short: buy and close short (side: fill in buy; posSide: fill in short)  
Portfolio margin mode: Expiry Futures and Perpetual Futures only support net
mode

ordType  
Order type. When creating a new order, you must specify the order type. The
order type you specify will affect: 1) what order parameters are required,
and 2) how the matching system executes your order. The following are valid
order types:  
limit: Limit order, which requires specified sz and px.  
market: Market order. For SPOT and MARGIN, market order will be filled with
market price (by swiping opposite order book). For Expiry Futures and Perpetual
Futures, market order will be placed to order book with most aggressive price
allowed by Price Limit Mechanism. For OPTION, market order is not supported yet.
As the filled price for market orders cannot be determined in advance, OKX
reserves/freezes your quote currency by an additional 5% for risk check.  
post_only: Post-only order, which the order can only provide liquidity to the
market and be a maker. If the order would have executed on placement, it will be
canceled instead.  
fok: Fill or kill order. If the order cannot be fully filled, the order will be
canceled. The order would not be partially filled.  
ioc: Immediate or cancel order. Immediately execute the transaction at the order
price, cancel the remaining unfilled quantity of the order, and the order
quantity will not be displayed in the order book.  
optimal_limit_ioc: Market order with ioc (immediate or cancel). Immediately
execute the transaction of this market order, cancel the remaining unfilled
quantity of the order, and the order quantity will not be displayed in the order
book. Only applicable to Expiry Futures and Perpetual Futures.

sz  
Quantity to buy or sell.  
For SPOT/MARGIN Buy and Sell Limit Orders, it refers to the quantity in base
currency.  
For MARGIN Buy Market Orders, it refers to the quantity in quote currency.  
For MARGIN Sell Market Orders, it refers to the quantity in base currency.  
For SPOT Market Orders, it is set by tgtCcy.  
For FUTURES/SWAP/OPTION orders, it refers to the number of contracts.

reduceOnly  
When placing an order with this parameter set to true, it means that the order
will reduce the size of the position only  
For the same MARGIN instrument, the coin quantity of all reverse direction
pending orders adds \`sz\` of new \`reduceOnly\` order cannot exceed the
position assets. After the debt is paid off, if there is a remaining size of
orders, the position will not be opened in reverse, but will be traded in
SPOT.  
For the same FUTURES/SWAP instrument, the sum of the current order size and all
reverse direction reduce-only pending orders which's price-time priority is
higher than the current order, cannot exceed the contract quantity of
position.  
Only applicable to \`Futures mode\` and \`Multi-currency margin\`  
Only applicable to \`MARGIN\` orders, and \`FUTURES\`/\`SWAP\` orders in \`net\`
mode  
Notice: Under long/short mode of Expiry Futures and Perpetual Futures, all
closing orders apply the reduce-only feature which is not affected by this
parameter.

tgtCcy  
This parameter is used to specify the order quantity in the order request is
denominated in the quantity of base or quote currency. This is applicable to
SPOT Market Orders only.  
Base currency: base_ccy  
Quote currency: quote_ccy  
If you use the Base Currency quantity for buy market orders or the Quote
Currency for sell market orders, please note:  
1\. If the quantity you enter is greater than what you can buy or sell, the
system will execute the order according to your maximum buyable or sellable
quantity. If you want to trade according to the specified quantity, you should
use Limit orders.  
2\. When the market price is too volatile, the locked balance may not be
sufficient to buy the Base Currency quantity or sell to receive the Quote
Currency that you specified. We will change the quantity of the order to execute
the order based on best effort principle based on your account balance. In
addition, we will try to over lock a fraction of your balance to avoid changing
the order quantity.  
2.1 Example of base currency buy market order:  
Taking the market order to buy 10 LTCs as an example, and the user can buy 11
LTC. At this time, if 10 < 11, the order is accepted. When the LTC-USDT market
price is 200, and the locked balance of the user is 3,000 USDT, as 200\*10 <
3,000, the market order of 10 LTC is fully executed; If the market is too
volatile and the LTC-USDT market price becomes 400, 400\*10 > 3,000, the user's
locked balance is not sufficient to buy using the specified amount of base
currency, the user's maximum locked balance of 3,000 USDT will be used to settle
the trade. Final transaction quantity becomes 3,000/400 = 7.5 LTC.  
2.2 Example of quote currency sell market order:  
Taking the market order to sell 1,000 USDT as an example, and the user can sell
1,200 USDT, 1,000 < 1,200, the order is accepted. When the LTC-USDT market price
is 200, and the locked balance of the user is 6 LTC, as 1,000/200 < 6, the
market order of 1,000 USDT is fully executed; If the market is too volatile and
the LTC-USDT market price becomes 100, 100\*6 < 1,000, the user's locked balance
is not sufficient to sell using the specified amount of quote currency, the
user's maximum locked balance of 6 LTC will be used to settle the trade. Final
transaction quantity becomes 6 \* 100 = 600 USDT.

px  
The value for px must be a multiple of tickSz for OPTION orders.  
If not, the system will apply the rounding rules below. Using tickSz 0.0005 as
an example:  
The px will be rounded up to the nearest 0.0005 when the remainder of px to
0.0005 is more than 0.00025 or \`px\` is less than 0.0005.  
The px will be rounded down to the nearest 0.0005 when the remainder of px to
0.0005 is less than 0.00025 and \`px\` is more than 0.0005.

Mandatory self trade prevention (STP)  
The trading platform imposes mandatory self trade prevention at master account
level, which means the accounts under the same master account, including master
account itself and all its affiliated sub-accounts, will be prevented from self
trade. The account-level acctStpMode will be used to place orders by default.
The default value of this field is \`cancel_maker\`. Users can log in to the
webpage through the master account to modify this configuration. Users can also
utilize the stpMode request parameter of the placing order endpoint to determine
the stpMode of a certain order.  
Mandatory self trade prevention will not lead to latency.  
There are three STP modes. The STP mode is always taken based on the
configuration in the taker order.  
1\. Cancel Maker: This is the default STP mode, which cancels the maker order to
prevent self-trading. Then, the taker order continues to match with the next
order based on the order book priority.  
2\. Cancel Taker: The taker order is canceled to prevent self-trading. If the
user's own maker order is lower in the order book priority, the taker order is
partially filled and then canceled. FOK orders are always honored and canceled
if they would result in self-trading.  
3\. Cancel Both: Both taker and maker orders are canceled to prevent
self-trading. If the user's own maker order is lower in the order book priority,
the taker order is partially filled. Then, the remaining quantity of the taker
order and the first maker order are canceled. FOK orders are not supported in
this mode.

---

### WS / Place multiple orders

Place orders in a batch. Maximum 20 orders can be placed per request

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 300 orders per 2 seconds

#### Rate Limit of lead instruments for Copy Trading: 4 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Place order\`.

Rate limit is shared with the \`Place multiple orders\` REST API endpoints

#### Request Parameters

| Parameter         | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------- | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                              |
| op                | String           | Yes         | Operation<br><code>batch-orders</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| args              | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; instId       | String           | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; tdMode       | String           | Yes         | Trade mode<br>Margin mode <code>isolated</code> <code>cross</code><br>Non-Margin mode <code>cash</code><br><code>spot_isolated</code> (only applicable to SPOT lead trading, <code>tdMode</code> should be <code>spot_isolated</code> for <code>SPOT</code> lead trading.)                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; ccy          | String           | No          | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; clOrdId      | String           | No          | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; tag          | String           | No          | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; side         | String           | Yes         | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; posSide      | String           | Conditional | Position side<br>The default <code>net</code> in the <code>net</code> mode<br>It is required in the <code>long/short</code> mode, and only be <code>long</code> or <code>short</code>.<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>.                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; ordType      | String           | Yes         | Order type<br><code>market</code>: Market order, only applicable to <code>SPOT/MARGIN/FUTURES/SWAP</code><br><code>limit</code>: limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures)<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode). |
| &gt; sz           | String           | Yes         | Quantity to buy or sell.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; px           | String           | Conditional | Order price. Only applicable to <code>limit</code>,<code>post_only</code>,<code>fok</code>,<code>ioc</code>,<code>mmp</code>,<code>mmp_and_post_only</code> order.<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; pxUsd        | String           | Conditional | Place options orders in <code>USD</code><br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; pxVol        | String           | Conditional | Place options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; reduceOnly   | Boolean          | No          | Whether the order can only reduce the position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>Only applicable to <code>MARGIN</code> orders, and <code>FUTURES</code>/<code>SWAP</code> orders in <code>net</code> mode<br>Only applicable to <code>Futures mode</code> and <code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                  |
| &gt; tgtCcy       | String           | No          | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; banAmend     | Boolean          | No          | Whether to disallow the system from amending the size of the SPOT Market Order.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>If <code>true</code>, system will not amend and reject the market order if user does not have sufficient funds.<br>Only applicable to SPOT Market Orders                                                                                                                                                                                                                                                                                                               |
| &gt; quickMgnType | String           | No          | <del>Quick Margin type. Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code><br>The default value is <code>manual</code></del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; stpId        | String           | No          | <del>Self trade prevention ID. Orders from the same master account with the same ID will be prevented from self trade.<br>Numerical integers defined by user in the range of 1&lt;= x&lt;= 999999999</del> (deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; stpMode      | String           | No          | Self trade prevention mode.<br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code><br>Cancel both does not support FOK.<br><br>The account-level acctStpMode will be used to place orders by default. The default value of this field is <code>cancel_maker</code>. Users can log in to the webpage through the master account to modify this configuration. Users can also utilize the stpMode request parameter of the placing order endpoint to determine the stpMode of a certain order.                                                                                                                                        |
| expTime           | String           | No          | Request effective deadline. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; tag     | String           | Order tag                                                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Rejection or success message of event execution.                                                                                              |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

In the \`Portfolio Margin\` account mode, either all orders are accepted by the
system successfully, or all orders are rejected by the system.

clOrdId  
clOrdId is a user-defined unique ID used to identify the order. It will be
included in the response parameters if you have specified during order
submission, and can be used as a request parameter to the endpoints to query,
cancel and amend orders.  
clOrdId must be unique among all pending orders and the current request.

---

### WS / Cancel order

Cancel an incomplete order

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 60 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit is shared with the \`Cancel order\` REST API endpoints

#### Request Parameters

| Parameter    | Type             | Required    | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes         | Operation<br><code>cancel-order</code>                                                                                                                                                                                                           |
| args         | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                               |
| &gt; instId  | String           | Yes         | Instrument ID                                                                                                                                                                                                                                    |
| &gt; ordId   | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, ordId will be used                                                                                                                                |
| &gt; clOrdId | String           | Conditional | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                  |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Order status message                                                                                                                          |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

Cancel order returns with sCode equal to 0. It is not strictly considered that
the order has been canceled. It only means that your cancellation request has
been accepted by the system server. The result of the cancellation is subject to
the state pushed by the order channel or the get order state.

---

### WS / Cancel multiple orders

Cancel incomplete orders in batches. Maximum 20 orders can be canceled per
request.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 300 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Cancel order\`.

Rate limit is shared with the \`Cancel multiple orders\` REST API endpoints

#### Request Parameters

| Parameter    | Type             | Required    | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes         | Operation<br><code>batch-cancel-orders</code>                                                                                                                                                                                                    |
| args         | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                               |
| &gt; instId  | String           | Yes         | Instrument ID                                                                                                                                                                                                                                    |
| &gt; ordId   | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, ordId will be used                                                                                                                                |
| &gt; clOrdId | String           | Conditional | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                  |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Order status message                                                                                                                          |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

---

### WS / Amend order

Amend an incomplete order.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 60 requests per 2 seconds

#### Rate Limit of lead instruments for Copy Trading: 4 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Rate limit is shared with the \`Amend order\` REST API endpoints

#### Request Parameters

| Parameter      | Type             | Required    | Description                                                                                                                                                                                                                                                                                         |
| -------------- | ---------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id             | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                    |
| op             | String           | Yes         | Operation<br><code>amend-order</code>                                                                                                                                                                                                                                                               |
| args           | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                                                                                  |
| &gt; instId    | String           | Yes         | Instrument ID                                                                                                                                                                                                                                                                                       |
| &gt; cxlOnFail | Boolean          | No          | Whether the order needs to be automatically canceled when the order amendment fails<br>Valid options: <code>false</code> or <code>true</code>, the default is <code>false</code>.                                                                                                                   |
| &gt; ordId     | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, <code>ordId</code> will be used.                                                                                                                                                                     |
| &gt; clOrdId   | String           | Conditional | Client Order ID as assigned by the client                                                                                                                                                                                                                                                           |
| &gt; reqId     | String           | No          | Client Request ID as assigned by the client for order amendment<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                               |
| &gt; newSz     | String           | Conditional | New quantity after amendment and it has to be larger than 0. Either <code>newSz</code> or <code>newPx</code> is required. When amending a partially-filled order, the <code>newSz</code> should include the amount that has been filled.                                                            |
| &gt; newPx     | String           | Conditional | New price after amendment.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order. |
| &gt; newPxUsd  | String           | Conditional | Modify options orders using USD prices<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                  |
| &gt; newPxVol  | String           | Conditional | Modify options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                              |
| expTime        | String           | No          | Request effective deadline. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                  |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; reqId   | String           | Client Request ID as assigned by the client for order amendment                                                                               |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Order status message                                                                                                                          |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

newSz  
If the new quantity of the order is less than or equal to the filled quantity
when you are amending a partially-filled order, the order status will be changed
to filled.

The amend order returns sCode equal to 0. It is not strictly considered that the
order has been amended. It only means that your amend order request has been
accepted by the system server. The result of the amend is subject to the status
pushed by the order channel or the order status query

---

### WS / Amend multiple orders

Amend incomplete orders in batches. Maximum 20 orders can be amended per
request.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 300 orders per 2 seconds

#### Rate Limit of lead instruments for Copy Trading: 4 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Amend order\`.

Rate limit is shared with the \`Amend multiple orders\` REST API endpoints

#### Request Parameters

| Parameter      | Type             | Required    | Description                                                                                                                                                                                                                                                                                         |
| -------------- | ---------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id             | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                    |
| op             | String           | Yes         | Operation<br><code>batch-amend-orders</code>                                                                                                                                                                                                                                                        |
| args           | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                                                                                  |
| &gt; instId    | String           | Yes         | Instrument ID                                                                                                                                                                                                                                                                                       |
| &gt; cxlOnFail | Boolean          | No          | Whether the order needs to be automatically canceled when the order amendment fails<br>Valid options: <code>false</code> or <code>true</code>, the default is <code>false</code>.                                                                                                                   |
| &gt; ordId     | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, <code>ordId</code> will be used.                                                                                                                                                                     |
| &gt; clOrdId   | String           | Conditional | Client Order ID as assigned by the client                                                                                                                                                                                                                                                           |
| &gt; reqId     | String           | No          | Client Request ID as assigned by the client for order amendment<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                               |
| &gt; newSz     | String           | Conditional | New quantity after amendment and it has to be larger than 0. Either <code>newSz</code> or <code>newPx</code> is required. When amending a partially-filled order, the <code>newSz</code> should include the amount that has been filled.                                                            |
| &gt; newPx     | String           | Conditional | New price after amendment.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order. |
| &gt; newPxUsd  | String           | Conditional | Modify options orders using USD prices<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                  |
| &gt; newPxVol  | String           | Conditional | Modify options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                              |
| expTime        | String           | No          | Request effective deadline. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                  |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                            |
| ------------ | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | Unique identifier of the message                                                                                                                       |
| op           | String           | Operation                                                                                                                                              |
| code         | String           | Error Code                                                                                                                                             |
| msg          | String           | Error message                                                                                                                                          |
| data         | Array of objects | Data                                                                                                                                                   |
| &gt; ordId   | String           | Order ID                                                                                                                                               |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                              |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>          |
| &gt; reqId   | String           | Client Request ID as assigned by the client for order amendment<br>If the user provides reqId in the request, the corresponding reqId will be returned |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                                        |
| &gt; sMsg    | String           | Order status message                                                                                                                                   |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                 |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                    |

newSz  
If the new quantity of the order is less than or equal to the filled quantity
when you are amending a partially-filled order, the order status will be changed
to filled.

---

### WS / Mass cancel order

Cancel all the MMP pending orders of an instrument family.

Only applicable to Option in Portfolio Margin mode, and MMP privilege is
required.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

Rate limit is shared with the \`Mass Cancel Order\` REST API endpoints

#### Request Parameters

| Parameter         | Type             | Required | Description                                                                                                                                                                                                                                                                     |
| ----------------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                | String           | Yes      | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                |
| op                | String           | Yes      | Operation<br><code>mass-cancel</code>                                                                                                                                                                                                                                           |
| args              | Array of objects | Yes      | Request parameters                                                                                                                                                                                                                                                              |
| &gt; instType     | String           | Yes      | Instrument type<br><code>OPTION</code>                                                                                                                                                                                                                                          |
| &gt; instFamily   | String           | Yes      | Instrument family                                                                                                                                                                                                                                                               |
| &gt; lockInterval | String           | No       | Lock interval(ms)<br>The range should be [0, 10 000]<br>The default is 0. You can set it as "0" if you want to unlock it immediately.<br>Error 54008 will be returned when placing order during lock interval, it is different from 51034 which is thrown when MMP is triggered |

#### Response Parameters

| Parameter   | Type             | Description                                                 |
| ----------- | ---------------- | ----------------------------------------------------------- |
| id          | String           | Unique identifier of the message                            |
| op          | String           | Operation                                                   |
| code        | String           | Error Code                                                  |
| msg         | String           | Error message                                               |
| data        | Array of objects | Data                                                        |
| &gt; result | Boolean          | Result of the request <code>true</code>, <code>false</code> |

---

### WS / Tickers channel

Retrieve the last traded price, bid price, ask price and 24-hour trading volume
of instruments. Best ask price may be lower than the best bid price during the
pre-open period.  
The fastest rate is 1 update/100ms. There will be no update if the event is not
triggered. The events which can trigger update: trade, the change on best
ask/bid.

#### URL Path

/ws/v5/public

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name<br><code>tickers</code>                                                                                                                                                                                                             |
| &gt; instId  | String           | Yes      | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                       |
| ------------ | ------ | -------- | --------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                  |
| event        | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                |
| &gt; channel | String | Yes      | Channel name                                                                      |
| &gt; instId  | String | Yes      | Instrument ID                                                                     |
| code         | String | No       | Error code                                                                        |
| msg          | String | No       | Error message                                                                     |
| connId       | String | Yes      | WebSocket connection ID                                                           |

#### Push data parameters

| **Parameter**  | **Type**         | **Description**                                                                                                                                                                                                                                      |
| -------------- | ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg            | Object           | Successfully subscribed channel                                                                                                                                                                                                                      |
| &gt; channel   | String           | Channel name                                                                                                                                                                                                                                         |
| &gt; instId    | String           | Instrument ID                                                                                                                                                                                                                                        |
| data           | Array of objects | Subscribed data                                                                                                                                                                                                                                      |
| &gt; instType  | String           | Instrument type                                                                                                                                                                                                                                      |
| &gt; instId    | String           | Instrument ID                                                                                                                                                                                                                                        |
| &gt; last      | String           | Last traded price                                                                                                                                                                                                                                    |
| &gt; lastSz    | String           | Last traded size. 0 represents there is no trading volume                                                                                                                                                                                            |
| &gt; askPx     | String           | Best ask price                                                                                                                                                                                                                                       |
| &gt; askSz     | String           | Best ask size                                                                                                                                                                                                                                        |
| &gt; bidPx     | String           | Best bid price                                                                                                                                                                                                                                       |
| &gt; bidSz     | String           | Best bid size                                                                                                                                                                                                                                        |
| &gt; open24h   | String           | Open price in the past 24 hours                                                                                                                                                                                                                      |
| &gt; high24h   | String           | Highest price in the past 24 hours                                                                                                                                                                                                                   |
| &gt; low24h    | String           | Lowest price in the past 24 hours                                                                                                                                                                                                                    |
| &gt; volCcy24h | String           | 24h trading volume, with a unit of <code>currency</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of base currency.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in quote currency. |
| &gt; vol24h    | String           | 24h trading volume, with a unit of <code>contract</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in base currency.      |
| &gt; sodUtc0   | String           | Open price in the UTC 0                                                                                                                                                                                                                              |
| &gt; sodUtc8   | String           | Open price in the UTC 8                                                                                                                                                                                                                              |
| &gt; ts        | String           | Ticker data generation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                  |

---

### WS / Candlesticks channel

Retrieve the candlesticks data of an instrument. the push frequency is the
fastest interval 1 second push the data.

#### URL Path

/ws/v5/business

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ------------ | ---------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| op           | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; channel | String           | Yes      | Channel name<br><code>candle3M</code><br><code>candle1M</code><br><code>candle1W</code><br><code>candle1D</code><br><code>candle2D</code><br><code>candle3D</code><br><code>candle5D</code><br><code>candle12H</code><br><code>candle6H</code><br><code>candle4H</code><br><code>candle2H</code><br><code>candle1H</code><br><code>candle30m</code><br><code>candle15m</code><br><code>candle5m</code><br><code>candle3m</code><br><code>candle1m</code><br><code>candle1s</code><br><code>candle3Mutc</code><br><code>candle1Mutc</code><br><code>candle1Wutc</code><br><code>candle1Dutc</code><br><code>candle2Dutc</code><br><code>candle3Dutc</code><br><code>candle5Dutc</code><br><code>candle12Hutc</code><br><code>candle6Hutc</code> |
| &gt; instId  | String           | Yes      | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                       |
| ------------ | ------ | -------- | --------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                  |
| event        | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                |
| &gt; channel | String | yes      | channel name                                                                      |
| &gt; instId  | String | Yes      | Instrument ID                                                                     |
| code         | String | No       | Error code                                                                        |
| msg          | String | No       | Error message                                                                     |
| connId       | String | Yes      | WebSocket connection ID                                                           |

#### Push data parameters

| **Parameter**    | **Type**        | **Description**                                                                                                                                                                                                                                  |
| ---------------- | --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| arg              | Object          | Successfully subscribed channel                                                                                                                                                                                                                  |
| &gt; channel     | String          | Channel name                                                                                                                                                                                                                                     |
| &gt; instId      | String          | Instrument ID                                                                                                                                                                                                                                    |
| data             | Array of Arrays | Subscribed data                                                                                                                                                                                                                                  |
| &gt; ts          | String          | Opening time of the candlestick, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                          |
| &gt; o           | String          | Open price                                                                                                                                                                                                                                       |
| &gt; h           | String          | highest price                                                                                                                                                                                                                                    |
| &gt; l           | String          | Lowest price                                                                                                                                                                                                                                     |
| &gt; c           | String          | Close price                                                                                                                                                                                                                                      |
| &gt; vol         | String          | Trading volume, with a unit of <code>contract</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in base currency.      |
| &gt; volCcy      | String          | Trading volume, with a unit of <code>currency</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of base currency.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in quote currency. |
| &gt; volCcyQuote | String          | Trading volume, the value is the quantity in quote currency<br>e.g. The unit is <code>USDT</code> for <code>BTC-USDT</code> and <code>BTC-USDT-SWAP</code><br>The unit is <code>USD</code> for <code>BTC-USD-SWAP</code>                         |
| &gt; confirm     | String          | The state of candlesticks<br><code>0</code>: K line is uncompleted<br><code>1</code>: K line is completed                                                                                                                                        |

---

### WS / Trades channel

Retrieve the recent trades data. Data will be pushed whenever there is a trade.
Every update may aggregate multiple trades.

The message is sent only once per taker order, per filled price. The count field
is used to represent the number of aggregated matches.

#### URL Path

/ws/v5/public

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name<br><code>trades</code>                                                                                                                                                                                                              |
| &gt; instId  | String           | Yes      | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                       |
| ------------ | ------ | -------- | --------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                  |
| event        | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                |
| &gt; channel | String | Yes      | Channel name                                                                      |
| &gt; instId  | String | Yes      | Instrument ID                                                                     |
| code         | String | No       | Error code                                                                        |
| msg          | String | No       | Error message                                                                     |
| connId       | String | Yes      | WebSocket connection ID                                                           |

#### Push data parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                        |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| arg           | Object           | Successfully subscribed channel                                                                                                                        |
| &gt; channel  | String           | Channel name                                                                                                                                           |
| &gt; instId   | String           | Instrument ID                                                                                                                                          |
| data          | Array of objects | Subscribed data                                                                                                                                        |
| &gt; instId   | String           | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                              |
| &gt; tradeId  | String           | The last trade ID in the trades aggregation                                                                                                            |
| &gt; px       | String           | Trade price                                                                                                                                            |
| &gt; sz       | String           | Trade quantity<br>For spot trading, the unit is base currency<br>For <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, the unit is contract. |
| &gt; side     | String           | Trade direction<br><code>buy</code><br><code>sell</code>                                                                                               |
| &gt; ts       | String           | Filled time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                    |
| &gt; count    | String           | The count of trades aggregated                                                                                                                         |

Aggregation function description:  
1\. The system will send only one message per taker order, per filled price. The
\`count\` field will be used to represent the number of aggregated matches.  
2\. The \`tradeId\` field in the message becomes the last trade ID in the
aggregation.  
3\. When the \`count\` = 1, it means the taker order matches only one maker
order with the specific price.  
4\. When the \`count\` > 1, it means the taker order matches multiple maker
orders with the same price. For example, if \`tradeId\` = 123 and \`count\` = 3,
it means the message aggregates the trades of \`tradeId\` = 123, 122, and 121.
Maker side has filled multiple orders.  
5\. Users can use this information to compare with data from the \`trades-all\`
channel.  
6\. Order book and the aggregated trades data are still published sequentially.

---

### WS / All trades channel

Retrieve the recent trades data. Data will be pushed whenever there is a trade.
Every update contain only one trade.

#### URL Path

/ws/v5/business

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name<br><code>trades-all</code>                                                                                                                                                                                                          |
| &gt; instId  | String           | Yes      | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                       |
| ------------ | ------ | -------- | --------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                  |
| event        | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                |
| &gt; channel | String | Yes      | Channel name                                                                      |
| &gt; instId  | String | Yes      | Instrument ID                                                                     |
| code         | String | No       | Error code                                                                        |
| msg          | String | No       | Error message                                                                     |
| connId       | String | Yes      | WebSocket connection ID                                                           |

#### Push data parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                        |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| arg           | Object           | Successfully subscribed channel                                                                                                                        |
| &gt; channel  | String           | Channel name                                                                                                                                           |
| &gt; instId   | String           | Instrument ID                                                                                                                                          |
| data          | Array of objects | Subscribed data                                                                                                                                        |
| &gt; instId   | String           | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                              |
| &gt; tradeId  | String           | Trade ID                                                                                                                                               |
| &gt; px       | String           | Trade price                                                                                                                                            |
| &gt; sz       | String           | Trade quantity<br>For spot trading, the unit is base currency<br>For <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, the unit is contract. |
| &gt; side     | String           | Trade direction<br><code>buy</code><br><code>sell</code>                                                                                               |
| &gt; ts       | String           | Filled time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                    |

---

### WS / Order book channel

Retrieve order book data. Best ask price may be lower than the best bid price
during the pre-open period.

Use `books` for 400 depth levels, `books5` for 5 depth levels, `bbo-tbt`
tick-by-tick 1 depth level, `books50-l2-tbt` tick-by-tick 50 depth levels, and
`books-l2-tbt` for tick-by-tick 400 depth levels.

- `books`: 400 depth levels will be pushed in the initial full snapshot.
  Incremental data will be pushed every 100 ms for the changes in the order book
  during that period of time.
- `books5`: 5 depth levels snapshot will be pushed in the initial push. Snapshot
  data will be pushed every 100 ms when there are changes in the 5 depth levels
  snapshot.
- `bbo-tbt`: 1 depth level snapshot will be pushed in the initial push. Snapshot
  data will be pushed every 10 ms when there are changes in the 1 depth level
  snapshot.
- `books-l2-tbt`: 400 depth levels will be pushed in the initial full snapshot.
  Incremental data will be pushed every 10 ms for the changes in the order book
  during that period of time.
- `books50-l2-tbt`: 50 depth levels will be pushed in the initial full snapshot.
  Incremental data will be pushed every 10 ms for the changes in the order book
  during that period of time.
- The push sequence for order book channels within the same connection and
  trading symbols is fixed as: bbo-tbt -> books-l2-tbt -> books50-l2-tbt ->
  books -> books5.
- Users can not simultaneously subscribe to `books-l2-tbt` and
  `books50-l2-tbt/books` channels for the same trading symbol.
  - For more details, please refer to the changelog
    [2024-07-17](/docs-v5/log_en/#2024-07-17)

Only API users who are VIP5 and above in trading fee tier are allowed to
subscribe to "books-l2-tbt" 400 depth channels  
Only API users who are VIP4 and above in trading fee tier are allowed to
subscribe to "books50-l2-tbt" 50 depth channels

Identity verification refers to [Login](/docs-v5/en/#overview-websocket-login)

#### URL Path

/ws/v5/public

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name<br><code>books</code><br><code>books5</code><br><code>bbo-tbt</code><br><code>books50-l2-tbt</code><br><code>books-l2-tbt</code>                                                                                                    |
| &gt; instId  | String           | Yes      | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                       |
| ------------ | ------ | -------- | --------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                  |
| event        | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                |
| &gt; channel | String | Yes      | Channel name                                                                      |
| &gt; instId  | String | Yes      | Instrument ID                                                                     |
| msg          | String | No       | Error message                                                                     |
| code         | String | No       | Error code                                                                        |
| connId       | String | Yes      | WebSocket connection ID                                                           |

#### Push data parameters

| **Parameter**  | **Type**         | **Description**                                                                                                                     |
| -------------- | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| arg            | Object           | Successfully subscribed channel                                                                                                     |
| &gt; channel   | String           | Channel name                                                                                                                        |
| &gt; instId    | String           | Instrument ID                                                                                                                       |
| action         | String           | Push data action, incremental data or full snapshot.<br><code>snapshot</code>: full<br><code>update</code>: incremental             |
| data           | Array of objects | Subscribed data                                                                                                                     |
| &gt; asks      | Array of Arrays  | Order book on sell side                                                                                                             |
| &gt; bids      | Array of Arrays  | Order book on buy side                                                                                                              |
| &gt; ts        | String           | Order book generation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                  |
| &gt; checksum  | Integer          | Checksum, implementation details below                                                                                              |
| &gt; prevSeqId | Integer          | Sequence ID of the last sent message. Only applicable to <code>books</code>, <code>books-l2-tbt</code>, <code>books50-l2-tbt</code> |
| &gt; seqId     | Integer          | Sequence ID of the current message, implementation details below                                                                    |

An example of the array of asks and bids values: \["411.8", "10", "0", "4"\]  
\- "411.8" is the depth price  
\- "10" is the quantity at the price (number of contracts for derivatives,
quantity in base currency for Spot and Spot Margin)  
\- "0" is part of a deprecated feature and it is always "0"  
\- "4" is the number of orders at the price.

If you need to subscribe to many 50 or 400 depth level channels, it is
recommended to subscribe through multiple websocket connections, with each of
less than 30 channels.

The order book data will be updated around once a second during the call
auction.

#### Sequence ID

`seqId` is the sequence ID of the market data published. The set of sequence ID
received by users is the same if users are connecting to the same channel
through multiple websocket connections. Each `instId` has an unique set of
sequence ID. Users can use `prevSeqId` and `seqId` to build the message
sequencing for incremental order book updates. Generally the value of seqId is
larger than prevSeqId. The `prevSeqId` in the new message matches with `seqId`
of the previous message. The smallest possible sequence ID value is 0, except in
snapshot messages where the prevSeqId is always -1.

Exceptions:  
1\. If there are no updates to the depth for an extended period(Around 60
seconds), for the channel that always updates snapshot data, OKX will send the
latest snapshot, for the channel that has incremental data, OKX will send a
message with `'asks': [], 'bids': []` to inform users that the connection is
still active. `seqId` is the same as the last sent message and `prevSeqId`
equals to `seqId`. 2. The sequence number may be reset due to maintenance, and
in this case, users will receive an incremental message with `seqId` smaller
than `prevSeqId`. However, subsequent messages will follow the regular
sequencing rule.

##### Example

1.  Snapshot message: prevSeqId = -1, seqId = 10
2.  Incremental message 1 (normal update): prevSeqId = 10, seqId = 15
3.  Incremental message 2 (no update): prevSeqId = 15, seqId = 15
4.  Incremental message 3 (sequence reset): prevSeqId = 15, seqId = 3
5.  Incremental message 4 (normal update): prevSeqId = 3, seqId = 5

#### Checksum

This mechanism can assist users in checking the accuracy of depth data.

##### Merging incremental data into full data

After subscribing to the incremental load push (such as `books` 400 levels) of
Order Book Channel, users first receive the initial full load of market depth.
After the incremental load is subsequently received, update the local full load.

1.  If there is the same price, compare the size. If the size is 0, delete this
    depth data. If the size changes, replace the original data.
2.  If there is no same price, sort by price (bid in descending order, ask in
    ascending order), and insert the depth information into the full load.

##### Calculate Checksum

Use the first 25 bids and asks in the full load to form a string (where a colon
connects the price and size in an ask or a bid), and then calculate the CRC32
value (32-bit signed integer).

> Calculate Checksum

1.  When the bid and ask depth data exceeds 25 levels, each of them will
    intercept 25 levels of data, and the string to be checked is queued in a way
    that the bid and ask depth data are alternately arranged.  
    Such as:
    `bid[price:size]`:`ask[price:size]`:`bid[price:size]`:`ask[price:size]`...
2.  When the bid or ask depth data is less than 25 levels, the missing depth
    data will be ignored.  
    Such as:
    `bid[price:size]`:`ask[price:size]`:`asks[price:size]`:`asks[price:size]`...

---

### WS / Option trades channel

Retrieve the recent trades data. Data will be pushed whenever there is a trade.
Every update contain only one trade.

#### URL Path

/ws/v5/public

#### Request Parameters

| Parameter       | Type             | Required    | Description                                                                                                                                                                                                                                      |
| --------------- | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id              | String           | No          | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op              | String           | Yes         | <code>subscribe</code> <code>unsubscribe</code>                                                                                                                                                                                                  |
| args            | Array of objects | Yes         | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel    | String           | Yes         | Channel name<br><code>option-trades</code>                                                                                                                                                                                                       |
| &gt; instType   | String           | Yes         | Instrument type, <code>OPTION</code>                                                                                                                                                                                                             |
| &gt; instId     | String           | Conditional | Instrument ID, e.g. BTC-USD-221230-4000-C, Either <code>instId</code> or <code>instFamily</code> is required. If both are passed, <code>instId</code> will be used.                                                                              |
| &gt; instFamily | String           | Conditional | Instrument family, e.g. BTC-USD                                                                                                                                                                                                                  |

#### Response parameters

| Parameter    | Type   | Required | Description                                                        |
| ------------ | ------ | -------- | ------------------------------------------------------------------ |
| id           | String | No       | Unique identifier of the message                                   |
| event        | String | Yes      | <code>subscribe</code> <code>unsubscribe</code> <code>error</code> |
| arg          | Object | No       | Subscribed channel                                                 |
| &gt; channel | String | Yes      | Channel name<br><code>status</code>                                |
| code         | String | No       | Error code                                                         |
| msg          | String | No       | Error message                                                      |
| connId       | String | Yes      | WebSocket connection ID                                            |

#### Push data parameters

| Parameter       | Type             | Description                                                                         |
| --------------- | ---------------- | ----------------------------------------------------------------------------------- |
| arg             | Object           | Successfully subscribed channel                                                     |
| &gt; channel    | String           | Channel name                                                                        |
| data            | Array of objects | Subscribed data                                                                     |
| &gt; instId     | String           | Instrument ID                                                                       |
| &gt; instFamily | String           | Instrument family                                                                   |
| &gt; tradeId    | String           | Trade ID                                                                            |
| &gt; px         | String           | Trade price                                                                         |
| &gt; sz         | String           | Trade quantity. The unit is contract.                                               |
| &gt; side       | String           | Trade side<br><code>buy</code><br><code>sell</code>                                 |
| &gt; optType    | String           | Option type, C: Call P: Put                                                         |
| &gt; fillVol    | String           | Implied volatility while trading (Correspond to trade price)                        |
| &gt; fwdPx      | String           | Forward price while trading                                                         |
| &gt; idxPx      | String           | Index price while trading                                                           |
| &gt; markPx     | String           | Mark price while trading                                                            |
| &gt; ts         | String           | Trade time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>. |

---

### WS / Call auction details channel

Retrieve call auction details.

#### URL Path

/ws/v5/public

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code>                                                                                                                                                                                  |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name<br><code>call-auction-details</code>                                                                                                                                                                                                |
| &gt; instId  | String           | Yes      | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                       |
| ------------ | ------ | -------- | --------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                  |
| event        | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                |
| &gt; channel | String | yes      | channel name                                                                      |
| &gt; instId  | String | Yes      | Instrument ID                                                                     |
| code         | String | No       | Error code                                                                        |
| msg          | String | No       | Error message                                                                     |
| connId       | String | Yes      | WebSocket connection ID                                                           |

#### Push data parameters

| **Parameter**       | **Type**         | **Description**                                                                             |
| ------------------- | ---------------- | ------------------------------------------------------------------------------------------- |
| arg                 | Object           | Successfully subscribed channel                                                             |
| &gt; channel        | String           | Channel name                                                                                |
| &gt; instId         | String           | Instrument ID                                                                               |
| data                | Array of objects | Subscribed data                                                                             |
| &gt; instId         | String           | Instrument ID                                                                               |
| &gt; eqPx           | String           | Equilibrium price                                                                           |
| &gt; matchedSz      | String           | Matched size for both buy and sell<br>The unit is in base currency                          |
| &gt; unmatchedSz    | String           | Unmatched size                                                                              |
| &gt; auctionEndTime | String           | Call auction end time. Unix timestamp in milliseconds.                                      |
| &gt; state          | String           | Trading state of the symbol<br><code>call_auction</code><br><code>continuous_trading</code> |
| &gt; ts             | String           | Data generation time. Unix timestamp in millieseconds.                                      |

During call auction, users can get the updates of equilibrium price, matched
size, unmatched size, and auction end time. The data will be updated around once
a second. When call auction ends, this channel will push the last message,
returning the actual open price, matched size, and unmatched size, with trading
state as \`continuous_trading\`.

---
