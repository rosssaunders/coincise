# OKX API Documentation - Trading Account

### Get instruments [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-instruments "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-instruments")

Retrieve available instruments info of current account.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID + Instrument Type

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/instruments`

#### Request Parameters

| Parameter  | Type   | Required    | Description                                                                                                                                                                              |
| ---------- | ------ | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType   | String | Yes         | Instrument type<br><code>SPOT</code>: Spot<br><code>MARGIN</code>: Margin<br><code>SWAP</code>: Perpetual Futures<br><code>FUTURES</code>: Expiry Futures<br><code>OPTION</code>: Option |
| instFamily | String | Conditional | Instrument family<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>. If instType is <code>OPTION</code>, <code>instFamily</code> is required.             |
| instId     | String | No          | Instrument ID                                                                                                                                                                            |

#### Response Parameters

| **Parameter**     | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                               |
| ----------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType          | String           | Instrument type                                                                                                                                                                                                                                                                                                                               |
| instId            | String           | Instrument ID, e.g. <code>BTC-USD-SWAP</code>                                                                                                                                                                                                                                                                                                 |
| uly               | String           | Underlying, e.g. <code>BTC-USD</code><br>Only applicable to <code>MARGIN/FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                 |
| instFamily        | String           | Instrument family, e.g. <code>BTC-USD</code><br>Only applicable to <code>MARGIN/FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                          |
| baseCcy           | String           | Base currency, e.g. <code>BTC</code> in<code>BTC-USDT</code><br>Only applicable to <code>SPOT</code>/<code>MARGIN</code>                                                                                                                                                                                                                      |
| quoteCcy          | String           | Quote currency, e.g. <code>USDT</code> in <code>BTC-USDT</code><br>Only applicable to <code>SPOT</code>/<code>MARGIN</code>                                                                                                                                                                                                                   |
| settleCcy         | String           | Settlement and margin currency, e.g. <code>BTC</code><br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                        |
| ctVal             | String           | Contract value<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                               |
| ctMult            | String           | Contract multiplier<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                          |
| ctValCcy          | String           | Contract value currency<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                      |
| optType           | String           | Option type, <code>C</code>: Call <code>P</code>: put<br>Only applicable to <code>OPTION</code>                                                                                                                                                                                                                                               |
| stk               | String           | Strike price<br>Only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                        |
| listTime          | String           | Listing time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                          |
| auctionEndTime    | String           | <del>The end time of call auction, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code><br>Only applicable to <code>SPOT</code> that are listed through call auctions, return "" in other cases (deprecated, use contTdSwTime)</del>                                                                                        |
| contTdSwTime      | String           | Continuous trading switch time. The switch time from call auction, prequote to continuous trading, Unix timestamp format in milliseconds. e.g. <code>1597026383085</code>.<br>Only applicable to <code>SPOT</code>/<code>MARGIN</code> that are listed through call auction or prequote, return "" in other cases.                            |
| preMktSwTime      | String           | The time premarket swap switched to normal swap, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.<br>Only applicable premarket <code>SWAP</code>                                                                                                                                                                       |
| openType          | String           | Open type<br><code>fix_price</code>: fix price opening<br><code>pre_quote</code>: pre-quote<br><code>call_auction</code>: call auction<br>Only applicable to <code>SPOT</code>/<code>MARGIN</code>, return "" for all other business lines                                                                                                    |
| expTime           | String           | Expiry time<br>Applicable to <code>SPOT</code>/<code>MARGIN</code>/<code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>. For <code>FUTURES</code>/<code>OPTION</code>, it is natural delivery/exercise time. It is the instrument offline time when there is <code>SPOT/MARGIN/FUTURES/SWAP/</code> manual offline. Update once change. |
| lever             | String           | Max Leverage,<br>Not applicable to <code>SPOT</code>, <code>OPTION</code>                                                                                                                                                                                                                                                                     |
| tickSz            | String           | Tick size, e.g. <code>0.0001</code><br>For Option, it is minimum tickSz among tick band, please use "Get option tick bands" if you want get option tickBands.                                                                                                                                                                                 |
| lotSz             | String           | Lot size<br>If it is a derivatives contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in <code>base currency</code>.                                                                                                                                                |
| minSz             | String           | Minimum order size<br>If it is a derivatives contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in <code>base currency</code>.                                                                                                                                      |
| ctType            | String           | Contract type<br><code>linear</code>: linear contract<br><code>inverse</code>: inverse contract<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>                                                                                                                                                                                  |
| state             | String           | Instrument status<br><code>live</code><br><code>suspend</code><br><code>preopen</code> e.g. Futures and options contracts rollover from generation to trading start; certain symbols before they go live<br><code>test</code>: Test pairs, can't be traded                                                                                    |
| ruleType          | String           | Trading rule types<br><code>normal</code>: normal trading<br><code>pre_market</code>: pre-market trading                                                                                                                                                                                                                                      |
| posLmtAmt         | String           | Maximum position value (USD) for this instrument at the user level, based on the notional value of all same-direction open positions and resting orders. The effective user limit is max(posLmtAmt, oiUSD Ã— posLmtPct). Applicable to <code>SWAP</code>/<code>FUTURES</code>.                                                                 |
| posLmtPct         | String           | Maximum position ratio (e.g., 30 for 30%) a user may hold relative to the platformâ€™s current total position value. The effective user limit is max(posLmtAmt, oiUSD Ã— posLmtPct). Applicable to <code>SWAP</code>/<code>FUTURES</code>.                                                                                                       |
| maxPlatOILmt      | String           | Platform-wide maximum position value (USD) for this instrument. If the global position limit switch is enabled and platform total open interest reaches or exceeds this value, all usersâ€™ new opening orders for this instrument are rejected; otherwise, orders pass.                                                                        |
| maxLmtSz          | String           | The maximum order quantity of a single limit order.<br>If it is a derivatives contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in <code>base currency</code>.                                                                                                     |
| maxMktSz          | String           | The maximum order quantity of a single market order.<br>If it is a derivatives contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in <code>USDT</code>.                                                                                                             |
| maxLmtAmt         | String           | Max USD amount for a single limit order                                                                                                                                                                                                                                                                                                       |
| maxMktAmt         | String           | Max USD amount for a single market order<br>Only applicable to <code>SPOT</code>/<code>MARGIN</code>                                                                                                                                                                                                                                          |
| maxTwapSz         | String           | The maximum order quantity of a single TWAP order.<br>If it is a derivatives contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in <code>base currency</code>.<br>The minimum order quantity of a single TWAP order is minSz\*2                                     |
| maxIcebergSz      | String           | The maximum order quantity of a single iceBerg order.<br>If it is a derivatives contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in <code>base currency</code>.                                                                                                   |
| maxTriggerSz      | String           | The maximum order quantity of a single trigger order.<br>If it is a derivatives contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in <code>base currency</code>.                                                                                                   |
| maxStopSz         | String           | The maximum order quantity of a single stop market order.<br>If it is a derivatives contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in <code>USDT</code>.                                                                                                        |
| futureSettlement  | Boolean          | Whether daily settlement for expiry feature is enabled<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                                                                               |
| tradeQuoteCcyList | Array of strings | List of quote currencies available for trading, e.g. ["USD", "USDC"].                                                                                                                                                                                                                                                                         |
| instIdCode        | Integer          | Instrument ID code.<br>For simple binary encoding, you must use <code>instIdCode</code> instead of <code>instId</code>.<br>For the same <code>instId</code>, it's value may be different between production and demo trading.                                                                                                                 |

listTime and contTdSwTime  
For spot symbols listed through a call auction or pre-open, listTime represents
the start time of the auction or pre-open, and contTdSwTime indicates the end of
the auction or pre-open and the start of continuous trading. For other
scenarios, listTime will mark the beginning of continuous trading, and
contTdSwTime will return an empty value "".

state  
The state will always change from \`preopen\` to \`live\` when the listTime is
reached.  
When a product is going to be delisted (e.g. when a FUTURES contract is settled
or OPTION contract is exercised), the instrument will not be available.

---

### Get balance [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-balance "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-balance")

Retrieve a list of assets (with non-zero balance), remaining balance, and
available amount in the trading account.

Interest-free quota and discount rates are public data and not displayed on the
account interface.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/balance`

#### Request Parameters

| **Parameters** | **Types** | **Required** | **Description**                                                                                                               |
| -------------- | --------- | ------------ | ----------------------------------------------------------------------------------------------------------------------------- |
| ccy            | String    | No           | Single currency or multiple currencies (no more than 20) separated with comma, e.g. <code>BTC</code> or <code>BTC,ETH</code>. |

#### Response Parameters

| **Parameters**             | **Types**        | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| -------------------------- | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| uTime                      | String           | Update time of account information, millisecond format of Unix timestamp, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| totalEq                    | String           | The total amount of equity in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| isoEq                      | String           | Isolated margin equity in <code>USD</code><br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| adjEq                      | String           | Adjusted / Effective equity in <code>USD</code><br>The net fiat value of the assets in the account that can provide margins for spot, expiry futures, perpetual futures and options under the cross-margin mode.<br>In multi-ccy or PM mode, the asset and margin requirement will all be converted to USD value to process the order check or liquidation.<br>Due to the volatility of each currency market, our platform calculates the actual USD value of each currency based on discount rates to balance market risks.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code> and <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| availEq                    | String           | Account level available equity, excluding currencies that are restricted due to the collateralized borrowing limit.<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ordFroz                    | String           | Cross margin frozen for pending orders in <code>USD</code><br>Only applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| imr                        | String           | Initial margin requirement in <code>USD</code><br>The sum of initial margins of all open positions and pending orders under cross-margin mode in <code>USD</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| mmr                        | String           | Maintenance margin requirement in <code>USD</code><br>The sum of maintenance margins of all open positions and pending orders under cross-margin mode in <code>USD</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| borrowFroz                 | String           | Potential borrowing IMR of the account in <code>USD</code><br>Only applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>. It is "" for other margin modes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| mgnRatio                   | String           | Maintenance margin ratio in <code>USD</code><br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| notionalUsd                | String           | Notional value of positions in <code>USD</code><br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| notionalUsdForBorrow       | String           | Notional value for <code>Borrow</code> in USD<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| notionalUsdForSwap         | String           | Notional value of positions for <code>Perpetual Futures</code> in USD<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| notionalUsdForFutures      | String           | Notional value of positions for <code>Expiry Futures</code> in USD<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| notionalUsdForOption       | String           | Notional value of positions for <code>Option</code> in USD<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| upl                        | String           | Cross-margin info of unrealized profit and loss at the account level in <code>USD</code><br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| details                    | Array of objects | Detailed asset information in all currencies                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; ccy                   | String           | Currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; eq                    | String           | Equity of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; cashBal               | String           | Cash balance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; uTime                 | String           | Update time of currency balance information, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; isoEq                 | String           | Isolated margin equity of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; availEq               | String           | Available equity of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; disEq                 | String           | Discount equity of currency in <code>USD</code>.<br>Applicable to <code>Spot mode</code>(enabled spot borrow)/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; fixedBal              | String           | Frozen balance for <code>Dip Sniper</code> and <code>Peak Sniper</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; availBal              | String           | Available balance of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; frozenBal             | String           | Frozen balance of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; ordFrozen             | String           | Margin frozen for open orders<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>/<code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; liab                  | String           | Liabilities of currency<br>It is a positive value, e.g. <code>21625.64</code><br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; upl                   | String           | The sum of the unrealized profit &amp; loss of all margin and derivatives positions of currency.<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; uplLiab               | String           | Liabilities due to Unrealized loss of currency<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; crossLiab             | String           | Cross liabilities of currency<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; rewardBal             | String           | Trial fund balance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; isoLiab               | String           | Isolated liabilities of currency<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; mgnRatio              | String           | Cross maintenance margin ratio of currency<br>The index for measuring the risk of a certain asset in the account.<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; imr                   | String           | Cross initial margin requirement at the currency level<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; mmr                   | String           | Cross maintenance margin requirement at the currency level<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; interest              | String           | Accrued interest of currency<br>It is a positive value, e.g. <code>9.01</code><br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; twap                  | String           | Risk indicator of forced repayment<br>Divided into multiple levels from 0 to 5, the larger the number, the more likely the forced repayment will be triggered.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; frpType               | String           | Forced repayment (FRP) type<br><code>0</code>: no FRP<br><code>1</code>: user based FRP<br><code>2</code>: platform based FRP<br><br>Return <code>1</code>/<code>2</code> when twap is &gt;= 1, applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; maxLoan               | String           | Max loan of currency<br>Applicable to <code>cross</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; eqUsd                 | String           | Equity in <code>USD</code> of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; borrowFroz            | String           | Potential borrowing IMR of currency in <code>USD</code><br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>. It is "" for other margin modes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; notionalLever         | String           | Leverage of currency<br>Applicable to <code>Futures mode</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; stgyEq                | String           | Strategy equity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; isoUpl                | String           | Isolated unrealized profit and loss of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; spotInUseAmt          | String           | Spot in use amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; clSpotInUseAmt        | String           | User-defined spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; maxSpotInUse          | String           | Max possible spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; spotIsoBal            | String           | Spot isolated balance<br>Applicable to copy trading<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; smtSyncEq             | String           | Smart sync equity<br>The default is "0", only applicable to copy trader.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; spotCopyTradingEq     | String           | Spot smart sync equity.<br>The default is "0", only applicable to copy trader.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; spotBal               | String           | Spot balance. The unit is currency, e.g. BTC. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; openAvgPx             | String           | Spot average cost price. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; accAvgPx              | String           | Spot accumulated cost price. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; spotUpl               | String           | Spot unrealized profit and loss. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; spotUplRatio          | String           | Spot unrealized profit and loss ratio. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; totalPnl              | String           | Spot accumulated profit and loss. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; totalPnlRatio         | String           | Spot accumulated profit and loss ratio. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; colRes                | String           | Platform level collateral restriction status<br><code>0</code>: The restriction is not enabled.<br><code>1</code>: The restriction is not enabled. But the crypto is close to the platform's collateral limit.<br><code>2</code>: The restriction is enabled. This crypto can't be used as margin for your new orders. This may result in failed orders. But it will still be included in the account's adjusted equity and doesn't impact margin ratio.<br>Refer to <a href="https://www.okx.com/help/introduction-to-the-platforms-collateralized-borrowing-limit-mechanism">Introduction to the platform collateralized borrowing limit</a> for more details.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; colBorrAutoConversion | String           | Risk indicator of auto conversion. Divided into multiple levels from 1-5, the larger the number, the more likely the repayment will be triggered. The default will be 0, indicating there is no risk currently. 5 means this user is undergoing auto conversion now, 4 means this user will undergo auto conversion soon whereas 1/2/3 indicates there is a risk for auto conversion.<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code><br>When the total liability for each crypto set as collateral exceeds a certain percentage of the platform's total limit, the auto-conversion mechanism may be triggered. This may result in the automatic sale of excess collateral crypto if you've set this crypto as collateral and have large borrowings. To lower this risk, consider reducing your use of the crypto as collateral or reducing your liabilities.<br>Refer to <a href="https://www.okx.com/help/introduction-to-the-platforms-collateralized-borrowing-limit-mechanism">Introduction to the platform collateralized borrowing limit</a> for more details. |
| &gt; collateralRestrict    | Boolean          | <del>Platform level collateralized borrow restriction<br><code>true</code><br><code>false</code></del>(deprecated, use colRes instead)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; collateralEnabled     | Boolean          | <code>true</code>: Collateral enabled<br><code>false</code>: Collateral disabled<br>Applicable to <code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; autoLendStatus        | String           | Auto lend status<br><code>unsupported</code>: auto lend is not supported by this currency<br><code>off</code>: auto lend is supported but turned off<br><code>pending</code>: auto lend is turned on but pending matching<br><code>active</code>: auto lend is turned on and matched                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; autoLendMtAmt         | String           | Auto lend currency matched amount<br>Return "0" when autoLendStatus is <code>unsupported/off/pending</code>. Return matched amount when autoLendStatus is <code>active</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

- Regarding more parameter details, you can refer to product documentations
  below:  
  [Futures mode: cross margin trading](https://www.okx.com/help/iii-single-currency-margin-cross-margin-trading)  
  [Multi-currency margin mode: cross margin trading](https://www.okx.com/help/iv-multi-currency-margin-mode-cross-margin-trading)  
  [Multi-currency margin mode vs. Portfolio margin mode](https://www.okx.com/help/vi-multi-currency-margin-mode-vs-portfolio-margin-mode)

"" will be returned for inapplicable fields under the current account level.

The currency details will not be returned when cashBal and eq is both 0.

Distribution of applicable fields under each account level are as follows:

| **Parameters**         | **Spot mode** | **Futures mode** | **Multi-currency margin mode** | **Portfolio margin mode** |
| ---------------------- | ------------- | ---------------- | ------------------------------ | ------------------------- |
| uTime                  | Yes           | Yes              | Yes                            | Yes                       |
| totalEq                | Yes           | Yes              | Yes                            | Yes                       |
| isoEq                  |               | Yes              | Yes                            | Yes                       |
| adjEq                  | Yes           |                  | Yes                            | Yes                       |
| availEq                |               |                  | Yes                            | Yes                       |
| ordFroz                | Yes           |                  | Yes                            | Yes                       |
| imr                    | Yes           |                  | Yes                            | Yes                       |
| mmr                    | Yes           |                  | Yes                            | Yes                       |
| borrowFroz             | Yes           |                  | Yes                            | Yes                       |
| mgnRatio               | Yes           |                  | Yes                            | Yes                       |
| notionalUsd            | Yes           |                  | Yes                            | Yes                       |
| notionalUsdForSwap     |               |                  | Yes                            | Yes                       |
| notionalUsdForFutures  |               |                  | Yes                            | Yes                       |
| notionalUsdForOption   | Yes           |                  | Yes                            | Yes                       |
| notionalUsdForBorrow   | Yes           |                  | Yes                            | Yes                       |
| upl                    |               |                  | Yes                            | Yes                       |
| details                |               |                  | Yes                            | Yes                       |
| &gt; ccy               | Yes           | Yes              | Yes                            | Yes                       |
| &gt; eq                | Yes           | Yes              | Yes                            | Yes                       |
| &gt; cashBal           | Yes           | Yes              | Yes                            | Yes                       |
| &gt; uTime             | Yes           | Yes              | Yes                            | Yes                       |
| &gt; isoEq             |               | Yes              | Yes                            | Yes                       |
| &gt; availEq           |               | Yes              | Yes                            | Yes                       |
| &gt; disEq             | Yes           |                  | Yes                            | Yes                       |
| &gt; availBal          | Yes           | Yes              | Yes                            | Yes                       |
| &gt; frozenBal         | Yes           | Yes              | Yes                            | Yes                       |
| &gt; ordFrozen         | Yes           | Yes              | Yes                            | Yes                       |
| &gt; liab              | Yes           |                  | Yes                            | Yes                       |
| &gt; upl               |               | Yes              | Yes                            | Yes                       |
| &gt; uplLiab           |               |                  | Yes                            | Yes                       |
| &gt; crossLiab         | Yes           |                  | Yes                            | Yes                       |
| &gt; isoLiab           |               |                  | Yes                            | Yes                       |
| &gt; mgnRatio          |               | Yes              |                                |
| &gt; interest          | Yes           |                  | Yes                            | Yes                       |
| &gt; twap              | Yes           |                  | Yes                            | Yes                       |
| &gt; maxLoan           | Yes           |                  | Yes                            | Yes                       |
| &gt; eqUsd             | Yes           | Yes              | Yes                            | Yes                       |
| &gt; borrowFroz        | Yes           |                  | Yes                            | Yes                       |
| &gt; notionalLever     |               | Yes              |                                |
| &gt; stgyEq            | Yes           | Yes              | Yes                            | Yes                       |
| &gt; isoUpl            |               | Yes              | Yes                            | Yes                       |
| &gt; spotInUseAmt      |               |                  |                                | Yes                       |
| &gt; spotIsoBal        | Yes           | Yes              |                                |
| &gt; imr               |               | Yes              |                                |
| &gt; mmr               |               | Yes              |                                |
| &gt; smtSyncEq         | Yes           | Yes              | Yes                            | Yes                       |
| &gt; spotCopyTradingEq | Yes           | Yes              | Yes                            | Yes                       |
| &gt; spotBal           | Yes           | Yes              | Yes                            | Yes                       |
| &gt; openAvgPx         | Yes           | Yes              | Yes                            | Yes                       |
| &gt; accAvgPx          | Yes           | Yes              | Yes                            | Yes                       |
| &gt; spotUpl           | Yes           | Yes              | Yes                            | Yes                       |
| &gt; spotUplRatio      | Yes           | Yes              | Yes                            | Yes                       |
| &gt; totalPnl          | Yes           | Yes              | Yes                            | Yes                       |
| &gt; totalPnlRatio c   | Yes           | Yes              | Yes                            | Yes                       |
| &gt; collateralEnabled |               |                  | Yes                            |

---

### Get positions [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-positions "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-positions")

Retrieve information on your positions. When the account is in `net` mode, `net`
positions will be displayed, and when the account is in `long/short` mode,
`long` or `short` positions will be displayed. Return in reverse chronological
order using ctime.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/positions`

#### Request Parameters

| **Parameter** | **Type** | **Required** | **Description**                                                                                                                                                                                                                         |
| ------------- | -------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType      | String   | No           | Instrument type<br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>instId</code> will be checked against <code>instType</code> when both parameters are passed.                        |
| instId        | String   | No           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>. Single instrument ID or multiple instrument IDs (no more than 10) separated with comma                                                                                                  |
| posId         | String   | No           | Single position ID or multiple position IDs (no more than 20) separated with comma.<br>There is attribute expiration, the posId and position information will be cleared if it is more than 30 days after the last full close position. |

instId  
If the instrument ever had position and its open interest is 0, it will return
the position information with specific instId. It will not return the position
information with specific instId if there is no valid posId; it will not return
the position information without specific instId.

In the isolated margin trading settings, if it is set to the manual transfers
mode, after the position is transferred to the margin, a position with a
position of 0 will be generated

#### Response Parameters

| **Parameter**          | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ---------------------- | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType               | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| mgnMode                | String           | Margin mode<br><code>cross</code><br><code>isolated</code>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| posId                  | String           | Position ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| posSide                | String           | Position side<br><code>long</code>, <code>pos</code> is positive<br><code>short</code>, <code>pos</code> is positive<br><code>net</code> (<code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>: positive <code>pos</code> means long position and negative <code>pos</code> means short position. For <code>MARGIN</code>, <code>pos</code> is always positive, <code>posCcy</code> being base currency means long position, <code>posCcy</code> being quote currency means short position.) |
| pos                    | String           | Quantity of positions. In the isolated margin mode, when doing manual transfers, a position with pos of <code>0</code> will be generated after the deposit is transferred                                                                                                                                                                                                                                                                                                                          |
| baseBal                | String           | <del>Base currency balance, only applicable to <code>MARGIN</code>ï¼ˆQuick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                                          |
| quoteBal               | String           | <del>Quote currency balance, only applicable to <code>MARGIN</code>ï¼ˆQuick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                                         |
| baseBorrowed           | String           | <del>Base currency amount already borrowed, only applicable to MARGIN(Quick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                                        |
| baseInterest           | String           | <del>Base Interest, undeducted interest that has been incurred, only applicable to MARGIN(Quick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                    |
| quoteBorrowed          | String           | <del>Quote currency amount already borrowed, only applicable to MARGIN(Quick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                                       |
| quoteInterest          | String           | <del>Quote Interest, undeducted interest that has been incurred, only applicable to MARGIN(Quick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                   |
| posCcy                 | String           | Position currency, only applicable to <code>MARGIN</code> positions.                                                                                                                                                                                                                                                                                                                                                                                                                               |
| availPos               | String           | Position that can be closed<br>Only applicable to <code>MARGIN</code> and <code>OPTION</code>.<br>For <code>MARGIN</code> position, the rest of sz will be <code>SPOT</code> trading after the liability is repaid while closing the position. Please get the available reduce-only amount from "Get maximum available tradable amount" if you want to reduce the amount of <code>SPOT</code> trading as much as possible.                                                                         |
| avgPx                  | String           | Average open price<br>Under cross-margin mode, the entry price of expiry futures will update at settlement to the last settlement price, and when the position is opened or increased.                                                                                                                                                                                                                                                                                                             |
| nonSettleAvgPx         | String           | Non-settlement entry price<br>The non-settlement entry price only reflects the average price at which the position is opened or increased.<br>Applicable to <code>cross</code> <code>FUTURES</code> positions.                                                                                                                                                                                                                                                                                     |
| markPx                 | String           | Latest Mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| upl                    | String           | Unrealized profit and loss calculated by mark price.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| uplRatio               | String           | Unrealized profit and loss ratio calculated by mark price.                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| uplLastPx              | String           | Unrealized profit and loss calculated by last price. Main usage is showing, actual value is upl.                                                                                                                                                                                                                                                                                                                                                                                                   |
| uplRatioLastPx         | String           | Unrealized profit and loss ratio calculated by last price.                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| instId                 | String           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| lever                  | String           | Leverage<br>Not applicable to <code>OPTION</code> and positions of cross margin mode under <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                           |
| liqPx                  | String           | Estimated liquidation price<br>Not applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                               |
| imr                    | String           | Initial margin requirement, only applicable to <code>cross</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| margin                 | String           | Margin, can be added or reduced. Only applicable to <code>isolated</code>.                                                                                                                                                                                                                                                                                                                                                                                                                         |
| mgnRatio               | String           | Maintenance margin ratio                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| mmr                    | String           | Maintenance margin requirement                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| liab                   | String           | Liabilities, only applicable to <code>MARGIN</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| liabCcy                | String           | Liabilities currency, only applicable to <code>MARGIN</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| interest               | String           | Interest. Undeducted interest that has been incurred.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| tradeId                | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| optVal                 | String           | Option Value, only applicable to <code>OPTION</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| pendingCloseOrdLiabVal | String           | The amount of close orders of isolated margin liability.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| notionalUsd            | String           | Notional value of positions in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| adl                    | String           | Auto-deleveraging (ADL) indicator<br>Divided into 6 levels, from 0 to 5, the smaller the number, the weaker the adl intensity.<br>Only applicable to <code>FUTURES/SWAP/OPTION</code>                                                                                                                                                                                                                                                                                                              |
| ccy                    | String           | Currency used for margin                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| last                   | String           | Latest traded price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| idxPx                  | String           | Latest underlying index price                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| usdPx                  | String           | Latest USD price of the <code>ccy</code> on the market, only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                              |
| bePx                   | String           | Breakeven price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| deltaBS                | String           | delta: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| deltaPA                | String           | delta: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| gammaBS                | String           | gamma: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| gammaPA                | String           | gamma: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| thetaBS                | String           | thetaï¼šBlack-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| thetaPA                | String           | thetaï¼šGreeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| vegaBS                 | String           | vegaï¼šBlack-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                      |
| vegaPA                 | String           | vegaï¼šGreeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| spotInUseAmt           | String           | Spot in use amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| spotInUseCcy           | String           | Spot in use unit, e.g. <code>BTC</code><br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                             |
| clSpotInUseAmt         | String           | User-defined spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                |
| maxSpotInUseAmt        | String           | Max possible spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                |
| bizRefId               | String           | External business id, e.g. experience coupon id                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| bizRefType             | String           | External business type                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| realizedPnl            | String           | Realized profit and loss<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code><br><code>realizedPnl</code>=<code>pnl</code>+<code>fee</code>+<code>fundingFee</code>+<code>liqPenalty</code>+<code>settledPnl</code>                                                                                                                                                                                                                                                    |
| settledPnl             | String           | Accumulated settled profit and loss (calculated by settlement price)<br>Only applicable to <code>cross</code> <code>FUTURES</code>                                                                                                                                                                                                                                                                                                                                                                 |
| pnl                    | String           | Accumulated pnl of closing order(s) (excluding the fee).                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| fee                    | String           | Accumulated fee<br>Negative number represents the user transaction fee charged by the platform.Positive number represents rebate.                                                                                                                                                                                                                                                                                                                                                                  |
| fundingFee             | String           | Accumulated funding fee                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| liqPenalty             | String           | Accumulated liquidation penalty. It is negative when there is a value.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| closeOrderAlgo         | Array of objects | Close position algo orders attached to the position. This array will have values only after you request "Place algo order" with <code>closeFraction</code>=1.                                                                                                                                                                                                                                                                                                                                      |
| &gt; algoId            | String           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; slTriggerPx       | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; slTriggerPxType   | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; tpTriggerPx       | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; tpTriggerPxType   | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                               |
| &gt; closeFraction     | String           | Fraction of position to be closed when the algo order is triggered.                                                                                                                                                                                                                                                                                                                                                                                                                                |
| cTime                  | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                              |
| uTime                  | String           | Latest time position was adjusted, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                          |

As for portfolio margin account, the IMR and MMR of the position are calculated
in risk unit granularity, thus their values of the same risk unit cross
positions are the same.

---

### Get positions history [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-positions-history "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-positions-history")

Retrieve the updated position data for the last 3 months. Return in reverse
chronological order using utime. Getting positions history is supported under
Portfolio margin mode since **04:00 AM (UTC) on November 11, 2024**.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/positions-history`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                      |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instType  | String | No       | Instrument type<br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                       |
| instId    | String | No       | Instrument ID, e.g. <code>BTC-USD-SWAP</code>                                                                                                                                                                                                                                                                                                    |
| mgnMode   | String | No       | Margin mode<br><code>cross</code> <code>isolated</code>                                                                                                                                                                                                                                                                                          |
| type      | String | No       | The type of latest close position<br><code>1</code>: Close position partially;<code>2</code>ï¼šClose all;<code>3</code>ï¼šLiquidation;<code>4</code>ï¼šPartial liquidation; <code>5</code>ï¼šADL - position not fully closed; <code>6</code>ï¼šADL - position fully closed<br>It is the latest type if there are several types for the same position. |
| posId     | String | No       | Position ID. There is attribute expiration. The posId will be expired if it is more than 30 days after the last full close position, then position will use new posId.                                                                                                                                                                           |
| after     | String | No       | Pagination of data to return records earlier than the requested <code>uTime</code>, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                       |
| before    | String | No       | Pagination of data to return records newer than the requested <code>uTime</code>, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                         |
| limit     | String | No       | Number of results per request. The maximum is 100. The default is 100. All records that have the same <code>uTime</code> will be returned at the current request                                                                                                                                                                                 |

#### Response Parameters

| Parameter      | Type   | Description                                                                                                                                                                                                                                                              |
| -------------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instType       | String | Instrument type                                                                                                                                                                                                                                                          |
| instId         | String | Instrument ID                                                                                                                                                                                                                                                            |
| mgnMode        | String | Margin mode<br><code>cross</code> <code>isolated</code>                                                                                                                                                                                                                  |
| type           | String | The type of latest close position<br><code>1</code>ï¼šClose position partially;<code>2</code>ï¼šClose all;<code>3</code>ï¼šLiquidation;<code>4</code>ï¼šPartial liquidation; <code>5</code>ï¼šADL;<br>It is the latest type if there are several types for the same position. |
| cTime          | String | Created time of position                                                                                                                                                                                                                                                 |
| uTime          | String | Updated time of position                                                                                                                                                                                                                                                 |
| openAvgPx      | String | Average price of opening position<br>Under cross-margin mode, the entry price of expiry futures will update at settlement to the last settlement price, and when the position is opened or increased.                                                                    |
| nonSettleAvgPx | String | Non-settlement entry price<br>The non-settlement entry price only reflects the average price at which the position is opened or increased.<br>Only applicable to <code>cross</code> <code>FUTURES</code>                                                                 |
| closeAvgPx     | String | Average price of closing position                                                                                                                                                                                                                                        |
| posId          | String | Position ID                                                                                                                                                                                                                                                              |
| openMaxPos     | String | Max quantity of position                                                                                                                                                                                                                                                 |
| closeTotalPos  | String | Position's cumulative closed volume                                                                                                                                                                                                                                      |
| realizedPnl    | String | Realized profit and loss<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code><br><code>realizedPnl</code>=<code>pnl</code>+<code>fee</code>+<code>fundingFee</code>+<code>liqPenalty</code>+<code>settledPnl</code>                          |
| settledPnl     | String | Accumulated settled profit and loss (calculated by settlement price)<br>Only applicable to <code>cross</code> <code>FUTURES</code>                                                                                                                                       |
| pnlRatio       | String | Realized P&amp;L ratio                                                                                                                                                                                                                                                   |
| fee            | String | Accumulated fee<br>Negative number represents the user transaction fee charged by the platform.Positive number represents rebate.                                                                                                                                        |
| fundingFee     | String | Accumulated funding fee                                                                                                                                                                                                                                                  |
| liqPenalty     | String | Accumulated liquidation penalty. It is negative when there is a value.                                                                                                                                                                                                   |
| pnl            | String | Profit and loss (excluding the fee).                                                                                                                                                                                                                                     |
| posSide        | String | Position mode side<br><code>long</code>: Hedge mode long<br><code>short</code>: Hedge mode short<br><code>net</code>: Net mode                                                                                                                                           |
| lever          | String | Leverage                                                                                                                                                                                                                                                                 |
| direction      | String | Direction: <code>long</code> <code>short</code><br>Only applicable to <code>MARGIN/FUTURES/SWAP/OPTION</code>                                                                                                                                                            |
| triggerPx      | String | trigger mark price. There is value when <code>type</code> is equal to <code>3</code>, <code>4</code> or <code>5</code>. It is "" when <code>type</code> is equal to <code>1</code> or <code>2</code>                                                                     |
| uly            | String | Underlying                                                                                                                                                                                                                                                               |
| ccy            | String | Currency used for margin                                                                                                                                                                                                                                                 |

---

### Get account and position risk [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-account-and-position-risk "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-account-and-position-risk")

Get account and position risk

Obtain basic information about accounts and positions on the same time snapshot

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/account-position-risk`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                |
| --------- | ------ | -------- | ---------------------------------------------------------------------------------------------------------- |
| instType  | String | No       | Instrument type<br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code> |

#### Response Parameters

| **Parameters**   | **Types**        | **Description**                                                                                                                                                                                                                                                                                                                                                                               |
| ---------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ts               | String           | Update time of account information, millisecond format of Unix timestamp, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                     |
| adjEq            | String           | Adjusted / Effective equity in <code>USD</code><br>Applicable to <code>Multi-currency margin</code> and <code>Portfolio margin</code>                                                                                                                                                                                                                                                         |
| balData          | Array of objects | Detailed asset information in all currencies                                                                                                                                                                                                                                                                                                                                                  |
| &gt; ccy         | String           | Currency                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; eq          | String           | Equity of currency                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; disEq       | String           | Discount equity of currency in <code>USD</code>.                                                                                                                                                                                                                                                                                                                                              |
| posData          | Array of objects | Detailed position information in all currencies                                                                                                                                                                                                                                                                                                                                               |
| &gt; instType    | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; mgnMode     | String           | Margin mode<br><code>cross</code><br><code>isolated</code>                                                                                                                                                                                                                                                                                                                                    |
| &gt; posId       | String           | Position ID                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; instId      | String           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>                                                                                                                                                                                                                                                                                                                                                |
| &gt; pos         | String           | Quantity of positions <code>contract</code>. In the isolated margin mode, when doing manual transfers, a position with pos of <code>0</code> will be generated after the deposit is transferred                                                                                                                                                                                               |
| &gt; baseBal     | String           | <del>Base currency balance, only applicable to <code>MARGIN</code>ï¼ˆQuick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                     |
| &gt; quoteBal    | String           | <del>Quote currency balance, only applicable to <code>MARGIN</code>ï¼ˆQuick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                    |
| &gt; posSide     | String           | Position side<br><code>long</code><br><code>short</code><br><code>net</code> (<code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>: positive <code>pos</code> means long position and negative <code>pos</code> means short position. <code>MARGIN</code>: <code>posCcy</code> being base currency means long position, <code>posCcy</code> being quote currency means short position.) |
| &gt; posCcy      | String           | Position currency, only applicable to <code>MARGIN</code> positions.                                                                                                                                                                                                                                                                                                                          |
| &gt; ccy         | String           | Currency used for margin                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; notionalCcy | String           | Notional value of positions in <code>coin</code>                                                                                                                                                                                                                                                                                                                                              |
| &gt; notionalUsd | String           | Notional value of positions in <code>USD</code>                                                                                                                                                                                                                                                                                                                                               |

---

### Get bills details (last 7 days) [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-bills-details-last-7-days "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-bills-details-last-7-days")

Retrieve the bills of the account. The bill refers to all transaction records
that result in changing the balance of an account. Pagination is supported, and
the response is sorted with the most recent first. This endpoint can retrieve
data from the last 7 days.

#### Rate Limit: 5 requests per second

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/bills`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| --------- | ------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType  | String | No       | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| instId    | String | No       | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ccy       | String | No       | Bill currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| mgnMode   | String | No       | Margin mode<br><code>isolated</code><br><code>cross</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ctType    | String | No       | Contract type<br><code>linear</code><br><code>inverse</code><br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| type      | String | No       | Bill type<br><code>1</code>: Transfer<br><code>2</code>: Trade<br><code>3</code>: Delivery<br><code>4</code>: Forced repayment<br><code>5</code>: Liquidation<br><code>6</code>: Margin transfer<br><code>7</code>: Interest deduction<br><code>8</code>: Funding fee<br><code>9</code>: ADL<br><code>10</code>: Clawback<br><code>11</code>: System token conversion<br><code>12</code>: Strategy transfer<br><code>13</code>: DDH<br><code>14</code>: Block trade<br><code>15</code>: Quick Margin<br><code>16</code>: Borrowing<br><code>22</code>: Repay<br><code>24</code>: Spread trading<br><code>26</code>: Structured products<br><code>27</code>: Convert<br><code>28</code>: Easy convert<br><code>29</code>: One-click repay<br><code>30</code>: Simple trade<br><code>32</code>: Move position<br><code>33</code>: Loans<br><code>34</code>: Settlement<br><code>250</code>: Copy trader profit sharing expenses<br><code>251</code>: Copy trader profit sharing refund                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| subType   | String | No       | Bill subtype<br><code>1</code>: Buy<br><code>2</code>: Sell<br><code>3</code>: Open long<br><code>4</code>: Open short<br><code>5</code>: Close long<br><code>6</code>: Close short<br><code>9</code>: Interest deduction for Market loans<br><code>11</code>: Transfer in<br><code>12</code>: Transfer out<br><code>14</code>: Interest deduction for VIP loans<br><code>160</code>: Manual margin increase<br><code>161</code>: Manual margin decrease<br><code>162</code>: Auto margin increase<br><code>114</code>: Forced repayment buy<br><code>115</code>: Forced repayment sell<br><code>118</code>: System token conversion transfer in<br><code>119</code>: System token conversion transfer out<br><code>100</code>: Partial liquidation close long<br><code>101</code>: Partial liquidation close short<br><code>102</code>: Partial liquidation buy<br><code>103</code>: Partial liquidation sell<br><code>104</code>: Liquidation long<br><code>105</code>: Liquidation short<br><code>106</code>: Liquidation buy<br><code>107</code>: Liquidation sell<br><code>108</code>: Clawback<br><code>110</code>: Liquidation transfer in<br><code>111</code>: Liquidation transfer out<br><code>125</code>: ADL close long<br><code>126</code>: ADL close short<br><code>127</code>: ADL buy<br><code>128</code>: ADL sell<br><code>131</code>: ddh buy<br><code>132</code>: ddh sell<br><code>170</code>: Exercised(ITM buy side)<br><code>171</code>: Counterparty exercised(ITM sell side)<br><code>172</code>: Expired(Non-ITM buy and sell side)<br><code>112</code>: Delivery long (applicable to <code>FUTURES</code> expiration and <code>SWAP</code> delisting)<br><code>113</code>: Delivery short (applicable to <code>FUTURES</code> expiration and <code>SWAP</code> delisting)<br><code>117</code>: Delivery/Exercise clawback<br><code>173</code>: Funding fee expense<br><code>174</code>: Funding fee income<br><code>200</code>:System transfer in<br><code>201</code>: Manually transfer in<br><code>202</code>: System transfer out<br><code>203</code>: Manually transfer out<br><code>204</code>: block trade buy<br><code>205</code>: block trade sell<br><code>206</code>: block trade open long<br><code>207</code>: block trade open short<br><code>208</code>: block trade close long<br><code>209</code>: block trade close short<br><code>210</code>: Manual Borrowing of quick margin<br><code>211</code>: Manual Repayment of quick margin<br><code>212</code>: Auto borrow of quick margin<br><code>213</code>: Auto repay of quick margin<br><code>220</code>: Transfer in when using USDT to buy OPTION<br><code>221</code>: Transfer out when using USDT to buy OPTION<br><code>16</code>: Repay forcibly<br><code>17</code>: Repay interest by borrowing forcibly<br><code>224</code>: Repayment transfer in<br><code>225</code>: Repayment transfer out<br><code>236</code>: Easy convert in<br><code>237</code>: Easy convert out<br><code>250</code>: Profit sharing expenses<br><code>251</code>: Profit sharing refund<br><code>280</code>: SPOT profit sharing expenses<br><code>281</code>: SPOT profit sharing refund<br><code>282</code>: Spot profit share income<br><code>283</code>: Asset transfer for spot copy trading<br><code>270</code>: Spread trading buy<br><code>271</code>: Spread trading sell<br><code>272</code>: Spread trading open long<br><code>273</code>: Spread trading open short<br><code>274</code>: Spread trading close long<br><code>275</code>: Spread trading close short<br><code>280</code>: SPOT profit sharing expenses<br><code>281</code>: SPOT profit sharing refund<br><code>284</code>: Copy trade automatic transfer in<br><code>285</code>: Copy trade manual transfer in<br><code>286</code>: Copy trade automatic transfer out<br><code>287</code>: Copy trade manual transfer out<br><code>290</code>: Crypto dust auto-transfer out<br><del><code>293</code>: Fixed loan interest deduction</del><br><del><code>294</code>: Fixed loan interest refund</del><br><del><code>295</code>: Fixed loan overdue penalty</del><br><code>296</code>: From structured order placements<br><code>297</code>: To structured order placements<br><code>298</code>: From structured settlements<br><code>299</code>: To structured settlements<br><code>306</code>: Manual borrow<br><code>307</code>: Auto borrow<br><code>308</code>: Manual repay<br><code>309</code>: Auto repay<br><code>312</code>: Auto offset<br><code>318</code>: Convert in<br><code>319</code>: Convert out<br><code>320</code>: Simple buy<br><code>321</code>: Simple sell<br><code>324</code>: Move position buy<br><code>325</code>: Move position sell<br><code>326</code>: Move position open long<br><code>327</code>: Move position open short<br><code>328</code>: Move position close long<br><code>329</code>: Move position close short<br><code>332</code>: Margin transfer in isolated margin position<br><code>333</code>: Margin transfer out isolated margin position<br><code>334</code>: Margin loss when closing isolated margin position<br><code>355</code>: Settlement PnL<br><code>376</code>: Collateralized borrowing auto conversion buy<br><code>377</code>: Collateralized borrowing auto conversion sell<br><code>381</code>: Auto lend interest transfer in<br><code>372</code>: Bot airdrop (transfer in)<br><code>373</code>: Bot airdrop (transfer out)<br><code>374</code>: Bot airdrop reclaim (transfer in)<br><code>375</code>: Bot airdrop reclaim (transfer out)<br><code>381</code>: Auto earn (auto lend) |
| after     | String | No       | Pagination of data to return records earlier than the requested bill ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| before    | String | No       | Pagination of data to return records newer than the requested bill ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| begin     | String | No       | Filter with a begin timestamp <code>ts</code>. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| end       | String | No       | Filter with an end timestamp <code>ts</code>. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| limit     | String | No       | Number of results per request. The maximum is <code>100</code>. The default is <code>100</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

#### Response Parameters

| Parameter   | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----------- | ------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType    | String | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| billId      | String | Bill ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| type        | String | Bill type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| subType     | String | Bill subtype                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ts          | String | The time when the balance complete update, Unix timestamp format in milliseconds, e.g.<code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| balChg      | String | Change in balance amount at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| posBalChg   | String | Change in balance amount at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| bal         | String | Balance at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| posBal      | String | Balance at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| sz          | String | Quantity<br>For <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, it is fill quantity or position quantity, the unit is contract. The value is always positive.<br>For other scenarios. the unit is account balance currency(<code>ccy</code>).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| px          | String | Price which related to subType<br><li>Trade filled price for</li><code>1</code>: Buy <code>2</code>: Sell <code>3</code>: Open long <code>4</code>: Open short <code>5</code>: Close long <code>6</code>: Close short <code>204</code>: block trade buy <code>205</code>: block trade sell <code>206</code>: block trade open long <code>207</code>: block trade open short <code>208</code>: block trade close long <code>209</code>: block trade close short <code>114</code>: Forced repayment buy <code>115</code>: Forced repayment sell<br><li>Liquidation Price for</li><code>100</code>: Partial liquidation close long <code>101</code>: Partial liquidation close short <code>102</code>: Partial liquidation buy <code>103</code>: Partial liquidation sell <code>104</code>: Liquidation long <code>105</code>: Liquidation short <code>106</code>: Liquidation buy <code>107</code>: Liquidation sell <code>16</code>: Repay forcibly <code>17</code>: Repay interest by borrowing forcibly <code>110</code>: Liquidation transfer in <code>111</code>: Liquidation transfer out<br><li>Delivery price for</li><code>112</code>: Delivery long <code>113</code>: Delivery short<br><li>Exercise price for</li><code>170</code>: Exercised <code>171</code>: Counterparty exercised <code>172</code>: Expired OTM<br><li>Mark price for</li><code>173</code>: Funding fee expense <code>174</code>: Funding fee income |
| ccy         | String | Account balance currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| pnl         | String | Profit and loss                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fee         | String | Fee<br>Negative number represents the user transaction fee charged by the platform.<br>Positive number represents rebate.<br><a href="/en/fees">Trading fee rule</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| earnAmt     | String | Auto earn amount<br>Only applicable when type is 381                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| earnApr     | String | Auto earn APR<br>Only applicable when type is 381                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| mgnMode     | String | Margin mode<br><code>isolated</code> <code>cross</code> <code>cash</code><br>When bills are not generated by trading, the field returns ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| instId      | String | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ordId       | String | Order ID<br>Return order ID when the type is <code>2</code>/<code>5</code>/<code>9</code><br>Return "" when there is no order.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| execType    | String | Liquidity taker or maker<br><code>T</code>: taker<br><code>M</code>: maker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| from        | String | The remitting account<br><code>6</code>: Funding account<br><code>18</code>: Trading account<br>Only applicable to <code>transfer</code>. When bill type is not <code>transfer</code>, the field returns "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| to          | String | The beneficiary account<br><code>6</code>: Funding account<br><code>18</code>: Trading account<br>Only applicable to <code>transfer</code>. When bill type is not <code>transfer</code>, the field returns "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| notes       | String | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| interest    | String | Interest                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| tag         | String | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| fillTime    | String | Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| tradeId     | String | Last traded ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| clOrdId     | String | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fillIdxPx   | String | Index price at the moment of trade execution<br>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| fillMarkPx  | String | Mark price when filled<br>Applicable to FUTURES/SWAP/OPTIONS, return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| fillPxVol   | String | Implied volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| fillPxUsd   | String | Options price when filled, in the unit of USD<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| fillMarkVol | String | Mark volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fillFwdPx   | String | Forward price when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

**Funding Fee expense (subType = 173)**  
You may refer to "pnl" for the fee payment

---

### Get bills details (last 3 months) [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-bills-details-last-3-months "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-bills-details-last-3-months")

Retrieve the accountâ€™s bills. The bill refers to all transaction records that
result in changing the balance of an account. Pagination is supported, and the
response is sorted with most recent first. This endpoint can retrieve data from
the last 3 months.

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/bills-archive`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| --------- | ------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType  | String | No       | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| instId    | String | No       | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ccy       | String | No       | Bill currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| mgnMode   | String | No       | Margin mode<br><code>isolated</code><br><code>cross</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ctType    | String | No       | Contract type<br><code>linear</code><br><code>inverse</code><br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| type      | String | No       | Bill type<br><code>1</code>: Transfer<br><code>2</code>: Trade<br><code>3</code>: Delivery<br><code>4</code>: Forced repayment<br><code>5</code>: Liquidation<br><code>6</code>: Margin transfer<br><code>7</code>: Interest deduction<br><code>8</code>: Funding fee<br><code>9</code>: ADL<br><code>10</code>: Clawback<br><code>11</code>: System token conversion<br><code>12</code>: Strategy transfer<br><code>13</code>: DDH<br><code>14</code>: Block trade<br><code>15</code>: Quick Margin<br><code>16</code>: Borrowing<br><code>22</code>: Repay<br><code>24</code>: Spread trading<br><code>26</code>: Structured products<br><code>27</code>: Convert<br><code>28</code>: Easy convert<br><code>29</code>: One-click repay<br><code>30</code>: Simple trade<br><code>32</code>: Move position<br><code>33</code>: Loans<br><code>34</code>: Settlement<br><code>250</code>: Copy trader profit sharing expenses<br><code>251</code>: Copy trader profit sharing refund                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| subType   | String | No       | Bill subtype<br><code>1</code>: Buy<br><code>2</code>: Sell<br><code>3</code>: Open long<br><code>4</code>: Open short<br><code>5</code>: Close long<br><code>6</code>: Close short<br><code>9</code>: Interest deduction for Market loans<br><code>11</code>: Transfer in<br><code>12</code>: Transfer out<br><code>14</code>: Interest deduction for VIP loans<br><code>160</code>: Manual margin increase<br><code>161</code>: Manual margin decrease<br><code>162</code>: Auto margin increase<br><code>114</code>: Forced repayment buy<br><code>115</code>: Forced repayment sell<br><code>118</code>: System token conversion transfer in<br><code>119</code>: System token conversion transfer out<br><code>100</code>: Partial liquidation close long<br><code>101</code>: Partial liquidation close short<br><code>102</code>: Partial liquidation buy<br><code>103</code>: Partial liquidation sell<br><code>104</code>: Liquidation long<br><code>105</code>: Liquidation short<br><code>106</code>: Liquidation buy<br><code>107</code>: Liquidation sell<br><code>108</code>: Clawback<br><code>110</code>: Liquidation transfer in<br><code>111</code>: Liquidation transfer out<br><code>125</code>: ADL close long<br><code>126</code>: ADL close short<br><code>127</code>: ADL buy<br><code>128</code>: ADL sell<br><code>131</code>: ddh buy<br><code>132</code>: ddh sell<br><code>170</code>: Exercised(ITM buy side)<br><code>171</code>: Counterparty exercised(ITM sell side)<br><code>172</code>: Expired(Non-ITM buy and sell side)<br><code>112</code>: Delivery long (applicable to <code>FUTURES</code> expiration and <code>SWAP</code> delisting)<br><code>113</code>: Delivery short (applicable to <code>FUTURES</code> expiration and <code>SWAP</code> delisting)<br><code>117</code>: Delivery/Exercise clawback<br><code>173</code>: Funding fee expense<br><code>174</code>: Funding fee income<br><code>200</code>:System transfer in<br><code>201</code>: Manually transfer in<br><code>202</code>: System transfer out<br><code>203</code>: Manually transfer out<br><code>204</code>: block trade buy<br><code>205</code>: block trade sell<br><code>206</code>: block trade open long<br><code>207</code>: block trade open short<br><code>208</code>: block trade close long<br><code>209</code>: block trade close short<br><code>210</code>: Manual Borrowing of quick margin<br><code>211</code>: Manual Repayment of quick margin<br><code>212</code>: Auto borrow of quick margin<br><code>213</code>: Auto repay of quick margin<br><code>220</code>: Transfer in when using USDT to buy OPTION<br><code>221</code>: Transfer out when using USDT to buy OPTION<br><code>16</code>: Repay forcibly<br><code>17</code>: Repay interest by borrowing forcibly<br><code>224</code>: Repayment transfer in<br><code>225</code>: Repayment transfer out<br><code>236</code>: Easy convert in<br><code>237</code>: Easy convert out<br><code>250</code>: Profit sharing expenses<br><code>251</code>: Profit sharing refund<br><code>280</code>: SPOT profit sharing expenses<br><code>281</code>: SPOT profit sharing refund<br><code>282</code>: Spot profit share income<br><code>283</code>: Asset transfer for spot copy trading<br><code>270</code>: Spread trading buy<br><code>271</code>: Spread trading sell<br><code>272</code>: Spread trading open long<br><code>273</code>: Spread trading open short<br><code>274</code>: Spread trading close long<br><code>275</code>: Spread trading close short<br><code>280</code>: SPOT profit sharing expenses<br><code>281</code>: SPOT profit sharing refund<br><code>284</code>: Copy trade automatic transfer in<br><code>285</code>: Copy trade manual transfer in<br><code>286</code>: Copy trade automatic transfer out<br><code>287</code>: Copy trade manual transfer out<br><code>290</code>: Crypto dust auto-transfer out<br><del><code>293</code>: Fixed loan interest deduction</del><br><del><code>294</code>: Fixed loan interest refund</del><br><del><code>295</code>: Fixed loan overdue penalty</del><br><code>296</code>: From structured order placements<br><code>297</code>: To structured order placements<br><code>298</code>: From structured settlements<br><code>299</code>: To structured settlements<br><code>306</code>: Manual borrow<br><code>307</code>: Auto borrow<br><code>308</code>: Manual repay<br><code>309</code>: Auto repay<br><code>312</code>: Auto offset<br><code>318</code>: Convert in<br><code>319</code>: Convert out<br><code>320</code>: Simple buy<br><code>321</code>: Simple sell<br><code>324</code>: Move position buy<br><code>325</code>: Move position sell<br><code>326</code>: Move position open long<br><code>327</code>: Move position open short<br><code>328</code>: Move position close long<br><code>329</code>: Move position close short<br><code>332</code>: Margin transfer in isolated margin position<br><code>333</code>: Margin transfer out isolated margin position<br><code>334</code>: Margin loss when closing isolated margin position<br><code>355</code>: Settlement PnL<br><code>376</code>: Collateralized borrowing auto conversion buy<br><code>377</code>: Collateralized borrowing auto conversion sell<br><code>381</code>: Auto lend interest transfer in<br><code>372</code>: Bot airdrop (transfer in)<br><code>373</code>: Bot airdrop (transfer out)<br><code>374</code>: Bot airdrop reclaim (transfer in)<br><code>375</code>: Bot airdrop reclaim (transfer out)<br><code>381</code>: Auto earn (auto lend) |
| after     | String | No       | Pagination of data to return records earlier than the requested bill ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| before    | String | No       | Pagination of data to return records newer than the requested bill ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| begin     | String | No       | Filter with a begin timestamp <code>ts</code>. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| end       | String | No       | Filter with an end timestamp <code>ts</code>. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| limit     | String | No       | Number of results per request. The maximum is <code>100</code>. The default is <code>100</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

#### Response Parameters

| Parameter   | Type   | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----------- | ------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType    | String | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| billId      | String | Bill ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| type        | String | Bill type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| subType     | String | Bill subtype                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ts          | String | The time when the balance complete update, Unix timestamp format in milliseconds, e.g.<code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| balChg      | String | Change in balance amount at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| posBalChg   | String | Change in balance amount at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| bal         | String | Balance at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| posBal      | String | Balance at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| sz          | String | Quantity<br>For <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, it is fill quantity or position quantity, the unit is contract. The value is always positive.<br>For other scenarios. the unit is account balance currency(<code>ccy</code>).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| px          | String | Price which related to subType<br><li>Trade filled price for</li><code>1</code>: Buy <code>2</code>: Sell <code>3</code>: Open long <code>4</code>: Open short <code>5</code>: Close long <code>6</code>: Close short <code>204</code>: block trade buy <code>205</code>: block trade sell <code>206</code>: block trade open long <code>207</code>: block trade open short <code>208</code>: block trade close long <code>209</code>: block trade close short <code>114</code>: Forced repayment buy <code>115</code>: Forced repayment sell<br><li>Liquidation Price for</li><code>100</code>: Partial liquidation close long <code>101</code>: Partial liquidation close short <code>102</code>: Partial liquidation buy <code>103</code>: Partial liquidation sell <code>104</code>: Liquidation long <code>105</code>: Liquidation short <code>106</code>: Liquidation buy <code>107</code>: Liquidation sell <code>16</code>: Repay forcibly <code>17</code>: Repay interest by borrowing forcibly <code>110</code>: Liquidation transfer in <code>111</code>: Liquidation transfer out<br><li>Delivery price for</li><code>112</code>: Delivery long <code>113</code>: Delivery short<br><li>Exercise price for</li><code>170</code>: Exercised <code>171</code>: Counterparty exercised <code>172</code>: Expired OTM<br><li>Mark price for</li><code>173</code>: Funding fee expense <code>174</code>: Funding fee income |
| ccy         | String | Account balance currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| pnl         | String | Profit and loss                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fee         | String | Fee<br>Negative number represents the user transaction fee charged by the platform.<br>Positive number represents rebate.<br><a href="/en/fees">Trading fee rule</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| earnAmt     | String | Auto earn amount<br>Only applicable when type is 381                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| earnApr     | String | Auto earn APR<br>Only applicable when type is 381                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| mgnMode     | String | Margin mode<br><code>isolated</code> <code>cross</code> <code>cash</code><br>When bills are not generated by trading, the field returns ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| instId      | String | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ordId       | String | Order ID<br>Return order ID when the type is <code>2</code>/<code>5</code>/<code>9</code><br>Return "" when there is no order.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| execType    | String | Liquidity taker or maker<br><code>T</code>: taker <code>M</code>: maker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| from        | String | The remitting account<br><code>6</code>: Funding account<br><code>18</code>: Trading account<br>Only applicable to <code>transfer</code>. When bill type is not <code>transfer</code>, the field returns "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| to          | String | The beneficiary account<br><code>6</code>: Funding account<br><code>18</code>: Trading account<br>Only applicable to <code>transfer</code>. When bill type is not <code>transfer</code>, the field returns "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| notes       | String | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| interest    | String | Interest                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| tag         | String | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| fillTime    | String | Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| tradeId     | String | Last traded ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| clOrdId     | String | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fillIdxPx   | String | Index price at the moment of trade execution<br>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| fillMarkPx  | String | Mark price when filled<br>Applicable to FUTURES/SWAP/OPTIONS, return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| fillPxVol   | String | Implied volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| fillPxUsd   | String | Options price when filled, in the unit of USD<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| fillMarkVol | String | Mark volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fillFwdPx   | String | Forward price when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

**Funding Fee expense (subType = 173)**  
You may refer to "pnl" for the fee payment

---

### Apply bills details (since 2021) [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-apply-bills-details-since-2021 "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-apply-bills-details-since-2021")

Apply for bill data since 1 February, 2021 except for the current quarter.

#### Rate Limitï¼š12 requests per day

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`POST /api/v5/account/bills-history-archive`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------ |
| year      | String | Yes      | 4 digits year                                                                              |
| quarter   | String | Yes      | Quarter, valid value is <code>Q1</code>, <code>Q2</code>, <code>Q3</code>, <code>Q4</code> |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                                                                                               |
| ------------- | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| result        | String   | Whether there is already a download link for this section<br><code>true</code>: Existed, can check from "Get bills details (since 2021)".<br><code>false</code>: Does not exist and is generating, can check the download link after 2 hours<br>The data of file is in reverse chronological order using <code>billId</code>. |
| ts            | String   | The first request time when the server receives. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                       |

The rule introduction, only applicable to the file generated after 11 October,
2024  
1\. Taking 2024 Q2 as an example. The date range are \[2024-07-01, 2024-10-01).
The begin date is included, The end date is excluded.  
2\. The data of file is in reverse chronological order using \`billId\`

Check the file link from the "Get bills details (since 2021)" endpoint in 2
hours to allow for data generation.  
During peak demand, data generation may take longer. If the file link is still
unavailable after 3 hours, reach out to customer support for assistance.

It is only applicable to the data from the unified account.

---

### Get bills details (since 2021) [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-bills-details-since-2021 "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-bills-details-since-2021")

Apply for bill data since 1 February, 2021 except for the current quarter.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/bills-history-archive`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------ |
| year      | String | Yes      | 4 digits year                                                                              |
| quarter   | String | Yes      | Quarter, valid value is <code>Q1</code>, <code>Q2</code>, <code>Q3</code>, <code>Q4</code> |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                   |
| ------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fileHref      | String   | Download file link.<br>The expiration of every link is 5 and a half hours. If you already apply the files for the same quarter, then it donâ€™t need to apply again within 30 days. |
| ts            | String   | The first request time when the server receives. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                           |
| state         | String   | Download link status<br>"finished" "ongoing" "failed": Failed, please apply again                                                                                                 |

It is only applicable to the data from the unified account.

#### Field descriptions in the decompressed CSV file

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType      | String   | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| billId        | String   | Bill ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| subType       | String   | Bill subtype                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ts            | String   | The time when the balance complete update, Unix timestamp format in milliseconds, e.g.<code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| balChg        | String   | Change in balance amount at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| posBalChg     | String   | Change in balance amount at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| bal           | String   | Balance at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| posBal        | String   | Balance at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| sz            | String   | Quantity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| px            | String   | Price which related to subType<br><li>Trade filled price for</li><code>1</code>: Buy <code>2</code>: Sell <code>3</code>: Open long <code>4</code>: Open short <code>5</code>: Close long <code>6</code>: Close short <code>204</code>: block trade buy <code>205</code>: block trade sell <code>206</code>: block trade open long <code>207</code>: block trade open short <code>208</code>: block trade close long <code>209</code>: block trade close short <code>114</code>: Forced repayment buy <code>115</code>: Forced repayment sell<br><li>Liquidation Price for</li><code>100</code>: Partial liquidation close long <code>101</code>: Partial liquidation close short <code>102</code>: Partial liquidation buy <code>103</code>: Partial liquidation sell <code>104</code>: Liquidation long <code>105</code>: Liquidation short <code>106</code>: Liquidation buy <code>107</code>: Liquidation sell <code>16</code>: Repay forcibly <code>17</code>: Repay interest by borrowing forcibly <code>110</code>: Liquidation transfer in <code>111</code>: Liquidation transfer out<br><li>Delivery price for</li><code>112</code>: Delivery long <code>113</code>: Delivery short<br><li>Exercise price for</li><code>170</code>: Exercised <code>171</code>: Counterparty exercised <code>172</code>: Expired OTM<br><li>Mark price for</li><code>173</code>: Funding fee expense <code>174</code>: Funding fee income |
| ccy           | String   | Account balance currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| pnl           | String   | Profit and loss                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fee           | String   | Fee<br>Negative number represents the user transaction fee charged by the platform.<br>Positive number represents rebate.<br><a href="/en/fees">Trading fee rule</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| mgnMode       | String   | Margin mode<br><code>isolated</code> <code>cross</code> <code>cash</code><br>When bills are not generated by trading, the field returns ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| instId        | String   | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ordId         | String   | Order ID<br>Return order ID when the type is <code>2</code>/<code>5</code>/<code>9</code><br>Return "" when there is no order.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| execType      | String   | Liquidity taker or maker<br><code>T</code>: taker <code>M</code>: maker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| interest      | String   | Interest                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| tag           | String   | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| fillTime      | String   | Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| tradeId       | String   | Last traded ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| clOrdId       | String   | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fillIdxPx     | String   | Index price at the moment of trade execution<br>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| fillMarkPx    | String   | Mark price when filled<br>Applicable to FUTURES/SWAP/OPTIONS, return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| fillPxVol     | String   | Implied volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| fillPxUsd     | String   | Options price when filled, in the unit of USD<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| fillMarkVol   | String   | Mark volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| fillFwdPx     | String   | Forward price when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

---

### Get account configuration [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-account-configuration "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-account-configuration")

Retrieve current account configuration.

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/config`

#### Request Parameters

none

#### Response Parameters

| **Parameter**       | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                 |
| ------------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| uid                 | String           | Account ID of current request.                                                                                                                                                                                                                                                                                                                                                                                  |
| mainUid             | String           | Main Account ID of current request.<br>The current request account is main account if uid = mainUid.<br>The current request account is sub-account if uid != mainUid.                                                                                                                                                                                                                                           |
| acctLv              | String           | Account mode<br><code>1</code>: Spot mode<br><code>2</code>: Futures mode<br><code>3</code>: Multi-currency margin<br><code>4</code>: Portfolio margin                                                                                                                                                                                                                                                          |
| acctStpMode         | String           | Account self-trade prevention mode<br><code>cancel_maker</code><br><code>cancel_taker</code><br><code>cancel_both</code><br>The default value is <code>cancel_maker</code>. Users can log in to the webpage through the master account to modify this configuration                                                                                                                                             |
| posMode             | String           | Position mode<br><code>long_short_mode</code>: long/short, only applicable to <code>FUTURES</code>/<code>SWAP</code><br><code>net_mode</code>: net                                                                                                                                                                                                                                                              |
| autoLoan            | Boolean          | Whether to borrow coins automatically<br><code>true</code>: borrow coins automatically<br><code>false</code>: not borrow coins automatically                                                                                                                                                                                                                                                                    |
| greeksType          | String           | Current display type of Greeks<br><code>PA</code>: Greeks in coins<br><code>BS</code>: Black-Scholes Greeks in dollars                                                                                                                                                                                                                                                                                          |
| feeType             | String           | Fee type<br><code>0</code>: fee is charged in the currency you receive from the trade<br><code>1</code>: fee is always charged in the quote currency of the trading pair                                                                                                                                                                                                                                        |
| level               | String           | The user level of the current real trading volume on the platform, e.g <code>Lv1</code>, which means regular user level.                                                                                                                                                                                                                                                                                        |
| levelTmp            | String           | Temporary experience user level of special users, e.g <code>Lv1</code>                                                                                                                                                                                                                                                                                                                                          |
| ctIsoMode           | String           | Contract isolated margin trading settings<br><code>automatic</code>: Auto transfers<br><code>autonomy</code>: Manual transfers                                                                                                                                                                                                                                                                                  |
| mgnIsoMode          | String           | Margin isolated margin trading settings<br><code>auto_transfers_ccy</code>: New auto transfers, enabling both base and quote currency as the margin for isolated margin trading<br><code>automatic</code>: Auto transfers<br><code>quick_margin</code>: Quick Margin Mode (For new accounts, including subaccounts, some defaults will be <code>automatic</code>, and others will be <code>quick_margin</code>) |
| spotOffsetType      | String           | <del>Risk offset type<br><code>1</code>: Spot-Derivatives(USDT) to be offsetted<br><code>2</code>: Spot-Derivatives(Coin) to be offsetted<br><code>3</code>: Only derivatives to be offsetted<br>Only applicable to <code>Portfolio margin</code></del><br>(Deprecated)                                                                                                                                         |
| roleType            | String           | Role type<br><code>0</code>: General user<br><code>1</code>: Leading trader<br><code>2</code>: Copy trader                                                                                                                                                                                                                                                                                                      |
| traderInsts         | Array of strings | Leading trade instruments, only applicable to Leading trader                                                                                                                                                                                                                                                                                                                                                    |
| spotRoleType        | String           | SPOT copy trading role type.<br><code>0</code>: General userï¼›<code>1</code>: Leading traderï¼›<code>2</code>: Copy trader                                                                                                                                                                                                                                                                                       |
| spotTraderInsts     | Array of strings | Spot lead trading instruments, only applicable to lead trader                                                                                                                                                                                                                                                                                                                                                   |
| opAuth              | String           | Whether the optional trading was activated<br><code>0</code>: not activate<br><code>1</code>: activated                                                                                                                                                                                                                                                                                                         |
| kycLv               | String           | Main account KYC level<br><code>0</code>: No verification<br><code>1</code>: level 1 completed<br><code>2</code>: level 2 completed<br><code>3</code>: level 3 completed<br>If the request originates from a subaccount, kycLv is the KYC level of the main account.<br>If the request originates from the main account, kycLv is the KYC level of the current account.                                         |
| label               | String           | API key note of current request API key. No more than 50 letters (case sensitive) or numbers, which can be pure letters or pure numbers.                                                                                                                                                                                                                                                                        |
| ip                  | String           | IP addresses that linked with current API key, separate with commas if more than one, e.g. <code>117.37.203.58,117.37.203.57</code>. It is an empty string "" if there is no IP bonded.                                                                                                                                                                                                                         |
| perm                | String           | The permission of the current requesting API key or Access token<br><code>read_only</code>: Read<br><code>trade</code>: Trade<br><code>withdraw</code>: Withdraw                                                                                                                                                                                                                                                |
| liquidationGear     | String           | The maintenance margin ratio level of liquidation alert<br><code>3</code> and <code>-1</code> means that you will get hourly liquidation alerts on app and channel "Position risk warning" when your margin level drops to or below 300%. <code>-1</code> is the initial value which has the same effect as <code>-3</code><br><code>0</code> means that there is not alert                                     |
| enableSpotBorrow    | Boolean          | Whether borrow is allowed or not in <code>Spot mode</code><br><code>true</code>: Enabled<br><code>false</code>: Disabled                                                                                                                                                                                                                                                                                        |
| spotBorrowAutoRepay | Boolean          | Whether auto-repay is allowed or not in <code>Spot mode</code><br><code>true</code>: Enabled<br><code>false</code>: Disabled                                                                                                                                                                                                                                                                                    |
| type                | String           | Account type<br><code>0</code>: Main account<br><code>1</code>: Standard sub-account<br><code>2</code>: Managed trading sub-account<br><code>5</code>: Custody trading sub-account - Copper<br><code>9</code>: Managed trading sub-account - Copper<br><code>12</code>: Custody trading sub-account - Komainu                                                                                                   |
| settleCcy           | String           | Current account's USD-margined contract settle currency                                                                                                                                                                                                                                                                                                                                                         |
| settleCcyList       | String           | Current account's USD-margined contract settle currency list, like ["USD", "USDC", "USDG"].                                                                                                                                                                                                                                                                                                                     |

---

### Set position mode [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-position-mode "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-position-mode")

Futures mode and Multi-currency mode: `FUTURES` and `SWAP` support both
`long/short` mode and `net` mode. In `net` mode, users can only have positions
in one direction; In `long/short` mode, users can hold positions in long and
short directions.  
Portfolio margin mode: `FUTURES` and `SWAP` only support `net` mode

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-position-mode`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                        |
| --------- | ------ | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| posMode   | String | Yes      | Position mode<br><code>long_short_mode</code>: long/short, only applicable to <code>FUTURES</code>/<code>SWAP</code><br><code>net_mode</code>: net |

#### Response Parameters

| Parameter | Type   | Description   |
| --------- | ------ | ------------- |
| posMode   | String | Position mode |

Portfolio margin account only supports net mode

---

### Set leverage [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-leverage "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-leverage")

There are 10 different scenarios for leverage setting:

1\. Set leverage for `MARGIN` instruments under `isolated-margin` trade mode at
pairs level.  
2\. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and
Spot mode (enabled borrow) at currency level.  
3\. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and
Futures mode account mode at pairs level.  
4\. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and
Multi-currency margin at currency level.  
5\. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and
Portfolio margin at currency level.  
6\. Set leverage for `FUTURES` instruments under `cross-margin` trade mode at
underlying level.  
7\. Set leverage for `FUTURES` instruments under `isolated-margin` trade mode
and buy/sell position mode at contract level.  
8\. Set leverage for `FUTURES` instruments under `isolated-margin` trade mode
and long/short position mode at contract and position side level.  
9\. Set leverage for `SWAP` instruments under `cross-margin` trade at contract
level.  
10\. Set leverage for `SWAP` instruments under `isolated-margin` trade mode and
buy/sell position mode at contract level.  
11\. Set leverage for `SWAP` instruments under `isolated-margin` trade mode and
long/short position mode at contract and position side level.

Note that the request parameter `posSide` is only required when margin mode is
isolated in long/short position mode for FUTURES/SWAP instruments (see scenario
8 and 11 above).  
Please refer to the request examples on the right for each case.

#### Rate limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-leverage`

#### Request Parameters

| Parameter | Type   | Required    | Description                                                                                                                                                                                                                                                                                                                                        |
| --------- | ------ | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId    | String | Conditional | Instrument ID<br>Only applicable to <code>cross</code> <code>FUTURES</code> <code>SWAP</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>, <code>cross</code> <code>MARGIN</code><code>FUTURES</code><code>SWAP</code> and <code>isolated</code> position.<br>And required in applicable scenarios. |
| ccy       | String | Conditional | Currency used for margin, used for the leverage setting for the currency in auto borrow.<br>Only applicable to <code>cross</code> <code>MARGIN</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>.<br>And required in applicable scenarios.                                                         |
| lever     | String | Yes         | Leverage                                                                                                                                                                                                                                                                                                                                           |
| mgnMode   | String | Yes         | Margin mode<br><code>isolated</code> <code>cross</code><br>Can only be <code>cross</code> if <code>ccy</code> is passed.                                                                                                                                                                                                                           |
| posSide   | String | Conditional | Position side<br><code>long</code> <code>short</code><br>Only required when margin mode is <code>isolated</code> in <code>long/short</code> mode for <code>FUTURES</code>/<code>SWAP</code>.                                                                                                                                                       |

#### Response Parameters

| Parameter | Type   | Description                                             |
| --------- | ------ | ------------------------------------------------------- |
| lever     | String | Leverage                                                |
| mgnMode   | String | Margin mode<br><code>cross</code> <code>isolated</code> |
| instId    | String | Instrument ID                                           |
| posSide   | String | Position side                                           |

When setting leverage for \`cross\` \`FUTURES\`/\`SWAP\` at the underlying
level, pass in any instId and mgnMode(\`cross\`).

Leverage cannot be adjusted for the cross positions of Expiry Futures and
Perpetual Futures under the portfolio margin account.

---

### Get maximum order quantity [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-maximum-order-quantity "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-maximum-order-quantity")

The maximum quantity to buy or sell. It corresponds to the "sz" from placement.

Under the Portfolio Margin account, the calculation of the maximum buy/sell
amount or open amount is not supported under the cross mode of derivatives.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/max-size`

#### Request Parameters

| **Parameter** | **Type** | Required    | Description                                                                                                                                                                                                                                                                      |
| ------------- | -------- | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId        | String   | Yes         | Single instrument or multiple instruments (no more than 5) in the same instrument type separated with comma, e.g. <code>BTC-USDT,ETH-USDT</code>                                                                                                                                 |
| tdMode        | String   | Yes         | Trade mode<br><code>cross</code><br><code>isolated</code><br><code>cash</code><br><code>spot_isolated</code>: only applicable to <code>Futures mode</code>.                                                                                                                      |
| ccy           | String   | Conditional | Currency used for margin<br>Applicable to <code>isolated</code> <code>MARGIN</code> and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                              |
| px            | String   | No          | Price<br>When the price is not specified, it will be calculated according to the current limit price for <code>FUTURES</code> and <code>SWAP</code>, the last traded price for other instrument types.<br>The parameter will be ignored when multiple instruments are specified. |
| leverage      | String   | No          | Leverage for instrument<br>The default is current leverage<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                |
| tradeQuoteCcy | String   | No          | The quote currency used for trading. Only applicable to <code>SPOT</code>.<br>The default value is the quote currency of the <code>instId</code>, for example: for <code>BTC-USD</code>, the default is <code>USD</code>.                                                        |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                                                                                                  |
| ------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId        | String   | Instrument ID                                                                                                                                                                                                                                                                                                                    |
| ccy           | String   | Currency used for margin                                                                                                                                                                                                                                                                                                         |
| maxBuy        | String   | <code>SPOT</code>/<code>MARGIN</code>: The maximum quantity in base currency that you can buy<br>The cross-margin order under <code>Futures mode</code> mode, quantity of coins is based on base currency.<br><code>FUTURES</code>/<code>SWAP</code>/<code>OPTIONS</code>: The maximum quantity of contracts that you can buy    |
| maxSell       | String   | <code>SPOT</code>/<code>MARGIN</code>: The maximum quantity in quote currency that you can sell<br>The cross-margin order under <code>Futures mode</code> mode, quantity of coins is based on base currency.<br><code>FUTURES</code>/<code>SWAP</code>/<code>OPTIONS</code>: The maximum quantity of contracts that you can sell |

---

### Get maximum available balance/equity [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-maximum-available-balance-equity "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-maximum-available-balance-equity")

Available balance for isolated margin positions and SPOT, available equity for
cross margin positions.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/max-avail-size`

#### Request Parameters

| **Parameter** | **Type** | Required    | Description                                                                                                                                                                                                               |
| ------------- | -------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId        | String   | Yes         | Single instrument or multiple instruments (no more than 5) separated with comma, e.g. <code>BTC-USDT,ETH-USDT</code>                                                                                                      |
| ccy           | String   | Conditional | Currency used for margin<br>Applicable to <code>isolated</code> <code>MARGIN</code> and <code>cross</code> <code>MARGIN</code> in <code>Futures mode</code>.                                                              |
| tdMode        | String   | Yes         | Trade mode<br><code>cross</code><br><code>isolated</code><br><code>cash</code><br><code>spot_isolated</code>: only applicable to <code>Futures mode</code>                                                                |
| reduceOnly    | Boolean  | No          | Whether to reduce position only<br>Only applicable to <code>MARGIN</code>                                                                                                                                                 |
| px            | String   | No          | The price of closing position.<br>Only applicable to reduceOnly <code>MARGIN</code>.                                                                                                                                      |
| tradeQuoteCcy | String   | No          | The quote currency used for trading. Only applicable to <code>SPOT</code>.<br>The default value is the quote currency of the <code>instId</code>, for example: for <code>BTC-USD</code>, the default is <code>USD</code>. |

#### Response Parameters

| **Parameter** | **Type** | **Description**                          |
| ------------- | -------- | ---------------------------------------- |
| instId        | String   | Instrument ID                            |
| availBuy      | String   | Maximum available balance/equity to buy  |
| availSell     | String   | Maximum available balance/equity to sell |

In the case of SPOT/MARGIN, availBuy is in the quote currency, and availSell is
in the base currency.  
In the case of MARGIN with cross tdMode, both availBuy and availSell are in the
currency passed in **ccy**.

---

### Increase/decrease margin [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-increase-decrease-margin "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-increase-decrease-margin")

Increase or decrease the margin of the isolated position. Margin reduction may
result in the change of the actual leverage.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/position/margin-balance`

#### Request Parameters

| Parameter | Type   | Required    | Description                                                                                                   |
| --------- | ------ | ----------- | ------------------------------------------------------------------------------------------------------------- |
| instId    | String | Yes         | Instrument ID                                                                                                 |
| posSide   | String | Yes         | Position side, the default is <code>net</code><br><code>long</code><br><code>short</code><br><code>net</code> |
| type      | String | Yes         | <code>add</code>: add margin<br><code>reduce</code>: reduce margin                                            |
| amt       | String | Yes         | Amount to be increased or decreased.                                                                          |
| ccy       | String | Conditional | Currency<br>Applicable to <code>isolated</code> <code>MARGIN</code> orders                                    |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                    |
| ------------- | -------- | ------------------------------------------------------------------ |
| instId        | String   | Instrument ID                                                      |
| posSide       | String   | Position side, <code>long</code> <code>short</code>                |
| amt           | String   | Amount to be increase or decrease                                  |
| type          | String   | <code>add</code>: add margin<br><code>reduce</code>: reduce margin |
| leverage      | String   | Real leverage after the margin adjustment                          |
| ccy           | String   | Currency                                                           |

Manual transfer mode  
The value of the margin initially assigned to the isolated position must be
greater than or equal to 10,000 USDT, and a position will be created on the
account.

---

### Get leverage [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-leverage "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-leverage")

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/leverage-info`

#### Request Parameters

| Parameter | Type   | Required    | Description                                                                                                                                                                                                                                                                                            |
| --------- | ------ | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instId    | String | Conditional | Instrument ID<br>Single instrument ID or multiple instrument IDs (no more than 20) separated with comma                                                                                                                                                                                                |
| ccy       | String | Conditional | Currencyï¼Œused for getting leverage of currency level.<br>Applicable to <code>cross</code> <code>MARGIN</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>.<br>Supported single currency or multiple currencies (no more than 20) separated with comma. |
| mgnMode   | String | Yes         | Margin mode<br><code>cross</code> <code>isolated</code>                                                                                                                                                                                                                                                |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                            |
| ------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId        | String   | Instrument ID                                                                                                                                                                                              |
| ccy           | String   | Currencyï¼Œused for getting leverage of currency level.<br>Applicable to <code>cross</code> <code>MARGIN</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>. |
| mgnMode       | String   | Margin mode                                                                                                                                                                                                |
| posSide       | String   | Position side<br><code>long</code><br><code>short</code><br><code>net</code><br>In <code>long/short</code> mode, the leverage in both directions <code>long</code>/<code>short</code> will be returned.    |
| lever         | String   | Leverage                                                                                                                                                                                                   |

Leverage cannot be enquired for the cross positions of Expiry Futures and
Perpetual Futures under the portfolio margin account.

---

### Get leverage estimated info [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-leverage-estimated-info "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-leverage-estimated-info")

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/adjust-leverage-info`

#### Request Parameters

| Parameter | Type   | Required    | Description                                                                                                                                                                                  |
| --------- | ------ | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType  | String | Yes         | Instrument type<br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code>                                                                                                          |
| mgnMode   | String | Yes         | Margin mode<br><code>isolated</code><br><code>cross</code>                                                                                                                                   |
| lever     | String | Yes         | Leverage                                                                                                                                                                                     |
| instId    | String | Conditional | Instrument ID, e.g. BTC-USDT<br>It is required for these scenarioes: <code>SWAP</code> and <code>FUTURES</code>, Margin isolation, Margin cross in <code>Futures mode</code>.                |
| ccy       | String | Conditional | Currency used for margin, e.g. BTC<br>It is required for isolated margin and cross margin in <code>Futures mode</code>, <code>Multi-currency margin</code> and <code>Portfolio margin</code> |
| posSide   | String | No          | posSide<br><code>net</code>: The default value<br><code>long</code><br><code>short</code>                                                                                                    |

#### Response Parameters

| **Parameter**      | **Type** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------ | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| estAvailQuoteTrans | String   | The estimated margin(in quote currency) can be transferred out under the corresponding leverage<br>For cross, it is the maximum quantity that can be transferred from the trading account.<br>For isolated, it is the maximum quantity that can be transferred from the isolated position<br>Only applicable to <code>MARGIN</code>                                                                                                                                  |
| estAvailTrans      | String   | The estimated margin can be transferred out under the corresponding leverage.<br>For cross, it is the maximum quantity that can be transferred from the trading account.<br>For isolated, it is the maximum quantity that can be transferred from the isolated position<br>The unit is base currency for <code>MARGIN</code><br>It is not applicable to the scenario when increasing leverage for isolated position under <code>FUTURES</code> and <code>SWAP</code> |
| estLiqPx           | String   | The estimated liquidation price under the corresponding leverage. Only return when there is a position.                                                                                                                                                                                                                                                                                                                                                              |
| estMgn             | String   | The estimated margin needed by position under the corresponding leverage.<br>For the <code>MARGIN</code> position, it is margin in base currency                                                                                                                                                                                                                                                                                                                     |
| estQuoteMgn        | String   | The estimated margin (in quote currency) needed by position under the corresponding leverage                                                                                                                                                                                                                                                                                                                                                                         |
| estMaxAmt          | String   | For <code>MARGIN</code>, it is the estimated maximum loan in base currency under the corresponding leverage<br>For <code>SWAP</code> and <code>FUTURES</code>, it is the estimated maximum quantity of contracts that can be opened under the corresponding leverage                                                                                                                                                                                                 |
| estQuoteMaxAmt     | String   | The <code>MARGIN</code> estimated maximum loan in quote currency under the corresponding leverage.                                                                                                                                                                                                                                                                                                                                                                   |
| existOrd           | Boolean  | Whether there is pending orders<br><code>true</code><br><code>false</code>                                                                                                                                                                                                                                                                                                                                                                                           |
| maxLever           | String   | Maximum leverage                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| minLever           | String   | Minimum leverage                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

---

### Get the maximum loan of instrument [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-the-maximum-loan-of-instrument "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-the-maximum-loan-of-instrument")

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/max-loan`

#### Request Parameters

| Parameter     | Type   | Required    | Description                                                                                                                                                                              |
| ------------- | ------ | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| mgnMode       | String | Yes         | Margin mode<br><code>isolated</code> <code>cross</code>                                                                                                                                  |
| instId        | String | Conditional | Single instrument or multiple instruments (no more than 5) separated with comma, e.g. <code>BTC-USDT,ETH-USDT</code>                                                                     |
| ccy           | String | Conditional | Currency<br>Applicable to get Max loan of manual borrow for the currency in <code>Spot mode</code> (enabled borrowing)                                                                   |
| mgnCcy        | String | Conditional | Margin currency<br>Applicable to <code>isolated</code> <code>MARGIN</code> and <code>cross</code> <code>MARGIN</code> in <code>Futures mode</code>.                                      |
| tradeQuoteCcy | String | No          | The quote currency for trading. Only applicable to <code>SPOT</code>.<br>The default value is the quote currency of <code>instId</code>, e.g. <code>USD</code> for <code>BTC-USD</code>. |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                  |
| ------------- | -------- | ------------------------------------------------ |
| instId        | String   | Instrument ID                                    |
| mgnMode       | String   | Margin mode                                      |
| mgnCcy        | String   | Margin currency                                  |
| maxLoan       | String   | Max loan                                         |
| ccy           | String   | Currency                                         |
| side          | String   | Order side<br><code>buy</code> <code>sell</code> |

---

### Get fee rates [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-fee-rates "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-fee-rates")

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/trade-fee`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                                                                                                                                    |
| ---------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instType   | String | Yes      | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                |
| instId     | String | No       | Instrument ID, e.g. <code>BTC-USDT</code><br>Applicable to <code>SPOT</code>/<code>MARGIN</code>                                                                               |
| instFamily | String | No       | Instrument family, e.g. <code>BTC-USD</code><br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                       |
| ruleType   | String | No       | Trading rule types<br><code>normal</code>: normal trading<br><code>pre_market</code>: pre-market trading<br>ruleType can not be passed through together with instId/instFamily |

#### Response Parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                                                                               |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| level         | String           | Fee rate Level                                                                                                                                                                                                |
| taker         | String           | For <code>SPOT</code>/<code>MARGIN</code>, it is taker fee rate of the USDT trading pairs.<br>For <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, it is the fee rate of crypto-margined contracts |
| maker         | String           | For <code>SPOT</code>/<code>MARGIN</code>, it is maker fee rate of the USDT trading pairs.<br>For <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, it is the fee rate of crypto-margined contracts |
| takerU        | String           | Taker fee rate of USDT-margined contracts, only applicable to <code>FUTURES</code>/<code>SWAP</code>                                                                                                          |
| makerU        | String           | Maker fee rate of USDT-margined contracts, only applicable to <code>FUTURES</code>/<code>SWAP</code>                                                                                                          |
| delivery      | String           | Delivery fee rate                                                                                                                                                                                             |
| exercise      | String           | Fee rate for exercising the option                                                                                                                                                                            |
| instType      | String           | Instrument type                                                                                                                                                                                               |
| takerUSDC     | String           | For <code>SPOT</code>/<code>MARGIN</code>, it is taker fee rate of the USDâ“ˆ&amp;Crypto trading pairs.<br>For <code>FUTURES</code>/<code>SWAP</code>, it is the fee rate of USDC-margined contracts            |
| makerUSDC     | String           | For <code>SPOT</code>/<code>MARGIN</code>, it is maker fee rate of the USDâ“ˆ&amp;Crypto trading pairs.<br>For <code>FUTURES</code>/<code>SWAP</code>, it is the fee rate of USDC-margined contracts            |
| ruleType      | String           | Trading rule types<br><code>normal</code>: normal trading<br><code>pre_market</code>: pre-market trading                                                                                                      |
| ts            | String           | Data return time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                      |
| category      | String           | Currency category. Note: this parameter is already deprecated                                                                                                                                                 |
| fiat          | Array of objects | Details of fiat fee rate                                                                                                                                                                                      |
| &gt; ccy      | String           | Fiat currency.                                                                                                                                                                                                |
| &gt; taker    | String           | Taker fee rate                                                                                                                                                                                                |
| &gt; maker    | String           | Maker fee rate                                                                                                                                                                                                |

Remarks:  
The fee rate like maker and taker: positive number, which means the rate of
rebate; negative number, which means the rate of commission.

USDâ“ˆ represent the stablecoin besides USDT

The Open API will not reflect zero-fee trading. For zero-fee pairs, please refer
to [https://www.okx.com/fees](https://www.okx.com/fees) .

---

### Get interest accrued data [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-interest-accrued-data "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-interest-accrued-data")

Get the interest accrued data for the past year

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/interest-accrued`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                       |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------- |
| type      | String | No       | Loan type<br><code>2</code>: Market loans<br>Default is <code>2</code>                                                                            |
| ccy       | String | No       | Loan currency, e.g. <code>BTC</code><br>Only applicable to <code>Market loans</code><br>Only applicable to<code>MARGIN</code>                     |
| instId    | String | No       | Instrument ID, e.g. <code>BTC-USDT</code><br>Only applicable to <code>Market loans</code>                                                         |
| mgnMode   | String | No       | Margin mode<br><code>cross</code><br><code>isolated</code><br>Only applicable to <code>Market loans</code>                                        |
| after     | String | No       | Pagination of data to return records earlier than the requested timestamp, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| before    | String | No       | Pagination of data to return records newer than the requested, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>             |
| limit     | String | No       | Number of results per request. The maximum is <code>100</code>. The default is <code>100</code>.                                                  |

#### Response Parameters

| Parameter        | Type   | Description                                                                                            |
| ---------------- | ------ | ------------------------------------------------------------------------------------------------------ |
| type             | String | Loan type<br><code>2</code>: Market loans                                                              |
| ccy              | String | Loan currency, e.g. <code>BTC</code>                                                                   |
| instId           | String | Instrument ID, e.g. <code>BTC-USDT</code><br>Only applicable to <code>Market loans</code>              |
| mgnMode          | String | Margin mode<br><code>cross</code><br><code>isolated</code>                                             |
| interest         | String | Interest                                                                                               |
| interestRate     | String | Interest rate (in hour)                                                                                |
| liab             | String | Liability                                                                                              |
| totalLiab        | String | Total liability for current account                                                                    |
| interestFreeLiab | String | Interest-free liability for current account                                                            |
| ts               | String | Timestamp for interest accrued, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |

---

### Get interest rate [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-interest-rate "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-interest-rate")

Get the user's current leveraged currency borrowing market interest rate

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/interest-rate`

#### Request Parameters

| **Parameters** | **Types** | **Required** | **Description**                 |
| -------------- | --------- | ------------ | ------------------------------- |
| ccy            | String    | No           | Currency, e.g. <code>BTC</code> |

#### Response Parameters

| Parameter    | Type   | Description          |
| ------------ | ------ | -------------------- |
| interestRate | String | hourly interest rate |
| ccy          | String | currency             |

---

### Set greeks (PA/BS) [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-greeks-pa-bs "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-greeks-pa-bs")

Set the display type of Greeks.

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-greeks`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                                                                     |
| ---------- | ------ | -------- | --------------------------------------------------------------------------------------------------------------- |
| greeksType | String | Yes      | Display type of Greeks.<br><code>PA</code>: Greeks in coins<br><code>BS</code>: Black-Scholes Greeks in dollars |

#### Response Parameters

| Parameter  | Type   | Description             |
| ---------- | ------ | ----------------------- |
| greeksType | String | Display type of Greeks. |

---

### Isolated margin trading settings [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-isolated-margin-trading-settings "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-isolated-margin-trading-settings")

You can set the currency margin and futures/perpetual Isolated margin trading
mode

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-isolated-mode`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                                                                                                                 |
| --------- | ------ | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| isoMode   | String | Yes      | Isolated margin trading settings<br><code>auto_transfers_ccy</code>: New auto transfers, enabling both base and quote currency as the margin for isolated margin trading. Only applicable to <code>MARGIN</code>.<br><code>automatic</code>: Auto transfers |
| type      | String | Yes      | Instrument type<br><code>MARGIN</code><br><code>CONTRACTS</code>                                                                                                                                                                                            |

When there are positions and pending orders in the current account, the margin
transfer mode from position to position cannot be adjusted.

#### Response Parameters

| Parameter | Type   | Description                                                                |
| --------- | ------ | -------------------------------------------------------------------------- |
| isoMode   | String | Isolated margin trading settings<br><code>automatic</code>: Auto transfers |

CONTRACTS  
Auto transfers: Automatically occupy and release the margin when opening and
closing positions

MARGIN  
Auto transfers: Automatically borrow and return coins when opening and closing
positions

---

### Get maximum withdrawals [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-maximum-withdrawals "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-maximum-withdrawals")

Retrieve the maximum transferable amount from trading account to funding
account. If no currency is specified, the transferable amount of all owned
currencies will be returned.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/max-withdrawal`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                   |
| --------- | ------ | -------- | ----------------------------------------------------------------------------------------------------------------------------- |
| ccy       | String | No       | Single currency or multiple currencies (no more than 20) separated with comma, e.g. <code>BTC</code> or <code>BTC,ETH</code>. |

#### Response Parameters

| **Parameter**     | **Type** | **Description**                                                                                                                                                       |
| ----------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ccy               | String   | Currency                                                                                                                                                              |
| maxWd             | String   | Max withdrawal (excluding borrowed assets under <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>)                              |
| maxWdEx           | String   | Max withdrawal (including borrowed assets under <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>)                              |
| spotOffsetMaxWd   | String   | Max withdrawal under Spot-Derivatives risk offset mode (excluding borrowed assets under <code>Portfolio margin</code>)<br>Applicable to <code>Portfolio margin</code> |
| spotOffsetMaxWdEx | String   | Max withdrawal under Spot-Derivatives risk offset mode (including borrowed assets under <code>Portfolio margin</code>)<br>Applicable to <code>Portfolio margin</code> |

---

### Get account risk state [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-account-risk-state "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-account-risk-state")

Only applicable to Portfolio margin account

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/risk-state`

#### Response Parameters

| **Parameters** | **Types**        | **Description**                                                                                                                                                    |
| -------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| atRisk         | Boolean          | Account risk status in auto-borrow mode<br>true: the account is currently in a specific risk state<br>false: the account is currently not in a specific risk state |
| atRiskIdx      | Array of strings | derivatives risk unit list                                                                                                                                         |
| atRiskMgn      | Array of strings | margin risk unit list                                                                                                                                              |
| ts             | String           | Unix timestamp format in milliseconds, e.g.<code>1597026383085</code>                                                                                              |

---

### Get borrow interest and limit [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-borrow-interest-and-limit "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-borrow-interest-and-limit")

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/interest-limits`

#### Request Parameters

| Parameter | Type   | Required | Description                                                            |
| --------- | ------ | -------- | ---------------------------------------------------------------------- |
| type      | String | No       | Loan type<br><code>2</code>: Market loans<br>Default is <code>2</code> |
| ccy       | String | No       | Loan currency, e.g. <code>BTC</code>                                   |

#### Response Parameters

| Parameter                      | Type             | Description                                                                                                                                                                                                                                                                            |
| ------------------------------ | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| debt                           | String           | Current debt in <code>USD</code>                                                                                                                                                                                                                                                       |
| interest                       | String           | Current interest in <code>USD</code>, the unit is <code>USD</code><br>Only applicable to <code>Market loans</code>                                                                                                                                                                     |
| nextDiscountTime               | String           | Next deduct time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                               |
| nextInterestTime               | String           | Next accrual time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                              |
| loanAlloc                      | String           | VIP Loan allocation for the current trading account<br>1. The unit is percent(%). Range is [0, 100]. Precision is 0.01%<br>2. If master account did not assign anything, then "0"<br>3. "" if shared between master and sub-account                                                    |
| records                        | Array of objects | Details for currencies                                                                                                                                                                                                                                                                 |
| &gt; ccy                       | String           | Loan currency, e.g. <code>BTC</code>                                                                                                                                                                                                                                                   |
| &gt; rate                      | String           | Current daily rate                                                                                                                                                                                                                                                                     |
| &gt; loanQuota                 | String           | Borrow limit of master account<br>If loan allocation has been assigned, then it is the borrow limit of the current trading account                                                                                                                                                     |
| &gt; surplusLmt                | String           | Available amount across all sub-accounts<br>If loan allocation has been assigned, then it is the available amount to borrow by the current trading account                                                                                                                             |
| &gt; usedLmt                   | String           | Borrowed amount for current account<br>If loan allocation has been assigned, then it is the borrowed amount by the current trading account                                                                                                                                             |
| &gt; interest                  | String           | Interest to be deducted<br>Only applicable to <code>Market loans</code>                                                                                                                                                                                                                |
| &gt; interestFreeLiab          | String           | Interest-free liability for current account                                                                                                                                                                                                                                            |
| &gt; potentialBorrowingAmt     | String           | Potential borrowing amount for current account                                                                                                                                                                                                                                         |
| &gt; surplusLmtDetails         | Object           | <del>The details of available amount across all sub-accounts<br>The value of <code>surplusLmt</code> is the minimum value within this array. It can help you judge the reason that <code>surplusLmt</code> is not enough.<br>Only applicable to <code>VIP loans</code></del>Deprecated |
| &gt;&gt; allAcctRemainingQuota | String           | <del>Total remaining quota for master account and sub-accounts </del>Deprecated                                                                                                                                                                                                        |
| &gt;&gt; curAcctRemainingQuota | String           | <del>The remaining quota for the current account.<br>Only applicable to the case in which the sub-account is assigned the loan allocation</del>Deprecated                                                                                                                              |
| &gt;&gt; platRemainingQuota    | String           | <del>Remaining quota for the platform.<br>The format like "600" will be returned when it is more than <code>curAcctRemainingQuota</code> or <code>allAcctRemainingQuota</code></del>Deprecated                                                                                         |
| &gt; posLoan                   | String           | <del>Frozen amount for current account (Within the locked quota)<br>Only applicable to <code>VIP loans</code></del>Deprecated                                                                                                                                                          |
| &gt; availLoan                 | String           | <del>Available amount for current account (Within the locked quota)<br>Only applicable to <code>VIP loans</code></del>Deprecated                                                                                                                                                       |
| &gt; usedLoan                  | String           | <del>Borrowed amount for current account<br>Only applicable to <code>VIP loans</code></del>Deprecated                                                                                                                                                                                  |
| &gt; avgRate                   | String           | <del>Average (hour) interest of already borrowed coin<br>only applicable to <code>VIP loans</code></del>Deprecated                                                                                                                                                                     |

---

### Manual borrow / repay [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-manual-borrow-repay "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-manual-borrow-repay")

Only applicable to `Spot mode` (enabled borrowing)

#### Rate Limit: 1 request per 3 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/spot-manual-borrow-repay`

#### Request Parameters

| Parameter | Type   | Required | Description                                       |
| --------- | ------ | -------- | ------------------------------------------------- |
| ccy       | String | Yes      | Currency, e.g. <code>BTC</code>                   |
| side      | String | Yes      | Side<br><code>borrow</code><br><code>repay</code> |
| amt       | String | Yes      | Amount                                            |

#### Response Parameters

| Parameter | Type   | Description                                       |
| --------- | ------ | ------------------------------------------------- |
| ccy       | String | Currency, e.g. <code>BTC</code>                   |
| side      | String | Side<br><code>borrow</code><br><code>repay</code> |
| amt       | String | Actual amount                                     |

---

### Set auto repay [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-auto-repay "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-auto-repay")

Only applicable to `Spot mode` (enabled borrowing)

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-auto-repay`

#### Request Parameters

| Parameter | Type    | Required | Description                                                                                                                                         |
| --------- | ------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| autoRepay | Boolean | Yes      | Whether auto repay is allowed or not under <code>Spot mode</code><br><code>true</code>: Enable auto repay<br><code>false</code>: Disable auto repay |

#### Response Parameters

| Parameter | Type    | Description                                                                                                                                         |
| --------- | ------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| autoRepay | Boolean | Whether auto repay is allowed or not under <code>Spot mode</code><br><code>true</code>: Enable auto repay<br><code>false</code>: Disable auto repay |

---

### Get borrow/repay history [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-borrow-repay-history "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-borrow-repay-history")

Retrieve the borrow/repay history under `Spot mode`

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/spot-borrow-repay-history`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                        |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ccy       | String | No       | Currency, e.g. <code>BTC</code>                                                                                                                                    |
| type      | String | No       | Event type<br><code>auto_borrow</code><br><code>auto_repay</code><br><code>manual_borrow</code><br><code>manual_repay</code>                                       |
| after     | String | No       | Pagination of data to return records earlier than the requested <code>ts</code> (included), Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| before    | String | No       | Pagination of data to return records newer than the requested <code>ts</code>(included), Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>    |
| limit     | String | No       | Number of results per request. The maximum is 100. The default is 100.                                                                                             |

#### Response Parameters

| Parameter   | Type   | Description                                                                                                                  |
| ----------- | ------ | ---------------------------------------------------------------------------------------------------------------------------- |
| ccy         | String | Currency, e.g. <code>BTC</code>                                                                                              |
| type        | String | Event type<br><code>auto_borrow</code><br><code>auto_repay</code><br><code>manual_borrow</code><br><code>manual_repay</code> |
| amt         | String | Amount                                                                                                                       |
| accBorrowed | String | Accumulated borrow amount                                                                                                    |
| ts          | String | Timestamp for the event, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                              |

---

### Position builder (new) [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-position-builder-new "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-position-builder-new")

Calculates portfolio margin information for virtual position/assets or current
position of the user.  
You can add up to 200 virtual positions and 200 virtual assets in one request.

#### Rate Limit: 2 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`POST /api/v5/account/position-builder`

#### Request Parameters

| Parameter        | Type             | Required | Description                                                                                                                                                                                                                 |
| ---------------- | ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| acctLv           | String           | No       | Switch to account mode<br><code>3</code>: Multi-currency margin<br><code>4</code>: Portfolio margin<br>The default is <code>4</code>                                                                                        |
| inclRealPosAndEq | Boolean          | No       | Whether import existing positions and assets<br>The default is <code>true</code>                                                                                                                                            |
| lever            | String           | No       | Cross margin leverage in Multi-currency margin mode, the default is <code>1</code>.<br>If the allowed leverage is exceeded, set according to the maximum leverage.<br>Only applicable to <code>Multi-currency margin</code> |
| simPos           | Array of objects | No       | List of simulated positions                                                                                                                                                                                                 |
| &gt; instId      | String           | Yes      | Instrument ID, e.g. <code>BTC-USDT-SWAP</code><br>Applicable to <code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>                                                                                                  |
| &gt; pos         | String           | Yes      | Quantity of positions                                                                                                                                                                                                       |
| &gt; avgPx       | String           | Yes      | Average open price                                                                                                                                                                                                          |
| &gt; lever       | String           | No       | leverage<br>Only applicable to <code>Multi-currency margin</code><br>The default is <code>1</code><br>If the allowed leverage is exceeded, set according to the maximum leverage.                                           |
| simAsset         | Array of objects | No       | List of simulated assets<br>When <code>inclRealPosAndEq</code> is <code>true</code>, only real assets are considered and virtual assets are ignored                                                                         |
| &gt; ccy         | String           | Yes      | Currency, e.g. <code>BTC</code>                                                                                                                                                                                             |
| &gt; amt         | String           | Yes      | Currency amount                                                                                                                                                                                                             |
| greeksType       | String           | No       | Greeks type<br><code>BS</code>: Black-Scholes Model Greeks<br><code>PA</code>: Crypto Greeks<br><code>CASH</code>: Empirical Greeks<br>The default is <code>BS</code>                                                       |
| idxVol           | String           | No       | Price volatility percentage, indicating what this price change means towards each of the values. In decimal form, range -0.99 ~ 1, in 0.01 increment.<br>Default 0                                                          |

#### Response Parameters

| **Parameters**        | **Types**        | **Description**                                                                                                                                                                                                                                                                                                                                                                                    |
| --------------------- | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| eq                    | String           | Adjusted equity (<code>USD</code>) for the account                                                                                                                                                                                                                                                                                                                                                 |
| totalMmr              | String           | Total MMR (<code>USD</code>) for the account                                                                                                                                                                                                                                                                                                                                                       |
| totalImr              | String           | Total IMR (<code>USD</code>) for the account                                                                                                                                                                                                                                                                                                                                                       |
| borrowMmr             | String           | Borrow MMR (<code>USD</code>) for the account                                                                                                                                                                                                                                                                                                                                                      |
| derivMmr              | String           | Derivatives MMR (<code>USD</code>) for the account                                                                                                                                                                                                                                                                                                                                                 |
| marginRatio           | String           | Cross maintenance margin ratio for the account                                                                                                                                                                                                                                                                                                                                                     |
| upl                   | String           | UPL for the account                                                                                                                                                                                                                                                                                                                                                                                |
| acctLever             | String           | Leverage of the account                                                                                                                                                                                                                                                                                                                                                                            |
| ts                    | String           | Update time for the account, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                |
| assets                | Array of objects | Asset info                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; ccy              | String           | Currency, e.g. <code>BTC</code>                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; availEq          | String           | Currency equity                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; spotInUse        | String           | Spot in use                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; borrowMmr        | String           | <del>Borrowing MMR (<code>USD</code>)</del>(Deprecated)                                                                                                                                                                                                                                                                                                                                            |
| &gt; borrowImr        | String           | Borrowing IMR (<code>USD</code>)                                                                                                                                                                                                                                                                                                                                                                   |
| riskUnitData          | Array of objects | Risk unit info                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; riskUnit         | String           | Risk unit, e.g. <code>BTC</code>                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; mmrBf            | String           | Risk unit MMR before volatility (<code>USD</code>)<br>Return "" if users don't pass in idxVol                                                                                                                                                                                                                                                                                                      |
| &gt; mmr              | String           | Risk unit MMR (<code>USD</code>)                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; imrBf            | String           | Risk unit IMR before volatility (<code>USD</code>)<br>Return "" if users don't pass in idxVol                                                                                                                                                                                                                                                                                                      |
| &gt; imr              | String           | Risk unit IMR (<code>USD</code>)                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; upl              | String           | Risk unit UPL (<code>USD</code>)                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; mr1              | String           | Stress testing value of spot and volatility (all derivatives, and spot trading in spot-derivatives risk offset mode)                                                                                                                                                                                                                                                                               |
| &gt; mr2              | String           | Stress testing value of time value of money (TVM) (for options)                                                                                                                                                                                                                                                                                                                                    |
| &gt; mr3              | String           | Stress testing value of volatility span (for options)                                                                                                                                                                                                                                                                                                                                              |
| &gt; mr4              | String           | Stress testing value of basis (for all derivatives)                                                                                                                                                                                                                                                                                                                                                |
| &gt; mr5              | String           | Stress testing value of interest rate risk (for options)                                                                                                                                                                                                                                                                                                                                           |
| &gt; mr6              | String           | Stress testing value of extremely volatile markets (for all derivatives, and spot trading in spot-derivatives risk offset mode)                                                                                                                                                                                                                                                                    |
| &gt; mr7              | String           | Stress testing value of position reduction cost (for all derivatives)                                                                                                                                                                                                                                                                                                                              |
| &gt; mr8              | String           | Borrowing MMR/IMR                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; mr9              | String           | USDT-USDC-USD hedge risk                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; mr1Scenarios     | Object           | MR1 scenario analysis                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; volShockDown | Object           | When volatility shocks down, the P&amp;L of stress tests under different price volatility ratios, format in {<code>change</code>: <code>value</code>,...}<br><code>change</code>: price volatility ratio (in percentage), e.g. <code>0.01</code> representing <code>1%</code><br><code>value</code>: P&amp;L under stress tests, measured in <code>USD</code><br>e.g. {"-0.15":"-2333.23", ...}    |
| &gt;&gt; volSame      | Object           | When volatility keeps the same, the P&amp;L of stress tests under different price volatility ratios, format in {<code>change</code>: <code>value</code>,...}<br><code>change</code>: price volatility ratio (in percentage), e.g. <code>0.01</code> representing <code>1%</code><br><code>value</code>: P&amp;L under stress tests, measured in <code>USD</code><br>e.g. {"-0.15":"-2333.23", ...} |
| &gt;&gt; volShockUp   | Object           | When volatility shocks up, the P&amp;L of stress tests under different price volatility ratios, format in {<code>change</code>: <code>value</code>,...}<br><code>change</code>: price volatility ratio (in percentage), e.g. <code>0.01</code> representing <code>1%</code><br><code>value</code>: P&amp;L under stress tests, measured in <code>USD</code><br>e.g. {"-0.15":"-2333.23", ...}      |
| &gt; mr1FinalResult   | Object           | MR1 worst-case scenario                                                                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; pnl          | String           | MR1 stress P&amp;L (<code>USD</code>)                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; spotShock    | String           | MR1 worst-case scenario spot shock (in percentage), e.g. <code>0.01</code> representing <code>1%</code>                                                                                                                                                                                                                                                                                            |
| &gt;&gt; volShock     | String           | MR1 worst-case scenario volatility shock<br><code>down</code>: volatility shock down<br><code>unchange</code>: volatility unchanged<br><code>up</code>: volatility shock up                                                                                                                                                                                                                        |
| &gt; mr6FinalResult   | Object           | MR6 scenario analysis                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; pnl          | String           | MR6 stress P&amp;L (<code>USD</code>)                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; spotShock    | String           | MR6 worst-case scenario spot shock (in percentage), e.g. <code>0.01</code> representing <code>1%</code>                                                                                                                                                                                                                                                                                            |
| &gt; delta            | String           | (Risk unit) The rate of change in the contractâ€™s price with respect to changes in the underlying assetâ€™s price.<br>When the price of the underlying changes by x, the optionâ€™s price changes by delta multiplied by x.                                                                                                                                                                             |
| &gt; gamma            | String           | (Risk unit) The rate of change in the delta with respect to changes in the underlying price.<br>When the price of the underlying changes by x%, the optionâ€™s delta changes by gamma multiplied by x%.                                                                                                                                                                                              |
| &gt; theta            | String           | (Risk unit) The change in contract price each day closer to expiry.                                                                                                                                                                                                                                                                                                                                |
| &gt; vega             | String           | (Risk unit) The change of the option price when underlying volatility increases by 1%.                                                                                                                                                                                                                                                                                                             |
| &gt; portfolios       | Array of objects | Portfolios info<br>Only applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                |
| &gt;&gt; instId       | String           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>                                                                                                                                                                                                                                                                                                                                                     |
| &gt;&gt; instType     | String           | Instrument type<br><code>SPOT</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                           |
| &gt;&gt; amt          | String           | When <code>instType</code> is <code>SPOT</code>, it represents spot in use.<br>When <code>instType</code> is <code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>, it represents position amount.                                                                                                                                                                                            |
| &gt;&gt; posSide      | String           | Position side<br><code>long</code><br><code>short</code><br><code>net</code>                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; avgPx        | String           | Average open price                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; markPxBf     | String           | Mark price before price volatility<br>Return "" if users don't pass in idxVol                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; markPx       | String           | Mark price                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; floatPnl     | String           | Float P&amp;L                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; notionalUsd  | String           | Notional in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; delta        | String           | When <code>instType</code> is <code>SPOT</code>, it represents asset amount.<br>When <code>instType</code> is <code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>, it represents the rate of change in the contractâ€™s price with respect to changes in the underlying assetâ€™s price (by Instrument ID).                                                                                     |
| &gt;&gt; gamma        | String           | The rate of change in the delta with respect to changes in the underlying price (by Instrument ID).<br>When <code>instType</code> is <code>SPOT</code>, it will return "".                                                                                                                                                                                                                         |
| &gt;&gt; theta        | String           | The change in contract price each day closer to expiry (by Instrument ID).<br>When <code>instType</code> is <code>SPOT</code>, it will return "".                                                                                                                                                                                                                                                  |
| &gt;&gt; vega         | String           | The change of the option price when underlying volatility increases by 1% (by Instrument ID).<br>When <code>instType</code> is <code>SPOT</code>, it will return "".                                                                                                                                                                                                                               |
| &gt;&gt; isRealPos    | Boolean          | Whether it is a real position<br>If <code>instType</code> is <code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>, it is a valid parameter, else it will return <code>false</code>                                                                                                                                                                                                           |
| positions             | Array of objects | Position info<br>Only applicable to <code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                             |
| &gt; instId           | String           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>                                                                                                                                                                                                                                                                                                                                                     |
| &gt; instType         | String           | Instrument type<br><code>SPOT</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                           |
| &gt; amt              | String           | When <code>instType</code> is <code>SPOT</code>, it represents spot in use.<br>When <code>instType</code> is <code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>, it represents position amount.                                                                                                                                                                                            |
| &gt; posSide          | String           | Position side<br><code>long</code><br><code>short</code><br><code>net</code>                                                                                                                                                                                                                                                                                                                       |
| &gt; avgPx            | String           | Average open price                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; markPxBf         | String           | Mark price before price volatility<br>Return "" if users don't pass in idxVol                                                                                                                                                                                                                                                                                                                      |
| &gt; markPx           | String           | Mark price                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; floatPnl         | String           | Float P&amp;L                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; imrBf            | String           | IMR before price volatility                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; imr              | String           | IMR                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; mgnRatio         | String           | Maintenance margin ratio                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; lever            | String           | Leverage                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; notionalUsd      | String           | Notional in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; isRealPos        | Boolean          | Whether it is a real position<br>If <code>instType</code> is <code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>, it is a valid parameter, else it will return <code>false</code>                                                                                                                                                                                                           |

---

### Position builder trend graph [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-position-builder-trend-graph "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-position-builder-trend-graph")

#### Rate limit: 1 request per 5 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`POST /api/v5/account/position-builder-graph`

#### Request Parameters

| **Parameter**    | **Type**         | **Required** | **Description**                                                                                                                                                                                                             |
| ---------------- | ---------------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| inclRealPosAndEq | Boolean          | No           | Whether to import existing positions and assets<br>The default is <code>true</code>                                                                                                                                         |
| simPos           | Array of objects | No           | List of simulated positions                                                                                                                                                                                                 |
| &gt; instId      | String           | Yes          | Instrument ID, e.g. <code>BTC-USDT-SWAP</code><br>Applicable to <code>SWAP</code>/<code>FUTURES</code>/<code>OPTION</code>                                                                                                  |
| &gt; pos         | String           | Yes          | Quantity of positions                                                                                                                                                                                                       |
| &gt; avgPx       | String           | Yes          | Average open price                                                                                                                                                                                                          |
| &gt; lever       | String           | No           | leverage<br>Only applicable to <code>Multi-currency margin</code><br>The default is <code>1</code><br>If the allowed leverage is exceeded, set according to the maximum leverage.                                           |
| simAsset         | Array of objects | No           | List of simulated assets<br>When <code>inclRealPosAndEq</code> is <code>true</code>, only real assets are considered and virtual assets are ignored                                                                         |
| &gt; ccy         | String           | Yes          | Currency, e.g. <code>BTC</code>                                                                                                                                                                                             |
| &gt; amt         | String           | Yes          | Currency amount                                                                                                                                                                                                             |
| type             | String           | Yes          | Trending graph type<br><code>mmr</code>                                                                                                                                                                                     |
| mmrConfig        | Object           | Yes          | MMR configuration                                                                                                                                                                                                           |
| &gt; acctLv      | String           | No           | Switch to account mode<br><code>3</code>: Multi-currency margin<br><code>4</code>: Portfolio margin                                                                                                                         |
| &gt; lever       | String           | No           | Cross margin leverage in Multi-currency margin mode, the default is <code>1</code>.<br>If the allowed leverage is exceeded, set according to the maximum leverage.<br>Only applicable to <code>Multi-currency margin</code> |

#### Response Parameters

| **Parameters**   | **Types** | **Description**                                                |
| ---------------- | --------- | -------------------------------------------------------------- |
| type             | String    | Graph type<br><code>mmr</code>                                 |
| mmrData          | Array     | Array of mmrData<br>Return data in shockFactor ascending order |
| &gt; shockFactor | String    | Price change ratio, data range -1 to 1.                        |
| &gt; mmr         | String    | Mmr at specific price                                          |
| &gt; mmrRatio    | String    | Maintenance margin ratio at specific price                     |

---

### Set risk offset amount [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-risk-offset-amount "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-risk-offset-amount")

Set risk offset amount. This does not represent the actual spot risk offset
amount. Only applicable to Portfolio Margin Mode.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-riskOffset-amt`

#### Request Parameters

| Parameter      | Type   | Required | Description                              |
| -------------- | ------ | -------- | ---------------------------------------- |
| ccy            | String | Yes      | Currency                                 |
| clSpotInUseAmt | String | Yes      | Spot risk offset amount defined by users |

#### Response Parameters

| Parameters     | Types  | Description                              |
| -------------- | ------ | ---------------------------------------- |
| ccy            | String | Currency                                 |
| clSpotInUseAmt | String | Spot risk offset amount defined by users |

---

### Get Greeks [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-greeks "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-greeks")

Retrieve a greeks list of all assets in the account.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/greeks`

#### Request Parameters

| **Parameters** | **Types** | **Required** | **Description**                         |
| -------------- | --------- | ------------ | --------------------------------------- |
| ccy            | String    | No           | Single currency, e.g. <code>BTC</code>. |

#### Response Parameters

| **Parameters** | **Types** | **Description**                                                                   |
| -------------- | --------- | --------------------------------------------------------------------------------- |
| deltaBS        | String    | delta: Black-Scholes Greeks in dollars                                            |
| deltaPA        | String    | delta: Greeks in coins                                                            |
| gammaBS        | String    | gamma: Black-Scholes Greeks in dollars, only applicable to OPTION                 |
| gammaPA        | String    | gamma: Greeks in coins, only applicable to OPTION                                 |
| thetaBS        | String    | theta: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>    |
| thetaPA        | String    | theta: Greeks in coins, only applicable to <code>OPTION</code>                    |
| vegaBS         | String    | vega: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>     |
| vegaPA         | String    | vegaï¼šGreeks in coins, only applicable to <code>OPTION</code>                     |
| ccy            | String    | Currency                                                                          |
| ts             | String    | Time of getting Greeks, Unix timestamp format in milliseconds, e.g. 1597026383085 |

---

### Get PM position limitation [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-pm-position-limitation "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-pm-position-limitation")

Retrieve cross position limitation of SWAP/FUTURES/OPTION under Portfolio margin
mode.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/position-tiers`

#### Request Parameters

| **Parameter** | **Type** | **Required** | **Description**                                                                        |
| ------------- | -------- | ------------ | -------------------------------------------------------------------------------------- |
| instType      | String   | Yes          | Instrument type<br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>    |
| instFamily    | String   | Yes          | Single instrument family or instrument families (no more than 5) separated with comma. |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| uly           | String   | Underlying<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| instFamily    | String   | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| maxSz         | String   | Max number of positions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| posType       | String   | Limitation of position type, only applicable to cross <code>OPTION</code> under portfolio margin mode<br><code>1</code>: Contracts of pending orders and open positions for all derivatives instruments. <code>2</code>: Contracts of pending orders for all derivatives instruments. <code>3</code>: Pending orders for all derivatives instruments. <code>4</code>: Contracts of pending orders and open positions for all derivatives instruments on the same side. <code>5</code>: Pending orders for one derivatives instrument. <code>6</code>: Contracts of pending orders and open positions for one derivatives instrument. <code>7</code>: Contracts of one pending order. |

---

### Activate option [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-activate-option "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-activate-option")

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/activate-option`

#### Request Parameters

None

#### Response Parameters

| Parameter | Type   | Description     |
| --------- | ------ | --------------- |
| ts        | String | Activation time |

---

### Set auto loan [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-auto-loan "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-auto-loan")

Only applicable to `Multi-currency margin` and `Portfolio margin`

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-auto-loan`

#### Request Parameters

| Parameter | Type    | Required | Description                                                                                                                       |
| --------- | ------- | -------- | --------------------------------------------------------------------------------------------------------------------------------- |
| autoLoan  | Boolean | No       | Whether to automatically make loans<br>Valid values are <code>true</code>, <code>false</code><br>The default is <code>true</code> |

#### Response Parameters

| Parameter | Type    | Description                         |
| --------- | ------- | ----------------------------------- |
| autoLoan  | Boolean | Whether to automatically make loans |

---

### Preset account mode switch [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-preset-account-mode-switch "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-preset-account-mode-switch")

Pre-set the required information for account mode switching. When switching from
`Portfolio margin mode` back to `Futures mode` / `Multi-currency margin mode`,
and if there are existing cross-margin contract positions, it is mandatory to
pre-set leverage.

If the user does not follow the required settings, they will receive an error
message during the pre-check or when setting the account mode.

#### Rate limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/account-level-switch-preset`

#### Request parameters

| **Parameter**  | **Type** | **Required** | **Description**                                                                                                                                                                                                                                                                                                                                                |
| -------------- | -------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| acctLv         | String   | Yes          | Account mode<br><code>2</code>: Futures mode<br><code>3</code>: Multi-currency margin code<br><code>4</code>: Portfolio margin mode                                                                                                                                                                                                                            |
| lever          | String   | Optional     | Leverage<br>Required when switching from Portfolio margin mode to <code>Futures mode</code> or <code>Multi-currency margin mode</code>, and the user holds cross-margin positions.                                                                                                                                                                             |
| riskOffsetType | String   | Optional     | <del>Risk offset type<br><code>1</code>: Spot-derivatives (USDT) risk offset<br><code>2</code>: Spot-derivatives (Crypto) risk offset<br><code>3</code>: Derivatives only mode<br><code>4</code>: Spot-derivatives (USDC) risk offset<br>Applicable when switching from Futures mode or Multi-currency margin mode to Portfolio margin mode.</del>(Deprecated) |

#### Response parameters

| **Parameter**  | **Type** | **Description**                                         |
| -------------- | -------- | ------------------------------------------------------- |
| curAcctLv      | String   | Current account mode                                    |
| acctLv         | String   | Account mode after switch                               |
| lever          | String   | The leverage user preset for cross-margin positions     |
| riskOffsetType | String   | <del>The risk offset type user preset</del>(Deprecated) |

lever: When switching from Portfolio margin mode to Futures mode or
Multi-currency margin mode, if the user holds cross-margin positions, this
parameter must be provided; otherwise, error code 50014 will occur. The maximum
allowable value for this parameter is determined by the smallest maximum
leverage based on current position sizes under the target mode. For example, if
a user in PM mode holds three cross-margin positions, with maximum allowable
leverage of 20x, 50x, and 100x respectively, the maximum leverage it can set is
20x.

---

### Precheck account mode switch [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-precheck-account-mode-switch "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-precheck-account-mode-switch")

Retrieve precheck information for account mode switching.

#### Rate limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/set-account-switch-precheck`

#### Request parameters

| **Parameter** | **Type** | **Required** | **Description**                                                                                                                                                  |
| ------------- | -------- | ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| acctLv        | String   | Yes          | Account mode<br><code>1</code>: Spot mode<br><code>2</code>: Futures mode<br><code>3</code>: Multi-currency margin code<br><code>4</code>: Portfolio margin mode |

#### Response parameters

| **Parameter**       | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ------------------- | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| sCode               | String           | Check code<br><code>0</code>: pass all checks<br><code>1</code>: unmatched information<br><code>3</code>: leverage setting is not finished<br><code>4</code>: position tier or margin check is not passed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| curAcctLv           | String           | Account mode<br><code>1</code>: Spot mode<br><code>2</code>: Futures mode<br><code>3</code>: Multi-currency margin code<br><code>4</code>: Portfolio margin mode<br>Applicable to all scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| acctLv              | String           | Account mode<br><code>1</code>: Spot mode<br><code>2</code>: Futures mode<br><code>3</code>: Multi-currency margin code<br><code>4</code>: Portfolio margin mode<br>Applicable to all scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| riskOffsetType      | String           | <del>Risk offset type<br><code>1</code>: Spot-derivatives (USDT) risk offset<br><code>2</code>: Spot-derivatives (Crypto) risk offset<br><code>3</code>: Derivatives only mode<br><code>4</code>: Spot-derivatives (USDC) risk offset<br>Applicable when acctLv is <code>4</code>, return "" for other scenarios<br>If the user preset before, it will use the user's specified value; if not, the default value <code>3</code> will be applied</del>(Deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| unmatchedInfoCheck  | Array of objects | Unmatched information list<br>Applicable when sCode is <code>1</code>, indicating there is unmatched information; return [] for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; type       | String           | Unmatched information type<br><code>asset_validation</code>: asset validation<br><code>pending_orders</code>: order book pending orders<br><code>pending_algos</code>: pending algo orders and trading bots, such as iceberg, recurring buy and twap<br><code>isolated_margin</code>: isolated margin (quick margin and manual transfers)<br><code>isolated_contract</code>: isolated contract (manual transfers)<br><code>contract_long_short</code>: contract positions in hedge mode<br><code>cross_margin</code>: cross margin positions<br><code>cross_option_buyer</code>: cross options buyer<br><code>isolated_option</code>: isolated options (only applicable to spot mode)<br><code>growth_fund</code>: positions with trial funds<br><code>all_positions</code>: all positions<br><code>spot_lead_copy_only_simple_single</code>: copy trader and customize lead trader can only use spot mode or Futures mode<br><code>stop_spot_custom</code>: spot customize copy trading<br><code>stop_futures_custom</code>: contract customize copy trading<br><code>lead_portfolio</code>: lead trader can not switch to portfolio margin mode<br><code>futures_smart_sync</code>: you can not switch to spot mode when having smart contract sync<br><code>vip_fixed_loan</code>: vip loan<br><code>repay_borrowings</code>: borrowings<br><code>compliance_restriction</code>: due to compliance restrictions, margin trading services are unavailable<br><code>compliance_kyc2</code>: Due to compliance restrictions, margin trading services are unavailable. If you are not a resident of this region, please complete kyc2 identity verification. |
| &gt;&gt; totalAsset | String           | Total assets<br>Only applicable when type is <code>asset_validation</code>, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; posList    | Array of strings | Unmatched position list (posId)<br>Applicable when type is related to positions, return [] for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| posList             | Array of objects | Cross margin contract position list<br>Applicable when curAcctLv is <code>4</code>, acctLv is <code>2/3</code> and user has cross margin contract positions<br>Applicable when sCode is <code>0/3/4</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; posId          | String           | Position ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; lever          | String           | Leverage of cross margin contract positions after switch                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| posTierCheck        | Array of objects | Cross margin contract positions that don't pass the position tier check<br>Only applicable when sCode is <code>4</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; instFamily     | String           | Instrument family                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; instType       | String           | Instrument type<br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; pos            | String           | Quantity of position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; lever          | String           | Leverage                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; maxSz          | String           | If acctLv is <code>2/3</code>, it refers to the maximum position size allowed at the current leverage. If acctLv is <code>4</code>, it refers to the maximum position limit for cross-margin positions under the PM mode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| mgnBf               | Object           | The margin related information before switching account mode<br>Applicable when sCode is <code>0/4</code>, return null for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; acctAvailEq    | String           | Account available equity in USD<br>Applicable when curAcctLv is <code>3/4</code>, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; mgnRatio       | String           | Maintenance Margin ratio in USD<br>Applicable when curAcctLv is <code>3/4</code>, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; details        | Array of objects | Detailed information<br>Only applicable when curAcctLv is <code>2</code>, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt;&gt; ccy        | String           | Currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; availEq    | String           | Available equity of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt;&gt; mgnRatio   | String           | Maintenance margin ratio of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| mgnAft              | Object           | The margin related information after switching account mode<br>Applicable when sCode is <code>0/4</code>, return null for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; acctAvailEq    | String           | Account available equity in USD<br>Applicable when acctLv is <code>3/4</code>, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; mgnRatio       | String           | Maintenance margin ratio in USD<br>Applicable when acctLv is <code>3/4</code>, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; details        | Array of objects | Detailed information<br>Only applicable when acctLv is <code>2</code>, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; ccy        | String           | Currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; availEq    | String           | Available equity of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt;&gt; mgnRatio   | String           | Maintenance margin ratio of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

---

### Set account mode [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-account-mode "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-account-mode")

You need to set on the Web/App for the first set of every account mode. If users
plan to switch account modes while holding positions, they should first call the
preset endpoint to conduct necessary settings, then call the precheck endpoint
to get unmatched information, margin check, and other related information, and
finally call the account mode switch endpoint to switch account modes.

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-account-level`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                      |
| --------- | ------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| acctLv    | String | Yes      | Account mode<br><code>1</code>: Spot mode<br><code>2</code>: Futures mode<br><code>3</code>: Multi-currency margin code<br><code>4</code>: Portfolio margin mode |

#### Response Parameters

| Parameter | Type   | Description  |
| --------- | ------ | ------------ |
| acctLv    | String | Account mode |

---

### Set collateral assets [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-collateral-assets "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-collateral-assets")

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/set-collateral-assets`

#### Request Parameters

| Parameter         | Type             | Required    | Description                                                                                                                               |
| ----------------- | ---------------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| type              | String           | true        | Type<br><code>all</code><br><code>custom</code>                                                                                           |
| collateralEnabled | Boolean          | true        | Whether or not set the assets to be collateral<br><code>true</code>: Set to be collateral<br><code>false</code>: Set to be non-collateral |
| ccyList           | Array of strings | conditional | Currency list, e.g. ["BTC","ETH"]<br>If type=<code>custom</code>, the parameter is required.                                              |

#### Response Parameters

| Parameter         | Type             | Description                                                                                                                               |
| ----------------- | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| type              | String           | Type<br><code>all</code><br><code>custom</code>                                                                                           |
| collateralEnabled | Boolean          | Whether or not set the assets to be collateral<br><code>true</code>: Set to be collateral<br><code>false</code>: Set to be non-collateral |
| ccyList           | Array of strings | Currency list, e.g. ["BTC","ETH"]                                                                                                         |

---

### Get collateral assets [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-collateral-assets "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-collateral-assets")

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/collateral-assets`

#### Request Parameters

| **Parameters**    | **Types** | **Required** | **Description**                                                                                         |
| ----------------- | --------- | ------------ | ------------------------------------------------------------------------------------------------------- |
| ccy               | String    | No           | Single currency or multiple currencies (no more than 20) separated with comma, e.g. "BTC" or "BTC,ETH". |
| collateralEnabled | Boolean   | No           | Whether or not to be a collateral asset                                                                 |

#### Response Parameters

| **Parameter**     | **Type** | **Description**                         |
| ----------------- | -------- | --------------------------------------- |
| ccy               | String   | Currency, e.g. <code>BTC</code>         |
| collateralEnabled | Boolean  | Whether or not to be a collateral asset |

---

### Reset MMP Status [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-reset-mmp-status "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-reset-mmp-status")

You can unfreeze by this endpoint once MMP is triggered.

Only applicable to Option in Portfolio Margin mode, and MMP privilege is
required.

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/mmp-reset`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                      |
| ---------- | ------ | -------- | ---------------------------------------------------------------- |
| instType   | String | No       | Instrument type<br><code>OPTION</code><br>The default is `OPTION |
| instFamily | String | Yes      | Instrument family                                                |

#### Response Parameters

| Parameter | Type    | Description                                                 |
| --------- | ------- | ----------------------------------------------------------- |
| result    | Boolean | Result of the request <code>true</code>, <code>false</code> |

---

### Set MMP [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-mmp "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-mmp")

This endpoint is used to set MMP configure

Only applicable to Option in Portfolio Margin mode, and MMP privilege is
required.

What is MMP?  
Market Maker Protection (MMP) is an automated mechanism for market makers to
pull their quotes when their executions exceed a certain threshold(\`qtyLimit\`)
within a certain time frame(\`timeInterval\`). Once mmp is triggered, any
pre-existing mmp pending orders(\`mmp\` and \`mmp_and_post_only\` orders) will
be automatically canceled, and new orders tagged as MMP will be rejected for a
specific duration(\`frozenInterval\`), or until manual reset by makers.

How to enable MMP?  
Please send an email to institutional@okx.com or contact your business
development (BD) manager to apply for MMP. The initial threshold will be upon
your request.

#### Rate Limit: 2 requests per 10 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/account/mmp-config`

#### Request Parameters

| Parameter      | Type   | Required | Description                                                                                                    |
| -------------- | ------ | -------- | -------------------------------------------------------------------------------------------------------------- |
| instFamily     | String | Yes      | Instrument family                                                                                              |
| timeInterval   | String | Yes      | Time window (ms). MMP interval where monitoring is done<br>"0" means disable MMP                               |
| frozenInterval | String | Yes      | Frozen period (ms).<br>"0" means the trade will remain frozen until you request "Reset MMP Status" to unfrozen |
| qtyLimit       | String | Yes      | Trade qty limit in number of contracts<br>Must be &gt; 0                                                       |

#### Response Parameters

| Parameter      | Type   | Description                                             |
| -------------- | ------ | ------------------------------------------------------- |
| instFamily     | String | Instrument family                                       |
| timeInterval   | String | Time window (ms). MMP interval where monitoring is done |
| frozenInterval | String | Frozen period (ms).                                     |
| qtyLimit       | String | Trade qty limit in number of contracts                  |

---

### GET MMP Config [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-mmp-config "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-mmp-config")

This endpoint is used to get MMP configure information

Only applicable to Option in Portfolio Margin mode, and MMP privilege is
required.

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/account/mmp-config`

#### Request Parameters

| Parameter  | Type   | Required | Description       |
| ---------- | ------ | -------- | ----------------- |
| instFamily | String | No       | Instrument Family |

#### Response Parameters

| **Parameter**  | **Type** | **Description**                                                                                                                      |
| -------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------ |
| instFamily     | String   | Instrument Family                                                                                                                    |
| mmpFrozen      | Boolean  | Whether MMP is currently triggered. <code>true</code> or <code>false</code>                                                          |
| mmpFrozenUntil | String   | If frozenInterval is configured and mmpFrozen = True, it is the time interval (in ms) when MMP is no longer triggered, otherwise "". |
| timeInterval   | String   | Time window (ms). MMP interval where monitoring is done                                                                              |
| frozenInterval | String   | Frozen period (ms). If it is "0", the trade will remain frozen until manually reset and <code>mmpFrozenUntil</code> will be "".      |
| qtyLimit       | String   | Trade qty limit in number of contracts                                                                                               |

---

### Move positions [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-move-positions "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-move-positions")

Only applicable to users with a trading level greater than or equal to VIP5, and
can only be called through the API Key of the master account. Users can check
their trading level through the fee details table on the
[My trading fees](https://www.okx.com/balance/fee) page.

To move positions between different accounts under the same master account. Each
source account can trigger up to fifteen move position requests every 24 hours.
There is no limitation to the destination account to receive positions. Refer to
the "Things to note" part for more details.

#### Rate limit: 1 request per second

#### Rate limit rule: Master account User ID

#### HTTP Request

`POST /api/v5/account/move-positions`

#### Request parameters

| **Parameter**   | **Type**         | **Required** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| --------------- | ---------------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fromAcct        | String           | Yes          | Source account name. If it's a master account, it should be "0"                                                                                                                                                                                                                                                                                                                                                                                   |
| toAcct          | String           | Yes          | Destination account name. If it's a master account, it should be "0"                                                                                                                                                                                                                                                                                                                                                                              |
| legs            | Array of Objects | Yes          | An array of objects containing details of each position to be moved                                                                                                                                                                                                                                                                                                                                                                               |
| &gt;from        | Object           | yes          | Details of the position in the source account                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt;&gt;posId   | String           | Yes          | Position ID in the source account                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt;sz      | String           | Yes          | Number of contracts.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt;side    | String           | Yes          | Trade side from the perspective of source account<br><code>buy</code><br><code>sell</code>                                                                                                                                                                                                                                                                                                                                                        |
| &gt;to          | Object           | Yes          | Details of the configuration of the destination account                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt;&gt;tdMode  | String           | No           | Trading mode in the destination account.<br><code>cross</code><br><code>isolated</code><br>If not provided, tdMode will take the default values as shown below:<br>Buy options in <code>Futures mode</code>/<code>Multi-currency margin mode</code>: <code>isolated</code><br>Other cases: <code>cross</code>                                                                                                                                     |
| &gt;&gt;posSide | String           | No           | Position side<br><code>net</code><br><code>long</code><br><code>short</code><br>This parameter is not mandatory if the destination sub-account is in <strong>net</strong> mode. If you pass it through, the only valid value is <code>net</code>.It can only be <code>long</code> or <code>short</code> if the destination sub-account is in long/short mode. If not specified, destination account in long/short mode always open new positions. |
| &gt;&gt;ccy     | String           | No           | Margin currency in destination accountOnly applicable to cross margin positions in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                     |
| clientId        | String           | Yes          | Client-supplied ID. A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                            |

#### Response parameters

| **Parameter**   | **Type** | **Description**                                                                     |
| --------------- | -------- | ----------------------------------------------------------------------------------- |
| code            | String   | The result code, <code>0</code> means success                                       |
| msg             | String   | The error message, empty if the code is 0                                           |
| blockTdId       | String   | Block trade ID                                                                      |
| clientId        | String   | Client-supplied ID                                                                  |
| state           | String   | Status of the order <code>filled</code>, <code>failed</code>                        |
| fromAcct        | String   | Source account name                                                                 |
| toAcct          | String   | Destination account name                                                            |
| legs            | Array    | An array of objects containing details of each position to be moved                 |
| &gt;from        | Object   | Object describing the "from" leg                                                    |
| &gt;&gt;instId  | String   | Instrument ID                                                                       |
| &gt;&gt;posId   | String   | Position ID                                                                         |
| &gt;&gt;px      | String   | Transfer price, typically a 60-minute TWAP of the mark price                        |
| &gt;&gt;side    | String   | Direction of the leg in the source account<br><code>buy</code><br><code>sell</code> |
| &gt;&gt;sz      | String   | Number of Contracts                                                                 |
| &gt;&gt;sCode   | String   | The code of the event execution result, 0 means success                             |
| &gt;&gt;sMsg    | String   | Rejection message if the request is unsuccessful                                    |
| &gt;to          | Object   | Object describing the "to" leg                                                      |
| &gt;&gt;instId  | String   | Instrument ID                                                                       |
| &gt;&gt; side   | String   | Trade side of the trade in the destination account                                  |
| &gt;&gt;posSide | String   | Position side of the trade in the destination account                               |
| &gt;&gt;tdMode  | String   | Trade mode                                                                          |
| &gt;&gt;px      | String   | Transfer price, typically a 60-minute TWAP of the mark price                        |
| &gt;&gt;ccy     | String   | Margin currency                                                                     |
| &gt;&gt;sCode   | String   | The code of the event execution result, 0 means success                             |
| &gt;&gt;sMsg    | String   | Rejection message if the request is unsuccessful                                    |
| ts              | String   | Unix timestamp in milliseconds indicating when the transfer request was processed   |

#### Things to note

1.  Only applicable to users with a trading level greater than or equal to VIP5,
    and can only be called through the API Key of the master account.
2.  The source and destination accounts for move positions must be accounts
    under the same master account and they must be different.
3.  For source account, a maximum of fifteen move position requests can be
    triggered within a 24-hour period. There is no limitation to the destination
    account to receive positions. Only successful requests are counted toward
    this limit.
4.  The maximum number of legs per move position request is 30.
5.  No move position fee will be charged at this time.
6.  Moving positions is not supported in margin trading now.
7.  The move position price is determined by the TWAP (Time-Weighted Average
    Price) of the mark price over the past 60 minutes, using the closing mark
    price per minute. If the symbol is newly listed and a 60-minute TWAP is
    unavailable, the move position will be rejected with error code 70065
8.  The move position will share the same price limit as those in the order
    book. The move position will fail if the 60-minute mark price TWAP is
    outside of the price limit.
9.  For the source account, move positions must be conducted in a reduce-only
    manner. You must choose the opposite side of your current position and
    specify a size equal to or smaller than your existing position size. The
    system will also process move position requests in a best-effort reduce-only
    manner.
10. The side field of source account leg (from) should be `sell` if you are
    holding a long position while the side of destination account leg (to)
    should be `buy`, vice versa for a short position.
11. The posSide field of destination account (to) should be `net` if it's in
    one-way mode; `long`/`short` if it's in hedge mode. If in hedge mode, you
    need to specify `long`/`short` to decide whether to close current positions
    or open reverse positions. Otherwise, it will always open new positions.
    1.  Open long: buy and open long (side: buy; posSide: long)
    2.  Open short: sell and open short (side: sell; posSide: short)
    3.  Close long: sell and close long (side: sell; posSide: long)
    4.  Close short: buy and close short (side: buy; posSide: short)
12. Historical records of move positions can be fetched from the _Get move
    positions history_ endpoint but only for pending or successful requests.
13. Move positions operation counting example.

| Transfer done within the day | Account A count (total) | Account B count (total) | Account C count (total) | Account D count (total) |
| ---------------------------- | ----------------------- | ----------------------- | ----------------------- | ----------------------- |
| Account A to Account B       | 1                       | 0                       | 0                       | 0                       |
| Account B to Account C       | 1                       | 1                       | 0                       | 0                       |
| Account B to Account D       | 1                       | 2                       | 0                       | 0                       |

---

### Get move positions history [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-move-positions-history "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-get-move-positions-history")

Only applicable to users with a trading level greater than or equal to VIP5, and
can only be called through the API Key of the master account. Users can check
their trading level through the fee details table on the
[My trading fees](https://www.okx.com/balance/fee) page.

Retrieve move position details in the last 3 days.

#### Rate limit: 2 requests per 2 seconds

#### Rate limit rule: Master account UserID

#### HTTP Request

`GET /api/v5/account/move-positions-history`

#### Request parameters

| **Parameter** | **Type** | **Required** | **Description**                                                                                                        |
| ------------- | -------- | ------------ | ---------------------------------------------------------------------------------------------------------------------- |
| blockTdId     | String   | No           | BlockTdId generated by the system                                                                                      |
| clientId      | String   | No           | Client-supplied ID. A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| beginTs       | String   | No           | Filter with a begin timestamp. Unix timestamp format in milliseconds (inclusive)                                       |
| endTs         | String   | No           | Filter with an end timestamp. Unix timestamp format in milliseconds (inclusive)                                        |
| limit         | String   | No           | Number of results per request. The maximum and default are both <code>100</code>                                       |
| state         | String   | No           | Positions transfer state, <code>filled</code> <code>pending</code>                                                     |

#### Response parameters

| **Parameter**    | **Type** | **Description**                                                                                                        |
| ---------------- | -------- | ---------------------------------------------------------------------------------------------------------------------- |
| clientId         | String   | Client-supplied ID. A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| blockTdId        | String   | Block trade ID.                                                                                                        |
| state            | String   | Position transfer state, <code>filled</code> <code>pending</code>                                                      |
| ts               | String   | Unix timestamp in milliseconds indicating when the transfer request was processed                                      |
| fromAcct         | String   | Source account name                                                                                                    |
| toAcct           | String   | Destination account name                                                                                               |
| legs             | Array    | An array of objects containing details of each position to be moved                                                    |
| &gt; from        | Object   | Object describing the "from" leg                                                                                       |
| &gt;&gt; instId  | String   | Instrument ID                                                                                                          |
| &gt;&gt; posId   | String   | Position ID                                                                                                            |
| &gt;&gt; px      | String   | Transfer price, typically a 60-minute TWAP of the mark price                                                           |
| &gt;&gt; side    | String   | Direction of the leg in the source account<br><code>buy</code><br><code>sell</code>                                    |
| &gt;&gt; sz      | String   | Number of Contracts                                                                                                    |
| &gt; to          | Object   | Object describing the "to" leg                                                                                         |
| &gt;&gt; instId  | String   | Instrument ID                                                                                                          |
| &gt;&gt; px      | String   | Transfer price, typically a 60-minute TWAP of the mark price                                                           |
| &gt;&gt; side    | String   | Trade side from the perspective of destination account<br><code>buy</code><br><code>sell</code>                        |
| &gt;&gt; sz      | String   | Number of contracts.                                                                                                   |
| &gt;&gt; tdMode  | String   | Trading mode in the destination account<br><code>cross</code><br><code>isolated</code>                                 |
| &gt;&gt; posSide | String   | Position side<br><code>net</code><br><code>long</code><br><code>short</code>                                           |
| &gt;&gt; ccy     | String   | Margin currency in destination account<br>Only applicable to cross margin positions in <code>Futures mode</code>.      |

---

### Set auto earn [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-auto-earn "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-rest-api-set-auto-earn")

Turn on/off auto earn.

#### Rate limit: 2 requests per 2 seconds

#### Rate limit rule: User ID

#### HTTP Request

`POST /api/v5/account/set-auto-earn`

#### Request parameters

| **Parameter** | **Type** | **Required** | **Description**                                                                                                                                                                                                                        |
| ------------- | -------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| earnType      | String   | No           | Auto earn type<br><code>0</code>: auto earn (auto lend, auto staking)<br><code>1</code>: auto earn (USDG earn)<br>The default value is <code>0</code>                                                                                  |
| ccy           | String   | Yes          | Currency                                                                                                                                                                                                                               |
| action        | String   | Yes          | Auto earn operation action<br><code>turn_on</code>: turn on auto earn<br><code>turn_off</code>: turn off auto earn<br><del><code>amend</code>: amend minimum lending APR, applicable onlyto earnType <code>0</code></del> (deprecated) |
| apr           | String   | Optional     | <del>Minimum lending APR. Users must pass in this field when earnType is <code>0</code> and action is <code>turn_on/amend</code>.<br>0.01 means 1%, available range 0.01-3.65, increment 0.01</del> (deprecated)                       |

#### Response parameters

| **Parameter** | **Type** | **Description**                                                                                                           |
| ------------- | -------- | ------------------------------------------------------------------------------------------------------------------------- |
| earnType      | String   | Auto earn type<br><code>0</code>: auto earn (auto lend, auto staking)<br><code>1</code>: auto earn (USDG earn)            |
| ccy           | String   | Currency                                                                                                                  |
| action        | Boolean  | Auto earn operation action<br><code>turn_on</code><br><code>turn_off</code><br><del><code>amend</code></del> (deprecated) |
| apr           | String   | <del>Minimum lending APR</del> (deprecated)                                                                               |

---

### Account channel [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-websocket-account-channel "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-websocket-account-channel")

Retrieve account information. Data will be pushed when triggered by events such
as placing order, canceling order, transaction execution, etc. It will also be
pushed in regular interval according to subscription granularity.

Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter               | Type             | Required | Description                                                                                                                                                                                                                                                                                              |
| ----------------------- | ---------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                      | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                         |
| op                      | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                                                                                      |
| args                    | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                                                                              |
| &gt; channel            | String           | Yes      | Channel name<br><code>account</code>                                                                                                                                                                                                                                                                     |
| &gt; ccy                | String           | No       | Currency                                                                                                                                                                                                                                                                                                 |
| &gt; extraParams        | String           | No       | Additional configuration                                                                                                                                                                                                                                                                                 |
| &gt;&gt; updateInterval | int              | No       | <code>0</code>: only push due to account events<br>The data will be pushed both by events and regularly if this field is omitted or set to other values than 0.<br>The following format should be strictly obeyed when using this field.<br>"extraParams": "<br>{<br>\"updateInterval\": \"0\"<br>}<br>" |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                           |
| ------------ | ------ | -------- | ------------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                      |
| event        | String | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                    |
| &gt; channel | String | Yes      | Channel name<br><code>account</code>                                                  |
| &gt; ccy     | String | No       | Currency                                                                              |
| code         | String | No       | Error code                                                                            |
| msg          | String | No       | Error message                                                                         |
| connId       | String | Yes      | WebSocket connection ID                                                               |

#### Push data parameters

| **Parameters**                 | **Types**        | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ------------------------------ | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg                            | Object           | Successfully subscribed channel                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; channel                   | String           | Channel name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; uid                       | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| eventType                      | String           | Event type:<br><code>snapshot</code>: Initial and regular snapshot push<br><code>event_update</code>: Event-driven update push                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| curPage                        | Integer          | Current page number.<br>Only applicable for <code>snapshot</code> events. Not included in <code>event_update</code> events.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| lastPage                       | Boolean          | Whether this is the last page of pagination:<br><code>true</code><br><code>false</code><br>Only applicable for <code>snapshot</code> events. Not included in <code>event_update</code> events.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| data                           | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; uTime                     | String           | The latest time to get account information, millisecond format of Unix timestamp, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; totalEq                   | String           | The total amount of equity in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; isoEq                     | String           | Isolated margin equity in <code>USD</code><br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; adjEq                     | String           | Adjusted / Effective equity in <code>USD</code><br>The net fiat value of the assets in the account that can provide margins for spot, expiry futures, perpetual futures and options under the cross-margin mode.<br>In multi-ccy or PM mode, the asset and margin requirement will all be converted to USD value to process the order check or liquidation.<br>Due to the volatility of each currency market, our platform calculates the actual USD value of each currency based on discount rates to balance market risks.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; availEq                   | String           | Account level available equity, excluding currencies that are restricted due to the collateralized borrowing limit.<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; ordFroz                   | String           | Margin frozen for pending cross orders in <code>USD</code><br>Only applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; imr                       | String           | Initial margin requirement in <code>USD</code><br>The sum of initial margins of all open positions and pending orders under cross-margin mode in <code>USD</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; mmr                       | String           | Maintenance margin requirement in <code>USD</code><br>The sum of maintenance margins of all open positions and pending orders under cross-margin mode in <code>USD</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; borrowFroz                | String           | Potential borrowing IMR of the account in <code>USD</code><br>Only applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>. It is "" for other margin modes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; mgnRatio                  | String           | Maintenance margin ratio in <code>USD</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; notionalUsd               | String           | Notional value of positions in <code>USD</code><br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; notionalUsdForBorrow      | String           | Notional value for <code>Borrow</code> in USD<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; notionalUsdForSwap        | String           | Notional value of positions for <code>Perpetual Futures</code> in USD<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; notionalUsdForFutures     | String           | Notional value of positions for <code>Expiry Futures</code> in USD<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; notionalUsdForOption      | String           | Notional value of positions for <code>Option</code> in USD<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; upl                       | String           | Cross-margin info of unrealized profit and loss at the account level in <code>USD</code><br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; details                   | Array of objects | Detailed asset information in all currencies                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; ccy                   | String           | Currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; eq                    | String           | Equity of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; cashBal               | String           | Cash Balance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; uTime                 | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; isoEq                 | String           | Isolated margin equity of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt;&gt; availEq               | String           | Available equity of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; disEq                 | String           | Discount equity of currency in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; fixedBal              | String           | Frozen balance for <code>Dip Sniper</code> and <code>Peak Sniper</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; availBal              | String           | Available balance of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; frozenBal             | String           | Frozen balance of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt;&gt; ordFrozen             | String           | Margin frozen for open orders<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>/<code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; liab                  | String           | Liabilities of currency<br>It is a positive value, e.g. <code>21625.64</code>.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; upl                   | String           | The sum of the unrealized profit &amp; loss of all margin and derivatives positions of currency.<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; uplLiab               | String           | Liabilities due to Unrealized loss of currency<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; crossLiab             | String           | Cross Liabilities of currency<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; isoLiab               | String           | Isolated Liabilities of currency<br>Applicable to <code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; rewardBal             | String           | Trial fund balance                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; mgnRatio              | String           | Cross Maintenance margin ratio of currency<br>The index for measuring the risk of a certain asset in the account.<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; imr                   | String           | Cross initial margin requirement at the currency level<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; mmr                   | String           | Cross maintenance margin requirement at the currency level<br>Applicable to <code>Futures mode</code> and when there is cross position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; interest              | String           | Interest of currency<br>It is a positive value, e.g."9.01". Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; twap                  | String           | Risk indicator of forced repayment<br>Divided into multiple levels from 0 to 5, the larger the number, the more likely the forced repayment will be triggered.<br>Applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; frpType               | String           | Forced repayment (FRP) type<br><code>0</code>: no FRP<br><code>1</code>: user based FRP<br><code>2</code>: platform based FRP<br><br>Return <code>1</code>/<code>2</code> when twap is &gt;= 1, applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; maxLoan               | String           | Max loan of currency<br>Applicable to <code>cross</code> of <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; eqUsd                 | String           | Equity <code>USD</code> of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; borrowFroz            | String           | Potential borrowing IMR of currency in <code>USD</code><br>Only applicable to <code>Spot mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>. It is "" for other margin modes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; notionalLever         | String           | Leverage of currency<br>Applicable to <code>Futures mode</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; coinUsdPrice          | String           | Price index <code>USD</code> of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; stgyEq                | String           | strategy equity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; isoUpl                | String           | Isolated unrealized profit and loss of currency<br>Applicable to <code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; spotInUseAmt          | String           | Spot in use amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; clSpotInUseAmt        | String           | User-defined spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; maxSpotInUseAmt       | String           | Max possible spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; spotIsoBal            | String           | Spot isolated balance<br>Applicable to copy trading<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; smtSyncEq             | String           | Smart sync equity<br>The default is "0", only applicable to copy trader.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; spotCopyTradingEq     | String           | Spot smart sync equity.<br>The default is "0", only applicable to copy trader.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt;&gt; spotBal               | String           | Spot balance. The unit is currency, e.g. BTC. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; openAvgPx             | String           | Spot average cost price. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt;&gt; accAvgPx              | String           | Spot accumulated cost price. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; spotUpl               | String           | Spot unrealized profit and loss. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; spotUplRatio          | String           | Spot unrealized profit and loss ratio. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; totalPnl              | String           | Spot accumulated profit and loss. The unit is USD. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; totalPnlRatio         | String           | Spot accumulated profit and loss ratio. <a href="https://www.okx.com/help/i-introduction-of-spot">More details</a>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt;&gt; colRes                | String           | Platform level collateral restriction status<br><code>0</code>: The restriction is not enabled.<br><code>1</code>: The restriction is not enabled. But the crypto is close to the platform's collateral limit.<br><code>2</code>: The restriction is enabled. This crypto can't be used as margin for your new orders. This may result in failed orders. But it will still be included in the account's adjusted equity and doesn't impact margin ratio.<br>Refer to <a href="https://www.okx.com/help/introduction-to-the-platforms-collateralized-borrowing-limit-mechanism">Introduction to the platform collateralized borrowing limit</a> for more details.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; colBorrAutoConversion | String           | Risk indicator of auto conversion. Divided into multiple levels from 1-5, the larger the number, the more likely the repayment will be triggered. The default will be 0, indicating there is no risk currently. 5 means this user is undergoing auto conversion now, 4 means this user will undergo auto conversion soon whereas 1/2/3 indicates there is a risk for auto conversion.<br>Applicable to <code>Spot mode</code>/<code>Futures mode</code>/<code>Multi-currency margin</code>/<code>Portfolio margin</code><br>When the total liability for each crypto set as collateral exceeds a certain percentage of the platform's total limit, the auto-conversion mechanism may be triggered. This may result in the automatic sale of excess collateral crypto if you've set this crypto as collateral and have large borrowings. To lower this risk, consider reducing your use of the crypto as collateral or reducing your liabilities.<br>Refer to <a href="https://www.okx.com/help/introduction-to-the-platforms-collateralized-borrowing-limit-mechanism">Introduction to the platform collateralized borrowing limit</a> for more details. |
| &gt;&gt; collateralRestrict    | Boolean          | <del>Platform level collateralized borrow restriction<br><code>true</code><br><code>false</code></del>(deprecated, use colRes instead)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; collateralEnabled     | Boolean          | <code>true</code>: Collateral enabled<br><code>false</code>: Collateral disabled<br>Applicable to <code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

"" will be returned for inapplicable fields under the current account level.

\- The account data is sent on event basis and regular basis.  
\- The event push is not pushed in real-time. It is aggregated and pushed at a
fixed time interval, around 50ms. For example, if multiple events occur within a
fixed time interval, the system will aggregate them into a single message and
push it at the end of the fixed time interval. If the data volume is too large,
it may be split into multiple messages.  
\- The regular push sends updates regardless of whether there are activities in
the trading account or not.

\- Only currencies with non-zero balance will be pushed. Definition of non-zero
balance: any value of eq, availEq, availBql parameters is not 0. If the data is
too large to be sent in a single push message, it will be split into multiple
messages.  
\- For example, when subscribing to account channel without specifying ccy and
there are 5 currencies are with non-zero balance, all 5 currencies data will be
pushed in initial snapshot and in regular update. Subsequently when there is
change in balance or equity of an token, only the incremental data of that
currency will be pushed triggered by this change.

---

### Positions channel [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-websocket-positions-channel "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-websocket-positions-channel")

Retrieve position information. Initial snapshot will be pushed according to
subscription granularity. Data will be pushed when triggered by events such as
placing/canceling order, and will also be pushed in regular interval according
to subscription granularity.

Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter               | Type             | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ----------------------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                      | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                          |
| op                      | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                                                                                                                                                                                                                                                       |
| args                    | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; channel            | String           | Yes      | Channel name<br><code>positions</code>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; instType           | String           | Yes      | Instrument type<br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code>                                                                                                                                                                                                                                                                                                                                            |
| &gt; instFamily         | String           | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; instId             | String           | No       | Instrument ID<br>If instId and instFamily are both passed, instId will be used                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; extraParams        | String           | No       | Additional configuration                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; updateInterval | int              | No       | <code>0</code>: only push due to positions events<br><code>2000, 3000, 4000</code>: push by events and regularly according to the time interval setting (ms)<br><br>The data will be pushed both by events and around per 5 seconds regularly if this field is omitted or set to other values than the valid values above.<br><br>The following format should be strictly followed when using this field.<br>"extraParams": "<br>{<br>\"updateInterval\": \"0\"<br>}<br>" |

#### Response parameters

| Parameter       | Type   | Required | Description                                                                                                                    |
| --------------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------ |
| id              | String | No       | Unique identifier of the message                                                                                               |
| event           | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code>                                              |
| arg             | Object | No       | Subscribed channel                                                                                                             |
| &gt; channel    | String | Yes      | Channel name                                                                                                                   |
| &gt; instType   | String | Yes      | Instrument type<br><code>MARGIN</code><br><code>FUTURES</code><br><code>SWAP</code><br><code>OPTION</code><br><code>ANY</code> |
| &gt; instFamily | String | No       | Instrument family                                                                                                              |
| &gt; instId     | String | No       | Instrument ID                                                                                                                  |
| code            | String | No       | Error code                                                                                                                     |
| msg             | String | No       | Error message                                                                                                                  |
| connId          | String | Yes      | WebSocket connection ID                                                                                                        |

#### Push data parameters

| Parameter                   | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                |
| --------------------------- | ---------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg                         | Object           | Successfully subscribed channel                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; channel                | String           | Channel name                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; uid                    | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; instType               | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; instFamily             | String           | Instrument family                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; instId                 | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                              |
| eventType                   | String           | Event type:<br><code>snapshot</code>: Initial and regular snapshot push<br><code>event_update</code>: Event-driven update push                                                                                                                                                                                                                                                                                             |
| curPage                     | Integer          | Current page number.<br>Only applicable for <code>snapshot</code> events. Not included in <code>event_update</code> events.                                                                                                                                                                                                                                                                                                |
| lastPage                    | Boolean          | Whether this is the last page of pagination:<br><code>true</code><br><code>false</code><br>Only applicable for <code>snapshot</code> events. Not included in <code>event_update</code> events.                                                                                                                                                                                                                             |
| data                        | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; instType               | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; mgnMode                | String           | Margin mode, <code>cross</code> <code>isolated</code>                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; posId                  | String           | Position ID                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; posSide                | String           | Position side<br><code>long</code><br><code>short</code><br><code>net</code> (<code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>: positive <code>pos</code> means long position and negative <code>pos</code> means short position. <code>MARGIN</code>: <code>posCcy</code> being base currency means long position, <code>posCcy</code> being quote currency means short position.)                              |
| &gt; pos                    | String           | Quantity of positions. In the isolated margin mode, when doing manual transfers, a position with pos of <code>0</code> will be generated after the deposit is transferred                                                                                                                                                                                                                                                  |
| &gt; baseBal                | String           | <del>Base currency balance, only applicable to <code>MARGIN</code>ï¼ˆQuick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                  |
| &gt; quoteBal               | String           | <del>Quote currency balance, only applicable to <code>MARGIN</code>ï¼ˆQuick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                 |
| &gt; baseBorrowed           | String           | <del>Base currency amount already borrowed, only applicable to MARGIN(Quick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                                |
| &gt; baseInterest           | String           | <del>Base Interest, undeducted interest that has been incurred, only applicable to MARGIN(Quick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                            |
| &gt; quoteBorrowed          | String           | <del>Quote currency amount already borrowed, only applicable to MARGIN(Quick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                                               |
| &gt; quoteInterest          | String           | <del>Quote Interest, undeducted interest that has been incurred, only applicable to MARGIN(Quick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                                           |
| &gt; posCcy                 | String           | Position currency, only applicable to <code>MARGIN</code> positions                                                                                                                                                                                                                                                                                                                                                        |
| &gt; availPos               | String           | Position that can be closed<br>Only applicable to <code>MARGIN</code> and <code>OPTION</code>.<br>For <code>Margin</code> position, the rest of sz will be <code>SPOT</code> trading after the liability is repaid while closing the position. Please get the available reduce-only amount from "Get maximum available tradable amount" if you want to reduce the amount of <code>SPOT</code> trading as much as possible. |
| &gt; avgPx                  | String           | Average open price                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; upl                    | String           | Unrealized profit and loss calculated by mark price.                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; uplRatio               | String           | Unrealized profit and loss ratio calculated by mark price.                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; uplLastPx              | String           | Unrealized profit and loss calculated by last price. Main usage is showing, actual value is upl.                                                                                                                                                                                                                                                                                                                           |
| &gt; uplRatioLastPx         | String           | Unrealized profit and loss ratio calculated by last price.                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instId                 | String           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; lever                  | String           | Leverage, not applicable to <code>OPTION</code> seller                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; liqPx                  | String           | Estimated liquidation price<br>Not applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                       |
| &gt; markPx                 | String           | Latest Mark price                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; imr                    | String           | Initial margin requirement, only applicable to <code>cross</code>                                                                                                                                                                                                                                                                                                                                                          |
| &gt; margin                 | String           | Margin, can be added or reduced. Only applicable to <code>isolated</code> <code>Margin</code>.                                                                                                                                                                                                                                                                                                                             |
| &gt; mgnRatio               | String           | Maintenance margin ratio                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; mmr                    | String           | Maintenance margin requirement                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; liab                   | String           | Liabilities, only applicable to <code>MARGIN</code>.                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; liabCcy                | String           | Liabilities currency, only applicable to <code>MARGIN</code>.                                                                                                                                                                                                                                                                                                                                                              |
| &gt; interest               | String           | Interest accrued that has not been settled.                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; tradeId                | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; notionalUsd            | String           | Notional value of positions in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; optVal                 | String           | Option Value, only applicable to <code>OPTION</code>.                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; pendingCloseOrdLiabVal | String           | The amount of close orders of isolated margin liability.                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; adl                    | String           | Automatic-Deleveraging, signal area<br>Divided into 6 levels, from 0 to 5, the smaller the number, the weaker the adl intensity.<br>Only applicable to <code>FUTURES/SWAP/OPTION</code>                                                                                                                                                                                                                                    |
| &gt; bizRefId               | String           | External business id, e.g. experience coupon id                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; bizRefType             | String           | External business type                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; ccy                    | String           | Currency used for margin                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; last                   | String           | Latest traded price                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; idxPx                  | String           | Latest underlying index price                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; usdPx                  | String           | Latest USD price of the <code>ccy</code> on the market, only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                      |
| &gt; bePx                   | String           | Breakeven price                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; deltaBS                | String           | delta: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                             |
| &gt; deltaPA                | String           | delta: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                             |
| &gt; gammaBS                | String           | gamma: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                             |
| &gt; gammaPA                | String           | gamma: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                             |
| &gt; thetaBS                | String           | theta: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                             |
| &gt; thetaPA                | String           | theta: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                             |
| &gt; vegaBS                 | String           | vega: Black-Scholes Greeks in dollars, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                              |
| &gt; vegaPA                 | String           | vega: Greeks in coins, only applicable to <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                              |
| &gt; spotInUseAmt           | String           | Spot in use amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                                          |
| &gt; spotInUseCcy           | String           | Spot in use unit, e.g. <code>BTC</code><br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                     |
| &gt; clSpotInUseAmt         | String           | User-defined spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                        |
| &gt; maxSpotInUseAmt        | String           | Max possible spot risk offset amount<br>Applicable to <code>Portfolio margin</code>                                                                                                                                                                                                                                                                                                                                        |
| &gt; realizedPnl            | String           | Realized profit and loss<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code><br>realizedPnl=pnl+fee+fundingFee+liqPenalty+settledPnl                                                                                                                                                                                                                                                          |
| &gt; pnl                    | String           | Accumulated pnl of closing order(s) (excluding the fee).                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; fee                    | String           | Accumulated fee<br>Negative number represents the user transaction fee charged by the platform.Positive number represents rebate.                                                                                                                                                                                                                                                                                          |
| &gt; fundingFee             | String           | Accumulated funding fee                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; liqPenalty             | String           | Accumulated liquidation penalty. It is negative when there is a value.                                                                                                                                                                                                                                                                                                                                                     |
| &gt; closeOrderAlgo         | Array of objects | Close position algo orders attached to the position. This array will have values only after you request "Place algo order" with <code>closeFraction</code>=1.                                                                                                                                                                                                                                                              |
| &gt;&gt; algoId             | String           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt;&gt; slTriggerPx        | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; slTriggerPxType    | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                         |
| &gt;&gt; tpTriggerPx        | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; tpTriggerPxType    | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                       |
| &gt;&gt; closeFraction      | String           | Fraction of position to be closed when the algo order is triggered.                                                                                                                                                                                                                                                                                                                                                        |
| &gt; cTime                  | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                                                                     |
| &gt; uTime                  | String           | Latest time position was adjusted, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                                                 |
| &gt; pTime                  | String           | Push time of positions information, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                                                |
| &gt; nonSettleAvgPx         | String           | Non-Settlement entry price<br>The non-settlement entry price only reflects the average price at which the position is opened or increased.<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                                                                        |
| &gt; settledPnl             | String           | Accumulated settled P&amp;L (calculated by settlement price)<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                                                                                                                                                      |

\- The position data is sent on event basis and regular basis  
\- The event push is not pushed in real-time. It is aggregated and pushed at a
fixed time interval, around 50ms. For example, if multiple events occur within a
fixed time interval, the system will aggregate them into a single message and
push it at the end of the fixed time interval. If the data volume is too large,
it may be split into multiple messages.  
\- The regular push sends updates regardless of whether there are position
activities or not.  
\- If an event push and a regular push happen at the same time, the system will
send the event push first, followed by the regular push.

As for portfolio margin account, the IMR and MMR of the position are calculated
in risk unit granularity, thus their values of the same risk unit cross
positions are the same.

In the position-by-position trading setting, it is an autonomous transfer mode.
After the margin is transferred, positions with a position of 0 will be pushed

\- Only position with non-zero position quantity will be pushed. Definition of
non-zero quantity: value of pos parameter is not 0. If the data is too large to
be sent in a single push message, it will be split into multiple messages.  
\- For example, when subscribing to positions channel specifying an underlying
and there are 20 positions are with non-zero quantity, all 20 positions data
will be pushed in initial snapshot and in regular push. Subsequently when there
is change in pos of a position, only the data of that position will be pushed
triggered by this change.

---

### Balance and position channel [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-websocket-balance-and-position-channel "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-websocket-balance-and-position-channel")

Retrieve account balance and position information. Data will be pushed when
triggered by events such as filled order, funding transfer.  
This channel applies to getting the account cash balance and the change of
position asset ASAP.  
Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name<br><code>balance_and_position</code>                                                                                                                                                                                                |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                           |
| ------------ | ------ | -------- | ------------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                      |
| event        | String | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | List of subscribed channels                                                           |
| &gt; channel | String | Yes      | Channel name<br><code>balance_and_position</code>                                     |
| code         | String | No       | Error code                                                                            |
| msg          | String | No       | Error message                                                                         |
| connId       | String | Yes      | WebSocket connection ID                                                               |

#### Push data parameters

| **Parameter**           | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                           |
| ----------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg                     | Object           | Channel to subscribe to                                                                                                                                                                                                                                                                                                                                                   |
| &gt; channel            | String           | Channel name                                                                                                                                                                                                                                                                                                                                                              |
| &gt; uid                | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                           |
| data                    | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                           |
| &gt; pTime              | String           | Push time of both balance and position information, millisecond format of Unix timestamp, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                 |
| &gt; eventType          | String           | Event Type<br><code>snapshot</code><br><code>delivered</code><br><code>exercised</code><br><code>transferred</code><br><code>filled</code><br><code>liquidation</code><br><code>claw_back</code><br><code>adl</code><br><code>funding_fee</code><br><code>adjust_margin</code><br><code>set_leverage</code><br><code>interest_deduction</code><br><code>settlement</code> |
| &gt; balData            | Array of objects | Balance data                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; ccy            | String           | Currency                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; cashBal        | String           | Cash Balance                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; uTime          | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                       |
| &gt; posData            | Array of objects | Position data                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; posId          | String           | Position ID                                                                                                                                                                                                                                                                                                                                                               |
| &gt;&gt; tradeId        | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                             |
| &gt;&gt; instId         | String           | Instrument ID, e.g <code>BTC-USD-180213</code>                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; instType       | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                           |
| &gt;&gt; mgnMode        | String           | Margin mode<br><code>isolated</code>, <code>cross</code>                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; avgPx          | String           | Average open price                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; ccy            | String           | Currency used for margin                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; posSide        | String           | Position side<br><code>long</code>, <code>short</code>, <code>net</code>                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; pos            | String           | Quantity of positions. In the isolated margin mode, when doing manual transfers, a position with pos of <code>0</code> will be generated after the deposit is transferred                                                                                                                                                                                                 |
| &gt;&gt; baseBal        | String           | <del>Base currency balance, only applicable to <code>MARGIN</code>ï¼ˆQuick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                 |
| &gt;&gt; quoteBal       | String           | <del>Quote currency balance, only applicable to <code>MARGIN</code>ï¼ˆQuick Margin Modeï¼‰</del>(Deprecated)                                                                                                                                                                                                                                                                |
| &gt;&gt; posCcy         | String           | Position currency, only applicable to MARGIN positions.                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; nonSettleAvgPx | String           | Non-Settlement entry price<br>The non-settlement entry price only reflects the average price at which the position is opened or increased.<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                       |
| &gt;&gt; settledPnl     | String           | Accumulated settled P&amp;L (calculated by settlement price)<br>Applicable to <code>FUTURES</code> <code>cross</code>                                                                                                                                                                                                                                                     |
| &gt;&gt; uTime          | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                       |
| &gt; trades             | Array of objects | Details of trade                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; instId         | String           | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                 |
| &gt;&gt; tradeId        | String           | Trade ID                                                                                                                                                                                                                                                                                                                                                                  |

Only balData will be pushed if only the account balance changes; only posData
will be pushed if only the position changes.

\- Initial snapshot: Only either position with non-zero position quantity or
cash balance with non-zero quantity will be pushed. If the data is too large to
be sent in a single push message, it will be split into multiple messages.  
\- For example, if you subscribe according to all currencies and the user has 5
currency balances that are not 0 and 20 positions, all 20 positions data and 5
currency balances data will be pushed in initial snapshot; Subsequently when
there is change in pos of a position, only the data of that position will be
pushed triggered by this change.

---

### Position risk warning [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-websocket-position-risk-warning "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-websocket-position-risk-warning")

This push channel is only used as a risk warning, and is not recommended as a
risk judgment for strategic trading  
In the case that the market is volatile, there may be the possibility that the
position has been liquidated at the same time that this message is pushed.  
The warning is sent when a position is at risk of liquidation for isolated
margin positions. The warning is sent when all the positions are at risk of
liquidation for cross-margin positions.  
Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter       | Type             | Required | Description                                                                                                                                                                                                                                      |
| --------------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id              | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op              | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args            | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel    | String           | Yes      | Channel name<br><code>liquidation-warning</code>                                                                                                                                                                                                 |
| &gt; instType   | String           | Yes      | Instrument type<br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code>                                                                                                                   |
| &gt; instFamily | String           | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                    |
| &gt; instId     | String           | No       | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter       | Type   | Required | Description                                                                                                                    |
| --------------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------ |
| id              | String | No       | Unique identifier of the message                                                                                               |
| event           | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code>                                              |
| arg             | Object | No       | Subscribed channel                                                                                                             |
| &gt; channel    | String | Yes      | Channel name<br><code>liquidation-warning</code>                                                                               |
| &gt; instType   | String | Yes      | Instrument type<br><code>OPTION</code><br><code>FUTURES</code><br><code>SWAP</code><br><code>MARGIN</code><br><code>ANY</code> |
| &gt; instFamily | String | No       | Instrument family                                                                                                              |
| &gt; instId     | String | No       | Instrument ID                                                                                                                  |
| code            | String | No       | Error code                                                                                                                     |
| msg             | String | No       | Error message                                                                                                                  |
| connId          | String | Yes      | WebSocket connection ID                                                                                                        |

#### Push data parameters

| Parameter       | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                   |
| --------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg             | Object           | Successfully subscribed channel                                                                                                                                                                                                                                                                                                                                                               |
| &gt; channel    | String           | Channel name                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; uid        | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; instType   | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; instFamily | String           | Instrument family                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; instId     | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                 |
| data            | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; instType   | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; mgnMode    | String           | Margin mode, <code>cross</code> <code>isolated</code>                                                                                                                                                                                                                                                                                                                                         |
| &gt; posId      | String           | Position ID                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; posSide    | String           | Position side<br><code>long</code><br><code>short</code><br><code>net</code> (<code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>: positive <code>pos</code> means long position and negative <code>pos</code> means short position. <code>MARGIN</code>: <code>posCcy</code> being base currency means long position, <code>posCcy</code> being quote currency means short position.) |
| &gt; pos        | String           | Quantity of positions                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; posCcy     | String           | Position currency, only applicable to <code>MARGIN</code> positions                                                                                                                                                                                                                                                                                                                           |
| &gt; instId     | String           | Instrument ID, e.g. <code>BTC-USDT-SWAP</code>                                                                                                                                                                                                                                                                                                                                                |
| &gt; lever      | String           | Leverage, not applicable to <code>OPTION</code> seller                                                                                                                                                                                                                                                                                                                                        |
| &gt; markPx     | String           | Mark price                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; mgnRatio   | String           | Maintenance margin ratio                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; ccy        | String           | Currency used for margin                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; cTime      | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                                        |
| &gt; uTime      | String           | Latest time position was adjusted, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                    |
| &gt; pTime      | String           | Push time of positions information, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                                                                                                                                                   |

Trigger push logic: the trigger logic of the liquidation warning and the
liquidation message is the same

---

### Account greeks channel [ðŸ”—](https://www.okx.com/docs-v5/en/#trading-account-websocket-account-greeks-channel "Direct link to: https://www.okx.com/docs-v5/en/#trading-account-websocket-account-greeks-channel")

Retrieve account greeks information. Data will be pushed when triggered by
events such as increase/decrease positions or cash balance in account, and will
also be pushed in regular interval according to subscription granularity.  
Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                                                           |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                      |
| op           | String           | Yes      | Operation<br><code>subscribe</code> <code>unsubscribe</code>                                                                                                                                                                                                                          |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                                                           |
| &gt; channel | String           | Yes      | Channel name<br><code>account-greeks</code>                                                                                                                                                                                                                                           |
| &gt; ccy     | String           | No       | Settlement currency<br>When the user specifies a settlement currency, event push will only be triggered when the position of the same settlement currency changes. For example, when ccy=BTC, if the position of <code>BTC-USDT-SWAP</code> changes, no event push will be triggered. |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                           |
| ------------ | ------ | -------- | ------------------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                                      |
| event        | String | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code> |
| arg          | Object | No       | Subscribed channel                                                                    |
| &gt; channel | String | Yes      | Channel name,<code>account-greeks</code>                                              |
| &gt; ccy     | String | No       | Settlement currency                                                                   |
| code         | String | No       | Error code                                                                            |
| msg          | String | No       | Error message                                                                         |
| connId       | String | Yes      | WebSocket connection ID                                                               |

#### Push data parameters

| **Parameters** | **Types**        | **Description**                                                                        |
| -------------- | ---------------- | -------------------------------------------------------------------------------------- |
| arg            | Object           | Successfully subscribed channel                                                        |
| &gt; channel   | String           | Channel name                                                                           |
| &gt; uid       | String           | User Identifier                                                                        |
| data           | Array of objects | Subscribed data                                                                        |
| &gt; deltaBS   | String           | delta: Black-Scholes Greeks in dollars                                                 |
| &gt; deltaPA   | String           | delta: Greeks in coins                                                                 |
| &gt; gammaBS   | String           | gamma: Black-Scholes Greeks in dollars, only applicable to OPTION cross                |
| &gt; gammaPA   | String           | gamma: Greeks in coins, only applicable to OPTION cross                                |
| &gt; thetaBS   | String           | theta: Black-Scholes Greeks in dollars, only applicable to OPTION cross                |
| &gt; thetaPA   | String           | theta: Greeks in coins, only applicable to OPTION cross                                |
| &gt; vegaBS    | String           | vega: Black-Scholes Greeks in dollars, only applicable to OPTION cross                 |
| &gt; vegaPA    | String           | vega: Greeks in coins, only applicable to OPTION cross                                 |
| &gt; ccy       | String           | Currency                                                                               |
| &gt; ts        | String           | Push time of account greeks, Unix timestamp format in milliseconds, e.g. 1597026383085 |

The account greeks data is sent on event basis and regular basis  
\- The event push is not pushed in real-time. It is aggregated and pushed at a
fixed time interval, around 50ms. For example, if multiple events occur within a
fixed time interval, the system will aggregate them into a single message and
push it at the end of the fixed time interval. If the data volume is too large,
it may be split into multiple messages.  
\- When the user specifies a settlement currency in the subscribe request, event
push will only be triggered when the position of the same settlement currency
changes. For example, when subscribe \`ccy\`=BTC, if the position of
\`BTC-USDT-SWAP\` changes, no event push will be triggered.  
\- The regular push sends updates regardless of whether there are activities or
not.

\- Only currencies in the account will be pushed. If the data is too large to be
sent in a single push message, it will be split into multiple messages.  
\- For example, when subscribing to account-greeks channel without specifying
ccy and there are 5 currencies are with non-zero balance, all 5 currencies data
will be pushed in initial snapshot and in regular interval. Subsequently when
there is change in balance or equity of an token, only the incremental data of
that currency will be pushed triggered by this change.

---
