# OKX API Documentation - Order Book Trading

### POST / Place order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-place-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-place-order")

You can place an order only if you have sufficient funds.

#### Rate Limit: 60 requests per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 4 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

#### HTTP Request

`POST /api/v5/trade/order`

#### Request Parameters

| Parameter                 | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------------- | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId                    | String           | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| tdMode                    | String           | Yes         | Trade mode<br>Margin mode <code>cross</code> <code>isolated</code><br>Non-Margin mode <code>cash</code><br><code>spot_isolated</code> (only applicable to SPOT lead trading, <code>tdMode</code> should be <code>spot_isolated</code> for <code>SPOT</code> lead trading.)<br>Note: <code>isolated</code> is not available in multi-currency margin mode and portfolio margin mode.                                                                                                                                                                                                                                                                           |
| ccy                       | String           | No          | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| clOrdId                   | String           | No          | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>Only applicable to general order. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                   |
| tag                       | String           | No          | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| side                      | String           | Yes         | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| posSide                   | String           | Conditional | Position side<br>The default is <code>net</code> in the <code>net</code> mode<br>It is required in the <code>long/short</code> mode, and can only be <code>long</code> or <code>short</code>.<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>.                                                                                                                                                                                                                                                                                                                                                                                                   |
| ordType                   | String           | Yes         | Order type<br><code>market</code>: Market order, only applicable to <code>SPOT/MARGIN/FUTURES/SWAP</code><br><code>limit</code>: Limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures).<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode) |
| sz                        | String           | Yes         | Quantity to buy or sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| px                        | String           | Conditional | Order price. Only applicable to <code>limit</code>,<code>post_only</code>,<code>fok</code>,<code>ioc</code>,<code>mmp</code>,<code>mmp_and_post_only</code> order.<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                    |
| pxUsd                     | String           | Conditional | Place options orders in <code>USD</code><br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| pxVol                     | String           | Conditional | Place options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| reduceOnly                | Boolean          | No          | Whether orders can only reduce in position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>Only applicable to <code>MARGIN</code> orders, and <code>FUTURES</code>/<code>SWAP</code> orders in <code>net</code> mode<br>Only applicable to <code>Futures mode</code> and <code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                      |
| tgtCcy                    | String           | No          | Whether the target currency uses the quote or base currency.<br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                                                               |
| banAmend                  | Boolean          | No          | Whether to disallow the system from amending the size of the SPOT Market Order.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>If <code>true</code>, system will not amend and reject the market order if user does not have sufficient funds.<br>Only applicable to SPOT Market Orders                                                                                                                                                                                                                                                                                                               |
| pxAmendType               | String           | No          | The price amendment type for orders<br><code>0</code>: Do not allow the system to amend to order price if <code>px</code> exceeds the price limit<br><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>px</code> exceeds the price limit<br>The default value is <code>0</code>                                                                                                                                                                                                                                                                                                                 |
| tradeQuoteCcy             | String           | No          | The quote currency used for trading. Only applicable to <code>SPOT</code>.<br>The default value is the quote currency of the <code>instId</code>, for example: for <code>BTC-USD</code>, the default is <code>USD</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| stpMode                   | String           | No          | Self trade prevention mode.<br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code><br>Cancel both does not support FOK<br><br>The account-level acctStpMode will be used to place orders by default. The default value of this field is <code>cancel_maker</code>. Users can log in to the webpage through the master account to modify this configuration. Users can also utilize the stpMode request parameter of the placing order endpoint to determine the stpMode of a certain order.                                                                                                                                         |
| attachAlgoOrds            | Array of objects | No          | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; attachAlgoClOrdId    | String           | No          | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; tpTriggerPx          | String           | Conditional | Take-profit trigger price<br>For condition TP order, if you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; tpOrdPx              | String           | Conditional | Take-profit order price<br><br>For condition TP order, if you fill in this parameter, you should fill in the take-profit trigger price as well.<br>For limit TP order, you need to fill in this parameter, but the take-profit trigger price doesn’t need to be filled.<br>If the price is -1, take-profit will be executed at the market price.                                                                                                                                                                                                                                                                                                              |
| &gt; tpOrdKind            | String           | No          | TP order kind<br><code>condition</code><br><code>limit</code><br>The default is <code>condition</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; slTriggerPx          | String           | Conditional | Stop-loss trigger price<br>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; slOrdPx              | String           | Conditional | Stop-loss order price<br>If you fill in this parameter, you should fill in the stop-loss trigger price.<br>If the price is -1, stop-loss will be executed at the market price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; tpTriggerPxType      | String           | No          | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is last                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; slTriggerPxType      | String           | No          | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is last                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; sz                   | String           | Conditional | Size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; amendPxOnTriggerType | String           | No          | Whether to enable Cost-price SL. Only applicable to SL order of split TPs. Whether <code>slTriggerPx</code> will move to <code>avgPx</code> when the first TP order is triggered<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                      |

#### Response Parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                                                 |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| code          | String           | The result code, <code>0</code> means success                                                                                                                                   |
| msg           | String           | The error message, empty if the code is 0                                                                                                                                       |
| data          | Array of objects | Array of objects contains the response results                                                                                                                                  |
| &gt; ordId    | String           | Order ID                                                                                                                                                                        |
| &gt; clOrdId  | String           | Client Order ID as assigned by the client                                                                                                                                       |
| &gt; tag      | String           | Order tag                                                                                                                                                                       |
| &gt; ts       | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                   |
| &gt; sCode    | String           | The code of the event execution result, <code>0</code> means success.                                                                                                           |
| &gt; sMsg     | String           | Rejection or success message of event execution.                                                                                                                                |
| inTime        | String           | Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code><br>The time is recorded after authentication. |
| outTime       | String           | Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                                                  |

tdMode  
Trade Mode, when placing an order, you need to specify the trade mode.  
**Spot mode:**  
\- SPOT and OPTION buyer: cash  
**Futures mode:**  
\- Isolated MARGIN: isolated  
\- Cross MARGIN: cross  
\- SPOT: cash  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated  
**Multi-currency margin mode:**  
\- Cross SPOT: cross  
\- Cross FUTURES/SWAP/OPTION: cross  
**Portfolio margin:**  
\- Cross SPOT: cross  
\- Cross FUTURES/SWAP/OPTION: cross

clOrdId  
clOrdId is a user-defined unique ID used to identify the order. It will be
included in the response parameters if you have specified during order
submission, and can be used as a request parameter to the endpoints to query,
cancel and amend orders.  
clOrdId must be unique among the clOrdIds of all pending orders.

posSide  
Position side, this parameter is not mandatory in **net** mode. If you pass it
through, the only valid value is **net**.  
In **long/short** mode, it is mandatory. Valid values are **long** or
**short**.  
In **long/short** mode, **side** and **posSide** need to be specified in the
combinations below:  
Open long: buy and open long (side: fill in buy; posSide: fill in long)  
Open short: sell and open short (side: fill in sell; posSide: fill in short)  
Close long: sell and close long (side: fill in sell; posSide: fill in long)  
Close short: buy and close short (side: fill in buy; posSide: fill in short)  
Portfolio margin mode: Expiry Futures and Perpetual Futures only support net
mode

ordType  
Order type. When creating a new order, you must specify the order type. The
order type you specify will affect: 1) what order parameters are required,
and 2) how the matching system executes your order. The following are valid
order types:  
limit: Limit order, which requires specified sz and px.  
market: Market order. For SPOT and MARGIN, market order will be filled with
market price (by swiping opposite order book). For Expiry Futures and Perpetual
Futures, market order will be placed to order book with most aggressive price
allowed by Price Limit Mechanism. For OPTION, market order is not supported yet.
As the filled price for market orders cannot be determined in advance, OKX
reserves/freezes your quote currency by an additional 5% for risk check.  
post_only: Post-only order, which the order can only provide liquidity to the
market and be a maker. If the order would have executed on placement, it will be
canceled instead.  
fok: Fill or kill order. If the order cannot be fully filled, the order will be
canceled. The order would not be partially filled.  
ioc: Immediate or cancel order. Immediately execute the transaction at the order
price, cancel the remaining unfilled quantity of the order, and the order
quantity will not be displayed in the order book.  
optimal_limit_ioc: Market order with ioc (immediate or cancel). Immediately
execute the transaction of this market order, cancel the remaining unfilled
quantity of the order, and the order quantity will not be displayed in the order
book. Only applicable to Expiry Futures and Perpetual Futures.

sz  
Quantity to buy or sell.  
For SPOT/MARGIN Buy and Sell Limit Orders, it refers to the quantity in base
currency.  
For MARGIN Buy Market Orders, it refers to the quantity in quote currency.  
For MARGIN Sell Market Orders, it refers to the quantity in base currency.  
For SPOT Market Orders, it is set by tgtCcy.  
For FUTURES/SWAP/OPTION orders, it refers to the number of contracts.

reduceOnly  
When placing an order with this parameter set to true, it means that the order
will reduce the size of the position only  
For the same MARGIN instrument, the coin quantity of all reverse direction
pending orders adds \`sz\` of new \`reduceOnly\` order cannot exceed the
position assets. After the debt is paid off, if there is a remaining size of
orders, the position will not be opened in reverse, but will be traded in
SPOT.  
For the same FUTURES/SWAP instrument, the sum of the current order size and all
reverse direction reduce-only pending orders which’s price-time priority is
higher than the current order, cannot exceed the contract quantity of
position.  
Only applicable to \`Futures mode\` and \`Multi-currency margin\`  
Only applicable to \`MARGIN\` orders, and \`FUTURES\`/\`SWAP\` orders in \`net\`
mode  
Notice: Under long/short mode of Expiry Futures and Perpetual Futures, all
closing orders apply the reduce-only feature which is not affected by this
parameter.

tgtCcy  
This parameter is used to specify the order quantity in the order request is
denominated in the quantity of base or quote currency. This is applicable to
SPOT Market Orders only.  
Base currency: base_ccy  
Quote currency: quote_ccy  
If you use the Base Currency quantity for buy market orders or the Quote
Currency for sell market orders, please note:  
1\. If the quantity you enter is greater than what you can buy or sell, the
system will execute the order according to your maximum buyable or sellable
quantity. If you want to trade according to the specified quantity, you should
use Limit orders.  
2\. When the market price is too volatile, the locked balance may not be
sufficient to buy the Base Currency quantity or sell to receive the Quote
Currency that you specified. We will change the quantity of the order to execute
the order based on best effort principle based on your account balance. In
addition, we will try to over lock a fraction of your balance to avoid changing
the order quantity.  
2.1 Example of base currency buy market order:  
Taking the market order to buy 10 LTCs as an example, and the user can buy 11
LTC. At this time, if 10 < 11, the order is accepted. When the LTC-USDT market
price is 200, and the locked balance of the user is 3,000 USDT, as 200\*10 <
3,000, the market order of 10 LTC is fully executed; If the market is too
volatile and the LTC-USDT market price becomes 400, 400\*10 > 3,000, the user's
locked balance is not sufficient to buy using the specified amount of base
currency, the user's maximum locked balance of 3,000 USDT will be used to settle
the trade. Final transaction quantity becomes 3,000/400 = 7.5 LTC.  
2.2 Example of quote currency sell market order:  
Taking the market order to sell 1,000 USDT as an example, and the user can sell
1,200 USDT, 1,000 < 1,200, the order is accepted. When the LTC-USDT market price
is 200, and the locked balance of the user is 6 LTC, as 1,000/200 < 6, the
market order of 1,000 USDT is fully executed; If the market is too volatile and
the LTC-USDT market price becomes 100, 100\*6 < 1,000, the user's locked balance
is not sufficient to sell using the specified amount of quote currency, the
user's maximum locked balance of 6 LTC will be used to settle the trade. Final
transaction quantity becomes 6 \* 100 = 600 USDT.

px  
The value for px must be a multiple of tickSz for OPTION orders.  
If not, the system will apply the rounding rules below. Using tickSz 0.0005 as
an example:  
The px will be rounded up to the nearest 0.0005 when the remainder of px to
0.0005 is more than 0.00025 or \`px\` is less than 0.0005.  
The px will be rounded down to the nearest 0.0005 when the remainder of px to
0.0005 is less than 0.00025 and \`px\` is more than 0.0005.

For placing order with TP/Sl:  
1\. TP/SL algo order will be generated only when this order is filled fully, or
there is no TP/SL algo order generated.  
2\. Attaching TP/SL is neither supported for market buy with tgtCcy is base_ccy
or market sell with tgtCcy is quote_ccy  
3\. If tpOrdKind is limit, and there is only one conditional TP order,
attachAlgoClOrdId can be used as clOrdId for retrieving on "GET / Order details"
endpoint.  
4\. For “split TPs”, including condition TP order and limit TP order.  
\* TP/SL orders in Split TPs only support one-way TP/SL. You can't use
slTriggerPx&slOrdPx and tpTriggerPx&tpOrdPx at the same time, or error code
51076 will be thrown.  
\* Take-profit trigger price types (tpTriggerPxType) must be the same in an
order with Split TPs attached, or error code 51080 will be thrown.  
\* Take-profit trigger prices (tpTriggerPx) cannot be the same in an order with
Split TPs attached, or error code 51081 will be thrown.  
\* The size of the TP order among split TPs attached cannot be empty, or error
code 51089 will be thrown.  
\* The total size of TP orders with Split TPs attached in a same order should
equal the size of this order, or error code 51083 will be thrown.  
\* The number of TP orders with Split TPs attached in a same order cannot exceed
10, or error code 51079 will be thrown.  
\* Setting multiple TP and cost-price SL orders isn’t supported for spot and
margin trading, or error code 51077 will be thrown.  
\* The number of SL orders with Split TPs attached in a same order cannot exceed
1, or error code 51084 will be thrown.  
\* The number of TP orders cannot be less than 2 when cost-price SL is enabled
(amendPxOnTriggerType set as 1) for Split TPs, or error code 51085 will be
thrown.  
\* All TP orders in one order must be of the same type, or error code 51091 will
be thrown.  
\* TP order prices (tpOrdPx) in one order must be different, or error code 51092
will be thrown.  
\* TP limit order prices (tpOrdPx) in one order can't be –1 (market price), or
error code 51093 will be thrown.  
\* You can't place TP limit orders in spot, margin, or options trading.
Otherwise, error code 51094 will be thrown.

Mandatory self trade prevention (STP)  
The trading platform imposes mandatory self trade prevention at master account
level, which means the accounts under the same master account, including master
account itself and all its affiliated sub-accounts, will be prevented from self
trade. The account-level acctStpMode will be used to place orders by default.
The default value of this field is \`cancel_maker\`. Users can log in to the
webpage through the master account to modify this configuration. Users can also
utilize the stpMode request parameter of the placing order endpoint to determine
the stpMode of a certain order.  
Mandatory self trade prevention will not lead to latency.  
There are three STP modes. The STP mode is always taken based on the
configuration in the taker order.  
1\. Cancel Maker: This is the default STP mode, which cancels the maker order to
prevent self-trading. Then, the taker order continues to match with the next
order based on the order book priority.  
2\. Cancel Taker: The taker order is canceled to prevent self-trading. If the
user's own maker order is lower in the order book priority, the taker order is
partially filled and then canceled. FOK orders are always honored and canceled
if they would result in self-trading.  
3\. Cancel Both: Both taker and maker orders are canceled to prevent
self-trading. If the user's own maker order is lower in the order book priority,
the taker order is partially filled. Then, the remaining quantity of the taker
order and the first maker order are canceled. FOK orders are not supported in
this mode.

tradeQuoteCcy  
For users in specific countries and regions, this parameter must be filled out
for a successful order. Otherwise, the system will use the quote currency of
instId as the default value, then error code 51000 will occur.  
The value provided must be one of the enumerated values from tradeQuoteCcyList,
which can be obtained from the endpoint Get instruments (GET
/api/v5/account/instruments).

---

### POST / Place multiple orders [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-place-multiple-orders "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-place-multiple-orders")

Place orders in batches. Maximum 20 orders can be placed per request.  
Request parameters should be passed in the form of an array. Orders will be
placed in turn

#### Rate Limit: 300 orders per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 4 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Place order\`.

#### HTTP Request

`POST /api/v5/trade/batch-orders`

#### Request Parameters

| Parameter                 | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------------- | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId                    | String           | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| tdMode                    | String           | Yes         | Trade mode<br>Margin mode <code>cross</code> <code>isolated</code><br>Non-Margin mode <code>cash</code><br><code>spot_isolated</code> (only applicable to SPOT lead trading, <code>tdMode</code> should be <code>spot_isolated</code> for <code>SPOT</code> lead trading.)<br>Note: <code>isolated</code> is not available in multi-currency margin mode and portfolio margin mode.                                                                                                                                                                                                                                                                           |
| ccy                       | String           | No          | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| clOrdId                   | String           | No          | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| tag                       | String           | No          | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| side                      | String           | Yes         | Order side <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| posSide                   | String           | Conditional | Position side<br>The default is <code>net</code> in the <code>net</code> mode<br>It is required in the <code>long/short</code> mode, and can only be <code>long</code> or <code>short</code>.<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>.                                                                                                                                                                                                                                                                                                                                                                                                   |
| ordType                   | String           | Yes         | Order type<br><code>market</code>: Market order, only applicable to <code>SPOT/MARGIN/FUTURES/SWAP</code><br><code>limit</code>: Limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures).<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode) |
| sz                        | String           | Yes         | Quantity to buy or sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| px                        | String           | Conditional | Order price. Only applicable to <code>limit</code>,<code>post_only</code>,<code>fok</code>,<code>ioc</code>,<code>mmp</code>,<code>mmp_and_post_only</code> order.<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                    |
| pxUsd                     | String           | Conditional | Place options orders in <code>USD</code><br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| pxVol                     | String           | Conditional | Place options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| reduceOnly                | Boolean          | No          | Whether the order can only reduce position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>Only applicable to <code>MARGIN</code> orders, and <code>FUTURES</code>/<code>SWAP</code> orders in <code>net</code> mode<br>Only applicable to <code>Futures mode</code> and <code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                      |
| tgtCcy                    | String           | No          | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                                                                            |
| banAmend                  | Boolean          | No          | Whether to disallow the system from amending the size of the SPOT Market Order.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>If <code>true</code>, system will not amend and reject the market order if user does not have sufficient funds.<br>Only applicable to SPOT Market Orders                                                                                                                                                                                                                                                                                                               |
| pxAmendType               | String           | No          | The price amendment type for orders<br><code>0</code>: Do not allow the system to amend to order price if <code>px</code> exceeds the price limit<br><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>px</code> exceeds the price limit<br>The default value is <code>0</code>                                                                                                                                                                                                                                                                                                                 |
| tradeQuoteCcy             | String           | No          | The quote currency used for trading. Only applicable to <code>SPOT</code>.<br>The default value is the quote currency of the <code>instId</code>, for example: for <code>BTC-USD</code>, the default is <code>USD</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| stpMode                   | String           | No          | Self trade prevention mode.<br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code><br>Cancel both does not support FOK.<br><br>The account-level acctStpMode will be used to place orders by default. The default value of this field is <code>cancel_maker</code>. Users can log in to the webpage through the master account to modify this configuration. Users can also utilize the stpMode request parameter of the placing order endpoint to determine the stpMode of a certain order.                                                                                                                                        |
| attachAlgoOrds            | Array of objects | No          | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; attachAlgoClOrdId    | String           | No          | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; tpTriggerPx          | String           | Conditional | Take-profit trigger price<br>For condition TP order, if you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; tpOrdPx              | String           | Conditional | Take-profit order price<br>For condition TP order, if you fill in this parameter, you should fill in the take-profit trigger price as well.<br>For limit TP order, you need to fill in this parameter, take-profit trigger needn't to be filled.<br>If the price is -1, take-profit will be executed at the market price.                                                                                                                                                                                                                                                                                                                                     |
| &gt; tpOrdKind            | String           | No          | TP order kind<br><code>condition</code><br><code>limit</code><br>The default is <code>condition</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; slTriggerPx          | String           | Conditional | Stop-loss trigger price<br>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; slOrdPx              | String           | Conditional | Stop-loss order price<br>If you fill in this parameter, you should fill in the stop-loss trigger price.<br>If the price is -1, stop-loss will be executed at the market price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; tpTriggerPxType      | String           | No          | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is last                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; slTriggerPxType      | String           | No          | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is last                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; sz                   | String           | Conditional | Size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; amendPxOnTriggerType | String           | No          | Whether to enable Cost-price SL. Only applicable to SL order of split TPs. Whether <code>slTriggerPx</code> will move to <code>avgPx</code> when the first TP order is triggered<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                      |

#### Response Parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                                                 |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| code          | String           | The result code, <code>0</code> means success                                                                                                                                   |
| msg           | String           | The error message, empty if the code is 0                                                                                                                                       |
| data          | Array of objects | Array of objects contains the response results                                                                                                                                  |
| &gt; ordId    | String           | Order ID                                                                                                                                                                        |
| &gt; clOrdId  | String           | Client Order ID as assigned by the client                                                                                                                                       |
| &gt; tag      | String           | Order tag                                                                                                                                                                       |
| &gt; ts       | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                   |
| &gt; sCode    | String           | The code of the event execution result, <code>0</code> means success.                                                                                                           |
| &gt; sMsg     | String           | Rejection or success message of event execution.                                                                                                                                |
| inTime        | String           | Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code><br>The time is recorded after authentication. |
| outTime       | String           | Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                                                  |

In the \`Portfolio Margin\` account mode, either all orders are accepted by the
system successfully, or all orders are rejected by the system.

clOrdId  
clOrdId is a user-defined unique ID used to identify the order. It will be
included in the response parameters if you have specified during order
submission, and can be used as a request parameter to the endpoints to query,
cancel and amend orders.  
clOrdId must be unique among all pending orders and the current request.

---

### POST / Cancel order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-cancel-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-cancel-order")

Cancel an incomplete order.

#### Rate Limit: 60 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/cancel-order`

#### Request Parameters

| Parameter | Type   | Required    | Description                                                                                                        |
| --------- | ------ | ----------- | ------------------------------------------------------------------------------------------------------------------ |
| instId    | String | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                          |
| ordId     | String | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required. If both are passed, ordId will be used. |
| clOrdId   | String | Conditional | Client Order ID as assigned by the client                                                                          |

#### Response Parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                                                 |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| code          | String           | The result code, <code>0</code> means success                                                                                                                                   |
| msg           | String           | The error message, empty if the code is 0                                                                                                                                       |
| data          | Array of objects | Array of objects contains the response results                                                                                                                                  |
| &gt; ordId    | String           | Order ID                                                                                                                                                                        |
| &gt; clOrdId  | String           | Client Order ID as assigned by the client                                                                                                                                       |
| &gt; ts       | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                   |
| &gt; sCode    | String           | The code of the event execution result, <code>0</code> means success.                                                                                                           |
| &gt; sMsg     | String           | Rejection message if the request is unsuccessful.                                                                                                                               |
| inTime        | String           | Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code><br>The time is recorded after authentication. |
| outTime       | String           | Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                                                  |

Cancel order returns with sCode equal to 0. It is not strictly considered that
the order has been canceled. It only means that your cancellation request has
been accepted by the system server. The result of the cancellation is subject to
the state pushed by the order channel or the get order state.

---

### POST / Cancel multiple orders [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-cancel-multiple-orders "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-cancel-multiple-orders")

Cancel incomplete orders in batches. Maximum 20 orders can be canceled per
request. Request parameters should be passed in the form of an array.

#### Rate Limit: 300 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Cancel order\`.

#### HTTP Request

`POST /api/v5/trade/cancel-batch-orders`

#### Request Parameters

| Parameter | Type   | Required    | Description                                                                                                                     |
| --------- | ------ | ----------- | ------------------------------------------------------------------------------------------------------------------------------- |
| instId    | String | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                       |
| ordId     | String | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required. If both are passed, <code>ordId</code> will be used. |
| clOrdId   | String | Conditional | Client Order ID as assigned by the client                                                                                       |

#### Response Parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                                                 |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| code          | String           | The result code, <code>0</code> means success                                                                                                                                   |
| msg           | String           | The error message, empty if the code is 0                                                                                                                                       |
| data          | Array of objects | Array of objects contains the response results                                                                                                                                  |
| &gt; ordId    | String           | Order ID                                                                                                                                                                        |
| &gt; clOrdId  | String           | Client Order ID as assigned by the client                                                                                                                                       |
| &gt; ts       | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                   |
| &gt; sCode    | String           | The code of the event execution result, <code>0</code> means success.                                                                                                           |
| &gt; sMsg     | String           | Rejection message if the request is unsuccessful.                                                                                                                               |
| inTime        | String           | Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code><br>The time is recorded after authentication. |
| outTime       | String           | Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                                                  |

---

### POST / Amend order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-amend-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-amend-order")

Amend an incomplete order.

#### Rate Limit: 60 requests per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 4 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

#### HTTP Request

`POST /api/v5/trade/amend-order`

#### Request Parameters

| Parameter                 | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                         |
| ------------------------- | ---------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId                    | String           | Yes         | Instrument ID                                                                                                                                                                                                                                                                                                                                       |
| cxlOnFail                 | Boolean          | No          | Whether the order needs to be automatically canceled when the order amendment fails<br>Valid options: <code>false</code> or <code>true</code>, the default is <code>false</code>.                                                                                                                                                                   |
| ordId                     | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required. If both are passed, <code>ordId</code> will be used.                                                                                                                                                                                                                     |
| clOrdId                   | String           | Conditional | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                           |
| reqId                     | String           | No          | Client Request ID as assigned by the client for order amendment<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>The response will include the corresponding <code>reqId</code> to help you identify the request if you provide it in the request.                                          |
| newSz                     | String           | Conditional | New quantity after amendment and it has to be larger than 0. When amending a partially-filled order, the <code>newSz</code> should include the amount that has been filled.                                                                                                                                                                         |
| newPx                     | String           | Conditional | New price after amendment.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order.                                                 |
| newPxUsd                  | String           | Conditional | Modify options orders using USD prices<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                                                                  |
| newPxVol                  | String           | Conditional | Modify options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                              |
| pxAmendType               | String           | No          | The price amendment type for orders<br><code>0</code>: Do not allow the system to amend to order price if <code>newPx</code> exceeds the price limit<br><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>newPx</code> exceeds the price limit<br>The default value is <code>0</code> |
| attachAlgoOrds            | Array of objects | No          | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                       |
| &gt; attachAlgoId         | String           | Conditional | The order ID of attached TP/SL order. It is required to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                              |
| &gt; attachAlgoClOrdId    | String           | Conditional | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                             |
| &gt; newTpTriggerPx       | String           | Conditional | Take-profit trigger price.<br>Either the take profit trigger price or order price is 0, it means that the take profit is deleted.                                                                                                                                                                                                                   |
| &gt; newTpOrdPx           | String           | Conditional | Take-profit order price<br>If the price is -1, take-profit will be executed at the market price.                                                                                                                                                                                                                                                    |
| &gt; newTpOrdKind         | String           | No          | TP order kind<br><code>condition</code><br><code>limit</code>                                                                                                                                                                                                                                                                                       |
| &gt; newSlTriggerPx       | String           | Conditional | Stop-loss trigger price<br>Either the stop loss trigger price or order price is 0, it means that the stop loss is deleted.                                                                                                                                                                                                                          |
| &gt; newSlOrdPx           | String           | Conditional | Stop-loss order price<br>If the price is -1, stop-loss will be executed at the market price.                                                                                                                                                                                                                                                        |
| &gt; newTpTriggerPxType   | String           | Conditional | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code><br>If you want to add the take-profit, this parameter is required                                                                                  |
| &gt; newSlTriggerPxType   | String           | Conditional | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code><br>If you want to add the stop-loss, this parameter is required                                                                                      |
| &gt; sz                   | String           | Conditional | New size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                                                                                                                                                                    |
| &gt; amendPxOnTriggerType | String           | No          | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                  |

#### Response Parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                                                 |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| code          | String           | The result code, <code>0</code> means success                                                                                                                                   |
| msg           | String           | The error message, empty if the code is 0                                                                                                                                       |
| data          | Array of objects | Array of objects contains the response results                                                                                                                                  |
| &gt; ordId    | String           | Order ID                                                                                                                                                                        |
| &gt; clOrdId  | String           | Client Order ID as assigned by the client                                                                                                                                       |
| &gt; ts       | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                   |
| &gt; reqId    | String           | Client Request ID as assigned by the client for order amendment.                                                                                                                |
| &gt; sCode    | String           | The code of the event execution result, <code>0</code> means success.                                                                                                           |
| &gt; sMsg     | String           | Rejection message if the request is unsuccessful.                                                                                                                               |
| inTime        | String           | Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code><br>The time is recorded after authentication. |
| outTime       | String           | Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                                                  |

newSz  
If the new quantity of the order is less than or equal to the filled quantity
when you are amending a partially-filled order, the order status will be changed
to filled.

The amend order returns sCode equal to 0. It is not strictly considered that the
order has been amended. It only means that your amend order request has been
accepted by the system server. The result of the amend is subject to the status
pushed by the order channel or the order status query

---

### POST / Amend multiple orders [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-amend-multiple-orders "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-amend-multiple-orders")

Amend incomplete orders in batches. Maximum 20 orders can be amended per
request. Request parameters should be passed in the form of an array.

#### Rate Limit: 300 orders per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 4 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Amend order\`.

#### HTTP Request

`POST /api/v5/trade/amend-batch-orders`

#### Request Parameters

| Parameter                 | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                         |
| ------------------------- | ---------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId                    | String           | Yes         | Instrument ID                                                                                                                                                                                                                                                                                                                                       |
| cxlOnFail                 | Boolean          | No          | Whether the order needs to be automatically canceled when the order amendment fails<br><code>false</code> <code>true</code>, the default is <code>false</code>.                                                                                                                                                                                     |
| ordId                     | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code>is required, if both are passed, <code>ordId</code> will be used.                                                                                                                                                                                                                      |
| clOrdId                   | String           | Conditional | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                           |
| reqId                     | String           | No          | Client Request ID as assigned by the client for order amendment<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>The response will include the corresponding <code>reqId</code> to help you identify the request if you provide it in the request.                                          |
| newSz                     | String           | Conditional | New quantity after amendment and it has to be larger than 0. When amending a partially-filled order, the <code>newSz</code> should include the amount that has been filled.                                                                                                                                                                         |
| newPx                     | String           | Conditional | New price after amendment.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order.                                                 |
| newPxUsd                  | String           | Conditional | Modify options orders using USD prices<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                                                                  |
| newPxVol                  | String           | Conditional | Modify options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                              |
| pxAmendType               | String           | No          | The price amendment type for orders<br><code>0</code>: Do not allow the system to amend to order price if <code>newPx</code> exceeds the price limit<br><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>newPx</code> exceeds the price limit<br>The default value is <code>0</code> |
| attachAlgoOrds            | Array of objects | No          | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                       |
| &gt; attachAlgoId         | String           | Conditional | The order ID of attached TP/SL order. It is required to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                              |
| &gt; attachAlgoClOrdId    | String           | Conditional | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                             |
| &gt; newTpTriggerPx       | String           | Conditional | Take-profit trigger price.<br>Either the take profit trigger price or order price is 0, it means that the take profit is deleted.                                                                                                                                                                                                                   |
| &gt; newTpOrdPx           | String           | Conditional | Take-profit order price<br>If the price is -1, take-profit will be executed at the market price.                                                                                                                                                                                                                                                    |
| &gt; newTpOrdKind         | String           | No          | TP order kind<br><code>condition</code><br><code>limit</code>                                                                                                                                                                                                                                                                                       |
| &gt; newSlTriggerPx       | String           | Conditional | Stop-loss trigger price<br>Either the stop loss trigger price or order price is 0, it means that the stop loss is deleted.                                                                                                                                                                                                                          |
| &gt; newSlOrdPx           | String           | Conditional | Stop-loss order price<br>If the price is -1, stop-loss will be executed at the market price.                                                                                                                                                                                                                                                        |
| &gt; newTpTriggerPxType   | String           | Conditional | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code><br>If you want to add the take-profit, this parameter is required                                                                                  |
| &gt; newSlTriggerPxType   | String           | Conditional | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code><br>If you want to add the stop-loss, this parameter is required                                                                                      |
| &gt; sz                   | String           | Conditional | New size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                                                                                                                                                                    |
| &gt; amendPxOnTriggerType | String           | No          | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                  |

#### Response Parameters

| **Parameter** | **Type**         | **Description**                                                                                                                                                                 |
| ------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| code          | String           | The result code, <code>0</code> means success                                                                                                                                   |
| msg           | String           | The error message, empty if the code is 0                                                                                                                                       |
| data          | Array of objects | Array of objects contains the response results                                                                                                                                  |
| &gt; ordId    | String           | Order ID                                                                                                                                                                        |
| &gt; clOrdId  | String           | Client Order ID as assigned by the client                                                                                                                                       |
| &gt; ts       | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                   |
| &gt; reqId    | String           | Client Request ID as assigned by the client for order amendment.                                                                                                                |
| &gt; sCode    | String           | The code of the event execution result, <code>0</code> means success.                                                                                                           |
| &gt; sMsg     | String           | Rejection message if the request is unsuccessful.                                                                                                                               |
| inTime        | String           | Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code><br>The time is recorded after authentication. |
| outTime       | String           | Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                                                  |

newSz  
If the new quantity of the order is less than or equal to the filled quantity
when you are amending a partially-filled order, the order status will be changed
to filled.

---

### POST / Close positions [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-close-positions "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-close-positions")

Close the position of an instrument via a market order.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/close-position`

#### Request Parameters

| Parameter | Type    | Required    | Description                                                                                                                                                                                                                                                                                                               |
| --------- | ------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId    | String  | Yes         | Instrument ID                                                                                                                                                                                                                                                                                                             |
| posSide   | String  | Conditional | Position side<br>This parameter can be omitted in <code>net</code> mode, and the default value is <code>net</code>. You can only fill with <code>net</code>.<br>This parameter must be filled in under the <code>long/short</code> mode. Fill in <code>long</code> for close-long and <code>short</code> for close-short. |
| mgnMode   | String  | Yes         | Margin mode<br><code>cross</code> <code>isolated</code>                                                                                                                                                                                                                                                                   |
| ccy       | String  | Conditional | Margin currency, required in the case of closing <code>cross</code> <code>MARGIN</code> position for <code>Futures mode</code>.                                                                                                                                                                                           |
| autoCxl   | Boolean | No          | Whether any pending orders for closing out needs to be automatically canceled when close position via a market order.<br><code>false</code> or <code>true</code>, the default is <code>false</code>.                                                                                                                      |
| clOrdId   | String  | No          | Client-supplied ID<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                  |
| tag       | String  | No          | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                           |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                          |
| ------------- | -------- | ------------------------------------------------------------------------------------------------------------------------ |
| instId        | String   | Instrument ID                                                                                                            |
| posSide       | String   | Position side                                                                                                            |
| clOrdId       | String   | Client-supplied ID<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| tag           | String   | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.          |

if there are any pending orders for closing out and the orders do not need to be
automatically canceled, it will return an error code and message to prompt users
to cancel pending orders before closing the positions.

---

### GET / Order details [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-order-details "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-order-details")

Retrieve order details.

#### Rate Limit: 60 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/order`

#### Request Parameters

| Parameter | Type   | Required    | Description                                                                                                                                        |
| --------- | ------ | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId    | String | Yes         | Instrument ID, e.g. <code>BTC-USDT</code><br>Only applicable to live instruments                                                                   |
| ordId     | String | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, <code>ordId</code> will be used                     |
| clOrdId   | String | Conditional | Client Order ID as assigned by the client<br>If the <code>clOrdId</code> is associated with multiple orders, only the latest one will be returned. |

#### Response Parameters

| **Parameter**             | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType                  | String           | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instId                    | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| tgtCcy                    | String           | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                    |
| ccy                       | String           | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ordId                     | String           | Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| clOrdId                   | String           | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| tag                       | String           | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| px                        | String           | Price<br>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| pxUsd                     | String           | Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| pxVol                     | String           | Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| pxType                    | String           | Price type of options<br><code>px</code>: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)<br><code>pxVol</code>: Place an order based on pxVol<br><code>pxUsd</code>: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                                                                                                                                                                       |
| sz                        | String           | Quantity to buy or sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| pnl                       | String           | Profit and loss (excluding the fee).<br>Applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ordType                   | String           | Order type<br><code>market</code>: Market order<br><code>limit</code>: Limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)<br><code>op_fok</code>: Simple options (fok) |
| side                      | String           | Order side                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| posSide                   | String           | Position side                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| tdMode                    | String           | Trade mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| accFillSz                 | String           | Accumulated fill quantity<br>The unit is <code>base_ccy</code> for SPOT and MARGIN, e.g. BTC-USDT, the unit is BTC; For market orders, the unit both is <code>base_ccy</code> when the tgtCcy is <code>base_ccy</code> or <code>quote_ccy</code>;<br>The unit is contract for <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                              |
| fillPx                    | String           | Last filled price. If none is filled, it will return "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| tradeId                   | String           | Last traded ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| fillSz                    | String           | Last filled quantity<br>The unit is <code>base_ccy</code> for SPOT and MARGIN, e.g. BTC-USDT, the unit is BTC; For market orders, the unit both is <code>base_ccy</code> when the tgtCcy is <code>base_ccy</code> or <code>quote_ccy</code>;<br>The unit is contract for <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                   |
| fillTime                  | String           | Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| avgPx                     | String           | Average filled price. If none is filled, it will return "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| state                     | String           | State<br><code>canceled</code><br><code>live</code><br><code>partially_filled</code><br><code>filled</code><br><code>mmp_canceled</code>                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| stpId                     | String           | <del>Self trade prevention ID<br>Return "" if self trade prevention is not applicable</del> (deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| stpMode                   | String           | Self trade prevention mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| lever                     | String           | Leverage, from <code>0.01</code> to <code>125</code>.<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| attachAlgoClOrdId         | String           | Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| tpTriggerPx               | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| tpTriggerPxType           | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| tpOrdPx                   | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| slTriggerPx               | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| slTriggerPxType           | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| slOrdPx                   | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| attachAlgoOrds            | Array of objects | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; attachAlgoId         | String           | The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; attachAlgoClOrdId    | String           | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                                                                                                                                                                                                                               |
| &gt; tpOrdKind            | String           | TP order kind<br><code>condition</code><br><code>limit</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; tpTriggerPx          | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; tpTriggerPxType      | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; tpOrdPx              | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slTriggerPx          | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slTriggerPxType      | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; slOrdPx              | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; sz                   | String           | Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; amendPxOnTriggerType | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; amendPxOnTriggerType | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; failCode             | String           | The error code when failing to place TP/SL order, e.g. 51020<br>The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; failReason           | String           | The error reason when failing to place TP/SL order.<br>The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| linkedAlgoOrd             | Object           | Linked SL order detail, only applicable to the order that is placed by one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; algoId               | String           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| feeCcy                    | String           | Fee currency<br>For maker sell orders in Spot and Margin, this represents the quote currency. For all other cases, it represents the currency in which fees are charged.                                                                                                                                                                                                                                                                                                                                                                                                              |
| fee                       | String           | Fee amount<br>For Spot and Margin (excluding maker sell orders): accumulated fee charged by the platform, always negative<br>For maker sell orders in Spot and Margin, Expiry Futures, Perpetual Futures and Options: accumulated fee and rebate (always in quote currency for maker sell orders in Spot and Margin)                                                                                                                                                                                                                                                                  |
| rebateCcy                 | String           | Rebate currency<br>For maker sell orders in Spot and Margin, this represents the base currency. For all other cases, it represents the currency in which rebates are paid.                                                                                                                                                                                                                                                                                                                                                                                                            |
| rebate                    | String           | Rebate amount, only applicable to Spot and Margin<br>For maker sell orders: Accumulated fee and rebate amount in base currency.<br>For all other cases, it represents the maker rebate amount, always positive, return "" if no rebate.                                                                                                                                                                                                                                                                                                                                               |
| source                    | String           | Order source<br><code>6</code>: The normal order triggered by the <code>trigger order</code><br><code>7</code>:The normal order triggered by the <code>TP/SL order</code><br><code>13</code>: The normal order triggered by the algo order<br><code>25</code>:The normal order triggered by the <code>trailing stop order</code><br><code>34</code>: The normal order triggered by the chase order                                                                                                                                                                                    |
| category                  | String           | Category<br><code>normal</code><br><code>twap</code><br><code>adl</code><br><code>full_liquidation</code><br><code>partial_liquidation</code><br><code>delivery</code><br><code>ddh</code>: Delta dynamic hedge<br><code>auto_conversion</code>                                                                                                                                                                                                                                                                                                                                       |
| reduceOnly                | String           | Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| isTpLimit                 | String           | Whether it is TP limit order. true or false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| cancelSource              | String           | Code of the cancellation source.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| cancelSourceReason        | String           | Reason for the cancellation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| quickMgnType              | String           | Quick Margin type, Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code>                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| algoClOrdId               | String           | Client-supplied Algo ID. There will be a value when algo order attaching <code>algoClOrdId</code> is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| algoId                    | String           | Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| uTime                     | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| cTime                     | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| tradeQuoteCcy             | String           | The quote currency used for trading.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

---

### GET / Order List [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-order-list "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-order-list")

Retrieve all incomplete orders under the current account.

#### Rate Limit: 60 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/orders-pending`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ---------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType   | String | No       | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instFamily | String | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| instId     | String | No       | Instrument ID, e.g. <code>BTC-USD-200927</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ordType    | String | No       | Order type<br><code>market</code>: Market order<br><code>limit</code>: Limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)<br><code>op_fok</code>: Simple options (fok) |
| state      | String | No       | State<br><code>live</code><br><code>partially_filled</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| after      | String | No       | Pagination of data to return records earlier than the requested <code>ordId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| before     | String | No       | Pagination of data to return records newer than the requested <code>ordId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| limit      | String | No       | Number of results per request. The maximum is <code>100</code>; The default is <code>100</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

#### Response Parameters

| **Parameter**             | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType                  | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instId                    | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| tgtCcy                    | String           | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                    |
| ccy                       | String           | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ordId                     | String           | Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| clOrdId                   | String           | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| tag                       | String           | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| px                        | String           | Price<br>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| pxUsd                     | String           | Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| pxVol                     | String           | Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| pxType                    | String           | Price type of options<br><code>px</code>: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)<br><code>pxVol</code>: Place an order based on pxVol<br><code>pxUsd</code>: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                                                                                                                                                                       |
| sz                        | String           | Quantity to buy or sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| pnl                       | String           | Profit and loss (excluding the fee).<br>Applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ordType                   | String           | Order type<br><code>market</code>: Market order<br><code>limit</code>: Limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)<br><code>op_fok</code>: Simple options (fok) |
| side                      | String           | Order side                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| posSide                   | String           | Position side                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| tdMode                    | String           | Trade mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| accFillSz                 | String           | Accumulated fill quantity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| fillPx                    | String           | Last filled price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| tradeId                   | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| fillSz                    | String           | Last filled quantity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| fillTime                  | String           | Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| avgPx                     | String           | Average filled price. If none is filled, it will return "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| state                     | String           | State<br><code>live</code><br><code>partially_filled</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| lever                     | String           | Leverage, from <code>0.01</code> to <code>125</code>.<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| attachAlgoClOrdId         | String           | Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| tpTriggerPx               | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| tpTriggerPxType           | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| tpOrdPx                   | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| slTriggerPx               | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| slTriggerPxType           | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| slOrdPx                   | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| attachAlgoOrds            | Array of objects | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; attachAlgoId         | String           | The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; attachAlgoClOrdId    | String           | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                                                                                                                                                                                                                               |
| &gt; tpOrdKind            | String           | TP order kind<br><code>condition</code><br><code>limit</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; tpTriggerPx          | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; tpTriggerPxType      | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; tpOrdPx              | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slTriggerPx          | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slTriggerPxType      | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; slOrdPx              | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; sz                   | String           | Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; amendPxOnTriggerType | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; failCode             | String           | The error code when failing to place TP/SL order, e.g. 51020<br>The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; failReason           | String           | The error reason when failing to place TP/SL order.<br>The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| linkedAlgoOrd             | Object           | Linked SL order detail, only applicable to the order that is placed by one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; algoId               | String           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| stpId                     | String           | <del>Self trade prevention ID<br>Return "" if self trade prevention is not applicable</del> (deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| stpMode                   | String           | Self trade prevention mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| feeCcy                    | String           | Fee currency<br>For maker sell orders in Spot and Margin, this represents the quote currency. For all other cases, it represents the currency in which fees are charged.                                                                                                                                                                                                                                                                                                                                                                                                              |
| fee                       | String           | Fee amount<br>For Spot and Margin (excluding maker sell orders): accumulated fee charged by the platform, always negative<br>For maker sell orders in Spot and Margin, Expiry Futures, Perpetual Futures and Options: accumulated fee and rebate (always in quote currency for maker sell orders in Spot and Margin)                                                                                                                                                                                                                                                                  |
| rebateCcy                 | String           | Rebate currency<br>For maker sell orders in Spot and Margin, this represents the base currency. For all other cases, it represents the currency in which rebates are paid.                                                                                                                                                                                                                                                                                                                                                                                                            |
| rebate                    | String           | Rebate amount, only applicable to Spot and Margin<br>For maker sell orders: Accumulated fee and rebate amount in base currency.<br>For all other cases, it represents the maker rebate amount, always positive, return "" if no rebate.                                                                                                                                                                                                                                                                                                                                               |
| source                    | String           | Order source<br><code>6</code>: The normal order triggered by the <code>trigger order</code><br><code>7</code>:The normal order triggered by the <code>TP/SL order</code><br><code>13</code>: The normal order triggered by the algo order<br><code>25</code>:The normal order triggered by the <code>trailing stop order</code><br><code>34</code>: The normal order triggered by the chase order                                                                                                                                                                                    |
| category                  | String           | Category<br><code>normal</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| reduceOnly                | String           | Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| quickMgnType              | String           | Quick Margin type, Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code>                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| algoClOrdId               | String           | Client-supplied Algo ID. There will be a value when algo order attaching <code>algoClOrdId</code> is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| algoId                    | String           | Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| isTpLimit                 | String           | Whether it is TP limit order. true or false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| uTime                     | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| cTime                     | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| cancelSource              | String           | Code of the cancellation source.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| cancelSourceReason        | String           | Reason for the cancellation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| tradeQuoteCcy             | String           | The quote currency used for trading.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

---

### GET / Order history (last 7 days) [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-order-history-last-7-days "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-order-history-last-7-days")

Get completed orders which are placed in the last 7 days, including those placed
7 days ago but completed in the last 7 days.

The incomplete orders that have been canceled are only reserved for 2 hours.

#### Rate Limit: 40 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/orders-history`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ---------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType   | String | yes      | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instFamily | String | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| instId     | String | No       | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| ordType    | String | No       | Order type<br><code>market</code>: market order<br><code>limit</code>: limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)<br><code>op_fok</code>: Simple options (fok) |
| state      | String | No       | State<br><code>canceled</code><br><code>filled</code><br><code>mmp_canceled</code>: Order canceled automatically due to Market Maker Protection                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| category   | String | No       | Category<br><code>twap</code><br><code>adl</code><br><code>full_liquidation</code><br><code>partial_liquidation</code><br><code>delivery</code><br><code>ddh</code>: Delta dynamic hedge                                                                                                                                                                                                                                                                                                                                                                                              |
| after      | String | No       | Pagination of data to return records earlier than the requested <code>ordId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| before     | String | No       | Pagination of data to return records newer than the requested <code>ordId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| begin      | String | No       | Filter with a begin timestamp <code>cTime</code>. Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| end        | String | No       | Filter with an end timestamp <code>cTime</code>. Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| limit      | String | No       | Number of results per request. The maximum is <code>100</code>; The default is <code>100</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

#### Response Parameters

| **Parameter**             | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType                  | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instId                    | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| tgtCcy                    | String           | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                    |
| ccy                       | String           | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ordId                     | String           | Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| clOrdId                   | String           | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| tag                       | String           | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| px                        | String           | Price<br>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| pxUsd                     | String           | Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| pxVol                     | String           | Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| pxType                    | String           | Price type of options<br><code>px</code>: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)<br><code>pxVol</code>: Place an order based on pxVol<br><code>pxUsd</code>: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                                                                                                                                                                       |
| sz                        | String           | Quantity to buy or sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ordType                   | String           | Order type<br><code>market</code>: market order<br><code>limit</code>: limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)<br><code>op_fok</code>: Simple options (fok) |
| side                      | String           | Order side                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| posSide                   | String           | Position side                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| tdMode                    | String           | Trade mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| accFillSz                 | String           | Accumulated fill quantity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| fillPx                    | String           | Last filled price. If none is filled, it will return "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| tradeId                   | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| fillSz                    | String           | Last filled quantity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| fillTime                  | String           | Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| avgPx                     | String           | Average filled price. If none is filled, it will return "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| state                     | String           | State<br><code>canceled</code><br><code>filled</code><br><code>mmp_canceled</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| lever                     | String           | Leverage, from <code>0.01</code> to <code>125</code>.<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| attachAlgoClOrdId         | String           | Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| tpTriggerPx               | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| tpTriggerPxType           | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| tpOrdPx                   | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| slTriggerPx               | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| slTriggerPxType           | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| slOrdPx                   | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| attachAlgoOrds            | Array of objects | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; attachAlgoId         | String           | The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; attachAlgoClOrdId    | String           | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                                                                                                                                                                                                                               |
| &gt; tpOrdKind            | String           | TP order kind<br><code>condition</code><br><code>limit</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; tpTriggerPx          | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; tpTriggerPxType      | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; tpOrdPx              | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slTriggerPx          | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slTriggerPxType      | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; slOrdPx              | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; sz                   | String           | Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; amendPxOnTriggerType | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; failCode             | String           | The error code when failing to place TP/SL order, e.g. 51020<br>The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; failReason           | String           | The error reason when failing to place TP/SL order.<br>The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| linkedAlgoOrd             | Object           | Linked SL order detail, only applicable to the order that is placed by one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; algoId               | String           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| stpId                     | String           | <del>Self trade prevention ID<br>Return "" if self trade prevention is not applicable</del> (deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| stpMode                   | String           | Self trade prevention mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| feeCcy                    | String           | Fee currency<br>For maker sell orders in Spot and Margin, this represents the quote currency. For all other cases, it represents the currency in which fees are charged.                                                                                                                                                                                                                                                                                                                                                                                                              |
| fee                       | String           | Fee amount<br>For Spot and Margin (excluding maker sell orders): accumulated fee charged by the platform, always negative<br>For maker sell orders in Spot and Margin, Expiry Futures, Perpetual Futures and Options: accumulated fee and rebate (always in quote currency for maker sell orders in Spot and Margin)                                                                                                                                                                                                                                                                  |
| rebateCcy                 | String           | Rebate currency<br>For maker sell orders in Spot and Margin, this represents the base currency. For all other cases, it represents the currency in which rebates are paid.                                                                                                                                                                                                                                                                                                                                                                                                            |
| rebate                    | String           | Rebate amount, only applicable to Spot and Margin<br>For maker sell orders: Accumulated fee and rebate amount in base currency.<br>For all other cases, it represents the maker rebate amount, always positive, return "" if no rebate.                                                                                                                                                                                                                                                                                                                                               |
| source                    | String           | Order source<br><code>6</code>: The normal order triggered by the <code>trigger order</code><br><code>7</code>:The normal order triggered by the <code>TP/SL order</code><br><code>13</code>: The normal order triggered by the algo order<br><code>25</code>:The normal order triggered by the <code>trailing stop order</code><br><code>34</code>: The normal order triggered by the chase order                                                                                                                                                                                    |
| pnl                       | String           | Profit and loss (excluding the fee).<br>Applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| category                  | String           | Category<br><code>normal</code><br><code>twap</code><br><code>adl</code><br><code>full_liquidation</code><br><code>partial_liquidation</code><br><code>delivery</code><br><code>ddh</code>: Delta dynamic hedge<br><code>auto_conversion</code>                                                                                                                                                                                                                                                                                                                                       |
| reduceOnly                | String           | Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| cancelSource              | String           | Code of the cancellation source.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| cancelSourceReason        | String           | Reason for the cancellation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| algoClOrdId               | String           | Client-supplied Algo ID. There will be a value when algo order attaching <code>algoClOrdId</code> is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| algoId                    | String           | Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| isTpLimit                 | String           | Whether it is TP limit order. true or false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| uTime                     | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| cTime                     | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| quickMgnType              | String           | <del>Quick Margin type, Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code></del> (Deprecated)                                                                                                                                                                                                                                                                                                                                                                                                          |
| tradeQuoteCcy             | String           | The quote currency used for trading.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

---

### GET / Order history (last 3 months) [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-order-history-last-3-months "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-order-history-last-3-months")

Get completed orders which are placed in the last 3 months, including those
placed 3 months ago but completed in the last 3 months.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/orders-history-archive`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ---------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType   | String | yes      | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instFamily | String | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| instId     | String | No       | Instrument ID, e.g. <code>BTC-USD-200927</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ordType    | String | No       | Order type<br><code>market</code>: Market order<br><code>limit</code>: Limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)<br><code>op_fok</code>: Simple options (fok) |
| state      | String | No       | State<br><code>canceled</code><br><code>filled</code><br><code>mmp_canceled</code>: Order canceled automatically due to Market Maker Protection                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| category   | String | No       | Category<br><code>twap</code><br><code>adl</code><br><code>full_liquidation</code><br><code>partial_liquidation</code><br><code>delivery</code><br><code>ddh</code>: Delta dynamic hedge                                                                                                                                                                                                                                                                                                                                                                                              |
| after      | String | No       | Pagination of data to return records earlier than the requested <code>ordId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| before     | String | No       | Pagination of data to return records newer than the requested <code>ordId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| begin      | String | No       | Filter with a begin timestamp <code>cTime</code>. Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| end        | String | No       | Filter with an end timestamp <code>cTime</code>. Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| limit      | String | No       | Number of results per request. The maximum is <code>100</code>; The default is <code>100</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

#### Response Parameters

| **Parameter**             | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| ------------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType                  | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instId                    | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| tgtCcy                    | String           | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                    |
| ccy                       | String           | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ordId                     | String           | Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| clOrdId                   | String           | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| tag                       | String           | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| px                        | String           | Price<br>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| pxUsd                     | String           | Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| pxVol                     | String           | Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| pxType                    | String           | Price type of options<br><code>px</code>: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)<br><code>pxVol</code>: Place an order based on pxVol<br><code>pxUsd</code>: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                                                                                                                                                                       |
| sz                        | String           | Quantity to buy or sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ordType                   | String           | Order type<br><code>market</code>: Market order<br><code>limit</code>: Limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)<br><code>op_fok</code>: Simple options (fok) |
| side                      | String           | Order side                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| posSide                   | String           | Position side                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| tdMode                    | String           | Trade mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| accFillSz                 | String           | Accumulated fill quantity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| fillPx                    | String           | Last filled price. If none is filled, it will return "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| tradeId                   | String           | Last trade ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| fillSz                    | String           | Last filled quantity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| fillTime                  | String           | Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| avgPx                     | String           | Average filled price. If none is filled, it will return "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| state                     | String           | State<br><code>canceled</code><br><code>filled</code><br><code>mmp_canceled</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| lever                     | String           | Leverage, from <code>0.01</code> to <code>125</code>.<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| attachAlgoClOrdId         | String           | Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| tpTriggerPx               | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| tpTriggerPxType           | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| tpOrdPx                   | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| slTriggerPx               | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| slTriggerPxType           | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| slOrdPx                   | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| attachAlgoOrds            | Array of objects | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; attachAlgoId         | String           | The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; attachAlgoClOrdId    | String           | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                                                                                                                                                                                                                               |
| &gt; tpOrdKind            | String           | TP order kind<br><code>condition</code><br><code>limit</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; tpTriggerPx          | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; tpTriggerPxType      | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; tpOrdPx              | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slTriggerPx          | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slTriggerPxType      | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; slOrdPx              | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; sz                   | String           | Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; amendPxOnTriggerType | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; failCode             | String           | The error code when failing to place TP/SL order, e.g. 51020<br>The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; failReason           | String           | The error reason when failing to place TP/SL order.<br>The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| linkedAlgoOrd             | Object           | Linked SL order detail, only applicable to the order that is placed by one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; algoId               | String           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| stpId                     | String           | <del>Self trade prevention ID<br>Return "" if self trade prevention is not applicable</del> (deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| stpMode                   | String           | Self trade prevention mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| feeCcy                    | String           | Fee currency<br>For maker sell orders in Spot and Margin, this represents the quote currency. For all other cases, it represents the currency in which fees are charged.                                                                                                                                                                                                                                                                                                                                                                                                              |
| fee                       | String           | Fee amount<br>For Spot and Margin (excluding maker sell orders): accumulated fee charged by the platform, always negative<br>For maker sell orders in Spot and Margin, Expiry Futures, Perpetual Futures and Options: accumulated fee and rebate (always in quote currency for maker sell orders in Spot and Margin)                                                                                                                                                                                                                                                                  |
| rebateCcy                 | String           | Rebate currency<br>For maker sell orders in Spot and Margin, this represents the base currency. For all other cases, it represents the currency in which rebates are paid.                                                                                                                                                                                                                                                                                                                                                                                                            |
| rebate                    | String           | Rebate amount, only applicable to Spot and Margin<br>For maker sell orders: Accumulated fee and rebate amount in base currency.<br>For all other cases, it represents the maker rebate amount, always positive, return "" if no rebate.                                                                                                                                                                                                                                                                                                                                               |
| source                    | String           | Order source<br><code>6</code>: The normal order triggered by the <code>trigger order</code><br><code>7</code>:The normal order triggered by the <code>TP/SL order</code><br><code>13</code>: The normal order triggered by the algo order<br><code>25</code>:The normal order triggered by the <code>trailing stop order</code><br><code>34</code>: The normal order triggered by the <code>chase order</code>                                                                                                                                                                       |
| pnl                       | String           | Profit and loss (excluding the fee).<br>Applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| category                  | String           | Category<br><code>normal</code><br><code>twap</code><br><code>adl</code><br><code>full_liquidation</code><br><code>partial_liquidation</code><br><code>delivery</code><br><code>ddh</code>: Delta dynamic hedge<br><code>auto_conversion</code>                                                                                                                                                                                                                                                                                                                                       |
| reduceOnly                | String           | Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| cancelSource              | String           | Code of the cancellation source.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| cancelSourceReason        | String           | Reason for the cancellation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| algoClOrdId               | String           | Client-supplied Algo ID. There will be a value when algo order attaching <code>algoClOrdId</code> is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| algoId                    | String           | Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| isTpLimit                 | String           | Whether it is TP limit order. true or false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| uTime                     | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| cTime                     | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| quickMgnType              | String           | <del>Quick Margin type, Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code></del> (Deprecated)                                                                                                                                                                                                                                                                                                                                                                                                          |
| tradeQuoteCcy             | String           | The quote currency used for trading.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |

This interface does not contain the order data of the \`Canceled orders without
any fills\` type, which can be obtained through the \`Get Order History (last 7
days)\` interface.

As far as OPTION orders that are complete, pxVol and pxUsd will update in time
for px order, pxVol will update in time for pxUsd order, pxUsd will update in
time for pxVol order.

---

### GET / Transaction details (last 3 days) [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-transaction-details-last-3-days "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-transaction-details-last-3-days")

Retrieve recently-filled transaction details in the last 3 day.

#### Rate Limit: 60 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/fills`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ---------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instType   | String | No       | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| instFamily | String | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| instId     | String | No       | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ordId      | String | No       | Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| subType    | String | No       | Transaction type<br><code>1</code>: Buy<br><code>2</code>: Sell<br><code>3</code>: Open long<br><code>4</code>: Open short<br><code>5</code>: Close long<br><code>6</code>: Close short<br><code>100</code>: Partial liquidation close long<br><code>101</code>: Partial liquidation close short<br><code>102</code>: Partial liquidation buy<br><code>103</code>: Partial liquidation sell<br><code>104</code>: Liquidation long<br><code>105</code>: Liquidation short<br><code>106</code>: Liquidation buy<br><code>107</code>: Liquidation sell<br><code>110</code>: Liquidation transfer in<br><code>111</code>: Liquidation transfer out<br><code>118</code>: System token conversion transfer in<br><code>119</code>: System token conversion transfer out<br><code>112</code>: Delivery long<br><code>113</code>: Delivery short<br><code>125</code>: ADL close long<br><code>126</code>: ADL close short<br><code>127</code>: ADL buy<br><code>128</code>: ADL sell<br><code>212</code>: Auto borrow of quick margin<br><code>213</code>: Auto repay of quick margin<br><code>204</code>: block trade buy<br><code>205</code>: block trade sell<br><code>206</code>: block trade open long<br><code>207</code>: block trade open short<br><code>208</code>: block trade close long<br><code>209</code>: block trade close short<br><code>236</code>: Easy convert in<br><code>237</code>: Easy convert out<br><code>270</code>: Spread trading buy<br><code>271</code>: Spread trading sell<br><code>272</code>: Spread trading open long<br><code>273</code>: Spread trading open short<br><code>274</code>: Spread trading close long<br><code>275</code>: Spread trading close short<br><code>324</code>: Move position buy<br><code>325</code>: Move position sell<br><code>326</code>: Move position open long<br><code>327</code>: Move position open short<br><code>328</code>: Move position close long<br><code>329</code>: Move position close short<br><code>376</code>: Collateralized borrowing auto conversion buy<br><code>377</code>: Collateralized borrowing auto conversion sell |
| after      | String | No       | Pagination of data to return records earlier than the requested <code>billId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| before     | String | No       | Pagination of data to return records newer than the requested <code>billId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| begin      | String | No       | Filter with a begin timestamp <code>ts</code>. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| end        | String | No       | Filter with an end timestamp <code>ts</code>. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| limit      | String | No       | Number of results per request. The maximum is <code>100</code>; The default is <code>100</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                               |
| ------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType      | String   | Instrument type                                                                                                                                                                               |
| instId        | String   | Instrument ID                                                                                                                                                                                 |
| tradeId       | String   | Last trade ID                                                                                                                                                                                 |
| ordId         | String   | Order ID                                                                                                                                                                                      |
| clOrdId       | String   | Client Order ID as assigned by the client                                                                                                                                                     |
| billId        | String   | Bill ID                                                                                                                                                                                       |
| subType       | String   | Transaction type                                                                                                                                                                              |
| tag           | String   | Order tag                                                                                                                                                                                     |
| fillPx        | String   | Last filled price. It is the same as the px from "Get bills details".                                                                                                                         |
| fillSz        | String   | Last filled quantity                                                                                                                                                                          |
| fillIdxPx     | String   | Index price at the moment of trade execution<br>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT. |
| fillPnl       | String   | Last filled profit and loss, applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                            |
| fillPxVol     | String   | Implied volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                            |
| fillPxUsd     | String   | Options price when filled, in the unit of USD<br>Only applicable to options; return "" for other instrument types                                                                             |
| fillMarkVol   | String   | Mark volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                               |
| fillFwdPx     | String   | Forward price when filled<br>Only applicable to options; return "" for other instrument types                                                                                                 |
| fillMarkPx    | String   | Mark price when filled<br>Applicable to <code>FUTURES</code>, <code>SWAP</code>, <code>OPTION</code>                                                                                          |
| side          | String   | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                |
| posSide       | String   | Position side<br><code>long</code> <code>short</code><br>it returns <code>net</code> in<code>net</code> mode.                                                                                 |
| execType      | String   | Liquidity taker or maker<br><code>T</code>: taker<br><code>M</code>: maker<br>Not applicable to system orders such as ADL and liquidation                                                     |
| feeCcy        | String   | Trading fee or rebate currency                                                                                                                                                                |
| fee           | String   | The amount of trading fee or rebate. The trading fee deduction is negative, such as '-0.01'; the rebate is positive, such as '0.01'.                                                          |
| ts            | String   | Data generation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                 |
| fillTime      | String   | Trade time which is the same as <code>fillTime</code> for the order channel.                                                                                                                  |
| feeRate       | String   | Fee rate. This field is returned for <code>SPOT</code> and <code>MARGIN</code> only                                                                                                           |
| tradeQuoteCcy | String   | The quote currency for trading.                                                                                                                                                               |

tradeId  
For partial_liquidation, full_liquidation, or adl, when it comes to fill
information, this field will be assigned a negative value to distinguish it from
other matching transaction scenarios, when it comes to order information, this
field will be 0.

ordId  
Order ID, always "" for block trading.

clOrdId  
Client-supplied order ID, always "" for block trading.

---

### GET / Transaction details (last 3 months) [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-transaction-details-last-3-months "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-transaction-details-last-3-months")

This endpoint can retrieve data from the last 3 months.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/fills-history`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| ---------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instType   | String | YES      | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| instFamily | String | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| instId     | String | No       | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ordId      | String | No       | Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| subType    | String | No       | Transaction type<br><code>1</code>: Buy<br><code>2</code>: Sell<br><code>3</code>: Open long<br><code>4</code>: Open short<br><code>5</code>: Close long<br><code>6</code>: Close short<br><code>100</code>: Partial liquidation close long<br><code>101</code>: Partial liquidation close short<br><code>102</code>: Partial liquidation buy<br><code>103</code>: Partial liquidation sell<br><code>104</code>: Liquidation long<br><code>105</code>: Liquidation short<br><code>106</code>: Liquidation buy<br><code>107</code>: Liquidation sell<br><code>110</code>: Liquidation transfer in<br><code>111</code>: Liquidation transfer out<br><code>118</code>: System token conversion transfer in<br><code>119</code>: System token conversion transfer out<br><code>112</code>: Delivery long<br><code>113</code>: Delivery short<br><code>125</code>: ADL close long<br><code>126</code>: ADL close short<br><code>127</code>: ADL buy<br><code>128</code>: ADL sell<br><code>212</code>: Auto borrow of quick margin<br><code>213</code>: Auto repay of quick margin<br><code>204</code>: block trade buy<br><code>205</code>: block trade sell<br><code>206</code>: block trade open long<br><code>207</code>: block trade open short<br><code>208</code>: block trade close long<br><code>209</code>: block trade close short<br><code>236</code>: Easy convert in<br><code>237</code>: Easy convert out<br><code>270</code>: Spread trading buy<br><code>271</code>: Spread trading sell<br><code>272</code>: Spread trading open long<br><code>273</code>: Spread trading open short<br><code>274</code>: Spread trading close long<br><code>275</code>: Spread trading close short<br><code>324</code>: Move position buy<br><code>325</code>: Move position sell<br><code>326</code>: Move position open long<br><code>327</code>: Move position open short<br><code>328</code>: Move position close long<br><code>329</code>: Move position close short<br><code>376</code>: Collateralized borrowing auto conversion buy<br><code>377</code>: Collateralized borrowing auto conversion sell |
| after      | String | No       | Pagination of data to return records earlier than the requested <code>billId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| before     | String | No       | Pagination of data to return records newer than the requested <code>billId</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| begin      | String | No       | Filter with a begin timestamp <code>ts</code>. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| end        | String | No       | Filter with an end timestamp <code>ts</code>. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| limit      | String | No       | Number of results per request. The maximum is <code>100</code>; The default is <code>100</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                               |
| ------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType      | String   | Instrument type                                                                                                                                                                               |
| instId        | String   | Instrument ID                                                                                                                                                                                 |
| tradeId       | String   | Last trade ID                                                                                                                                                                                 |
| ordId         | String   | Order ID                                                                                                                                                                                      |
| clOrdId       | String   | Client Order ID as assigned by the client                                                                                                                                                     |
| billId        | String   | Bill ID                                                                                                                                                                                       |
| subType       | String   | Transaction type                                                                                                                                                                              |
| tag           | String   | Order tag                                                                                                                                                                                     |
| fillPx        | String   | Last filled price                                                                                                                                                                             |
| fillSz        | String   | Last filled quantity                                                                                                                                                                          |
| fillIdxPx     | String   | Index price at the moment of trade execution<br>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT. |
| fillPnl       | String   | Last filled profit and loss, applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                            |
| fillPxVol     | String   | Implied volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                            |
| fillPxUsd     | String   | Options price when filled, in the unit of USD<br>Only applicable to options; return "" for other instrument types                                                                             |
| fillMarkVol   | String   | Mark volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                               |
| fillFwdPx     | String   | Forward price when filled<br>Only applicable to options; return "" for other instrument types                                                                                                 |
| fillMarkPx    | String   | Mark price when filled<br>Applicable to <code>FUTURES</code>, <code>SWAP</code>, <code>OPTION</code>                                                                                          |
| side          | String   | Order side<br><code>buy</code><br><code>sell</code>                                                                                                                                           |
| posSide       | String   | Position side<br><code>long</code><br><code>short</code><br>it returns <code>net</code> in<code>net</code> mode.                                                                              |
| execType      | String   | Liquidity taker or maker<br><code>T</code>: taker<br><code>M</code>: maker<br>Not applicable to system orders such as ADL and liquidation                                                     |
| feeCcy        | String   | Trading fee or rebate currency                                                                                                                                                                |
| fee           | String   | The amount of trading fee or rebate. The trading fee deduction is negative, such as '-0.01'; the rebate is positive, such as '0.01'.                                                          |
| ts            | String   | Data generation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                 |
| fillTime      | String   | Trade time which is the same as <code>fillTime</code> for the order channel.                                                                                                                  |
| feeRate       | String   | Fee rate. This field is returned for <code>SPOT</code> and <code>MARGIN</code> only                                                                                                           |
| tradeQuoteCcy | String   | The quote currency for trading.                                                                                                                                                               |

tradeId  
When the order category to which the transaction details belong is
partial_liquidation, full_liquidation, or adl, this field will be assigned a
negative value to distinguish it from other matching transaction scenarios.

ordId  
Order ID, always "" for block trading.

clOrdId  
Client-supplied order ID, always "" for block trading.

We advise you to use Get Transaction details (last 3 days)when you request data
for recent 3 days.

---

### GET / Easy convert currency list [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-easy-convert-currency-list "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-easy-convert-currency-list")

Get list of small convertibles and mainstream currencies. Only applicable to the
crypto balance less than $10.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/easy-convert-currency-list`

#### Request Parameters

| Parameters | Type   | Required | Description                                                                                                            |
| ---------- | ------ | -------- | ---------------------------------------------------------------------------------------------------------------------- |
| source     | String | No       | Funding source<br><code>1</code>: Trading account<br><code>2</code>: Funding account<br>The default is <code>1</code>. |

#### Response Parameters

| Parameter    | Type             | Description                                                        |
| ------------ | ---------------- | ------------------------------------------------------------------ |
| fromData     | Array of objects | Currently owned and convertible small currency list                |
| &gt; fromCcy | String           | Type of small payment currency convert from, e.g. <code>BTC</code> |
| &gt; fromAmt | String           | Amount of small payment currency convert from                      |
| toCcy        | Array of strings | Type of mainstream currency convert to, e.g. <code>USDT</code>     |

---

### POST / Place easy convert [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-place-easy-convert "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-place-easy-convert")

Convert small currencies to mainstream currencies.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/easy-convert`

#### Request Parameters

| Parameter | Type             | Required | Description                                                                                                                                                     |
| --------- | ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fromCcy   | Array of strings | Yes      | Type of small payment currency convert from<br>Maximum 5 currencies can be selected in one order. If there are multiple currencies, separate them with commas.  |
| toCcy     | String           | Yes      | Type of mainstream currency convert to<br>Only one receiving currency type can be selected in one order and cannot be the same as the small payment currencies. |
| source    | String           | No       | Funding source<br><code>1</code>: Trading account<br><code>2</code>: Funding account<br>The default is <code>1</code>.                                          |

#### Response Parameters

| Parameter  | Type   | Description                                                                                                                   |
| ---------- | ------ | ----------------------------------------------------------------------------------------------------------------------------- |
| status     | String | Current status of easy convert<br><code>running</code>: Running<br><code>filled</code>: Filled<br><code>failed</code>: Failed |
| fromCcy    | String | Type of small payment currency convert from                                                                                   |
| toCcy      | String | Type of mainstream currency convert to                                                                                        |
| fillFromSz | String | Filled amount of small payment currency convert from                                                                          |
| fillToSz   | String | Filled amount of mainstream currency convert to                                                                               |
| uTime      | String | Trade time, Unix timestamp format in milliseconds, e.g. 1597026383085                                                         |

---

### GET / Easy convert history [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-easy-convert-history "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-easy-convert-history")

Get the history and status of easy convert trades in the past 7 days.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/easy-convert-history`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                            |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| after     | String | No       | Pagination of data to return records earlier than the requested time (exclude), Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| before    | String | No       | Pagination of data to return records newer than the requested time (exclude), Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>   |
| limit     | String | No       | Number of results per request. The maximum is 100. The default is 100.                                                                                 |

#### Response Parameters

| Parameter  | Type   | Description                                                                                                                   |
| ---------- | ------ | ----------------------------------------------------------------------------------------------------------------------------- |
| fromCcy    | String | Type of small payment currency convert from                                                                                   |
| fillFromSz | String | Amount of small payment currency convert from                                                                                 |
| toCcy      | String | Type of mainstream currency convert to                                                                                        |
| fillToSz   | String | Amount of mainstream currency convert to                                                                                      |
| acct       | String | The account where the mainstream currency is located<br><code>6</code>: Funding account<br><code>18</code>: Trading account   |
| status     | String | Current status of easy convert<br><code>running</code>: Running<br><code>filled</code>: Filled<br><code>failed</code>: Failed |
| uTime      | String | Trade time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                            |

---

### GET / One-click repay currency list [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-one-click-repay-currency-list "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-one-click-repay-currency-list")

Get list of debt currency data and repay currencies. Debt currencies include
both cross and isolated debts. Only applicable to
`Multi-currency margin`/`Portfolio margin`.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/one-click-repay-currency-list`

#### Request Parameters

| Parameter | Type   | Required | Description                                                               |
| --------- | ------ | -------- | ------------------------------------------------------------------------- |
| debtType  | String | No       | Debt type<br><code>cross</code>: cross<br><code>isolated</code>: isolated |

#### Response Parameters

| Parameter     | Type             | Description                                                               |
| ------------- | ---------------- | ------------------------------------------------------------------------- |
| debtData      | Array of objects | Debt currency data list                                                   |
| &gt; debtCcy  | String           | Debt currency                                                             |
| &gt; debtAmt  | String           | Debt currency amount<br>Including principal and interest                  |
| debtType      | String           | Debt type<br><code>cross</code>: cross<br><code>isolated</code>: isolated |
| repayData     | Array of objects | Repay currency data list                                                  |
| &gt; repayCcy | String           | Repay currency                                                            |
| &gt; repayAmt | String           | Repay currency's available balance amount                                 |

---

### POST / Trade one-click repay [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-trade-one-click-repay "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-trade-one-click-repay")

Trade one-click repay to repay cross debts. Isolated debts are not applicable.
The maximum repayment amount is based on the remaining available balance of
funding and trading accounts. Only applicable to
`Multi-currency margin`/`Portfolio margin`.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/one-click-repay`

#### Request Parameters

| Parameter | Type             | Required | Description                                                                                                                                  |
| --------- | ---------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| debtCcy   | Array of strings | Yes      | Debt currency type<br>Maximum 5 currencies can be selected in one order. If there are multiple currencies, separate them with commas.        |
| repayCcy  | String           | Yes      | Repay currency type<br>Only one receiving currency type can be selected in one order and cannot be the same as the small payment currencies. |

#### Response Parameters

| Parameter   | Type   | Description                                                                                                                      |
| ----------- | ------ | -------------------------------------------------------------------------------------------------------------------------------- |
| status      | String | Current status of one-click repay<br><code>running</code>: Running<br><code>filled</code>: Filled<br><code>failed</code>: Failed |
| debtCcy     | String | Debt currency type                                                                                                               |
| repayCcy    | String | Repay currency type                                                                                                              |
| fillDebtSz  | String | Filled amount of debt currency                                                                                                   |
| fillRepaySz | String | Filled amount of repay currency                                                                                                  |
| uTime       | String | Trade time, Unix timestamp format in milliseconds, e.g. 1597026383085                                                            |

---

### GET / One-click repay history [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-one-click-repay-history "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-one-click-repay-history")

Get the history and status of one-click repay trades in the past 7 days. Only
applicable to `Multi-currency margin`/`Portfolio margin`.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/one-click-repay-history`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                     |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------- |
| after     | String | No       | Pagination of data to return records earlier than the requested time, Unix timestamp format in milliseconds, e.g. 1597026383085 |
| before    | String | No       | Pagination of data to return records newer than the requested time, Unix timestamp format in milliseconds, e.g. 1597026383085   |
| limit     | String | No       | Number of results per request. The maximum is 100. The default is 100.                                                          |

#### Response Parameters

| Parameter   | Type   | Description                                                                                                                      |
| ----------- | ------ | -------------------------------------------------------------------------------------------------------------------------------- |
| debtCcy     | String | Debt currency type                                                                                                               |
| fillDebtSz  | String | Amount of debt currency transacted                                                                                               |
| repayCcy    | String | Repay currency type                                                                                                              |
| fillRepaySz | String | Amount of repay currency transacted                                                                                              |
| status      | String | Current status of one-click repay<br><code>running</code>: Running<br><code>filled</code>: Filled<br><code>failed</code>: Failed |
| uTime       | String | Trade time, Unix timestamp format in milliseconds, e.g. 1597026383085                                                            |

---

### GET / One-click repay currency list (New) [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-one-click-repay-currency-list-new "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-one-click-repay-currency-list-new")

Get list of debt currency data and repay currencies. Only applicable to
`SPOT mode`.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/one-click-repay-currency-list-v2`

#### Response Parameters

| Parameter     | Type             | Description                                              |
| ------------- | ---------------- | -------------------------------------------------------- |
| debtData      | Array of objects | Debt currency data list                                  |
| &gt; debtCcy  | String           | Debt currency                                            |
| &gt; debtAmt  | String           | Debt currency amount<br>Including principal and interest |
| repayData     | Array of objects | Repay currency data list                                 |
| &gt; repayCcy | String           | Repay currency                                           |
| &gt; repayAmt | String           | Repay currency's available balance amount                |

---

### POST / Trade one-click repay (New) [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-trade-one-click-repay-new "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-trade-one-click-repay-new")

Trade one-click repay to repay debts. Only applicable to `SPOT mode`.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/one-click-repay-v2`

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                        |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| debtCcy      | String           | Yes      | Debt currency                                                                                                                                                      |
| repayCcyList | Array of strings | Yes      | Repay currency list, e.g. ["USDC","BTC"]<br>The priority of currency to repay is consistent with the order in the array. (The first item has the highest priority) |

#### Response Parameters

| Parameter    | Type             | Description                                                                          |
| ------------ | ---------------- | ------------------------------------------------------------------------------------ |
| debtCcy      | String           | Debt currency                                                                        |
| repayCcyList | Array of strings | Repay currency list, e.g. ["USDC","BTC"]                                             |
| ts           | String           | Request time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |

---

### GET / One-click repay history (New) [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-one-click-repay-history-new "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-one-click-repay-history-new")

Get the history and status of one-click repay trades in the past 7 days. Only
applicable to `SPOT mode`.

#### Rate Limit: 1 request per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/one-click-repay-history-v2`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                              |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| after     | String | No       | Pagination of data to return records earlier than (included) the requested time <code>ts</code> , Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| before    | String | No       | Pagination of data to return records newer than (included) the requested time <code>ts</code>, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>    |
| limit     | String | No       | Number of results per request. The maximum is 100. The default is 100.                                                                                                   |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                      |
| ------------ | ---------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| debtCcy      | String           | Debt currency                                                                                                                    |
| repayCcyList | Array of strings | Repay currency list, e.g. ["USDC","BTC"]                                                                                         |
| fillDebtSz   | String           | Amount of debt currency transacted                                                                                               |
| status       | String           | Current status of one-click repay<br><code>running</code>: Running<br><code>filled</code>: Filled<br><code>failed</code>: Failed |
| ordIdInfo    | Array of objects | Order info                                                                                                                       |
| &gt; ordId   | String           | Order ID                                                                                                                         |
| &gt; instId  | String           | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                        |
| &gt; ordType | String           | Order type<br><code>ioc</code>: Immediate-or-cancel order                                                                        |
| &gt; side    | String           | Side<br><code>buy</code><br><code>sell</code>                                                                                    |
| &gt; px      | String           | Price                                                                                                                            |
| &gt; sz      | String           | Quantity to buy or sell                                                                                                          |
| &gt; fillPx  | String           | Last filled price.<br>If none is filled, it will return "".                                                                      |
| &gt; fillSz  | String           | Last filled quantity                                                                                                             |
| &gt; state   | String           | State<br><code>filled</code><br><code>canceled</code>                                                                            |
| &gt; cTime   | String           | Creation time for order, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                  |
| ts           | String           | Request time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                             |

---

### POST / Mass cancel order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-mass-cancel-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-mass-cancel-order")

Cancel all the MMP pending orders of an instrument family.

Only applicable to Option in Portfolio Margin mode, and MMP privilege is
required.

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/mass-cancel`

#### Request Parameters

| Parameter    | Type   | Required | Description                                                                                                                                                                                                                                                                     |
| ------------ | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType     | String | Yes      | Instrument type<br><code>OPTION</code>                                                                                                                                                                                                                                          |
| instFamily   | String | Yes      | Instrument family                                                                                                                                                                                                                                                               |
| lockInterval | String | No       | Lock interval(ms)<br>The range should be [0, 10 000]<br>The default is 0. You can set it as "0" if you want to unlock it immediately.<br>Error 54008 will be returned when placing order during lock interval, it is different from 51034 which is thrown when MMP is triggered |

#### Response Parameters

| Parameter | Type    | Description                                                 |
| --------- | ------- | ----------------------------------------------------------- |
| result    | Boolean | Result of the request <code>true</code>, <code>false</code> |

---

### POST / Cancel All After [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-cancel-all-after "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-cancel-all-after")

Cancel all pending orders after the countdown timeout. Applicable to all trading
symbols through order book (except Spread trading)

#### Rate Limit: 1 request per second

#### Rate limit rule: User ID + tag

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/cancel-all-after`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                              |
| --------- | ------ | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| timeOut   | String | Yes      | The countdown for order cancellation, with second as the unit.<br>Range of value can be 0, [10, 120].<br>Setting timeOut to 0 disables Cancel All After. |
| tag       | String | No       | CAA order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                      |

#### Response Parameters

| Parameter   | Type   | Description                                                                                  |
| ----------- | ------ | -------------------------------------------------------------------------------------------- |
| triggerTime | String | The time the cancellation is triggered.<br>triggerTime=0 means Cancel All After is disabled. |
| tag         | String | CAA order tag                                                                                |
| ts          | String | The time the request is received.                                                            |

Users are recommended to send heartbeat to the exchange every second. When the
cancel all after is triggered, the trading engine will cancel orders on behalf
of the client one by one and this operation may take up to a few seconds. This
feature is intended as a protection mechanism for clients only and clients
should not use this feature as part of their trading strategies.

To use tag level CAA, first, users need to set tags for their orders using the
\`tag\` request parameter in the placing orders endpoint. When calling the CAA
endpoint, if the \`tag\` request parameter is not provided, the default will be
to set CAA at the account level. In this case, all pending orders for all order
book trading symbols under that sub-account will be cancelled when CAA triggers,
consistent with the existing logic. If the \`tag\` request parameter is
provided, CAA will be set at the order tag level. When triggered, only pending
orders of order book trading symbols with the specified tag will be canceled,
while orders with other tags or no tags will remain unaffected.

Users can run a maximum of 20 tag level CAAs simultaneously under the same
sub-account. The system will only count live tag level CAAs. CAAs that have been
triggered or revoked by the user will not be counted. The user will receive
error code 51071 when exceeding the limit.

---

### GET / Account rate limit [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-account-rate-limit "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-get-account-rate-limit")

Get account rate limit related information.

Only new order requests and amendment order requests will be counted towards
this limit. For batch order requests consisting of multiple orders, each order
will be counted individually.

For details, please refer to
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit)

#### Rate Limit: 1 request per second

#### Rate limit rule: User ID

#### HTTP Request

`GET /api/v5/trade/account-rate-limit`

#### Request Parameters

None

#### Response Parameters

| Parameter        | Type   | Description                                                                                                                                                                                                                                                                                                            |
| ---------------- | ------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| fillRatio        | String | Sub account fill ratio during the monitoring period<br>Applicable for users with trading fee level &gt;= VIP 5 and return "" for others<br>For accounts with no trading volume during the monitoring period, return "0". For accounts with trading volume but no order count due to our counting logic, return "9999". |
| mainFillRatio    | String | Master account aggregated fill ratio during the monitoring period<br>Applicable for users with trading fee level &gt;= VIP 5 and return "" for others<br>For accounts with no trading volume during the monitoring period, return "0"                                                                                  |
| accRateLimit     | String | Current sub-account rate limit per two seconds                                                                                                                                                                                                                                                                         |
| nextAccRateLimit | String | Expected sub-account rate limit (per two seconds) in the next period<br>Applicable for users with trading fee level &gt;= VIP 5 and return "" for others                                                                                                                                                               |
| ts               | String | Data update time<br>For users with trading fee level &gt;= VIP 5, the data will be generated at 08:00 am (UTC)<br>For users with trading fee level &lt; VIP 5, return the current timestamp                                                                                                                            |

---

### POST / Order precheck [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-order-precheck "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-post-order-precheck")

This endpoint is used to precheck the account information before and after
placing the order.  
Only applicable to `Multi-currency margin mode`, and `Portfolio margin mode`.

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/order-precheck`

#### Request Parameters

| Parameter              | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                                              |
| ---------------------- | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instId                 | String           | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                |
| tdMode                 | String           | Yes         | Trade mode<br>Margin mode <code>cross</code> <code>isolated</code><br>Non-Margin mode <code>cash</code><br><code>spot_isolated</code> (only applicable to SPOT lead trading, <code>tdMode</code> should be <code>spot_isolated</code> for <code>SPOT</code> lead trading.)                                                                                               |
| side                   | String           | Yes         | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                           |
| posSide                | String           | Conditional | Position side<br>The default is <code>net</code> in the <code>net</code> mode<br>It is required in the <code>long/short</code> mode, and can only be <code>long</code> or <code>short</code>.<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>.                                                                                                              |
| ordType                | String           | Yes         | Order type<br><code>market</code>: Market order<br><code>limit</code>: Limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures).           |
| sz                     | String           | Yes         | Quantity to buy or sell                                                                                                                                                                                                                                                                                                                                                  |
| px                     | String           | Conditional | Order price. Only applicable to <code>limit</code>,<code>post_only</code>,<code>fok</code>,<code>ioc</code>,<code>mmp</code>,<code>mmp_and_post_only</code> order.                                                                                                                                                                                                       |
| reduceOnly             | Boolean          | No          | Whether orders can only reduce in position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>Only applicable to <code>MARGIN</code> orders, and <code>FUTURES</code>/<code>SWAP</code> orders in <code>net</code> mode<br>Only applicable to <code>Futures mode</code> and <code>Multi-currency margin</code> |
| tgtCcy                 | String           | No          | Whether the target currency uses the quote or base currency.<br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                          |
| attachAlgoOrds         | Array of objects | No          | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                            |
| &gt; attachAlgoClOrdId | String           | No          | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                  |
| &gt; tpTriggerPx       | String           | Conditional | Take-profit trigger price<br>For condition TP order, if you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                                                                                              |
| &gt; tpOrdPx           | String           | Conditional | Take-profit order price<br><br>For condition TP order, if you fill in this parameter, you should fill in the take-profit trigger price as well.<br>For limit TP order, you need to fill in this parameter, take-profit trigger needn‘t to be filled.<br>If the price is -1, take-profit will be executed at the market price.                                            |
| &gt; tpOrdKind         | String           | No          | TP order kind<br><code>condition</code><br><code>limit</code><br>The default is <code>condition</code>                                                                                                                                                                                                                                                                   |
| &gt; slTriggerPx       | String           | Conditional | Stop-loss trigger price<br>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                                                                                                                  |
| &gt; slOrdPx           | String           | Conditional | Stop-loss order price<br>If you fill in this parameter, you should fill in the stop-loss trigger price.<br>If the price is -1, stop-loss will be executed at the market price.                                                                                                                                                                                           |
| &gt; tpTriggerPxType   | String           | No          | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is last                                                                                                                                                                                                               |
| &gt; slTriggerPxType   | String           | No          | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is last                                                                                                                                                                                                                 |
| &gt; sz                | String           | Conditional | Size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                                                                                                                                                                                             |

#### Response Parameters

| **Parameter**  | **Type** | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| adjEq          | String   | Current adjusted / Effective equity in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                        |
| adjEqChg       | String   | After placing order, changed quantity of adjusted / Effective equity in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                       |
| imr            | String   | Current initial margin requirement in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                         |
| imrChg         | String   | After placing order, changed quantity of initial margin requirement in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                        |
| mmr            | String   | Current Maintenance margin requirement in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                     |
| mmrChg         | String   | After placing order, changed quantity of maintenance margin requirement in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                    |
| mgnRatio       | String   | Current Maintenance margin ratio in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                                                           |
| mgnRatioChg    | String   | After placing order, changed quantity of Maintenance margin ratio in <code>USD</code>                                                                                                                                                                                                                                                                                                                                                          |
| availBal       | String   | Current available balance in margin coin currency, only applicable to turn auto borrow off                                                                                                                                                                                                                                                                                                                                                     |
| availBalChg    | String   | After placing order, changed quantity of available balance after placing order, only applicable to turn auto borrow off                                                                                                                                                                                                                                                                                                                        |
| liqPx          | String   | Current estimated liquidation price                                                                                                                                                                                                                                                                                                                                                                                                            |
| liqPxDiff      | String   | After placing order, the distance between estimated liquidation price and mark price                                                                                                                                                                                                                                                                                                                                                           |
| liqPxDiffRatio | String   | After placing order, the distance rate between estimated liquidation price and mark price                                                                                                                                                                                                                                                                                                                                                      |
| posBal         | String   | Current positive asset, only applicable to margin isolated position                                                                                                                                                                                                                                                                                                                                                                            |
| posBalChg      | String   | After placing order, positive asset of margin isolated, only applicable to margin isolated position                                                                                                                                                                                                                                                                                                                                            |
| liab           | String   | Current liabilities of currency<br>For cross, it is cross liabilities<br>For isolated position, it is isolated liabilities                                                                                                                                                                                                                                                                                                                     |
| liabChg        | String   | After placing order, changed quantity of liabilities<br>For cross, it is cross liabilities<br>For isolated position, it is isolated liabilities                                                                                                                                                                                                                                                                                                |
| liabChgCcy     | String   | After placing order, the unit of changed liabilities quantity<br>only applicable cross and in auto borrow                                                                                                                                                                                                                                                                                                                                      |
| type           | String   | Unit type of positive asset, only applicable to margin isolated position<br><code>1</code>: it is both base currency before and after placing order<br><code>2</code>: before plaing order, it is base currency. after placing order, it is quota currency.<br><code>3</code>: before plaing order, it is quota currency. after placing order, it is base currency<br><code>4</code>: it is both quota currency before and after placing order |

---

### WS / Order channel [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-order-channel "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-order-channel")

Retrieve order information. Data will not be pushed when first subscribed. Data
will only be pushed when there are new orders or order updates.

Concurrent connection to this channel will be restricted by the following rules:
[WebSocket connection count limit](/docs-v5/en/#overview-websocket-connection-count-limit).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter       | Type             | Required | Description                                                                                                                                                                                                                                      |
| --------------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id              | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op              | String           | Yes      | Operation<br><code>subscribe</code><br><code>unsubscribe</code><br>                                                                                                                                                                              |
| args            | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel    | String           | Yes      | Channel name<br><code>orders</code>                                                                                                                                                                                                              |
| &gt; instType   | String           | Yes      | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code>                                                                                              |
| &gt; instFamily | String           | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                    |
| &gt; instId     | String           | No       | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter       | Type   | Required | Description                                                                                                                                         |
| --------------- | ------ | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------- |
| id              | String | No       | Unique identifier of the message                                                                                                                    |
| event           | String | Yes      | Event<br><code>subscribe</code><br><code>unsubscribe</code><br><code>error</code>                                                                   |
| arg             | Object | No       | Subscribed channel                                                                                                                                  |
| &gt; channel    | String | Yes      | Channel name                                                                                                                                        |
| &gt; instType   | String | Yes      | Instrument type<br><code>SPOT</code><br><code>MARGIN</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code><br><code>ANY</code> |
| &gt; instFamily | String | No       | Instrument family                                                                                                                                   |
| &gt; instId     | String | No       | Instrument ID                                                                                                                                       |
| code            | String | No       | Error code                                                                                                                                          |
| msg             | String | No       | Error message                                                                                                                                       |
| connId          | String | Yes      | WebSocket connection ID                                                                                                                             |

#### Push data parameters

| Parameter                     | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ----------------------------- | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| arg                           | Object           | Successfully subscribed channel                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; channel                  | String           | Channel name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; uid                      | String           | User Identifier                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instType                 | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instFamily               | String           | Instrument family                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; instId                   | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| data                          | Array of objects | Subscribed data                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instType                 | String           | Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instId                   | String           | Instrument ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; tgtCcy                   | String           | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market orders.<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; ccy                      | String           | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; ordId                    | String           | Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; clOrdId                  | String           | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; tag                      | String           | Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; px                       | String           | Price<br>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; pxUsd                    | String           | Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; pxVol                    | String           | Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; pxType                   | String           | Price type of options<br><code>px</code>: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)<br><code>pxVol</code>: Place an order based on pxVol<br><code>pxUsd</code>: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; sz                       | String           | The original order quantity, <code>SPOT</code>/<code>MARGIN</code>, in the unit of currency; <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, in the unit of contract                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; notionalUsd              | String           | Estimated national value in <code>USD</code> of order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; ordType                  | String           | Order type<br><code>market</code>: market order<br><code>limit</code>: limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures)<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode).<br><code>op_fok</code>: Simple options (fok)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; side                     | String           | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; posSide                  | String           | Position side<br><code>net</code><br><code>long</code> or <code>short</code> Only applicable to <code>FUTURES</code>/<code>SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; tdMode                   | String           | Trade mode, <code>cross</code>: cross <code>isolated</code>: isolated <code>cash</code>: cash                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; fillPx                   | String           | Filled price for the current update.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; tradeId                  | String           | Trade ID for the current update.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; fillSz                   | String           | Filled quantity for the current udpate.<br>The unit is <code>base_ccy</code> for SPOT and MARGIN, e.g. BTC-USDT, the unit is BTC; For market orders, the unit both is <code>base_ccy</code> when the tgtCcy is <code>base_ccy</code> or <code>quote_ccy</code>;<br>The unit is contract for <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; fillPnl                  | String           | Filled profit and loss for the current udpate, applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; fillTime                 | String           | Filled time for the current udpate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; fillFee                  | String           | Filled fee amount or rebate amount for the current udpate. :<br>Negative number represents the user transaction fee charged by the platform;<br>Positive number represents rebate                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; fillFeeCcy               | String           | Filled fee currency or rebate currency for the current udpate..<br>It is fee currency when fillFee is less than 0; It is rebate currency when fillFee&gt;=0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; fillPxVol                | String           | Implied volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; fillPxUsd                | String           | Options price when filled, in the unit of USD<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; fillMarkVol              | String           | Mark volatility when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; fillFwdPx                | String           | Forward price when filled<br>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; fillMarkPx               | String           | Mark price when filled<br>Applicable to <code>FUTURES</code>, <code>SWAP</code>, <code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; fillIdxPx                | String           | Index price at the moment of trade execution<br>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; execType                 | String           | Liquidity taker or maker for the current update, T: taker M: maker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; accFillSz                | String           | Accumulated fill quantity<br>The unit is <code>base_ccy</code> for SPOT and MARGIN, e.g. BTC-USDT, the unit is BTC; For market orders, the unit both is <code>base_ccy</code> when the tgtCcy is <code>base_ccy</code> or <code>quote_ccy</code>;<br>The unit is contract for <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; fillNotionalUsd          | String           | Filled notional value in <code>USD</code> of order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; avgPx                    | String           | Average filled price. If none is filled, it will return <code>0</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; state                    | String           | Order state<br><code>canceled</code><br><code>live</code><br><code>partially_filled</code><br><code>filled</code><br><code>mmp_canceled</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; lever                    | String           | Leverage, from <code>0.01</code> to <code>125</code>.<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; attachAlgoClOrdId        | String           | Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; tpTriggerPx              | String           | Take-profit trigger price, it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; tpTriggerPxType          | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; tpOrdPx                  | String           | Take-profit order price, it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; slTriggerPx              | String           | Stop-loss trigger price, it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; slTriggerPxType          | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; slOrdPx                  | String           | Stop-loss order price, it                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| &gt; attachAlgoOrds           | Array of objects | TP/SL information attached when placing order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; attachAlgoId         | String           | The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; attachAlgoClOrdId    | String           | Client-supplied Algo ID when placing order attaching TP/SL<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to <code>algoClOrdId</code> when placing TP/SL order once the general order is filled completely.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt;&gt; tpOrdKind            | String           | TP order kind<br><code>condition</code><br><code>limit</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; tpTriggerPx          | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt;&gt; tpTriggerPxType      | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt;&gt; tpOrdPx              | String           | Take-profit order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; slTriggerPx          | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt;&gt; slTriggerPxType      | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt;&gt; slOrdPx              | String           | Stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt;&gt; sz                   | String           | Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt;&gt; amendPxOnTriggerType | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; linkedAlgoOrd            | Object           | Linked SL order detail, only applicable to TP limit order of one-cancels-the-other order(oco)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt;&gt; algoId               | Object           | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; stpId                    | String           | <del>Self trade prevention ID<br>Return "" if self trade prevention is not applicable</del> (deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; stpMode                  | String           | Self trade prevention mode                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; feeCcy                   | String           | Fee currency<br>For maker sell orders in Spot and Margin, this represents the quote currency. For all other cases, it represents the currency in which fees are charged.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| &gt; fee                      | String           | Fee amount<br>For Spot and Margin (excluding maker sell orders): accumulated fee charged by the platform, always negative<br>For maker sell orders in Spot and Margin, Expiry Futures, Perpetual Futures and Options: accumulated fee and rebate (always in quote currency for maker sell orders in Spot and Margin)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; rebateCcy                | String           | Rebate currency<br>For maker sell orders in Spot and Margin, this represents the base currency. For all other cases, it represents the currency in which rebates are paid.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| rebate                        | String           | Rebate amount, only applicable to Spot and Margin<br>For maker sell orders: Accumulated fee and rebate amount in base currency.<br>For all other cases, it represents the maker rebate amount, always positive, return "" if no rebate.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; pnl                      | String           | Profit and loss (excluding the fee).<br>applicable to orders which have a trade and aim to close position. It always is 0 in other conditions.<br>For liquidation under cross margin mode, it will include liquidation penalties.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; source                   | String           | Order source<br><code>6</code>: The normal order triggered by the <code>trigger order</code><br><code>7</code>:The normal order triggered by the <code>TP/SL order</code><br><code>13</code>: The normal order triggered by the algo order<br><code>25</code>:The normal order triggered by the <code>trailing stop order</code><br><code>34</code>: The normal order triggered by the chase order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; cancelSource             | String           | Source of the order cancellation.<br>Valid values and the corresponding meanings are:<br><code>0</code>: Order canceled by system<br><code>1</code>: Order canceled by user<br><code>2</code>: Order canceled: Pre reduce-only order canceled, due to insufficient margin in user position<br><code>3</code>: Order canceled: Risk cancellation was triggered. Pending order was canceled due to insufficient maintenance margin ratio and forced-liquidation risk.<br><code>4</code>: Order canceled: Borrowings of crypto reached hard cap, order was canceled by system.<br><code>6</code>: Order canceled: ADL order cancellation was triggered. Pending order was canceled due to a low margin ratio and forced-liquidation risk.<br><code>7</code>: Order canceled: Futures contract delivery.<br><code>9</code>: Order canceled: Insufficient balance after funding fees deducted.<br><code>10</code>: Order canceled: Option contract expiration.<br><code>13</code>: Order canceled: FOK order was canceled due to incompletely filled.<br><code>14</code>: Order canceled: IOC order was partially canceled due to incompletely filled.<br><code>15</code>: Order canceled: The order price is beyond the limit<br><code>17</code>: Order canceled: Close order was canceled, due to the position was already closed at market price.<br><code>20</code>: Cancel all after triggered<br><code>21</code>: Order canceled: The TP/SL order was canceled because the position had been closed<br><code>22</code> Order canceled: Due to a better price was available for the order in the same direction, the current operation reduce-only order was automatically canceled<br><code>23</code> Order canceled: Due to a better price was available for the order in the same direction, the existing reduce-only order was automatically canceled<br><code>27</code>: Order canceled: Price limit verification failed because the price difference between counterparties exceeds 5%<br><code>31</code>: The post-only order will take liquidity in taker orders<br><code>32</code>: Self trade prevention<br><code>33</code>: The order exceeds the maximum number of order matches per taker order<br><code>36</code>: Your TP limit order was canceled because the corresponding SL order was triggered.<br><code>37</code>: Your TP limit order was canceled because the corresponding SL order was canceled.<br><code>38</code>: You have canceled market maker protection (MMP) orders.<br><code>39</code>: Your order was canceled because market maker protection (MMP) was triggered.<br><code>42</code>: Your order was canceled because the difference between the initial and current best bid or ask prices reached the maximum chase difference.<br><code>43</code>: Order cancelled because the buy order price is higher than the index price or the sell order price is lower than the index price.<br><code>44</code>: Your order was canceled because your available balance of this crypto was insufficient for auto conversion. Auto conversion was triggered when the total collateralized liabilities for this crypto reached the platform’s risk control limit. |
| &gt; amendSource              | String           | Source of the order amendation.<br><code>1</code>: Order amended by user<br><code>2</code>: Order amended by user, but the order quantity is overriden by system due to reduce-only<br><code>3</code>: New order placed by user, but the order quantity is overriden by system due to reduce-only<br><code>4</code>: Order amended by system due to other pending orders<br><code>5</code>: Order modification due to changes in options px, pxVol, or pxUsd as a result of following variations. For example, when iv = 60, USD and px are anchored at iv = 60, the changes in USD or px lead to modification.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; category                 | String           | Category<br><code>normal</code><br><code>twap</code><br><code>adl</code><br><code>full_liquidation</code><br><code>partial_liquidation</code><br><code>delivery</code><br><code>ddh</code>: Delta dynamic hedge<br><code>auto_conversion</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; isTpLimit                | String           | Whether it is TP limit order. true or false                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; uTime                    | String           | Update time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| &gt; cTime                    | String           | Creation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; reqId                    | String           | Client Request ID as assigned by the client for order amendment. "" will be returned if there is no order amendment.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; amendResult              | String           | The result of amending the order<br><code>-1</code>: failure<br><code>0</code>: success<br><code>1</code>: Automatic cancel (amendment request returned success but amendment subsequently failed then automatically canceled by the system)<br><code>2</code>: Automatic amendation successfully, only applicable to pxVol and pxUsd orders of Option.<br>When amending the order through API and <code>cxlOnFail</code> is set to <code>true</code> in the order amendment request but the amendment is rejected, "" is returned.<br>When amending the order through API, the order amendment acknowledgement returns success and the amendment subsequently failed, <code>-1</code> will be returned if <code>cxlOnFail</code> is set to <code>false</code>, <code>1</code> will be returned if <code>cxlOnFail</code> is set to <code>true</code>.<br>When amending the order through Web/APP and the amendment failed, <code>-1</code> will be returned.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| &gt; reduceOnly               | String           | Whether the order can only reduce the position size. Valid options: <code>true</code> or <code>false</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; quickMgnType             | String           | Quick Margin type, Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; algoClOrdId              | String           | Client-supplied Algo ID. There will be a value when algo order attaching <code>algoClOrdId</code> is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; algoId                   | String           | Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| &gt; lastPx                   | String           | Last price                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; code                     | String           | Error Code, the default is 0                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; msg                      | String           | Error Message, The default is ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; tradeQuoteCcy            | String           | The quote currency used for trading.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

For market orders, it's likely the orders channel will show order state as
"filled" while showing the "last filled quantity (fillSz)" as 0.

In exceptional cases, the same message may be sent multiple times (perhaps with
the different uTime) . The following guidelines are advised:

1\. If a \`tradeId\` is present, it means a fill. Each \`tradeId\` should only
be returned once per instrument ID, and the later messages that have the same
\`tradeId\` should be discarded.  
2\. If \`tradeId\` is absent and the \`state\` is "filled," it means that the
\`SPOT\`/\`MARGIN\` market order is fully filled. For messages with the same
\`ordId\`, process only the first filled message and discard any subsequent
messages. State = filled is the terminal state of an order.  
3\. If the state is \`canceled\` or \`mmp_canceled\`, it indicates that the
order has been canceled. For cancellation messages with the same \`ordId\`,
process the first one and discard later messages. State = canceled /
mmp_canceled is the terminal state of an order.  
4\. If \`reqId\` is present, it indicates a response to a user-requested order
modification. It is recommended to use a unique \`reqId\` for each modification
request. For modification messages with the same \`reqId\`, process only the
first message received and discard subsequent messages.

The definitions for fillPx, tradeId, fillSz, fillPnl, fillTime, fillFee,
fillFeeCcy, and execType differ between the REST order information endpoints and
the orders channel.

---

### WS / Fills channel [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-fills-channel "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-fills-channel")

Retrieve transaction information. Data will not be pushed when first subscribed.
Data will only be pushed when there are order book fill events, where
tradeId > 0.

The channel is exclusively available to users with trading fee tier VIP5 or
above. For other users, please use
[WS / Order channel](/docs-v5/en/#order-book-trading-trade-ws-order-channel).

#### URL Path

/ws/v5/private (required login)

#### Request Parameters

| Parameter    | Type             | Required | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | No       | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes      | Operation<br><code>subscribe</code> <code>unsubscribe</code>                                                                                                                                                                                     |
| args         | Array of objects | Yes      | List of subscribed channels                                                                                                                                                                                                                      |
| &gt; channel | String           | Yes      | Channel name <code>fills</code>                                                                                                                                                                                                                  |
| &gt; instId  | String           | No       | Instrument ID                                                                                                                                                                                                                                    |

#### Response parameters

| Parameter    | Type   | Required | Description                                                                 |
| ------------ | ------ | -------- | --------------------------------------------------------------------------- |
| id           | String | No       | Unique identifier of the message                                            |
| event        | String | Yes      | Event<br><code>subscribe</code> <code>unsubscribe</code> <code>error</code> |
| arg          | Object | No       | Subscribed channel                                                          |
| &gt; channel | String | Yes      | Channel name                                                                |
| &gt; instId  | String | No       | Instrument ID                                                               |
| code         | String | No       | Error code                                                                  |
| msg          | String | No       | Error message                                                               |
| connId       | String | Yes      | WebSocket connection ID                                                     |

#### Push data parameters

| Parameter     | Type             | Description                                                                               |
| ------------- | ---------------- | ----------------------------------------------------------------------------------------- |
| arg           | Object           | Successfully subscribed channel                                                           |
| &gt; channel  | String           | Channel name                                                                              |
| &gt; uid      | String           | User Identifier                                                                           |
| &gt; instId   | String           | Instrument ID                                                                             |
| data          | Array of objects | Subscribed data                                                                           |
| &gt; instId   | String           | Instrument ID                                                                             |
| &gt; fillSz   | String           | Filled quantity. If the trade is aggregated, the filled quantity will also be aggregated. |
| &gt; fillPx   | String           | Last filled price                                                                         |
| &gt; side     | String           | Trade direction<br><code>buy</code> <code>sell</code>                                     |
| &gt; ts       | String           | Filled time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>       |
| &gt; ordId    | String           | Order ID                                                                                  |
| &gt; clOrdId  | String           | Client Order ID as assigned by the client                                                 |
| &gt; tradeId  | String           | The last trade ID in the trades aggregation                                               |
| &gt; execType | String           | Liquidity taker or maker, <code>T</code>: taker <code>M</code>: maker                     |
| &gt; count    | String           | The count of trades aggregated                                                            |

\- The channel is exclusively available to users with trading fee tier VIP5 or
above. Others will receive error code 60029 when subscribing to it.  
\- The channel only pushes partial information of the orders channel. Fill
events of block trading, nitro spread, liquidation, ADL, and some other non
order book events will not be pushed through this channel. Users should also
subscribe to the orders channel for order confirmation.  
\- When a fill event is received by this channel, the account balance, margin,
and position information might not have changed yet.  
\- Taker orders will be aggregated based on different fill prices. When
aggregation occurs, the count field indicates the number of orders matched, and
the tradeId represents the tradeId of the last trade in the aggregation. Maker
orders will not be aggregated.  
\- The channel returns clOrdId. The field will be returned upon trade execution.
Note that the fills channel will only return this field if the user-provided
clOrdId conforms to the signed int64 positive integer format
(1-9223372036854775807, 2^63-1); if the user does not provide this field or if
clOrdId does not meet the format requirements, the field will return "0". The
order endpoints and channel will continue to return the user-provided clOrdId as
usual. All request and response parameters are of string type.  
\- In the future, connection limits will be imposed on this channel. The maximum
number of connections subscribing to this channel per subaccount will be 20. We
recommend users always use this channel within this limit to avoid any impact on
their strategies when the limit is enforced.

---

### WS / Place order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-place-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-place-order")

You can place an order only if you have sufficient funds.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 60 requests per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 4 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Rate limit is shared with the \`Place order\` REST API endpoints

#### Request Parameters

| Parameter          | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ------------------ | ---------------- | ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                 | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                   |
| op                 | String           | Yes         | Operation<br><code>order</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| args               | Array of objects | Yes         | Request parameters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| &gt; instId        | String           | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; tdMode        | String           | Yes         | Trade mode<br>Margin mode <code>isolated</code> <code>cross</code><br>Non-Margin mode <code>cash</code><br><code>spot_isolated</code> (only applicable to SPOT lead trading, <code>tdMode</code> should be <code>spot_isolated</code> for <code>SPOT</code> lead trading.)                                                                                                                                                                                                                                                                                                                         |
| &gt; ccy           | String           | No          | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| &gt; clOrdId       | String           | No          | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; tag           | String           | No          | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; side          | String           | Yes         | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; posSide       | String           | Conditional | Position side<br>The default is <code>net</code> in the <code>net</code> mode<br>It is required in the <code>long/short</code> mode, and can only be <code>long</code> or <code>short</code>.<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>.                                                                                                                                                                                                                                                                                                                                        |
| &gt; ordType       | String           | Yes         | Order type<br><code>market</code>: Market order, only applicable to <code>SPOT/MARGIN/FUTURES/SWAP</code><br><code>limit</code>: limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode) |
| &gt; sz            | String           | Yes         | Quantity to buy or sell.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| &gt; px            | String           | Conditional | Order price. Only applicable to <code>limit</code>,<code>post_only</code>,<code>fok</code>,<code>ioc</code>,<code>mmp</code>,<code>mmp_and_post_only</code> order.<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                         |
| &gt; pxUsd         | String           | Conditional | Place options orders in <code>USD</code><br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; pxVol         | String           | Conditional | Place options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; reduceOnly    | Boolean          | No          | Whether the order can only reduce the position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>Only applicable to <code>MARGIN</code> orders, and <code>FUTURES</code>/<code>SWAP</code> orders in <code>net</code> mode<br>Only applicable to <code>Futures mode</code> and <code>Multi-currency margin</code>                                                                                                                                                                                                                       |
| &gt; tgtCcy        | String           | No          | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                 |
| &gt; banAmend      | Boolean          | No          | Whether to disallow the system from amending the size of the SPOT Market Order.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>If <code>true</code>, system will not amend and reject the market order if user does not have sufficient funds.<br>Only applicable to SPOT Market Orders                                                                                                                                                                                                                                                    |
| &gt; pxAmendType   | String           | No          | The price amendment type for orders<br><code>0</code>: Do not allow the system to amend to order price if <code>px</code> exceeds the price limit<br><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>px</code> exceeds the price limit<br>The default value is <code>0</code>                                                                                                                                                                                                                                                      |
| &gt; tradeQuoteCcy | String           | No          | The quote currency used for trading. Only applicable to <code>SPOT</code>.<br>The default value is the quote currency of the <code>instId</code>, for example: for <code>BTC-USD</code>, the default is <code>USD</code>.                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; stpMode       | String           | No          | Self trade prevention mode.<br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code>.<br>Cancel both does not support FOK<br><br>The account-level acctStpMode will be used to place orders. The default value of this field is <code>cancel_maker</code>. Users can log in to the webpage through the master account to modify this configuration. Users can also utilize the stpMode request parameter of the placing order endpoint to determine the stpMode of a certain order.                                                                                        |
| expTime            | String           | No          | Request effective deadline. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; tag     | String           | Order tag                                                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Rejection or success message of event execution.                                                                                              |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

tdMode  
Trade Mode, when placing an order, you need to specify the trade mode.  
**Spot mode:**  
\- SPOT and OPTION buyer: cash  
**Futures mode:**  
\- Isolated MARGIN: isolated  
\- Cross MARGIN: cross  
\- SPOT: cash  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated  
**Multi-currency margin:**  
\- Isolated MARGIN: isolated  
\- Cross SPOT: cross  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated  
**Portfolio margin:**  
\- Isolated MARGIN: isolated  
\- Cross SPOT: cross  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated

clOrdId  
clOrdId is a user-defined unique ID used to identify the order. It will be
included in the response parameters if you have specified during order
submission, and can be used as a request parameter to the endpoints to query,
cancel and amend orders.  
clOrdId must be unique among the clOrdIds of all pending orders.

posSide  
Position side, this parameter is not mandatory in **net** mode. If you pass it
through, the only valid value is **net**.  
In **long/short** mode, it is mandatory. Valid values are **long** or
**short**.  
In **long/short** mode, **side** and **posSide** need to be specified in the
combinations below:  
Open long: buy and open long (side: fill in buy; posSide: fill in long)  
Open short: sell and open short (side: fill in sell; posSide: fill in short)  
Close long: sell and close long (side: fill in sell; posSide: fill in long)  
Close short: buy and close short (side: fill in buy; posSide: fill in short)  
Portfolio margin mode: Expiry Futures and Perpetual Futures only support net
mode

ordType  
Order type. When creating a new order, you must specify the order type. The
order type you specify will affect: 1) what order parameters are required,
and 2) how the matching system executes your order. The following are valid
order types:  
limit: Limit order, which requires specified sz and px.  
market: Market order. For SPOT and MARGIN, market order will be filled with
market price (by swiping opposite order book). For Expiry Futures and Perpetual
Futures, market order will be placed to order book with most aggressive price
allowed by Price Limit Mechanism. For OPTION, market order is not supported yet.
As the filled price for market orders cannot be determined in advance, OKX
reserves/freezes your quote currency by an additional 5% for risk check.  
post_only: Post-only order, which the order can only provide liquidity to the
market and be a maker. If the order would have executed on placement, it will be
canceled instead.  
fok: Fill or kill order. If the order cannot be fully filled, the order will be
canceled. The order would not be partially filled.  
ioc: Immediate or cancel order. Immediately execute the transaction at the order
price, cancel the remaining unfilled quantity of the order, and the order
quantity will not be displayed in the order book.  
optimal_limit_ioc: Market order with ioc (immediate or cancel). Immediately
execute the transaction of this market order, cancel the remaining unfilled
quantity of the order, and the order quantity will not be displayed in the order
book. Only applicable to Expiry Futures and Perpetual Futures.

sz  
Quantity to buy or sell.  
For SPOT/MARGIN Buy and Sell Limit Orders, it refers to the quantity in base
currency.  
For MARGIN Buy Market Orders, it refers to the quantity in quote currency.  
For MARGIN Sell Market Orders, it refers to the quantity in base currency.  
For SPOT Market Orders, it is set by tgtCcy.  
For FUTURES/SWAP/OPTION orders, it refers to the number of contracts.

reduceOnly  
When placing an order with this parameter set to true, it means that the order
will reduce the size of the position only  
For the same MARGIN instrument, the coin quantity of all reverse direction
pending orders adds \`sz\` of new \`reduceOnly\` order cannot exceed the
position assets. After the debt is paid off, if there is a remaining size of
orders, the position will not be opened in reverse, but will be traded in
SPOT.  
For the same FUTURES/SWAP instrument, the sum of the current order size and all
reverse direction reduce-only pending orders which's price-time priority is
higher than the current order, cannot exceed the contract quantity of
position.  
Only applicable to \`Futures mode\` and \`Multi-currency margin\`  
Only applicable to \`MARGIN\` orders, and \`FUTURES\`/\`SWAP\` orders in \`net\`
mode  
Notice: Under long/short mode of Expiry Futures and Perpetual Futures, all
closing orders apply the reduce-only feature which is not affected by this
parameter.

tgtCcy  
This parameter is used to specify the order quantity in the order request is
denominated in the quantity of base or quote currency. This is applicable to
SPOT Market Orders only.  
Base currency: base_ccy  
Quote currency: quote_ccy  
If you use the Base Currency quantity for buy market orders or the Quote
Currency for sell market orders, please note:  
1\. If the quantity you enter is greater than what you can buy or sell, the
system will execute the order according to your maximum buyable or sellable
quantity. If you want to trade according to the specified quantity, you should
use Limit orders.  
2\. When the market price is too volatile, the locked balance may not be
sufficient to buy the Base Currency quantity or sell to receive the Quote
Currency that you specified. We will change the quantity of the order to execute
the order based on best effort principle based on your account balance. In
addition, we will try to over lock a fraction of your balance to avoid changing
the order quantity.  
2.1 Example of base currency buy market order:  
Taking the market order to buy 10 LTCs as an example, and the user can buy 11
LTC. At this time, if 10 < 11, the order is accepted. When the LTC-USDT market
price is 200, and the locked balance of the user is 3,000 USDT, as 200\*10 <
3,000, the market order of 10 LTC is fully executed; If the market is too
volatile and the LTC-USDT market price becomes 400, 400\*10 > 3,000, the user's
locked balance is not sufficient to buy using the specified amount of base
currency, the user's maximum locked balance of 3,000 USDT will be used to settle
the trade. Final transaction quantity becomes 3,000/400 = 7.5 LTC.  
2.2 Example of quote currency sell market order:  
Taking the market order to sell 1,000 USDT as an example, and the user can sell
1,200 USDT, 1,000 < 1,200, the order is accepted. When the LTC-USDT market price
is 200, and the locked balance of the user is 6 LTC, as 1,000/200 < 6, the
market order of 1,000 USDT is fully executed; If the market is too volatile and
the LTC-USDT market price becomes 100, 100\*6 < 1,000, the user's locked balance
is not sufficient to sell using the specified amount of quote currency, the
user's maximum locked balance of 6 LTC will be used to settle the trade. Final
transaction quantity becomes 6 \* 100 = 600 USDT.

px  
The value for px must be a multiple of tickSz for OPTION orders.  
If not, the system will apply the rounding rules below. Using tickSz 0.0005 as
an example:  
The px will be rounded up to the nearest 0.0005 when the remainder of px to
0.0005 is more than 0.00025 or \`px\` is less than 0.0005.  
The px will be rounded down to the nearest 0.0005 when the remainder of px to
0.0005 is less than 0.00025 and \`px\` is more than 0.0005.

Mandatory self trade prevention (STP)  
The trading platform imposes mandatory self trade prevention at master account
level, which means the accounts under the same master account, including master
account itself and all its affiliated sub-accounts, will be prevented from self
trade. The account-level acctStpMode will be used to place orders by default.
The default value of this field is \`cancel_maker\`. Users can log in to the
webpage through the master account to modify this configuration. Users can also
utilize the stpMode request parameter of the placing order endpoint to determine
the stpMode of a certain order.  
Mandatory self trade prevention will not lead to latency.  
There are three STP modes. The STP mode is always taken based on the
configuration in the taker order.  
1\. Cancel Maker: This is the default STP mode, which cancels the maker order to
prevent self-trading. Then, the taker order continues to match with the next
order based on the order book priority.  
2\. Cancel Taker: The taker order is canceled to prevent self-trading. If the
user's own maker order is lower in the order book priority, the taker order is
partially filled and then canceled. FOK orders are always honored and canceled
if they would result in self-trading.  
3\. Cancel Both: Both taker and maker orders are canceled to prevent
self-trading. If the user's own maker order is lower in the order book priority,
the taker order is partially filled. Then, the remaining quantity of the taker
order and the first maker order are canceled. FOK orders are not supported in
this mode.

---

### WS / Place multiple orders [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-place-multiple-orders "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-place-multiple-orders")

Place orders in a batch. Maximum 20 orders can be placed per request

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 300 orders per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 4 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Place order\`.

Rate limit is shared with the \`Place multiple orders\` REST API endpoints

#### Request Parameters

| Parameter          | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ------------------ | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                 | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                              |
| op                 | String           | Yes         | Operation<br><code>batch-orders</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| args               | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; instId        | String           | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; tdMode        | String           | Yes         | Trade mode<br>Margin mode <code>isolated</code> <code>cross</code><br>Non-Margin mode <code>cash</code><br><code>spot_isolated</code> (only applicable to SPOT lead trading, <code>tdMode</code> should be <code>spot_isolated</code> for <code>SPOT</code> lead trading.)<br>Note: <code>isolated</code> is not available in multi-currency margin mode and portfolio margin mode.                                                                                                                                                                                                                                                                           |
| &gt; ccy           | String           | No          | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| &gt; clOrdId       | String           | No          | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; tag           | String           | No          | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; side          | String           | Yes         | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; posSide       | String           | Conditional | Position side<br>The default <code>net</code> in the <code>net</code> mode<br>It is required in the <code>long/short</code> mode, and only be <code>long</code> or <code>short</code>.<br>Only applicable to <code>FUTURES</code>/<code>SWAP</code>.                                                                                                                                                                                                                                                                                                                                                                                                          |
| &gt; ordType       | String           | Yes         | Order type<br><code>market</code>: Market order, only applicable to <code>SPOT/MARGIN/FUTURES/SWAP</code><br><code>limit</code>: limit order<br><code>post_only</code>: Post-only order<br><code>fok</code>: Fill-or-kill order<br><code>ioc</code>: Immediate-or-cancel order<br><code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures)<br><code>mmp</code>: Market Maker Protection (only applicable to Option in Portfolio Margin mode)<br><code>mmp_and_post_only</code>: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode). |
| &gt; sz            | String           | Yes         | Quantity to buy or sell.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| &gt; px            | String           | Conditional | Order price. Only applicable to <code>limit</code>,<code>post_only</code>,<code>fok</code>,<code>ioc</code>,<code>mmp</code>,<code>mmp_and_post_only</code> order.<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                    |
| &gt; pxUsd         | String           | Conditional | Place options orders in <code>USD</code><br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| &gt; pxVol         | String           | Conditional | Place options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options<br>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| &gt; reduceOnly    | Boolean          | No          | Whether the order can only reduce the position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>Only applicable to <code>MARGIN</code> orders, and <code>FUTURES</code>/<code>SWAP</code> orders in <code>net</code> mode<br>Only applicable to <code>Futures mode</code> and <code>Multi-currency margin</code>                                                                                                                                                                                                                                                                                  |
| &gt; tgtCcy        | String           | No          | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                                                                            |
| &gt; banAmend      | Boolean          | No          | Whether to disallow the system from amending the size of the SPOT Market Order.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>If <code>true</code>, system will not amend and reject the market order if user does not have sufficient funds.<br>Only applicable to SPOT Market Orders                                                                                                                                                                                                                                                                                                               |
| &gt; pxAmendType   | String           | No          | The price amendment type for orders<br><code>0</code>: Do not allow the system to amend to order price if <code>px</code> exceeds the price limit<br><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>px</code> exceeds the price limit<br>The default value is <code>0</code>                                                                                                                                                                                                                                                                                                                 |
| &gt; tradeQuoteCcy | String           | No          | The quote currency used for trading. Only applicable to <code>SPOT</code>.<br>The default value is the quote currency of the <code>instId</code>, for example: for <code>BTC-USD</code>, the default is <code>USD</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| &gt; stpMode       | String           | No          | Self trade prevention mode.<br><code>cancel_maker</code>,<code>cancel_taker</code>, <code>cancel_both</code><br>Cancel both does not support FOK.<br><br>The account-level acctStpMode will be used to place orders by default. The default value of this field is <code>cancel_maker</code>. Users can log in to the webpage through the master account to modify this configuration. Users can also utilize the stpMode request parameter of the placing order endpoint to determine the stpMode of a certain order.                                                                                                                                        |
| expTime            | String           | No          | Request effective deadline. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; tag     | String           | Order tag                                                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Rejection or success message of event execution.                                                                                              |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

In the \`Portfolio Margin\` account mode, either all orders are accepted by the
system successfully, or all orders are rejected by the system.

clOrdId  
clOrdId is a user-defined unique ID used to identify the order. It will be
included in the response parameters if you have specified during order
submission, and can be used as a request parameter to the endpoints to query,
cancel and amend orders.  
clOrdId must be unique among all pending orders and the current request.

---

### WS / Cancel order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-cancel-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-cancel-order")

Cancel an incomplete order

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 60 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit is shared with the \`Cancel order\` REST API endpoints

#### Request Parameters

| Parameter    | Type             | Required    | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes         | Operation<br><code>cancel-order</code>                                                                                                                                                                                                           |
| args         | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                               |
| &gt; instId  | String           | Yes         | Instrument ID                                                                                                                                                                                                                                    |
| &gt; ordId   | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, ordId will be used                                                                                                                                |
| &gt; clOrdId | String           | Conditional | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                  |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Order status message                                                                                                                          |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

Cancel order returns with sCode equal to 0. It is not strictly considered that
the order has been canceled. It only means that your cancellation request has
been accepted by the system server. The result of the cancellation is subject to
the state pushed by the order channel or the get order state.

---

### WS / Cancel multiple orders [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-cancel-multiple-orders "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-cancel-multiple-orders")

Cancel incomplete orders in batches. Maximum 20 orders can be canceled per
request.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 300 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Cancel order\`.

Rate limit is shared with the \`Cancel multiple orders\` REST API endpoints

#### Request Parameters

| Parameter    | Type             | Required    | Description                                                                                                                                                                                                                                      |
| ------------ | ---------------- | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters. |
| op           | String           | Yes         | Operation<br><code>batch-cancel-orders</code>                                                                                                                                                                                                    |
| args         | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                               |
| &gt; instId  | String           | Yes         | Instrument ID                                                                                                                                                                                                                                    |
| &gt; ordId   | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, ordId will be used                                                                                                                                |
| &gt; clOrdId | String           | Conditional | Client Order ID as assigned by the client<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                  |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Order status message                                                                                                                          |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

---

### WS / Amend order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-amend-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-amend-order")

Amend an incomplete order.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 60 requests per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 4 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Rate limit is shared with the \`Amend order\` REST API endpoints

#### Request Parameters

| Parameter        | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                         |
| ---------------- | ---------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id               | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                    |
| op               | String           | Yes         | Operation<br><code>amend-order</code>                                                                                                                                                                                                                                                                                                               |
| args             | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                                                                                                                                  |
| &gt; instId      | String           | Yes         | Instrument ID                                                                                                                                                                                                                                                                                                                                       |
| &gt; cxlOnFail   | Boolean          | No          | Whether the order needs to be automatically canceled when the order amendment fails<br>Valid options: <code>false</code> or <code>true</code>, the default is <code>false</code>.                                                                                                                                                                   |
| &gt; ordId       | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, <code>ordId</code> will be used.                                                                                                                                                                                                                     |
| &gt; clOrdId     | String           | Conditional | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                           |
| &gt; reqId       | String           | No          | Client Request ID as assigned by the client for order amendment<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                               |
| &gt; newSz       | String           | Conditional | New quantity after amendment and it has to be larger than 0. Either <code>newSz</code> or <code>newPx</code> is required. When amending a partially-filled order, the <code>newSz</code> should include the amount that has been filled.                                                                                                            |
| &gt; newPx       | String           | Conditional | New price after amendment.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order.                                                 |
| &gt; newPxUsd    | String           | Conditional | Modify options orders using USD prices<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                                                                  |
| &gt; newPxVol    | String           | Conditional | Modify options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                              |
| &gt; pxAmendType | String           | No          | The price amendment type for orders<br><code>0</code>: Do not allow the system to amend to order price if <code>newPx</code> exceeds the price limit<br><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>newPx</code> exceeds the price limit<br>The default value is <code>0</code> |
| expTime          | String           | No          | Request effective deadline. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                  |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                   |
| ------------ | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| id           | String           | Unique identifier of the message                                                                                                              |
| op           | String           | Operation                                                                                                                                     |
| code         | String           | Error Code                                                                                                                                    |
| msg          | String           | Error message                                                                                                                                 |
| data         | Array of objects | Data                                                                                                                                          |
| &gt; ordId   | String           | Order ID                                                                                                                                      |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                     |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |
| &gt; reqId   | String           | Client Request ID as assigned by the client for order amendment                                                                               |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                               |
| &gt; sMsg    | String           | Order status message                                                                                                                          |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>        |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>           |

newSz  
If the new quantity of the order is less than or equal to the filled quantity
when you are amending a partially-filled order, the order status will be changed
to filled.

The amend order returns sCode equal to 0. It is not strictly considered that the
order has been amended. It only means that your amend order request has been
accepted by the system server. The result of the amend is subject to the status
pushed by the order channel or the order status query

---

### WS / Amend multiple orders [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-amend-multiple-orders "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-amend-multiple-orders")

Amend incomplete orders in batches. Maximum 20 orders can be amended per
request.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 300 orders per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 4 orders per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

Rate limit of this endpoint will also be affected by the rules
[Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit)
and
[Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Unlike other endpoints, the rate limit of this endpoint is determined by the
number of orders. If there is only one order in the request, it will consume the
rate limit of \`Amend order\`.

Rate limit is shared with the \`Amend multiple orders\` REST API endpoints

#### Request Parameters

| Parameter        | Type             | Required    | Description                                                                                                                                                                                                                                                                                                                                         |
| ---------------- | ---------------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id               | String           | Yes         | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                    |
| op               | String           | Yes         | Operation<br><code>batch-amend-orders</code>                                                                                                                                                                                                                                                                                                        |
| args             | Array of objects | Yes         | Request Parameters                                                                                                                                                                                                                                                                                                                                  |
| &gt; instId      | String           | Yes         | Instrument ID                                                                                                                                                                                                                                                                                                                                       |
| &gt; cxlOnFail   | Boolean          | No          | Whether the order needs to be automatically canceled when the order amendment fails<br>Valid options: <code>false</code> or <code>true</code>, the default is <code>false</code>.                                                                                                                                                                   |
| &gt; ordId       | String           | Conditional | Order ID<br>Either <code>ordId</code> or <code>clOrdId</code> is required, if both are passed, <code>ordId</code> will be used.                                                                                                                                                                                                                     |
| &gt; clOrdId     | String           | Conditional | Client Order ID as assigned by the client                                                                                                                                                                                                                                                                                                           |
| &gt; reqId       | String           | No          | Client Request ID as assigned by the client for order amendment<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                               |
| &gt; newSz       | String           | Conditional | New quantity after amendment and it has to be larger than 0. Either <code>newSz</code> or <code>newPx</code> is required. When amending a partially-filled order, the <code>newSz</code> should include the amount that has been filled.                                                                                                            |
| &gt; newPx       | String           | Conditional | New price after amendment.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order.                                                 |
| &gt; newPxUsd    | String           | Conditional | Modify options orders using USD prices<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                                                                  |
| &gt; newPxVol    | String           | Conditional | Modify options orders based on implied volatility, where 1 represents 100%<br>Only applicable to options.<br>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                                                                                              |
| &gt; pxAmendType | String           | No          | The price amendment type for orders<br><code>0</code>: Do not allow the system to amend to order price if <code>newPx</code> exceeds the price limit<br><code>1</code>: Allow the system to amend the price to the best available value within the price limit if <code>newPx</code> exceeds the price limit<br>The default value is <code>0</code> |
| expTime          | String           | No          | Request effective deadline. Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                                                                  |

#### Response Parameters

| Parameter    | Type             | Description                                                                                                                                            |
| ------------ | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| id           | String           | Unique identifier of the message                                                                                                                       |
| op           | String           | Operation                                                                                                                                              |
| code         | String           | Error Code                                                                                                                                             |
| msg          | String           | Error message                                                                                                                                          |
| data         | Array of objects | Data                                                                                                                                                   |
| &gt; ordId   | String           | Order ID                                                                                                                                               |
| &gt; clOrdId | String           | Client Order ID as assigned by the client                                                                                                              |
| &gt; ts      | String           | Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>          |
| &gt; reqId   | String           | Client Request ID as assigned by the client for order amendment<br>If the user provides reqId in the request, the corresponding reqId will be returned |
| &gt; sCode   | String           | Order status code, <code>0</code> means success                                                                                                        |
| &gt; sMsg    | String           | Order status message                                                                                                                                   |
| inTime       | String           | Timestamp at Websocket gateway when the request is received, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                 |
| outTime      | String           | Timestamp at Websocket gateway when the response is sent, Unix timestamp format in microseconds, e.g. <code>1597026383085123</code>                    |

newSz  
If the new quantity of the order is less than or equal to the filled quantity
when you are amending a partially-filled order, the order status will be changed
to filled.

---

### WS / Mass cancel order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-mass-cancel-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-trade-ws-mass-cancel-order")

Cancel all the MMP pending orders of an instrument family.

Only applicable to Option in Portfolio Margin mode, and MMP privilege is
required.

#### URL Path

/ws/v5/private (required login)

#### Rate Limit: 5 requests per 2 seconds

#### Rate limit rule: User ID

Rate limit is shared with the \`Mass Cancel Order\` REST API endpoints

#### Request Parameters

| Parameter         | Type             | Required | Description                                                                                                                                                                                                                                                                     |
| ----------------- | ---------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| id                | String           | Yes      | Unique identifier of the message<br>Provided by client. It will be returned in response message for identifying the corresponding request.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                |
| op                | String           | Yes      | Operation<br><code>mass-cancel</code>                                                                                                                                                                                                                                           |
| args              | Array of objects | Yes      | Request parameters                                                                                                                                                                                                                                                              |
| &gt; instType     | String           | Yes      | Instrument type<br><code>OPTION</code>                                                                                                                                                                                                                                          |
| &gt; instFamily   | String           | Yes      | Instrument family                                                                                                                                                                                                                                                               |
| &gt; lockInterval | String           | No       | Lock interval(ms)<br>The range should be [0, 10 000]<br>The default is 0. You can set it as "0" if you want to unlock it immediately.<br>Error 54008 will be returned when placing order during lock interval, it is different from 51034 which is thrown when MMP is triggered |

#### Response Parameters

| Parameter   | Type             | Description                                                 |
| ----------- | ---------------- | ----------------------------------------------------------- |
| id          | String           | Unique identifier of the message                            |
| op          | String           | Operation                                                   |
| code        | String           | Error Code                                                  |
| msg         | String           | Error message                                               |
| data        | Array of objects | Data                                                        |
| &gt; result | Boolean          | Result of the request <code>true</code>, <code>false</code> |

---

### POST / Place algo order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-post-place-algo-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-post-place-algo-order")

The algo order includes `trigger` order, `oco` order, `chase` order,
`conditional` order, `twap` order and trailing order.

#### Rate Limit: 20 requests per 2 seconds

#### Rate Limit of lead trader lead instruments for Copy Trading: 1 request per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/order-algo`

#### Request Parameters

| Parameter     | Type   | Required    | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------- | ------ | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId        | String | Yes         | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| tdMode        | String | Yes         | Trade mode<br>Margin mode <code>cross</code> <code>isolated</code><br>Non-Margin mode <code>cash</code><br><code>spot_isolated</code> (only applicable to SPOT lead trading)<br>Note: <code>isolated</code> is not available in multi-currency margin mode and portfolio margin mode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ccy           | String | No          | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| side          | String | Yes         | Order side, <code>buy</code> <code>sell</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| posSide       | String | Conditional | Position side<br>Required in <code>long/short</code> mode and only be <code>long</code> or <code>short</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ordType       | String | Yes         | Order type<br><code>conditional</code>: One-way stop order<br><code>oco</code>: One-cancels-the-other order<br><code>chase</code>: chase order, only applicable to FUTURES and SWAP<br><code>trigger</code>: Trigger order<br><code>move_order_stop</code>: Trailing order<br><code>twap</code>: TWAP order                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| sz            | String | Conditional | Quantity to buy or sell<br>Either <code>sz</code> or <code>closeFraction</code> is required.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| tag           | String | No          | Order tag<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| tgtCcy        | String | No          | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> traded with Market buy <code>conditional</code> order<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| algoClOrdId   | String | No          | Client-supplied Algo ID<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| closeFraction | String | Conditional | Fraction of position to be closed when the algo order is triggered.<br>Currently the system supports fully closing the position only so the only accepted value is <code>1</code>. For the same position, only one TPSL pending order for fully closing the position is supported.<br>This is only applicable to <code>FUTURES</code> or <code>SWAP</code> instruments.<br>If <code>posSide</code> is <code>net</code>, <code>reduceOnly</code> must be <code>true</code>.<br>This is only applicable if <code>ordType</code> is <code>conditional</code> or <code>oco</code>.<br>This is only applicable if the stop loss and take profit order is executed as market order.<br>This is not supported in Portfolio Margin mode.<br>Either <code>sz</code> or <code>closeFraction</code> is required. |
| tradeQuoteCcy | String | No          | The quote currency used for trading. Only applicable to <code>SPOT</code>.<br>The default value is the quote currency of the <code>instId</code>, for example: for <code>BTC-USD</code>, the default is <code>USD</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |

**Take Profit / Stop Loss Order**

Predefine the price you want the order to trigger a market order to execute
immediately or it will place a limit order.  
This type of order will not freeze your free margin in advance.

learn more about [Take Profit / Stop Loss Order](/help/11015447687437)

| Parameter       | Type    | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| --------------- | ------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| tpTriggerPx     | String  | No       | Take-profit trigger price<br>If you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| tpTriggerPxType | String  | No       | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is <code>last</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| tpOrdPx         | String  | No       | Take-profit order price<br>For condition TP order, if you fill in this parameter, you should fill in the take-profit trigger price as well.<br>For limit TP order, you need to fill in this parameter, but the take-profit trigger price doesn’t need to be filled.<br>If the price is <code>-1</code>, take-profit will be executed at the market price.                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| tpOrdKind       | String  | No       | TP order kind<br><code>condition</code><br><code>limit</code><br>The default is <code>condition</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| slTriggerPx     | String  | No       | Stop-loss trigger price<br>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| slTriggerPxType | String  | No       | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is <code>last</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| slOrdPx         | String  | No       | Stop-loss order price<br>If you fill in this parameter, you should fill in the stop-loss trigger price.<br>If the price is <code>-1</code>, stop-loss will be executed at the market price.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| cxlOnClosePos   | Boolean | No       | Whether the TP/SL order placed by the user is associated with the corresponding position of the instrument. If it is associated, the TP/SL order will be canceled when the position is fully closed; if it is not, the TP/SL order will not be affected when the position is fully closed.<br>Valid values:<br><code>true</code>: Place a TP/SL order associated with the position<br><code>false</code>: Place a TP/SL order that is not associated with the position<br>The default value is <code>false</code>. If <code>true</code> is passed in, users must pass reduceOnly = true as well, indicating that when placing a TP/SL order associated with a position, it must be a reduceOnly order.<br>Only applicable to <code>Futures mode</code> and <code>Multi-currency margin</code>. |
| reduceOnly      | Boolean | No       | Whether the order can only reduce the position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |

Take Profit / Stop Loss Order  
When placing net TP/SL order (ordType=conditional) and both take-profit and
stop-loss parameters are sent, only stop-loss logic will be performed and
take-profit logic will be ignored.

**Chase order**

It will place a Post Only order immediately and amend it continuously  
Chase order and corresponding Post Only order can't be amended.

| Parameter    | Type    | Required    | Description                                                                                                                                                                                                                                                                                                                                                             |
| ------------ | ------- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| chaseType    | String  | No          | Chase type.<br><code>distance</code>: distance from best bid/ask price, the default value.<br><code>ratio</code>: ratio.                                                                                                                                                                                                                                                |
| chaseVal     | String  | No          | Chase value.<br>It represents distance from best bid/ask price when <code>chaseType</code> is distance.<br>For USDT-margined contract, the unit is USDT.<br>For USDC-margined contract, the unit is USDC.<br>For Crypto-margined contract, the unit is USD.<br>It represents ratio when <code>chaseType</code> is ratio. 0.1 represents 10%.<br>The default value is 0. |
| maxChaseType | String  | Conditional | Maximum chase type.<br><code>distance</code>: maximum distance from best bid/ask price<br><code>ratio</code>: the ratio.<br><br>maxChaseTyep and maxChaseVal need to be used together or none of them.                                                                                                                                                                  |
| maxChaseVal  | String  | Conditional | Maximum chase value.<br>It represents maximum distance when <code>maxChaseType</code> is distance.<br>It represents ratio when <code>maxChaseType</code> is ratio. 0.1 represents 10%.                                                                                                                                                                                  |
| reduceOnly   | Boolean | No          | Whether the order can only reduce the position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.                                                                                                                                                                                                                |

**Trigger Order**

Use a trigger order to place a market or limit order when a specific price level
is crossed.  
When a Trigger Order is triggered, if your account balance is lower than the
order amount, the system will automatically place the order based on your
current balance.  
Trigger orders do not freeze assets when placed.  
Only applicable to SPOT/FUTURES/SWAP

learn more about [Trigger Order](/help/11015447687437)

| Parameter              | Type             | Required | Description                                                                                                                                                                                                                                                                 |
| ---------------------- | ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| triggerPx              | String           | Yes      | Trigger price                                                                                                                                                                                                                                                               |
| orderPx                | String           | Yes      | Order Price<br>If the price is <code>-1</code>, the order will be executed at the market price.                                                                                                                                                                             |
| triggerPxType          | String           | No       | Trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is <code>last</code>                                                                                                                 |
| attachAlgoOrds         | Array of objects | No       | Attached SL/TP orders info<br>Applicable to <code>Futures mode/Multi-currency margin/Portfolio margin</code>                                                                                                                                                                |
| &gt; attachAlgoClOrdId | String           | No       | Client-supplied Algo ID when placing order attaching TP/SL.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to algoClOrdId when placing TP/SL order once the general order is filled completely. |
| &gt; tpTriggerPx       | String           | No       | Take-profit trigger price<br>If you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                         |
| &gt; tpTriggerPxType   | String           | No       | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is <code>last</code>                                                                                                     |
| &gt; tpOrdPx           | String           | No       | Take-profit order price<br>If you fill in this parameter, you should fill in the take-profit trigger price as well.<br>If the price is <code>-1</code>, take-profit will be executed at the market price.                                                                   |
| &gt; slTriggerPx       | String           | No       | Stop-loss trigger price<br>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                     |
| &gt; slTriggerPxType   | String           | No       | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is <code>last</code>                                                                                                       |
| &gt; slOrdPx           | String           | No       | Stop-loss order price<br>If you fill in this parameter, you should fill in the stop-loss trigger price.<br>If the price is <code>-1</code>, stop-loss will be executed at the market price.                                                                                 |

**Trailing Stop Order**

A trailing stop order is a stop order that tracks the market price. Its trigger
price changes with the market price. Once the trigger price is reached, a market
order is placed.  
Actual trigger price for sell orders and short positions = Highest price after
order placement – Trail variance (Var.), or Highest price after placement × (1 –
Trail variance) (Ratio).  
Actual trigger price for buy orders and long positions = Lowest price after
order placement + Trail variance, or Lowest price after order placement × (1 +
Trail variance).  
You can use the activation price to set the activation condition for a trailing
stop order.

learn more about [Trailing Stop Order](/help/11015447687437)

| Parameter      | Type    | Required    | Description                                                                                                                                                                                                                                                                             |
| -------------- | ------- | ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| callbackRatio  | String  | Conditional | Callback price ratio, e.g. <code>0.01</code> represents <code>1%</code><br>Either <code>callbackRatio</code> or <code>callbackSpread</code> is allowed to be passed.                                                                                                                    |
| callbackSpread | String  | Conditional | Callback price variance                                                                                                                                                                                                                                                                 |
| activePx       | String  | No          | Active price<br>The system will only start tracking the market and calculating your trigger price after the activation price is reached. If you don’t set a price, your order will be activated as soon as it’s placed.                                                                 |
| reduceOnly     | Boolean | No          | Whether the order can only reduce the position size.<br>Valid options: <code>true</code> or <code>false</code>. The default value is <code>false</code>.<br>This parameter is only valid in the <code>FUTRUES</code>/<code>SWAP</code> net mode, and is ignored in the long/short mode. |

**TWAP Order**

Time-weighted average price (TWAP) strategy splits your order and places smaller
orders at regular time intervals.  
It is a strategy that will attempt to execute an order which trades in slices of
order quantity at regular intervals of time as specified by users.

learn more about [TWAP Order](/help/xiii-time-weighted-average-price-twap)

| Parameter    | Type   | Required    | Description                                                                                                                                                                                                                                                                                                                                                                                                              |
| ------------ | ------ | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| pxVar        | String | Conditional | Price variance by percentage, range between [0.0001 ~ 0.01], e.g. <code>0.01</code> represents <code>1%</code><br>Take buy orders as an example. When the market price is lower than the limit price, small buy orders will be placed above the best bid price within a certain range. This parameter determines the range by percentage.<br>Either <code>pxVar</code> or <code>pxSpread</code> is allowed to be passed. |
| pxSpread     | String | Conditional | Price variance by constant, should be no less then 0 (no upper limit)<br>Take buy orders as an example. When the market price is lower than the limit price, small buy orders will be placed above the best bid price within a certain range. This parameter determines the range by constant.                                                                                                                           |
| szLimit      | String | Yes         | Average amount<br>Take buy orders as an example. When the market price is lower than the limit price, a certain amount of buy orders will be placed above the best bid price within a certain range. This parameter determines the amount.                                                                                                                                                                               |
| pxLimit      | String | Yes         | Price Limit, should be no less then 0 (no upper limit)<br>Take buy orders as an example. When the market price is lower than the limit price, small buy orders will be placed above the best bid price within a certain range. This parameter represents the limit price.                                                                                                                                                |
| timeInterval | String | Yes         | Time interval in unit of <code>second</code><br>ake buy orders as an example. When the market price is lower than the limit price, small buy orders will be placed above the best bid price within a certain range based on the time cycle. This parameter represents the time cycle.                                                                                                                                    |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                       |
| ------------- | -------- | --------------------------------------------------------------------- |
| algoId        | String   | Algo ID                                                               |
| clOrdId       | String   | <del>Client Order ID as assigned by the client</del>(Deprecated)      |
| algoClOrdId   | String   | Client-supplied Algo ID                                               |
| sCode         | String   | The code of the event execution result, <code>0</code> means success. |
| sMsg          | String   | Rejection message if the request is unsuccessful.                     |
| tag           | String   | Order tag                                                             |

---

### POST / Cancel algo order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-post-cancel-algo-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-post-cancel-algo-order")

Cancel unfilled algo orders. A maximum of 10 orders can be canceled per request.
Request parameters should be passed in the form of an array.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule (except Options): User ID + Instrument ID

#### Rate limit rule (Options only): User ID + Instrument Family

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/cancel-algos`

#### Request Parameters

| Parameter | Type   | Required | Description                               |
| --------- | ------ | -------- | ----------------------------------------- |
| algoId    | String | Yes      | Algo ID                                   |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USDT</code> |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                       |
| ------------- | -------- | --------------------------------------------------------------------- |
| algoId        | String   | Algo ID                                                               |
| sCode         | String   | The code of the event execution result, <code>0</code> means success. |
| sMsg          | String   | Rejection message if the request is unsuccessful.                     |
| clOrdId       | String   | <del>Client Order ID as assigned by the client</del>(Deprecated)      |
| algoClOrdId   | String   | <del>Client-supplied Algo ID</del>(Deprecated)                        |
| tag           | String   | <del>Order tag </del>(Deprecated)                                     |

---

### POST / Amend algo order [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-post-amend-algo-order "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-post-amend-algo-order")

Amend unfilled algo orders (Support Stop order and Trigger order only, not
including Move_order_stop order, Iceberg order, TWAP order, Trailing Stop
order).

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID + Instrument ID

#### Permission: Trade

#### HTTP Request

`POST /api/v5/trade/amend-algos`

#### Request Parameters

| Parameter   | Type    | Required    | Description                                                                                                                                                                                                                                                                                                |
| ----------- | ------- | ----------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId      | String  | Yes         | Instrument ID                                                                                                                                                                                                                                                                                              |
| algoId      | String  | Conditional | Algo ID<br>Either <code>algoId</code> or <code>algoClOrdId</code> is required. If both are passed, <code>algoId</code> will be used.                                                                                                                                                                       |
| algoClOrdId | String  | Conditional | Client-supplied Algo ID<br>Either <code>algoId</code> or <code>algoClOrdId</code> is required. If both are passed, <code>algoId</code> will be used.                                                                                                                                                       |
| cxlOnFail   | Boolean | No          | Whether the order needs to be automatically canceled when the order amendment fails<br>Valid options: <code>false</code> or <code>true</code>, the default is <code>false</code>.                                                                                                                          |
| reqId       | String  | Conditional | Client Request ID as assigned by the client for order amendment<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>The response will include the corresponding <code>reqId</code> to help you identify the request if you provide it in the request. |
| newSz       | String  | Conditional | New quantity after amendment and it has to be larger than 0.                                                                                                                                                                                                                                               |

**Take Profit / Stop Loss Order**

| Parameter          | Type   | Required    | Description                                                                                                                         |
| ------------------ | ------ | ----------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| newTpTriggerPx     | String | Conditional | Take-profit trigger price.<br>Either the take-profit trigger price or order price is 0, it means that the take-profit is deleted    |
| newTpOrdPx         | String | Conditional | Take-profit order price<br>If the price is -1, take-profit will be executed at the market price.                                    |
| newSlTriggerPx     | String | Conditional | Stop-loss trigger price.<br>Either the stop-loss trigger price or order price is 0, it means that the stop-loss is deleted          |
| newSlOrdPx         | String | Conditional | Stop-loss order price<br>If the price is -1, stop-loss will be executed at the market price.                                        |
| newTpTriggerPxType | String | Conditional | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price |
| newSlTriggerPxType | String | Conditional | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price   |

**Trigger Order**

| Parameter               | Type             | Required | Description                                                                                                                                                                                               |
| ----------------------- | ---------------- | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| newTriggerPx            | String           | Yes      | New trigger price after amendment                                                                                                                                                                         |
| newOrdPx                | String           | Yes      | New order price after amendment<br>If the price is <code>-1</code>, the order will be executed at the market price.                                                                                       |
| newTriggerPxType        | String           | No       | New trigger price type after amendment<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is <code>last</code>                           |
| attachAlgoOrds          | Array of objects | No       | Attached SL/TP orders info<br>Applicable to <code>Futures mode/Multi-currency margin/Portfolio margin</code>                                                                                              |
| &gt; newTpTriggerPx     | String           | No       | Take-profit trigger price<br>If you fill in this parameter, you should fill in the take-profit order price as well.                                                                                       |
| &gt; newTpTriggerPxType | String           | No       | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is <code>last</code>                                   |
| &gt; newTpOrdPx         | String           | No       | Take-profit order price<br>If you fill in this parameter, you should fill in the take-profit trigger price as well.<br>If the price is <code>-1</code>, take-profit will be executed at the market price. |
| &gt; newSlTriggerPx     | String           | No       | Stop-loss trigger price<br>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                   |
| &gt; newSlTriggerPxType | String           | No       | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price<br>The default is <code>last</code>                                     |
| &gt; newSlOrdPx         | String           | No       | Stop-loss order price<br>If you fill in this parameter, you should fill in the stop-loss trigger price.<br>If the price is <code>-1</code>, stop-loss will be executed at the market price.               |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                       |
| ------------- | -------- | --------------------------------------------------------------------- |
| algoId        | String   | Algo ID                                                               |
| algoClOrdId   | String   | Client-supplied Algo ID                                               |
| reqId         | String   | Client Request ID as assigned by the client for order amendment.      |
| sCode         | String   | The code of the event execution result, <code>0</code> means success. |
| sMsg          | String   | Rejection message if the request is unsuccessful.                     |

---

### GET / Algo order details [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-get-algo-order-details "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-get-algo-order-details")

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/order-algo`

#### Request Parameters

| Parameter   | Type   | Required    | Description                                                                                                                         |
| ----------- | ------ | ----------- | ----------------------------------------------------------------------------------------------------------------------------------- |
| algoId      | String | Conditional | Algo ID<br>Either <code>algoId</code> or <code>algoClOrdId</code> is required.If both are passed, <code>algoId</code> will be used. |
| algoClOrdId | String | Conditional | Client-supplied Algo ID<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.       |

#### Response Parameters

| **Parameter**          | **Type**         | **Description**                                                                                                                                                                                                                                                                             |
| ---------------------- | ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType               | String           | Instrument type                                                                                                                                                                                                                                                                             |
| instId                 | String           | Instrument ID                                                                                                                                                                                                                                                                               |
| ccy                    | String           | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                                       |
| ordId                  | String           | Latest order ID. It will be deprecated soon                                                                                                                                                                                                                                                 |
| ordIdList              | Array of strings | Order ID list. There will be multiple order IDs when there is TP/SL splitting order.                                                                                                                                                                                                        |
| algoId                 | String           | Algo ID                                                                                                                                                                                                                                                                                     |
| clOrdId                | String           | Client Order ID as assigned by the client                                                                                                                                                                                                                                                   |
| sz                     | String           | Quantity to buy or sell                                                                                                                                                                                                                                                                     |
| closeFraction          | String           | Fraction of position to be closed when the algo order is triggered                                                                                                                                                                                                                          |
| ordType                | String           | Order type                                                                                                                                                                                                                                                                                  |
| side                   | String           | Order side                                                                                                                                                                                                                                                                                  |
| posSide                | String           | Position side                                                                                                                                                                                                                                                                               |
| tdMode                 | String           | Trade mode                                                                                                                                                                                                                                                                                  |
| tgtCcy                 | String           | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> Market Orders<br>Default is <code>quote_ccy</code> for buy, <code>base_ccy</code> for sell                          |
| state                  | String           | State<br><code>live</code><br><code>pause</code><br><code>partially_effective</code><br><code>effective</code><br><code>canceled</code><br><code>order_failed</code><br><code>partially_failed</code>                                                                                       |
| lever                  | String           | Leverage, from <code>0.01</code> to <code>125</code>.<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                                |
| tpTriggerPx            | String           | Take-profit trigger price.                                                                                                                                                                                                                                                                  |
| tpTriggerPxType        | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                        |
| tpOrdPx                | String           | Take-profit order price.                                                                                                                                                                                                                                                                    |
| slTriggerPx            | String           | Stop-loss trigger price.                                                                                                                                                                                                                                                                    |
| slTriggerPxType        | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                          |
| slOrdPx                | String           | Stop-loss order price.                                                                                                                                                                                                                                                                      |
| triggerPx              | String           | trigger price.                                                                                                                                                                                                                                                                              |
| triggerPxType          | String           | trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                                    |
| ordPx                  | String           | Order price for the trigger order                                                                                                                                                                                                                                                           |
| actualSz               | String           | Actual order quantity                                                                                                                                                                                                                                                                       |
| actualPx               | String           | Actual order price                                                                                                                                                                                                                                                                          |
| tag                    | String           | Order tag                                                                                                                                                                                                                                                                                   |
| actualSide             | String           | Actual trigger side, <code>tp</code>: take profit <code>sl</code>: stop loss<br>Only applicable to oco order and conditional order                                                                                                                                                          |
| triggerTime            | String           | Trigger time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                        |
| pxVar                  | String           | Price ratio<br>Only applicable to <code>iceberg</code> order or <code>twap</code> order                                                                                                                                                                                                     |
| pxSpread               | String           | Price variance<br>Only applicable to <code>iceberg</code> order or <code>twap</code> order                                                                                                                                                                                                  |
| szLimit                | String           | Average amount<br>Only applicable to <code>iceberg</code> order or <code>twap</code> order                                                                                                                                                                                                  |
| pxLimit                | String           | Price Limit<br>Only applicable to <code>iceberg</code> order or <code>twap</code> order                                                                                                                                                                                                     |
| timeInterval           | String           | Time interval<br>Only applicable to <code>twap</code> order                                                                                                                                                                                                                                 |
| callbackRatio          | String           | Callback price ratio<br>Only applicable to <code>move_order_stop</code> order                                                                                                                                                                                                               |
| callbackSpread         | String           | Callback price variance<br>Only applicable to <code>move_order_stop</code> order                                                                                                                                                                                                            |
| activePx               | String           | Active price<br>Only applicable to <code>move_order_stop</code> order                                                                                                                                                                                                                       |
| moveTriggerPx          | String           | Trigger price<br>Only applicable to <code>move_order_stop</code> order                                                                                                                                                                                                                      |
| reduceOnly             | String           | Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                          |
| quickMgnType           | String           | Quick Margin type, Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code>                                                                                                                                        |
| last                   | String           | Last filled price while placing                                                                                                                                                                                                                                                             |
| failCode               | String           | It represents that the reason that algo order fails to trigger. It is "" when the state is <code>effective</code>/<code>canceled</code>. There will be value when the state is <code>order_failed</code>, e.g. 51008;<br>Only applicable to Stop Order, Trailing Stop Order, Trigger order. |
| algoClOrdId            | String           | Client-supplied Algo ID                                                                                                                                                                                                                                                                     |
| amendPxOnTriggerType   | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                                          |
| attachAlgoOrds         | Array of objects | Attached SL/TP orders info<br>Applicable to <code>Futures mode/Multi-currency margin/Portfolio margin</code>                                                                                                                                                                                |
| &gt; attachAlgoClOrdId | String           | Client-supplied Algo ID when placing order attaching TP/SL.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to algoClOrdId when placing TP/SL order once the general order is filled completely.                 |
| &gt; tpTriggerPx       | String           | Take-profit trigger price<br>If you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                                         |
| &gt; tpTriggerPxType   | String           | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                         |
| &gt; tpOrdPx           | String           | Take-profit order price<br>If you fill in this parameter, you should fill in the take-profit trigger price as well.<br>If the price is <code>-1</code>, take-profit will be executed at the market price.                                                                                   |
| &gt; slTriggerPx       | String           | Stop-loss trigger price<br>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                                     |
| &gt; slTriggerPxType   | String           | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                           |
| &gt; slOrdPx           | String           | Stop-loss order price<br>If you fill in this parameter, you should fill in the stop-loss trigger price.<br>If the price is <code>-1</code>, stop-loss will be executed at the market price.                                                                                                 |
| linkedOrd              | Object           | Linked TP order detail, only applicable to SL order that comes from the one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                 |
| &gt; ordId             | String           | Order ID                                                                                                                                                                                                                                                                                    |
| cTime                  | String           | Creation time Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                        |
| uTime                  | String           | Order updated time, Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                               |
| isTradeBorrowMode      | String           | Whether borrowing currency automatically<br>true<br>false<br>Only applicable to <code>trigger order</code>, <code>trailing order</code> and <code>twap order</code>                                                                                                                         |
| chaseType              | String           | Chase type. Only applicable to <code>chase</code> order.                                                                                                                                                                                                                                    |
| chaseVal               | String           | Chase value. Only applicable to <code>chase</code> order.                                                                                                                                                                                                                                   |
| maxChaseType           | String           | Maximum chase type. Only applicable to <code>chase</code> order.                                                                                                                                                                                                                            |
| maxChaseVal            | String           | Maximum chase value. Only applicable to <code>chase</code> order.                                                                                                                                                                                                                           |
| tradeQuoteCcy          | String           | The quote currency used for trading.                                                                                                                                                                                                                                                        |

---

### GET / Algo order list [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-get-algo-order-list "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-algo-trading-get-algo-order-list")

Retrieve a list of untriggered Algo orders under the current account.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: User ID

#### Permission: Read

#### HTTP Request

`GET /api/v5/trade/orders-algo-pending`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| ordType   | String | Yes      | Order type<br><code>conditional</code>: One-way stop order<br><code>oco</code>: One-cancels-the-other order<br><code>chase</code>: chase order, only applicable to FUTURES and SWAP<br><code>trigger</code>: Trigger order<br><code>move_order_stop</code>: Trailing order<br><code>iceberg</code>: Iceberg order<br><code>twap</code>: TWAP order<br>For every request, unlike other ordType which only can use one type, <code>conditional</code> and <code>oco</code> both can be used and separated with comma. |
| algoId    | String | No       | Algo ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| instType  | String | No       | Instrument type<br><code>SPOT</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>MARGIN</code>                                                                                                                                                                                                                                                                                                                                                                                                            |
| instId    | String | No       | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| after     | String | No       | Pagination of data to return records earlier than the requested <code>algoId</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                |
| before    | String | No       | Pagination of data to return records newer than the requested <code>algoId</code>.                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| limit     | String | No       | Number of results per request. The maximum is <code>100</code>. The default is <code>100</code>                                                                                                                                                                                                                                                                                                                                                                                                                     |

#### Response Parameters

| **Parameter**          | **Type**         | **Description**                                                                                                                                                                                                                                                             |
| ---------------------- | ---------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType               | String           | Instrument type                                                                                                                                                                                                                                                             |
| instId                 | String           | Instrument ID                                                                                                                                                                                                                                                               |
| ccy                    | String           | Margin currency<br>Applicable to all <code>isolated</code> <code>MARGIN</code> orders and <code>cross</code> <code>MARGIN</code> orders in <code>Futures mode</code>.                                                                                                       |
| ordId                  | String           | Latest order ID. It will be deprecated soon                                                                                                                                                                                                                                 |
| ordIdList              | Array of strings | Order ID list. There will be multiple order IDs when there is TP/SL splitting order.                                                                                                                                                                                        |
| algoId                 | String           | Algo ID                                                                                                                                                                                                                                                                     |
| clOrdId                | String           | Client Order ID as assigned by the client                                                                                                                                                                                                                                   |
| sz                     | String           | Quantity to buy or sell                                                                                                                                                                                                                                                     |
| closeFraction          | String           | Fraction of position to be closed when the algo order is triggered                                                                                                                                                                                                          |
| ordType                | String           | Order type                                                                                                                                                                                                                                                                  |
| side                   | String           | Order side                                                                                                                                                                                                                                                                  |
| posSide                | String           | Position side                                                                                                                                                                                                                                                               |
| tdMode                 | String           | Trade mode                                                                                                                                                                                                                                                                  |
| tgtCcy                 | String           | Order quantity unit setting for <code>sz</code><br><code>base_ccy</code>: Base currency ,<code>quote_ccy</code>: Quote currency<br>Only applicable to <code>SPOT</code> traded with Market order                                                                            |
| state                  | String           | State<br><code>live</code><br><code>pause</code>                                                                                                                                                                                                                            |
| lever                  | String           | Leverage, from <code>0.01</code> to <code>125</code>.<br>Only applicable to <code>MARGIN/FUTURES/SWAP</code>                                                                                                                                                                |
| tpTriggerPx            | String           | Take-profit trigger price                                                                                                                                                                                                                                                   |
| tpTriggerPxType        | String           | Take-profit trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                        |
| tpOrdPx                | String           | Take-profit order price                                                                                                                                                                                                                                                     |
| slTriggerPx            | String           | Stop-loss trigger price                                                                                                                                                                                                                                                     |
| slTriggerPxType        | String           | Stop-loss trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                          |
| slOrdPx                | String           | Stop-loss order price                                                                                                                                                                                                                                                       |
| triggerPx              | String           | Trigger price                                                                                                                                                                                                                                                               |
| triggerPxType          | String           | Trigger price type.<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                                    |
| ordPx                  | String           | Order price for the trigger order                                                                                                                                                                                                                                           |
| actualSz               | String           | Actual order quantity                                                                                                                                                                                                                                                       |
| tag                    | String           | Order tag                                                                                                                                                                                                                                                                   |
| actualPx               | String           | Actual order price                                                                                                                                                                                                                                                          |
| actualSide             | String           | Actual trigger side<br><code>tp</code>: take profit <code>sl</code>: stop loss<br>Only applicable to oco order and conditional order                                                                                                                                        |
| triggerTime            | String           | Trigger time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                        |
| pxVar                  | String           | Price ratio<br>Only applicable to <code>iceberg</code> order or <code>twap</code> order                                                                                                                                                                                     |
| pxSpread               | String           | Price variance<br>Only applicable to <code>iceberg</code> order or <code>twap</code> order                                                                                                                                                                                  |
| szLimit                | String           | Average amount<br>Only applicable to <code>iceberg</code> order or <code>twap</code> order                                                                                                                                                                                  |
| pxLimit                | String           | Price Limit<br>Only applicable to <code>iceberg</code> order or <code>twap</code> order                                                                                                                                                                                     |
| timeInterval           | String           | Time interval<br>Only applicable to <code>twap</code> order                                                                                                                                                                                                                 |
| callbackRatio          | String           | Callback price ratio<br>Only applicable to <code>move_order_stop</code> order                                                                                                                                                                                               |
| callbackSpread         | String           | Callback price variance<br>Only applicable to <code>move_order_stop</code> order                                                                                                                                                                                            |
| activePx               | String           | Active price<br>Only applicable to <code>move_order_stop</code> order                                                                                                                                                                                                       |
| moveTriggerPx          | String           | Trigger price<br>Only applicable to <code>move_order_stop</code> order                                                                                                                                                                                                      |
| reduceOnly             | String           | Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                          |
| quickMgnType           | String           | Quick Margin type, Only applicable to Quick Margin Mode of isolated margin<br><code>manual</code>, <code>auto_borrow</code>, <code>auto_repay</code>                                                                                                                        |
| last                   | String           | Last filled price while placing                                                                                                                                                                                                                                             |
| failCode               | String           | It represents that the reason that algo order fails to trigger. There will be value when the state is <code>order_failed</code>, e.g. 51008;<br>For this endpoint, it always is "".                                                                                         |
| algoClOrdId            | String           | Client-supplied Algo ID                                                                                                                                                                                                                                                     |
| amendPxOnTriggerType   | String           | Whether to enable Cost-price SL. Only applicable to SL order of split TPs.<br><code>0</code>: disable, the default value<br><code>1</code>: Enable                                                                                                                          |
| attachAlgoOrds         | Array of objects | Attached SL/TP orders info<br>Applicable to <code>Futures mode/Multi-currency margin/Portfolio margin</code>                                                                                                                                                                |
| &gt; attachAlgoClOrdId | String           | Client-supplied Algo ID when placing order attaching TP/SL.<br>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.<br>It will be posted to algoClOrdId when placing TP/SL order once the general order is filled completely. |
| &gt; tpTriggerPx       | String           | Take-profit trigger price<br>If you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                         |
| &gt; tpTriggerPxType   | String           | Take-profit trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                         |
| &gt; tpOrdPx           | String           | Take-profit order price<br>If you fill in this parameter, you should fill in the take-profit trigger price as well.<br>If the price is <code>-1</code>, take-profit will be executed at the market price.                                                                   |
| &gt; slTriggerPx       | String           | Stop-loss trigger price<br>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                     |
| &gt; slTriggerPxType   | String           | Stop-loss trigger price type<br><code>last</code>: last price<br><code>index</code>: index price<br><code>mark</code>: mark price                                                                                                                                           |
| &gt; slOrdPx           | String           | Stop-loss order price<br>If you fill in this parameter, you should fill in the stop-loss trigger price.<br>If the price is <code>-1</code>, stop-loss will be executed at the market price.                                                                                 |
| linkedOrd              | Object           | Linked TP order detail, only applicable to SL order that comes from the one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                 |
| &gt; ordId             | String           | Order ID                                                                                                                                                                                                                                                                    |
| cTime                  | String           | Creation time Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                        |
| uTime                  | String           | Order updated time, Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                               |
| isTradeBorrowMode      | String           | Whether borrowing currency automatically<br>true<br>false<br>Only applicable to <code>trigger order</code>, <code>trailing order</code> and <code>twap order</code>                                                                                                         |
| chaseType              | String           | Chase type. Only applicable to <code>chase</code> order.                                                                                                                                                                                                                    |
| chaseVal               | String           | Chase value. Only applicable to <code>chase</code> order.                                                                                                                                                                                                                   |
| maxChaseType           | String           | Maximum chase type. Only applicable to <code>chase</code> order.                                                                                                                                                                                                            |
| maxChaseVal            | String           | Maximum chase value. Only applicable to <code>chase</code> order.                                                                                                                                                                                                           |
| tradeQuoteCcy          | String           | The quote currency used for trading.                                                                                                                                                                                                                                        |

---

### GET / Tickers [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-tickers "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-tickers")

Retrieve the latest price snapshot, best bid/ask price, and trading volume in
the last 24 hours. Best ask price may be lower than the best bid price during
the pre-open period.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/tickers`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                                                              |
| ---------- | ------ | -------- | -------------------------------------------------------------------------------------------------------- |
| instType   | String | Yes      | Instrument type<br><code>SPOT</code><br><code>SWAP</code><br><code>FUTURES</code><br><code>OPTION</code> |
| instFamily | String | No       | Instrument family<br>Applicable to <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>            |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                                                                              |
| ------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instType      | String   | Instrument type                                                                                                                                                                                                                                                                                              |
| instId        | String   | Instrument ID                                                                                                                                                                                                                                                                                                |
| last          | String   | Last traded price                                                                                                                                                                                                                                                                                            |
| lastSz        | String   | Last traded size. 0 represents there is no trading volume                                                                                                                                                                                                                                                    |
| askPx         | String   | Best ask price                                                                                                                                                                                                                                                                                               |
| askSz         | String   | Best ask size                                                                                                                                                                                                                                                                                                |
| bidPx         | String   | Best bid price                                                                                                                                                                                                                                                                                               |
| bidSz         | String   | Best bid size                                                                                                                                                                                                                                                                                                |
| open24h       | String   | Open price in the past 24 hours                                                                                                                                                                                                                                                                              |
| high24h       | String   | Highest price in the past 24 hours                                                                                                                                                                                                                                                                           |
| low24h        | String   | Lowest price in the past 24 hours                                                                                                                                                                                                                                                                            |
| volCcy24h     | String   | 24h trading volume, with a unit of <code>currency</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of base currency. e.g. the unit is BTC for BTC-USD-SWAP and BTC-USDT-SWAP<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in quote currency. |
| vol24h        | String   | 24h trading volume, with a unit of <code>contract</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in base currency.                                                              |
| sodUtc0       | String   | Open price in the UTC 0                                                                                                                                                                                                                                                                                      |
| sodUtc8       | String   | Open price in the UTC 8                                                                                                                                                                                                                                                                                      |
| ts            | String   | Ticker data generation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                                                                                          |

---

### GET / Ticker [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-ticker "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-ticker")

Retrieve the latest price snapshot, best bid/ask price, and trading volume in
the last 24 hours. Best ask price may be lower than the best bid price during
the pre-open period.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/ticker`

#### Request Parameters

| Parameter | Type   | Required | Description                                   |
| --------- | ------ | -------- | --------------------------------------------- |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USD-SWAP</code> |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                      |
| ------------- | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instType      | String   | Instrument type                                                                                                                                                                                                                                      |
| instId        | String   | Instrument ID                                                                                                                                                                                                                                        |
| last          | String   | Last traded price                                                                                                                                                                                                                                    |
| lastSz        | String   | Last traded size. 0 represents there is no trading volume                                                                                                                                                                                            |
| askPx         | String   | Best ask price                                                                                                                                                                                                                                       |
| askSz         | String   | Best ask size                                                                                                                                                                                                                                        |
| bidPx         | String   | Best bid price                                                                                                                                                                                                                                       |
| bidSz         | String   | Best bid size                                                                                                                                                                                                                                        |
| open24h       | String   | Open price in the past 24 hours                                                                                                                                                                                                                      |
| high24h       | String   | Highest price in the past 24 hours                                                                                                                                                                                                                   |
| low24h        | String   | Lowest price in the past 24 hours                                                                                                                                                                                                                    |
| volCcy24h     | String   | 24h trading volume, with a unit of <code>currency</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of base currency.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in quote currency. |
| vol24h        | String   | 24h trading volume, with a unit of <code>contract</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in base currency.      |
| sodUtc0       | String   | Open price in the UTC 0                                                                                                                                                                                                                              |
| sodUtc8       | String   | Open price in the UTC 8                                                                                                                                                                                                                              |
| ts            | String   | Ticker data generation time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                                                                                                 |

---

### GET / Order book [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-order-book "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-order-book")

Retrieve order book of the instrument. The data will be updated once every 50
milliseconds. Best ask price may be lower than the best bid price during the
pre-open period.  
This endpoint does not return data immediately. Instead, it returns the latest
data once the server-side cache has been updated.

#### Rate Limit: 40 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/books`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                      |
| --------- | ------ | -------- | ---------------------------------------------------------------------------------------------------------------- |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USDT</code>                                                                        |
| sz        | String | No       | Order book depth per side. Maximum 400, e.g. 400 bids + 400 asks<br>Default returns to <code>1</code> depth data |

#### Response Parameters

| **Parameter** | **Type**        | **Description**            |
| ------------- | --------------- | -------------------------- |
| asks          | Array of Arrays | Order book on sell side    |
| bids          | Array of Arrays | Order book on buy side     |
| ts            | String          | Order book generation time |

An example of the array of asks and bids values: \["411.8", "10", "0", "4"\]  
\- "411.8" is the depth price  
\- "10" is the quantity at the price (number of contracts for derivatives,
quantity in base currency for Spot and Spot Margin)  
\- "0" is part of a deprecated feature and it is always "0"  
\- "4" is the number of orders at the price.

The order book data will be updated around once a second during the call
auction.

---

### GET / Full order book [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-full-order-book "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-full-order-book")

Retrieve order book of the instrument. The data will be updated once a second.
Best ask price may be lower than the best bid price during the pre-open
period.  
This endpoint does not return data immediately. Instead, it returns the latest
data once the server-side cache has been updated.

#### Rate Limit: 10 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/books-full`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                          |
| --------- | ------ | -------- | -------------------------------------------------------------------------------------------------------------------- |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USDT</code>                                                                            |
| sz        | String | No       | Order book depth per side. Maximum 5000, e.g. 5000 bids + 5000 asks<br>Default returns to <code>1</code> depth data. |

#### Response Parameters

| **Parameter** | **Type**        | **Description**            |
| ------------- | --------------- | -------------------------- |
| asks          | Array of Arrays | Order book on sell side    |
| bids          | Array of Arrays | Order book on buy side     |
| ts            | String          | Order book generation time |

An example of the array of asks and bids values: \["411.8", "10", "4"\]  
\- "411.8" is the depth price  
\- "10" is the quantity at the price (number of contracts for derivatives,
quantity in base currency for Spot and Spot Margin)  
\- "4" is the number of orders at the price.

The order book data will be updated around once a second during the call
auction.

---

### GET / Candlesticks [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-candlesticks "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-candlesticks")

Retrieve the candlestick charts. This endpoint can retrieve the latest 1,440
data entries. Charts are returned in groups based on the requested bar.

#### Rate Limit: 40 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/candles`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                                                                              |
| --------- | ------ | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                |
| bar       | String | No       | Bar size, the default is <code>1m</code><br>e.g. [1m/3m/5m/15m/30m/1H/2H/4H]<br>UTC+8 opening price k-line: [6H/12H/1D/2D/3D/1W/1M/3M]<br>UTC+0 opening price k-line: [6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/1Wutc/1Mutc/3Mutc] |
| after     | String | No       | Pagination of data to return records earlier than the requested <code>ts</code>                                                                                                                                          |
| before    | String | No       | Pagination of data to return records newer than the requested <code>ts</code>. The latest data will be returned when using <code>before</code> individually                                                              |
| limit     | String | No       | Number of results per request. The maximum is <code>300</code>. The default is <code>100</code>.                                                                                                                         |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                  |
| ------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ts            | String   | Opening time of the candlestick, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                          |
| o             | String   | Open price                                                                                                                                                                                                                                       |
| h             | String   | highest price                                                                                                                                                                                                                                    |
| l             | String   | Lowest price                                                                                                                                                                                                                                     |
| c             | String   | Close price                                                                                                                                                                                                                                      |
| vol           | String   | Trading volume, with a unit of <code>contract</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in base currency.      |
| volCcy        | String   | Trading volume, with a unit of <code>currency</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of base currency.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in quote currency. |
| volCcyQuote   | String   | Trading volume, the value is the quantity in quote currency<br>e.g. The unit is USDT for BTC-USDT and BTC-USDT-SWAP;<br>The unit is USD for BTC-USD-SWAP                                                                                         |
| confirm       | String   | The state of candlesticks.<br><code>0</code>: K line is uncompleted<br><code>1</code>: K line is completed                                                                                                                                       |

The first candlestick data may be incomplete, and should not be polled
repeatedly.

The data returned will be arranged in an array like this:
\[ts,o,h,l,c,vol,volCcy,volCcyQuote,confirm\].

For the current cycle of k-line data, when there is no transaction, the opening
high and closing low default take the closing price of the previous cycle.

---

### GET / Candlesticks history [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-candlesticks-history "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-candlesticks-history")

Retrieve history candlestick charts from recent years(It is last 3 months
supported for 1s candlestick).

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/history-candles`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                                                                                 |
| --------- | ------ | -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                                                   |
| after     | String | No       | Pagination of data to return records earlier than the requested <code>ts</code>                                                                                                                                             |
| before    | String | No       | Pagination of data to return records newer than the requested <code>ts</code>. The latest data will be returned when using <code>before</code> individually                                                                 |
| bar       | String | No       | Bar size, the default is <code>1m</code><br>e.g. [1s/1m/3m/5m/15m/30m/1H/2H/4H]<br>UTC+8 opening price k-line: [6H/12H/1D/2D/3D/1W/1M/3M]<br>UTC+0 opening price k-line: [6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/1Wutc/1Mutc/3Mutc] |
| limit     | String | No       | Number of results per request. The maximum is <code>300</code>. The default is <code>100</code>.                                                                                                                            |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                                                                                                                  |
| ------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| ts            | String   | Opening time of the candlestick, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>                                                                                                                                          |
| o             | String   | Open price                                                                                                                                                                                                                                       |
| h             | String   | Highest price                                                                                                                                                                                                                                    |
| l             | String   | Lowest price                                                                                                                                                                                                                                     |
| c             | String   | Close price                                                                                                                                                                                                                                      |
| vol           | String   | Trading volume, with a unit of <code>contract</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of contracts.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in base currency.      |
| volCcy        | String   | Trading volume, with a unit of <code>currency</code>.<br>If it is a <code>derivatives</code> contract, the value is the number of base currency.<br>If it is <code>SPOT</code>/<code>MARGIN</code>, the value is the quantity in quote currency. |
| volCcyQuote   | String   | Trading volume, the value is the quantity in quote currency<br>e.g. The unit is USDT for BTC-USDT and BTC-USDT-SWAP;<br>The unit is USD for BTC-USD-SWAP                                                                                         |
| confirm       | String   | The state of candlesticks<br><code>0</code>: K line is uncompleted<br><code>1</code>: K line is completed                                                                                                                                        |

The data returned will be arranged in an array like this:
\[ts,o,h,l,c,vol,volCcy,volCcyQuote,confirm\]

1s candle is not supported by OPTION, but it is supported by other business
lines (SPOT, MARGIN, FUTURES and SWAP)

---

### GET / Trades [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-trades "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-trades")

Retrieve the recent transactions of an instrument.

#### Rate Limit: 100 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/trades`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                     |
| --------- | ------ | -------- | ----------------------------------------------------------------------------------------------- |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USDT</code>                                                       |
| limit     | String | No       | Number of results per request. The maximum is <code>500</code>; The default is <code>100</code> |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                        |
| ------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instId        | String   | Instrument ID                                                                                                                                          |
| tradeId       | String   | Trade ID                                                                                                                                               |
| px            | String   | Trade price                                                                                                                                            |
| sz            | String   | Trade quantity<br>For spot trading, the unit is base currency<br>For <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, the unit is contract. |
| side          | String   | Trade side of taker<br><code>buy</code><br><code>sell</code>                                                                                           |
| source        | String   | Order source<br><code>0</code>: normal                                                                                                                 |
| ts            | String   | Trade time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                    |

Up to 500 most recent historical public transaction data can be retrieved.

---

### GET / Trades history [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-trades-history "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-trades-history")

Retrieve the recent transactions of an instrument from the last 3 months with
pagination.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/history-trades`

#### Request Parameters

| Parameter | Type   | Required | Description                                                                                                                                                                                     |
| --------- | ------ | -------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USDT</code>                                                                                                                                                       |
| type      | String | No       | Pagination Type<br><code>1</code>: tradeId <code>2</code>: timestamp<br>The default is <code>1</code>                                                                                           |
| after     | String | No       | Pagination of data to return records earlier than the requested tradeId or ts.                                                                                                                  |
| before    | String | No       | Pagination of data to return records newer than the requested tradeId.<br>Do not support timestamp for pagination. The latest data will be returned when using <code>before</code> individually |
| limit     | String | No       | Number of results per request. The maximum and default both are <code>100</code>                                                                                                                |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                                                                                        |
| ------------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| instId        | String   | Instrument ID                                                                                                                                          |
| tradeId       | String   | Trade ID                                                                                                                                               |
| px            | String   | Trade price                                                                                                                                            |
| sz            | String   | Trade quantity<br>For spot trading, the unit is base currency<br>For <code>FUTURES</code>/<code>SWAP</code>/<code>OPTION</code>, the unit is contract. |
| side          | String   | Trade side of taker<br><code>buy</code><br><code>sell</code>                                                                                           |
| source        | String   | Order source<br><code>0</code>: normal                                                                                                                 |
| ts            | String   | Trade time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>.                                                                    |

---

### GET / Option trades by instrument family [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-option-trades-by-instrument-family "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-option-trades-by-instrument-family")

Retrieve the recent transactions of an instrument under same instFamily. The
maximum is 100.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/option/instrument-family-trades`

#### Request Parameters

| Parameter  | Type   | Required | Description                                                          |
| ---------- | ------ | -------- | -------------------------------------------------------------------- |
| instFamily | String | Yes      | Instrument family, e.g. BTC-USD<br>Applicable to <code>OPTION</code> |

#### Response Parameters

| **Parameter** | **Type**         | **Description**                                                        |
| ------------- | ---------------- | ---------------------------------------------------------------------- |
| vol24h        | String           | 24h trading volume, with a unit of contract.                           |
| optType       | String           | Option type, C: Call P: Put                                            |
| tradeInfo     | Array of objects | The list trade data                                                    |
| &gt; instId   | String           | The Instrument ID                                                      |
| &gt; tradeId  | String           | Trade ID                                                               |
| &gt; px       | String           | Trade price                                                            |
| &gt; sz       | String           | Trade quantity. The unit is contract.                                  |
| &gt; side     | String           | Trade side<br><code>buy</code><br><code>sell</code>                    |
| &gt; ts       | String           | Trade time, Unix timestamp format in milliseconds, e.g. 1597026383085. |

---

### GET / Option trades [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-option-trades "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-option-trades")

The maximum is 100.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/public/option-trades`

#### Request Parameters

| Parameter  | Type   | Required    | Description                                                                                                                                                         |
| ---------- | ------ | ----------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| instId     | String | Conditional | Instrument ID, e.g. BTC-USD-221230-4000-C, Either <code>instId</code> or <code>instFamily</code> is required. If both are passed, <code>instId</code> will be used. |
| instFamily | String | Conditional | Instrument family, e.g. BTC-USD                                                                                                                                     |
| optType    | String | No          | Option type, <code>C</code>: Call <code>P</code>: put                                                                                                               |

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                     |
| ------------- | -------- | ----------------------------------------------------------------------------------- |
| instId        | String   | Instrument ID                                                                       |
| instFamily    | String   | Instrument family                                                                   |
| tradeId       | String   | Trade ID                                                                            |
| px            | String   | Trade price                                                                         |
| &gt; sz       | String   | Trade quantity. The unit is contract.                                               |
| side          | String   | Trade side<br><code>buy</code><br><code>sell</code>                                 |
| optType       | String   | Option type, C: Call P: Put                                                         |
| fillVol       | String   | Implied volatility while trading (Correspond to trade price)                        |
| fwdPx         | String   | Forward price while trading                                                         |
| idxPx         | String   | Index price while trading                                                           |
| markPx        | String   | Mark price while trading                                                            |
| ts            | String   | Trade time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code>. |

---

### GET / 24H total volume [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-24h-total-volume "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-24h-total-volume")

The 24-hour trading volume is calculated on a rolling basis.

#### Rate Limit: 2 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/platform-24-volume`

#### Response Parameters

| **Parameter** | **Type** | **Description**                                                                          |
| ------------- | -------- | ---------------------------------------------------------------------------------------- |
| volUsd        | String   | 24-hour total trading volume from the order book trading in "USD"                        |
| volCny        | String   | 24-hour total trading volume from the order book trading in "CNY"                        |
| ts            | String   | Data return time, Unix timestamp format in milliseconds, e.g. <code>1597026383085</code> |

---

### GET / Call auction details [🔗](https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-call-auction-details "Direct link to: https://www.okx.com/docs-v5/en/#order-book-trading-market-data-get-call-auction-details")

Retrieve call auction details.

#### Rate Limit: 20 requests per 2 seconds

#### Rate limit rule: IP

#### HTTP Request

`GET /api/v5/market/call-auction-details`

#### Request Parameters

| Parameter | Type   | Required | Description                               |
| --------- | ------ | -------- | ----------------------------------------- |
| instId    | String | Yes      | Instrument ID, e.g. <code>BTC-USDT</code> |

#### Response Parameters

| Parameter      | Type   | Description                                                                                 |
| -------------- | ------ | ------------------------------------------------------------------------------------------- |
| instId         | String | Instrument ID                                                                               |
| eqPx           | String | Equilibrium price                                                                           |
| matchedSz      | String | Matched size for both buy and sell<br>The unit is in base currency                          |
| unmatchedSz    | String | Unmatched size                                                                              |
| auctionEndTime | String | Call auction end time. Unix timestamp in milliseconds.                                      |
| state          | String | Trading state of the symbol<br><code>call_auction</code><br><code>continuous_trading</code> |
| ts             | String | Data generation time. Unix timestamp in millieseconds.                                      |

During call auction, users can get the updates of equilibrium price, matched
size, unmatched size, and auction end time. The data will be updated around once
a second. The endpoint returns the actual open price, matched size, and
unmatched size when the call auction ends.  
For symbols that never go through call auction, the endpoint will also return
results but with state always as \`continuous_trading\` and other fields as 0 or
empty.

---
