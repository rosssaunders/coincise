# OKX API Documentation - Private Order Book Trading REST API

### Making Requests ###

All private REST requests must contain the following headers:

* `OK-ACCESS-KEY` The API Key as a String.

* `OK-ACCESS-SIGN` The Base64-encoded signature (see Signing Messages subsection for details).

* `OK-ACCESS-TIMESTAMP` The UTC timestamp of your request .e.g : 2020-12-08T09:08:57.715Z

* `OK-ACCESS-PASSPHRASE` The passphrase you specified when creating the APIKey.

Request bodies should have content type `application/json` and be in valid JSON format.

---

### Signature ###

>
>
> Signing Messages
>
>

The `OK-ACCESS-SIGN` header is generated as follows:

* Create a prehash string of timestamp + method + requestPath + body (where + represents String concatenation).
* Prepare the SecretKey.
* Sign the prehash string with the SecretKey using the HMAC SHA256.
* Encode the signature in the Base64 format.

Example: `sign=CryptoJS.enc.Base64.stringify(CryptoJS.HmacSHA256(timestamp + 'GET' + '/api/v5/account/balance?ccy=BTC', SecretKey))`

The `timestamp` value is the same as the `OK-ACCESS-TIMESTAMP` header with millisecond ISO format, e.g. `2020-12-08T09:08:57.715Z`.

The request method should be in UPPERCASE: e.g. `GET` and `POST`.

The `requestPath` is the path of requesting an endpoint.

Example: `/api/v5/account/balance`

The `body` refers to the String of the request body. It can be omitted if there is no request body (frequently the case for `GET` requests).

Example: `{"instId":"BTC-USDT","lever":"5","mgnMode":"isolated"}`

`GET` request parameters are counted as requestpath, not body

The SecretKey is generated when you create an APIKey.

Example: `22582BD0CFF14C41EDBF1AB98506286D`

---

### Public ###

Error Code from 50000 to 53999

#### General Class ####

|Error Code|HTTP Status Code|                                                                                         Error Message                                                                                         |
|----------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    0     |      200       |                                                                                                                                                                                               |
|    1     |      200       |                                                                                       Operation failed.                                                                                       |
|    2     |      200       |                                                                              Bulk operation partially succeeded.                                                                              |
|  50000   |      400       |                                                                            Body for POST request cannot be empty.                                                                             |
|  50001   |      503       |                                                                   Service temporarily unavailable. Please try again later.                                                                    |
|  50002   |      400       |                                                                                       JSON syntax error                                                                                       |
|  50004   |      400       |                                   API endpoint request timeout. (does not mean that the request was successful or failed, please check the request result).                                   |
|  50005   |      410       |                                                                           API endpoint is inactive or unavailable.                                                                            |
|  50006   |      400       |                                                                     Invalid Content-Type. Please use "application/JSON".                                                                      |
|  50007   |      200       |                                                                                         User blocked.                                                                                         |
|  50008   |      200       |                                                                                      User doesn't exist.                                                                                      |
|  50009   |      200       |                                                                              Account is frozen due to stop-out.                                                                               |
|  50010   |      200       |                                                                                   User ID cannot be empty.                                                                                    |
|  50011   |      200       |                                                   Rate limit reached. Please refer to API documentation and throttle requests accordingly.                                                    |
|  50011   |      429       |                                                                                       Too Many Requests                                                                                       |
|  50012   |      200       |                                                                         Account status invalid. Check account status                                                                          |
|  50013   |      429       |                                                                           Systems are busy. Please try again later.                                                                           |
|  50014   |      400       |                                                                             Parameter {param0} can not be empty.                                                                              |
|  50015   |      400       |                                                                       Either parameter {param0} or {param1} is required                                                                       |
|  50016   |      400       |                                                                     Parameter {param0} does not match parameter {param1}                                                                      |
|  50017   |      200       |                                           Position frozen and related operations restricted due to auto-deleveraging (ADL). Please try again later.                                           |
|  50018   |      200       |                                                                 Currency {param0} is frozen due to ADL. Operation restricted.                                                                 |
|  50019   |      200       |                                           Account frozen and related operations restricted due to auto-deleveraging (ADL). Please try again later.                                            |
|  50020   |      200       |                                             Position frozen and related operations restricted due to forced liquidation. Please try again later.                                              |
|  50021   |      200       |                                                             Currency {param0} is frozen due to liquidation. Operation restricted.                                                             |
|  50022   |      200       |                                              Account frozen and related operations restricted due to forced liquidation. Please try again later.                                              |
|  50023   |      200       |                                                      Funding fees frozen and related operations are restricted. Please try again later.                                                       |
|  50024   |      200       |                                                                Parameter {param0} and {param1} can not exist at the same time.                                                                |
|  50025   |      200       |                                                                     Parameter {param0} count exceeds the limit {param1}.                                                                      |
|  50026   |      500       |                                                                                 System error. Try again later                                                                                 |
|  50027   |      200       |                                                   This account is restricted from trading. Please contact customer support for assistance.                                                    |
|  50028   |      200       |                                                          Unable to place the order. Please contact the customer service for details.                                                          |
|  50029   |      200       |Your account has triggered OKX risk control and is temporarily restricted from conducting transactions. Please check your email registered with OKX for contact from our customer support team.|
|  50030   |      200       |                                                                      You don't have permission to use this API endpoint                                                                       |
|  50032   |      200       |                                               Your account has been set to prohibit transactions in this currency. Please confirm and try again                                               |
|  50033   |      200       |                                          Instrument blocked. Please verify trading this instrument is allowed under account settings and try again.                                           |
|  50035   |      403       |                                                                    This endpoint requires that APIKey must be bound to IP                                                                     |
|  50036   |      200       |                                              The expTime can't be earlier than the current system time. Please adjust the expTime and try again.                                              |
|  50037   |      200       |                                                                                        Order expired.                                                                                         |
|  50038   |      200       |                                                                          This feature is unavailable in demo trading                                                                          |
|  50039   |      200       |                                                                  Parameter "before" isn't supported for timestamp pagination                                                                  |
|  50040   |      200       |                                                                        Too frequent operations, please try again later                                                                        |
|  50041   |      200       |                                                     Your user ID hasn’t been allowlisted. Please contact customer service for assistance.                                                     |
|  50042   |      200       |                                                                                       Repeated request                                                                                        |
|  50044   |      200       |                                                                                  Must select one broker type                                                                                  |
|  50045   |      200       |                       simPos should be empty because simulated positions cannot be counted when Position Builder is calculating under Spot-Derivatives risk offset mode                       |
|  50046   |      200       |                                            This feature is temporarily unavailable while we make some improvements to it. Please try again later.                                             |
|  50047   |      200       |                                                   {param0} has already settled. To check the relevant candlestick data, please use {param1}                                                   |
|  50048   |      200       |                       Switching risk unit may lead position risk increases and be forced liquidated. Please adjust position size, make sure margin is in a safe status.                       |
|  50049   |      200       |                                                  No information on the position tier. The current instrument doesn’t support margin trading.                                                  |
|  50050   |      200       |                                                           You’ve already activated options trading. Please don’t activate it again.                                                           |
|  50051   |      200       |                                                    Due to compliance restrictions in your country or region, you cannot use this feature.                                                     |
|  50052   |      200       |                                                         Due to local laws and regulations, you cannot trade with your chosen crypto.                                                          |
|  50053   |      200       |                                                                        This feature is only available in demo trading.                                                                        |
|  50055   |      200       |                                                              Reset unsuccessful. Assets can only be reset up to 5 times per day.                                                              |
|  50056   |      200       |                       You have pending orders or open positions with this currency. Please reset after canceling all the pending orders/closing all the open positions.                       |
|  50057   |      200       |                                                                             Reset unsuccessful. Try again later.                                                                              |
|  50058   |      200       |                                                                        This crypto is not supported in an asset reset.                                                                        |
|  50059   |      200       |                     Before you continue, you'll need to complete additional steps as required by your local regulators. Please visit the website or app for more details.                     |
|  50060   |      200       |                                    For security and compliance purposes, please complete the identity verification process to continue using our services.                                    |
|  50061   |      200       |                                                                 You've reached the maximum order rate limit for this account.                                                                 |
|  50062   |      200       |                                                                            This feature is currently unavailable.                                                                             |
|  50063   |      200       |                                                      You can't activate the credits as they might have expired or are already activated.                                                      |
|  50064   |      200       |                                                                     The borrowing system is unavailable. Try again later.                                                                     |
|  50067   |      200       |                                                                      The API doesn't support cross site trading feature                                                                       |

#### API Class ####

|Error Code|HTTP Status Code|                                      Error Message                                      |
|----------|----------------|-----------------------------------------------------------------------------------------|
|  50100   |      400       |                      API frozen, please contact customer service.                       |
|  50101   |      401       |                       APIKey does not match current environment.                        |
|  50102   |      401       |                               Timestamp request expired.                                |
|  50103   |      401       |                     Request header "OK-ACCESS-KEY" cannot be empty.                     |
|  50104   |      401       |                 Request header "OK-ACCESS-PASSPHRASE" cannot be empty.                  |
|  50105   |      401       |                    Request header "OK-ACCESS-PASSPHRASE" incorrect.                     |
|  50106   |      401       |                    Request header "OK-ACCESS-SIGN" cannot be empty.                     |
|  50107   |      401       |                  Request header "OK-ACCESS-TIMESTAMP" cannot be empty.                  |
|  50108   |      401       |                               Exchange ID does not exist.                               |
|  50109   |      401       |                             Exchange domain does not exist.                             |
|  50110   |      401       |            Your IP {param0} is not included in your API key's IP whitelist.             |
|  50111   |      401       |                                 Invalid OK-ACCESS-KEY.                                  |
|  50112   |      401       |                              Invalid OK-ACCESS-TIMESTAMP.                               |
|  50113   |      401       |                                   Invalid signature.                                    |
|  50114   |      401       |                                 Invalid authorization.                                  |
|  50115   |      405       |                                 Invalid request method.                                 |
|  50116   |      200       |                     Fast API is allowed to create only one API key                      |
|  50118   |      200       |To link the app using your API key, your broker needs to share their IP to be whitelisted|
|  50119   |      200       |                                  API key doesn't exist                                  |
|  50120   |      200       |                This API key doesn't have permission to use this function                |
|  50121   |      200       |             You can't access our services through the IP address ({param0})             |
|  50122   |      200       |                         Order amount must exceed minimum amount                         |

#### Trade Class ####

|Error Code|HTTP Status code|                                                                                                                                                                                                                                                                                                                                                                                                        Error Message                                                                                                                                                                                                                                                                                                                                                                                                        |
|----------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  51000   |      400       |                                                                                                                                                                                                                                                                                                                                                                                                  Parameter {param0} error                                                                                                                                                                                                                                                                                                                                                                                                   |
|  51001   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                Instrument ID doesn't exist.                                                                                                                                                                                                                                                                                                                                                                                                 |
|  51002   |      200       |                                                                                                                                                                                                                                                                                                                                                                                        Instrument ID doesn't match underlying index.                                                                                                                                                                                                                                                                                                                                                                                        |
|  51003   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Either client order ID or order ID is required.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51004   |      200       |                                                                                                                                   Order failed. For isolated long/short mode of {param0}, the sum of current order size, position quantity in the same direction, and pending orders in the same direction can’t be more than {param1}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param2}×, current order size: {param3} contracts, position quantity in the same direction: {param4} contracts, pending orders in the same direction: {param5} contracts).                                                                                                                                    |
|  51004   |      200       |                                                                                                               Order failed. For cross long/short mode of {param0}, the sum of current order size, position quantity in the long and short directions, and pending orders in the long and short directions can’t be more than {param1}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param2}×, current order size: {param3} contracts, position quantity in the long and short directions: {param4} contracts, pending orders in the long and short directions: {param5} contracts).                                                                                                               |
|  51004   |      200       |                    Order failed. For cross buy/sell mode of {param0} and instFamily {param1}, the sum of current order size, current instId position quantity in the long and short directions, current instId pending orders in the long and short directions, and other contracts of the same instFamily can’t be more than {param2}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param3}×, current order size: {param4} contracts, current instId position quantity in the long and short directions: {param5} contracts, current instId pending orders in the long and short directions: {param6} contracts, other contracts of the same instFamily: {param7} contracts).                    |
|  51004   |      200       |                                                                                                                                                                             Order failed. For buy/sell mode of {param0}, the sum of current buy order size, position quantity, and pending buy orders can’t be more than {param1}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param2}×, current buy order size: {param3} contracts, position quantity: {param4} contracts, pending buy orders: {param5} contracts).                                                                                                                                                                             |
|  51004   |      200       |                                                                                                                                                                           Order failed. For buy/sell mode of {param0}, the sum of current sell order size, position quantity, and pending sell orders can’t be more than {param1}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param2}×, current sell order size: {param3} contracts, position quantity: {param4} contracts, pending sell orders: {param5} contracts).                                                                                                                                                                           |
|  51004   |      200       |                                                                              Order failed. For cross buy/sell mode of {param0} and instFamily {param1}, the sum of current buy order size, current instId position quantity, current instId pending buy orders, and other contracts of the same instFamily can’t be more than {param2}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param3}×, current buy order size: {param4} contracts, current instId position quantity: {param5} contracts, current instId pending buy orders: {param6} contracts, other contracts of the same instFamily: {param7} contracts).                                                                              |
|  51004   |      200       |                                                                            Order failed. For cross buy/sell mode of {param0} and instFamily {param1}, the sum of current sell order size, current instId position quantity, current instId pending sell orders, and other contracts of the same instFamily can’t be more than {param2}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param3}×, current sell order size: {param4} contracts, current instId position quantity: {param5} contracts, current instId pending sell orders: {param6} contracts, other contracts of the same instFamily: {param7} contracts).                                                                            |
|  51004   |      200       |                                                                                                               Order amendment failed. For isolated long/short mode of {param0}, the sum of increment order size by amendment, position quantity in the same direction, and pending orders in the same direction can’t be more than {param1}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param2}×, increment order size by amendment: {param3} contracts, position quantity in the same direction: {param4} contracts, pending orders in the same direction: {param5} contracts).                                                                                                                |
|  51004   |      200       |                                                                                                Order amendment failed. For cross long/short mode of {param0}, the sum of increment order size by amendment, position quantity in the long and short directions, and pending orders in the long and short directions can’t be more than {param1}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param2}×, increment order size by amendment: {param3} contracts, position quantity in the long and short directions: {param4} contracts, pending orders in the same direction: {param5} contracts).                                                                                                 |
|  51004   |      200       |Order amendment failed. For cross buy/sell mode of {param0} and instFamily {param1}, the sum of increment order size by amendment, current instId position quantity in the long and short directions, current instId pending orders in the long and short directions, and other contracts of the same instFamily can’t be more than {param2}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param3}×, increment order size by amendment: {param4} contracts, current instId position quantity in the long and short directions: {param5} contracts, current instId pending orders in the long and short directions: {param6} contracts, other contracts of the same instFamily: {param7} contracts).|
|  51004   |      200       |                                                                                                                                            Order amendment failed. For buy/sell mode of {param0}, the sum of increment order size by amending current buy order, position quantity, and pending buy orders can’t be more than {param1}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param2}×, increment order size by amending current buy order: {param3} contracts, position quantity: {param4} contracts, pending buy orders: {param5} contracts).                                                                                                                                            |
|  51004   |      200       |                                                                                                                                          Order amendment failed. For buy/sell mode of {param0}, the sum of increment order size by amending current sell order, position quantity, and pending sell orders can’t be more than {param1}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param2}×, increment order size by amending current sell order: {param3} contracts, position quantity: {param4} contracts, pending sell orders: {param5} contracts).                                                                                                                                          |
|  51004   |      200       |                                             Order amendment failed. For cross buy/sell mode of {param0} and instFamily {param1}, the sum of increment order size by amending current buy order, current instId position quantity, current instId pending buy orders, and other contracts of the same instFamily can’t be more than {param2}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param3}×, increment order size by amending current buy order: {param4} contracts, current instId position quantity: {param5} contracts, current instId pending buy orders: {param6} contracts, other contracts of the same instFamily: {param7} contracts).                                             |
|  51004   |      200       |                                           Order amendment failed. For cross buy/sell mode of {param0} and instFamily {param1}, the sum of increment order size by amending current sell order, current instId position quantity, current instId pending sell orders, and other contracts of the same instFamily can’t be more than {param2}(contracts) which is the maximum position amount under current leverage. Please lower the leverage or use a new sub-account to place the order again (current leverage: {param3}×, increment order size by amending current sell order: {param4} contracts, current instId position quantity: {param5} contracts, current instId pending sell orders: {param6} contracts, other contracts of the same instFamily: {param7} contracts).                                           |
|  51005   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Your order amount exceeds the max order amount.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51006   |      200       |                                                                                                                                                                                                                                                                                                                                                               Order price is not within the price limit (max buy price: {param0} , min sell price: {param1} )                                                                                                                                                                                                                                                                                                                                                               |
|  51007   |      200       |                                                                                                                                                                                                                                                                                                                                                                              Order failed. Please place orders of at least 1 contract or more.                                                                                                                                                                                                                                                                                                                                                                              |
|  51008   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   Order failed. Insufficient {param0} balance in account                                                                                                                                                                                                                                                                                                                                                                                    |
|  51008   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    Order failed. Insufficient {param0} margin in account                                                                                                                                                                                                                                                                                                                                                                                    |
|  51008   |      200       |                                                                                                                                                                                                                                                                                                                                                                   Order failed. Insufficient {param0} balance in account, and Auto Borrow is not enabled                                                                                                                                                                                                                                                                                                                                                                    |
|  51008   |      200       |                                                                                                                                                                                                                                                                                                                                     Order failed. Insufficient {param0} margin in account and auto-borrow is not enabled (Portfolio margin mode can try IOC orders to lower the risks)                                                                                                                                                                                                                                                                                                                                      |
|  51008   |      200       |                                                                                                                                                                                                                                                                                             Insufficient {param0} available as your borrowing amount exceeds tier limit. Lower leverage appropriately. New and pending limit orders need borrowings {param1}, remaining quota {param2}, total limit {param3}, in use {param4}.                                                                                                                                                                                                                                                                                              |
|  51008   |      200       |                                                                                                                                                                                                                                                                            Order failed. Exceeds {param0} borrow limit (Limit of master account plus the allocated VIP quota for the current account) (Existing pending orders and the new order are required to borrow {param1}, Remaining limit {param2}, Limit {param3}, Limit used {param4})                                                                                                                                                                                                                                                                            |
|  51008   |      200       |                                                                                                                                                                                                                                                                                                                                                         Order failed. Insufficient {param0} borrowing quota results in an insufficient amount available to borrow.                                                                                                                                                                                                                                                                                                                                                          |
|  51008   |      200       |                                                                                                                                                                                                                                                                                                                                                                            Order failed. Insufficient {param0} available in loan pool to borrow.                                                                                                                                                                                                                                                                                                                                                                            |
|  51008   |      200       |                                                                                                                                                                                                                                                                                                                                 Order failed. Insufficient account balance, and the adjusted equity in `USD` is less than IMR (Portfolio margin mode can try IOC orders to lower the risks)                                                                                                                                                                                                                                                                                                                                 |
|  51008   |      200       |                                                                                                                                                                                                                                                                                    Order failed. The order didn't pass delta verification because if the order were to succeed, the change in adjEq would be smaller than the change in IMR. Increase adjEq or reduce IMR (Portfolio margin mode can try IOC orders to lower the risks)                                                                                                                                                                                                                                                                                     |
|  51009   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Order blocked. Please contact customer support for assistance.                                                                                                                                                                                                                                                                                                                                                                                |
|  51010   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Request unsupported under current account mode                                                                                                                                                                                                                                                                                                                                                                                        |
|  51011   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                  Order ID already exists.                                                                                                                                                                                                                                                                                                                                                                                                   |
|  51012   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                    Token doesn't exist.                                                                                                                                                                                                                                                                                                                                                                                                     |
|  51014   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                    Index doesn't exist.                                                                                                                                                                                                                                                                                                                                                                                                     |
|  51015   |      200       |                                                                                                                                                                                                                                                                                                                                                                                        Instrument ID doesn't match instrument type.                                                                                                                                                                                                                                                                                                                                                                                         |
|  51016   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               Client order ID already exists.                                                                                                                                                                                                                                                                                                                                                                                               |
|  51017   |      200       |                                                                                                                                                                                                                                                                                                                                                                                            Loan amount exceeds borrowing limit.                                                                                                                                                                                                                                                                                                                                                                                             |
|  51018   |      200       |                                                                                                                                                                                                                                                                                                                                                                                Users with options accounts cannot hold net short positions.                                                                                                                                                                                                                                                                                                                                                                                 |
|  51019   |      200       |                                                                                                                                                                                                                                                                                                                                                                            No net long positions can be held under cross margin mode in options.                                                                                                                                                                                                                                                                                                                                                                            |
|  51020   |      200       |                                                                                                                                                                                                                                                                                                                                                                                 Your order should meet or exceed the minimum order amount.                                                                                                                                                                                                                                                                                                                                                                                  |
|  51021   |      200       |                                                                                                                                                                                                                                                                                                                                                                                           The pair or contract is not yet listed                                                                                                                                                                                                                                                                                                                                                                                            |
|  51022   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                     Contract suspended.                                                                                                                                                                                                                                                                                                                                                                                                     |
|  51023   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                   Position doesn't exist.                                                                                                                                                                                                                                                                                                                                                                                                   |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                 Trading account is blocked.                                                                                                                                                                                                                                                                                                                                                                                                 |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                          In accordance with the terms of service, we regret to inform you that we cannot provide services for you. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                                          |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                  According to your request, this account has been frozen. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                                                                   |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                            Your account has recently changed some security settings. To protect the security of your funds, this action is not allowed for now. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                             |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                You have withdrawn all assets in the account. To protect your personal information, the account has been permanently frozen. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                                 |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                        Your identity could not be verified. To protect the security of your funds, this action is not allowed. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                         |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                              Your verified age doesn't meet the requirement. To protect the security of your funds, we cannot proceed with your request. Please contact our customer support.                                                                                                                                                                                                                                                                                                                               |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                In accordance with the terms of service, trading is currently unavailable in your verified country or region. Close all open positions or contact customer support if you have any questions.                                                                                                                                                                                                                                                                                                                |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                      In accordance with the terms of service, multiple account is not allowed. To protect the security of your funds, this action is not allowed. Please contact our customer support.                                                                                                                                                                                                                                                                                                                      |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                        Your account is in judicial freezing, and this action is not allowed for now. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                                                        |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                            Based on your previous requests, this action is not allowed for now. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                                                             |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                  Your account has disputed deposit orders. To protect the security of your funds, this action is not allowed for now. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                  |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                                             Unable to proceed. Please resolve your existing P2P disputes first.                                                                                                                                                                                                                                                                                                                                                                             |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                  Your account might have compliance risk. To protect the security of your funds, this action is not allowed for now. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                   |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                             Based on your trading requests, this action is not allowed for now. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                                                             |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                      Your account has triggered risk control. This action is not allowed for now. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                                      |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                                        This account is temporarily unavailable. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                                                        |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                            Withdrawal function of this account is temporarily unavailable. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                                             |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                             Transfer function of this account is temporarily unavailable. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                                              |
|  51024   |      200       |                                                                                                                                                                                                                                                                                            You violated the "Fiat Trading Rules" when you were doing fiat trade, so we'll no longer provide fiat trading-related services for you. The deposit and withdrawal of your account and other trading functions will not be affected.                                                                                                                                                                                                                                                                                             |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                                      Please kindly check your mailbox and reply to emails from the verification team.                                                                                                                                                                                                                                                                                                                                                                       |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                  According to your request, this account has been closed. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                                                                   |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                   Your account might have security risk. To protect the security of your funds, this action is not allowed for now. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                    |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                           Your account might have security risk. Convert is now unavailable. Please contact our customer support.                                                                                                                                                                                                                                                                                                                                                           |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                   Unable to proceed due to account restrictions. We've sent an email to your OKX registered email address regarding this matter, or you can contact customer support via Chat with AI chatbot on our support center page.                                                                                                                                                                                                                                                                                                   |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                   In accordance with the terms of service, trading is currently unavailable in your verified country or region. Cancel all orders or contact customer support if you have any questions.                                                                                                                                                                                                                                                                                                                    |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                 In accordance with the terms of service, trading is not available in your verified country. If you have any questions, please contact our customer support.                                                                                                                                                                                                                                                                                                                                 |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                         This product isn’t available in your country or region due to local laws and regulations. If you don’t reside in this area, you may continue using OKX Exchange products with a valid government-issued ID.                                                                                                                                                                                                                                                                                                         |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                         Please note that you may not be able to transfer or trade in the first 30 minutes after establishing custody trading sub-accounts. Please kindly wait and try again later.                                                                                                                                                                                                                                                                                                                          |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                                         Feature unavailable. Complete Advanced verification to access this feature.                                                                                                                                                                                                                                                                                                                                                                         |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                                            You can't trade or deposit now. Update your personal info to restore full account access immediately.                                                                                                                                                                                                                                                                                                                                                            |
|  51024   |      200       |                                                                                                                                                                                                                                                                                                                                Sub-accounts exceeding the limit aren't allowed to open new positions and can only reduce or close existing ones. Please try again with a different account.                                                                                                                                                                                                                                                                                                                                 |
|  51025   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               Order count exceeds the limit.                                                                                                                                                                                                                                                                                                                                                                                                |
|  51026   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Instrument type doesn't match underlying index.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51027   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                      Contract expired.                                                                                                                                                                                                                                                                                                                                                                                                      |
|  51028   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                  Contract under delivery.                                                                                                                                                                                                                                                                                                                                                                                                   |
|  51029   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                 Contract is being settled.                                                                                                                                                                                                                                                                                                                                                                                                  |
|  51030   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                Funding fee is being settled.                                                                                                                                                                                                                                                                                                                                                                                                |
|  51031   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   This order price is not within the closing price range.                                                                                                                                                                                                                                                                                                                                                                                   |
|  51032   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Closing all the positions at the market price.                                                                                                                                                                                                                                                                                                                                                                                        |
|  51033   |      200       |                                                                                                                                                                                                                                                                                                                                                                            The total amount per order for this pair has reached the upper limit.                                                                                                                                                                                                                                                                                                                                                                            |
|  51034   |      200       |                                                                                                                                                                                                                                                                                                                                                      Fill rate exceeds the limit that you've set. Please reset the market maker protection to inactive for new trades.                                                                                                                                                                                                                                                                                                                                                      |
|  51035   |      200       |                                                                                                                                                                                                                                                                                                                                                                               This account doesn't have permission to submit MM quote order.                                                                                                                                                                                                                                                                                                                                                                                |
|  51036   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Only options instrument of the PM account supports MMP orders.                                                                                                                                                                                                                                                                                                                                                                                |
|  51042   |      200       |                                                                                                                                                                                                                                                                                                                                                  Under the Portfolio margin account, users can only place market maker protection orders in cross margin mode in Options.                                                                                                                                                                                                                                                                                                                                                   |
|  51043   |      200       |                                                                                                                                                                                                                                                                                                                                                                                            This isolated position doesn't exist.                                                                                                                                                                                                                                                                                                                                                                                            |
|  59509   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    Account does not have permission to reset MMP status                                                                                                                                                                                                                                                                                                                                                                                     |
|  51037   |      200       |                                                                                                                                                                                                                                                                                                                                                                            This account only supports placing IOC orders to reduce account risk.                                                                                                                                                                                                                                                                                                                                                                            |
|  51038   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   IOC order already exists under the current risk module.                                                                                                                                                                                                                                                                                                                                                                                   |
|  51039   |      200       |                                                                                                                                                                                                                                                                                                                                                      Leverage cannot be adjusted for the cross positions of Expiry Futures and Perpetual Futures under the PM account.                                                                                                                                                                                                                                                                                                                                                      |
|  51040   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  Cannot adjust margins for long isolated options positions                                                                                                                                                                                                                                                                                                                                                                                  |
|  51041   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  Portfolio margin account only supports the Buy/Sell mode.                                                                                                                                                                                                                                                                                                                                                                                  |
|  51044   |      200       |                                                                                                                                                                                                                                                                                                                                                                      The order type {param0}, {param1} is not allowed to set stop loss and take profit                                                                                                                                                                                                                                                                                                                                                                      |
|  51046   |      200       |                                                                                                                                                                                                                                                                                                                                                                              The take profit trigger price must be higher than the order price                                                                                                                                                                                                                                                                                                                                                                              |
|  51047   |      200       |                                                                                                                                                                                                                                                                                                                                                                               The stop loss trigger price must be lower than the order price                                                                                                                                                                                                                                                                                                                                                                                |
|  51048   |      200       |                                                                                                                                                                                                                                                                                                                                                                              The take profit trigger price must be lower than the order price                                                                                                                                                                                                                                                                                                                                                                               |
|  51049   |      200       |                                                                                                                                                                                                                                                                                                                                                                               The stop loss trigger price must be higher than the order price                                                                                                                                                                                                                                                                                                                                                                               |
|  51050   |      200       |                                                                                                                                                                                                                                                                                                                                                                            The take profit trigger price must be higher than the best ask price                                                                                                                                                                                                                                                                                                                                                                             |
|  51051   |      200       |                                                                                                                                                                                                                                                                                                                                                                              The stop loss trigger price must be lower than the best ask price                                                                                                                                                                                                                                                                                                                                                                              |
|  51052   |      200       |                                                                                                                                                                                                                                                                                                                                                                             The take profit trigger price must be lower than the best bid price                                                                                                                                                                                                                                                                                                                                                                             |
|  51053   |      200       |                                                                                                                                                                                                                                                                                                                                                                             The stop loss trigger price must be higher than the best bid price                                                                                                                                                                                                                                                                                                                                                                              |
|  51054   |      500       |                                                                                                                                                                                                                                                                                                                                                                                            Request timed out. Please try again.                                                                                                                                                                                                                                                                                                                                                                                             |
|  51055   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   Futures Grid is not available in Portfolio Margin mode                                                                                                                                                                                                                                                                                                                                                                                    |
|  51056   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                     Action not allowed                                                                                                                                                                                                                                                                                                                                                                                                      |
|  51057   |      200       |                                                                                                                                                                                                                                                                                                                                                           This bot isn’t available in current account mode. Switch mode in Settings \> Account mode to continue.                                                                                                                                                                                                                                                                                                                                                            |
|  51058   |      200       |                                                                                                                                                                                                                                                                                                                                                                                          No available position for this algo order                                                                                                                                                                                                                                                                                                                                                                                          |
|  51059   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Strategy for the current state does not support this operation                                                                                                                                                                                                                                                                                                                                                                                |
|  51063   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                    OrdId does not exist                                                                                                                                                                                                                                                                                                                                                                                                     |
|  51065   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                 algoClOrdId already exists.                                                                                                                                                                                                                                                                                                                                                                                                 |
|  51066   |      200       |                                                                                                                                                                                                                                                                                                                                                                    Market orders unavailable for options trading. Place a limit order to close position.                                                                                                                                                                                                                                                                                                                                                                    |
|  51068   |      200       |                                                                                                                                                                                                                                                                                                                                                                              {param0} already exists within algoClOrdId and attachAlgoClOrdId.                                                                                                                                                                                                                                                                                                                                                                              |
|  51069   |      200       |                                                                                                                                                                                                                                                                                                                                                                                The option contracts related to current {param0} do not exist                                                                                                                                                                                                                                                                                                                                                                                |
|  51070   |      200       |                                                                                                                                                                                                                                                                                                                                               You do not meet the requirements for switching to this account mode. Please upgrade the account mode on the OKX website or App                                                                                                                                                                                                                                                                                                                                                |
|  51071   |      200       |                                                                                                                                                                                                                                                                                                                                                                           You've reached the maximum limit for tag level cancel all after timers.                                                                                                                                                                                                                                                                                                                                                                           |
|  51072   |      200       |                                                                                                                                                                                                                                                                                                                                                        As a spot lead trader, you need to set tdMode to spot\_isolated when buying the configured lead trade pairs.                                                                                                                                                                                                                                                                                                                                                         |
|  51073   |      200       |                                                                                                                                                                                                                                                                                                                                                       As a spot lead trader, you need to use '/copytrading/close-subposition' for selling assets through lead trades                                                                                                                                                                                                                                                                                                                                                        |
|  51074   |      200       |                                                                                                                                                                                                                                                                                                                                                             Only the tdMode for lead trade pairs configured by spot lead traders can be set to 'spot\_isolated'                                                                                                                                                                                                                                                                                                                                                             |
|  51075   |      200       |                                                                                                                                                                                                                                                                                                                                                                Order modification failed. You can only modify the price of sell orders in spot copy trading.                                                                                                                                                                                                                                                                                                                                                                |
|  51076   |      200       |                                                                                                                                                                                                                                                                                                                                              TP/SL orders in Split TPs only support one-way TP/SL. You can't use slTriggerPx&slOrdPx and tpTriggerPx&tpOrdPx at the same time.                                                                                                                                                                                                                                                                                                                                              |
|  51077   |      200       |                                                                                                                                                                                                                                                                                                                                                                  Setting multiple TP and cost-price SL orders isn’t supported for spot and margin trading.                                                                                                                                                                                                                                                                                                                                                                  |
|  51078   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     You are a lead trader. Split TPs are not supported.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51079   |      200       |                                                                                                                                                                                                                                                                                                                                                                   The number of TP orders with Split TPs attached in a same order cannot exceed {param0}                                                                                                                                                                                                                                                                                                                                                                    |
|  51080   |      200       |                                                                                                                                                                                                                                                                                                                                                           Take-profit trigger price types (tpTriggerPxType) must be the same in an order with Split TPs attached                                                                                                                                                                                                                                                                                                                                                            |
|  51081   |      200       |                                                                                                                                                                                                                                                                                                                                                               Take-profit trigger prices (tpTriggerPx) cannot be the same in an order with Split TPs attached                                                                                                                                                                                                                                                                                                                                                               |
|  51082   |      200       |                                                                                                                                                                                                                                                                                                                                                                      TP trigger prices (tpOrdPx) in one order with multiple TPs must be market prices.                                                                                                                                                                                                                                                                                                                                                                      |
|  51083   |      200       |                                                                                                                                                                                                                                                                                                                                                           The total size of TP orders with Split TPs attached in a same order should equal the size of this order                                                                                                                                                                                                                                                                                                                                                           |
|  51084   |      200       |                                                                                                                                                                                                                                                                                                                                                                   The number of SL orders with Split TPs attached in a same order cannot exceed {param0}                                                                                                                                                                                                                                                                                                                                                                    |
|  51085   |      200       |                                                                                                                                                                                                                                                                                                                                                  The number of TP orders cannot be less than 2 when cost-price SL is enabled (amendPxOnTriggerType set as 1) for Split TPs                                                                                                                                                                                                                                                                                                                                                  |
|  51086   |      200       |                                                                                                                                                                                                                                                                                                                                                                     The number of orders with Split TPs attached in a same order cannot exceed {param0}                                                                                                                                                                                                                                                                                                                                                                     |
|  51538   |      200       |                                                                                                                                                                                                                                                                                                                         You need to use attachAlgoOrds if you used attachAlgoOrds when placing an order. attachAlgoOrds is not supported if you did not use attachAlgoOrds when placing this order.                                                                                                                                                                                                                                                                                                                         |
|  51539   |      200       |                                                                                                                                                                                                                                                                                                                                                         attachAlgoId or attachAlgoClOrdId cannot be identical when modifying any TP/SL within your split TPs order                                                                                                                                                                                                                                                                                                                                                          |
|  51527   |      200       |                                                                                                                                                                                                                                                                                                                                                                     Order modification failed. At least 1 of the attached TP/SL orders does not exist.                                                                                                                                                                                                                                                                                                                                                                      |
|  51087   |      200       |                                                                                                                                                                                                                                                                                                                                                                                              Listing canceled for this crypto                                                                                                                                                                                                                                                                                                                                                                                               |
|  51088   |      200       |                                                                                                                                                                                                                                                                                                                                                                                You can only place 1 TP/SL order to close an entire position                                                                                                                                                                                                                                                                                                                                                                                 |
|  51089   |      200       |                                                                                                                                                                                                                                                                                                                                                                              The size of the TP order among split TPs attached cannot be empty                                                                                                                                                                                                                                                                                                                                                                              |
|  51090   |      200       |                                                                                                                                                                                                                                                                                                                                                                          You can't modify the amount of an SL order placed with a TP limit order.                                                                                                                                                                                                                                                                                                                                                                           |
|  51091   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    All TP orders in one order must be of the same type.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51092   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  TP order prices (tpOrdPx) in one order must be different.                                                                                                                                                                                                                                                                                                                                                                                  |
|  51093   |      200       |                                                                                                                                                                                                                                                                                                                                                                          TP limit order prices (tpOrdPx) in one order can't be –1 (market price).                                                                                                                                                                                                                                                                                                                                                                           |
|  51094   |      200       |                                                                                                                                                                                                                                                                                                                                                                            You can't place TP limit orders in spot, margin, or options trading.                                                                                                                                                                                                                                                                                                                                                                             |
|  51095   |      200       |                                                                                                                                                                                                                                                                                                                                                                   To place TP limit orders at this endpoint, you must place an SL order at the same time.                                                                                                                                                                                                                                                                                                                                                                   |
|  51096   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  cxlOnClosePos needs to be true to place a TP limit order                                                                                                                                                                                                                                                                                                                                                                                   |
|  51098   |      200       |                                                                                                                                                                                                                                                                                                                                                                          You can't add a new TP order to an SL order placed with a TP limit order.                                                                                                                                                                                                                                                                                                                                                                          |
|  51099   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      You can't place TP limit orders as a lead trader.                                                                                                                                                                                                                                                                                                                                                                                      |
|  51178   |      200       |                                                                                                                                                                                                                                                                                                                                                                   tpTriggerPx&tpOrdPx or slTriggerPx&slOrdPx can't be empty when using attachAlgoClOrdId.                                                                                                                                                                                                                                                                                                                                                                   |
|  51100   |      200       |                                                                                                                                                                                                                                                                                                                                                               Unable to place order. Take profit/Stop loss conditions cannot be added to reduce-only orders.                                                                                                                                                                                                                                                                                                                                                                |
|  51101   |      200       |                                                                                                                                                                                                                                                                                                                                                                     Order failed, the sz of the current order can’t be more than {param0} (contracts).                                                                                                                                                                                                                                                                                                                                                                      |
|  51102   |      200       |                                                                                                                                                                                                                                                                                                                                                               Order failed, the number of pending orders for this instId can’t be more than {param0} (orders)                                                                                                                                                                                                                                                                                                                                                               |
|  51103   |      200       |                                                                                                                                                                                                                                                                                                                                          Order failed, the number of pending orders across all instIds under the {param0} current instFamily can’t be more than {param1} (orders)                                                                                                                                                                                                                                                                                                                                           |
|  51104   |      200       |                                                                                                                                                                                                                                                                                                                           Order failed, the aggregated contract quantity for all pending orders across all instIds under the {param0} current instFamily can’t be more than {param1} (contracts)                                                                                                                                                                                                                                                                                                                            |
|  51105   |      200       |                                                                                                                                                                                                                                                                                                                              Order failed, the maximal sum of position quantity and pending orders quantity with the same direction for current instId can’t be more than {param0} (contracts)                                                                                                                                                                                                                                                                                                                              |
|  51106   |      200       |                                                                                                                                                                                                                                                                                                           Order failed, the maximal sum of position quantity and pending orders quantity with the same direction across all instIds under the {param0} current instFamily can’t be more than {param1} (contracts)                                                                                                                                                                                                                                                                                                           |
|  51107   |      200       |                                                                                                                                                                                                                                                                                                             Order failed, the maximal sum of position quantity and pending orders quantity in both directions across all instIds under the {param0} current instFamily can’t be more than {param1} (contracts)                                                                                                                                                                                                                                                                                                              |
|  51108   |      200       |                                                                                                                                                                                                                                                                                                                                                                              Positions exceed the limit for closing out with the market price.                                                                                                                                                                                                                                                                                                                                                                              |
|  51109   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                    No available offers.                                                                                                                                                                                                                                                                                                                                                                                                     |
|  51110   |      200       |                                                                                                                                                                                                                                                                                                                                                                              You can only place a limit order after Call Auction has started.                                                                                                                                                                                                                                                                                                                                                                               |
|  51111   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Maximum {param0} orders can be placed in bulk.                                                                                                                                                                                                                                                                                                                                                                                        |
|  51112   |      200       |                                                                                                                                                                                                                                                                                                                                                                                 Close order size exceeds available size for this position.                                                                                                                                                                                                                                                                                                                                                                                  |
|  51113   |      429       |                                                                                                                                                                                                                                                                                                                                                                                       Market-price liquidation requests too frequent.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51115   |      429       |                                                                                                                                                                                                                                                                                                                                                                                     Cancel all pending close-orders before liquidation.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51116   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Order price or trigger price exceeds {param0}.                                                                                                                                                                                                                                                                                                                                                                                        |
|  51117   |      200       |                                                                                                                                                                                                                                                                                                                                                                                          Pending close-orders count exceeds limit.                                                                                                                                                                                                                                                                                                                                                                                          |
|  51120   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    Order amount is less than {param0}, please try again.                                                                                                                                                                                                                                                                                                                                                                                    |
|  51121   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Order quantity must be a multiple of the lot size.                                                                                                                                                                                                                                                                                                                                                                                      |
|  51122   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    Order price should higher than the min price {param0}                                                                                                                                                                                                                                                                                                                                                                                    |
|  51123   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                Min price increment is null.                                                                                                                                                                                                                                                                                                                                                                                                 |
|  51124   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    You can only place limit orders during call auction.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51125   |      200       |                                                                                                                                                                                                                                                                                                                                  Currently there are pending reduce + reverse position orders in margin trading. Please cancel all pending reduce + reverse position orders and continue.                                                                                                                                                                                                                                                                                                                                   |
|  51126   |      200       |                                                                                                                                                                                                                                                                                                                                                Currently there are pending reduce only orders in margin trading. Please cancel all pending reduce only orders and continue.                                                                                                                                                                                                                                                                                                                                                 |
|  51127   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                   Available balance is 0.                                                                                                                                                                                                                                                                                                                                                                                                   |
|  51128   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Multi-currency margin accounts cannot do cross-margin trading.                                                                                                                                                                                                                                                                                                                                                                                |
|  51129   |      200       |                                                                                                                                                                                                                                                                                                                                                            The value of the position and buy order has reached the position limit. No further buying is allowed.                                                                                                                                                                                                                                                                                                                                                            |
|  51130   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                Fixed margin currency error.                                                                                                                                                                                                                                                                                                                                                                                                 |
|  51131   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                    Insufficient balance.                                                                                                                                                                                                                                                                                                                                                                                                    |
|  51132   |      200       |                                                                                                                                                                                                                                                                                                                                                                         Your position amount is negative and less than the minimum trading amount.                                                                                                                                                                                                                                                                                                                                                                          |
|  51133   |      200       |                                                                                                                                                                                                                                                                                                                                                                 Reduce-only feature is unavailable for spot transactions in multi-currency margin accounts.                                                                                                                                                                                                                                                                                                                                                                 |
|  51134   |      200       |                                                                                                                                                                                                                                                                                                                                                         Closing failed. Please check your margin holdings and pending orders. Turn off the Reduce-only to continue.                                                                                                                                                                                                                                                                                                                                                         |
|  51135   |      200       |                                                                                                                                                                                                                                                                                                                                                                    Your closing price has triggered the limit price, and the max buy price is {param0}.                                                                                                                                                                                                                                                                                                                                                                     |
|  51136   |      200       |                                                                                                                                                                                                                                                                                                                                                                    Your closing price has triggered the limit price, and the min sell price is {param0}.                                                                                                                                                                                                                                                                                                                                                                    |
|  51137   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     The highest price limit for buy orders is {param0}.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51138   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     The lowest price limit for sell orders is {param0}.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51139   |      200       |                                                                                                                                                                                                                                                                                                                                                                         Reduce-only feature is unavailable for the spot transactions by spot mode.                                                                                                                                                                                                                                                                                                                                                                          |
|  51140   |      200       |                                                                                                                                                                                                                                                                                                                                                                             Purchase failed due to insufficient sell orders, please try later.                                                                                                                                                                                                                                                                                                                                                                              |
|  51142   |      200       |                                                                                                                                                                                                                                                                                                                                                There is no valid quotation in the market, and the order cannot be filled in USDT mode, please try to switch to currency mode                                                                                                                                                                                                                                                                                                                                                |
|  51143   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               Insufficient conversion amount                                                                                                                                                                                                                                                                                                                                                                                                |
|  51144   |      200       |                                                                                                                                                                                                                                                                                                                                                                                              Please use {param0} for closing.                                                                                                                                                                                                                                                                                                                                                                                               |
|  51147   |      200       |                                                                                                                                                                                                                                                                                                                                           To trade options, make sure you have more than 20,000 USD worth of assets in your trading account first, then activate options trading                                                                                                                                                                                                                                                                                                                                            |
|  51148   |      200       |                                                                                                                                                                                                                                                                                                                           Failed to place order. The new order may execute an opposite trading direction of your existing reduce-only positions. Cancel or edit pending orders to continue order                                                                                                                                                                                                                                                                                                                            |
|  51149   |      500       |                                                                                                                                                                                                                                                                                                                                                                                             Order timed out. Please try again.                                                                                                                                                                                                                                                                                                                                                                                              |
|  51150   |      200       |                                                                                                                                                                                                                                                                                                                                                                            The precision of the number of trades or the price exceeds the limit.                                                                                                                                                                                                                                                                                                                                                                            |
|  51152   |      200       |                                                                                                                                                                                                                                                                                                                                                    Unable to place an order that mixes automatic buy with automatic repayment or manual operation in Quick margin mode.                                                                                                                                                                                                                                                                                                                                                     |
|  51153   |      200       |                                                                                                                                                                                                                                                                                                                                                               Unable to borrow manually in Quick margin mode. The amount you entered exceeds the upper limit.                                                                                                                                                                                                                                                                                                                                                               |
|  51154   |      200       |                                                                                                                                                                                                                                                                                                                                                            Unable to repay manually in Quick margin mode. The amount you entered exceeds your available balance.                                                                                                                                                                                                                                                                                                                                                            |
|  51155   |      200       |                                                                                                                                                                                                                                                                                                                                                                    Trading of this pair or contract is restricted due to local compliance requirements.                                                                                                                                                                                                                                                                                                                                                                     |
|  51158   |      200       |                                                                                                                                                                                                                                                                                                                                                            Manual transfer unavailable. To proceed, please switch to Quick margin mode (isoMode = quick\_margin)                                                                                                                                                                                                                                                                                                                                                            |
|  51164   |      200       |                                                                                                                                                                                                                                                                                                                                                                                 As lead trader, you can't switch to portfolio margin mode.                                                                                                                                                                                                                                                                                                                                                                                  |
|  51169   |      200       |                                                                                                                                                                                                                                                                                                                                                         Failed to place order. You don’t have any positions of this contract. Turn off the Reduce-only to continue.                                                                                                                                                                                                                                                                                                                                                         |
|  51170   |      200       |                                                                                                                                                                                                                                                                                                                                                         Failed to place order. A reduce-only order can’t be the same trading direction as your existing positions.                                                                                                                                                                                                                                                                                                                                                          |
|  51171   |      200       |                                                                                                                                                                                                                                                                                                                             Failed to edit order. The edited order may execute an opposite trading direction of your existing reduce-only positions. Cancel or edit pending orders to continue.                                                                                                                                                                                                                                                                                                                             |
|  51173   |      200       |                                                                                                                                                                                                                                                                                                                                                                   Unable to close all at market price. Your current positions don't have any liabilities.                                                                                                                                                                                                                                                                                                                                                                   |
|  51174   |      200       |                                                                                                                                                                                                                                                                                                                                                                      Order failed, number of pending orders for {param0} exceed the limit of {param1}.                                                                                                                                                                                                                                                                                                                                                                      |
|  51175   |      200       |                                                                                                                                                                                                                                                                                                                                                                         Parameters {param0} {param1} and {param2} cannot be empty at the same time                                                                                                                                                                                                                                                                                                                                                                          |
|  51176   |      200       |                                                                                                                                                                                                                                                                                                                                                                      Only one parameter can be filled among Parameters {param0} {param1} and {param2}                                                                                                                                                                                                                                                                                                                                                                       |
|  51177   |      200       |                                                                                                                                                                                                                                                                                                                                                                Unavailable to amend {param1} because the price type of the current options order is {param0}                                                                                                                                                                                                                                                                                                                                                                |
|  51179   |      200       |                                                                                                                                                                                                                                                                                                                                                                              Unavailable to place options orders using {param0} in simple mode                                                                                                                                                                                                                                                                                                                                                                              |
|  51180   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    The range of {param0} should be ({param1}\~{param2})                                                                                                                                                                                                                                                                                                                                                                                     |
|  51181   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     ordType must be limit while placing {param0} orders                                                                                                                                                                                                                                                                                                                                                                                     |
|  51182   |      200       |                                                                                                                                                                                                                                                                                                                                                     The total number of pending orders under price types pxUsd and pxVol for the current account cannot exceed {param0}                                                                                                                                                                                                                                                                                                                                                     |
|  51185   |      200       |                                                                                                                                                                                                                                                                                                                                                                                 The maximum value allowed per order is {maxOrderValue} USD                                                                                                                                                                                                                                                                                                                                                                                  |
|  51186   |      200       |                                                                                                                                                                                                                                                                                                                                              Order failed. The leverage for {param0} in your current margin mode is {param1}x, which exceeds the platform limit of {param2}x.                                                                                                                                                                                                                                                                                                                                               |
|  51187   |      200       |                                                                                                                                                                                                                                                                     Order failed. For {param0} {param1} in your current margin mode, the sum of your current order amount, position sizes, and open orders is {param2} contracts, which exceeds the platform limit of {param3} contracts. Reduce your order amount, cancel orders, or close positions.                                                                                                                                                                                                                                                                      |
|  51192   |      200       |                                                                                                                                                                                                                                                                                                                                 The {param0} price corresponding to the IV level you entered is lower than the minimum allowed selling price of {param1} {param2}. Enter a higher IV level.                                                                                                                                                                                                                                                                                                                                 |
|  51193   |      200       |                                                                                                                                                                                                                                                                                                                                 The {param0} price corresponding to the IV level you entered is higher than the maximum allowed buying price of {param1} {param2}. Enter a lower IV level.                                                                                                                                                                                                                                                                                                                                  |
|  51194   |      200       |                                                                                                                                                                                                                                                                                                                                The {param0} price corresponding to the USD price you entered is lower than the minimum allowed selling price of {param1} {param2}. Enter a higher USD price.                                                                                                                                                                                                                                                                                                                                |
|  51195   |      200       |                                                                                                                                                                                                                                                                                                                                The {param0} price corresponding to the USD price you entered is higher than the maximum allowed buying price of {param1} {param2}. Enter a lower USD price.                                                                                                                                                                                                                                                                                                                                 |
|  51201   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     The value of a market order can't exceed {param0}.                                                                                                                                                                                                                                                                                                                                                                                      |
|  51202   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Market order amount exceeds the maximum amount.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51203   |      200       |                                                                                                                                                                                                                                                                                                                                                                                          Order amount exceeds the limit {param0}.                                                                                                                                                                                                                                                                                                                                                                                           |
|  51204   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       The price for the limit order cannot be empty.                                                                                                                                                                                                                                                                                                                                                                                        |
|  51205   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                Reduce Only is not available.                                                                                                                                                                                                                                                                                                                                                                                                |
|  51206   |      200       |                                                                                                                                                                                                                                                                                                                                                     Please cancel the Reduce Only order before placing the current {param0} order to avoid opening a reverse position.                                                                                                                                                                                                                                                                                                                                                      |
|  51207   |      200       |                                                                                                                                                                                                                                                                                                                                            Trading amount exceeds the limit, and can't be all closed at the market price. You can try closing the position manually in batches.                                                                                                                                                                                                                                                                                                                                             |
|  51220   |      200       |                                                                                                                                                                                                                                                                                                                                                                      Lead and follow bots only support “Sell” or “Close all positions” when bot stops                                                                                                                                                                                                                                                                                                                                                                       |
|  51221   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     The profit-sharing ratio must be between 0% and 30%                                                                                                                                                                                                                                                                                                                                                                                     |
|  51222   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Profit sharing isn’t supported for this type of bot                                                                                                                                                                                                                                                                                                                                                                                     |
|  51223   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Only lead bot creators can set profit-sharing ratio                                                                                                                                                                                                                                                                                                                                                                                     |
|  51224   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Profit sharing isn’t supported for this crypto pair                                                                                                                                                                                                                                                                                                                                                                                     |
|  51225   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Instant trigger isn’t available for follow bots                                                                                                                                                                                                                                                                                                                                                                                       |
|  51226   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Editing parameters isn’t available for follow bots                                                                                                                                                                                                                                                                                                                                                                                      |
|  51250   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Algo order price is out of the available range.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51251   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  Bot order type error occurred when placing iceberg order                                                                                                                                                                                                                                                                                                                                                                                   |
|  51252   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      Algo order amount is out of the available range.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51253   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   Average amount exceeds the limit of per iceberg order.                                                                                                                                                                                                                                                                                                                                                                                    |
|  51254   |      200       |                                                                                                                                                                                                                                                                                                                                                                                           Iceberg average amount error occurred.                                                                                                                                                                                                                                                                                                                                                                                            |
|  51255   |      200       |                                                                                                                                                                                                                                                                                                                                                                            Limit of per iceberg order: Total amount/1000 \< x \<= Total amount.                                                                                                                                                                                                                                                                                                                                                                             |
|  51256   |      200       |                                                                                                                                                                                                                                                                                                                                                                                             Iceberg order price variance error.                                                                                                                                                                                                                                                                                                                                                                                             |
|  51257   |      200       |                                                                                                                                                                                                                                                                                                                                                                  Trailing stop order callback rate error. The callback rate should be {min}\< x\<={max}%.                                                                                                                                                                                                                                                                                                                                                                   |
|  51258   |      200       |                                                                                                                                                                                                                                                                                                                                                   Trailing stop order placement failed. The trigger price of a sell order must be higher than the last transaction price.                                                                                                                                                                                                                                                                                                                                                   |
|  51259   |      200       |                                                                                                                                                                                                                                                                                                                                                    Trailing stop order placement failed. The trigger price of a buy order must be lower than the last transaction price.                                                                                                                                                                                                                                                                                                                                                    |
|  51260   |      200       |                                                                                                                                                                                                                                                                                                                                                                       Maximum of {param0} pending trailing stop orders can be held at the same time.                                                                                                                                                                                                                                                                                                                                                                        |
|  51261   |      200       |                                                                                                                                                                                                                                                                                                                                                                           Each user can hold up to {param0} pending stop orders at the same time.                                                                                                                                                                                                                                                                                                                                                                           |
|  51262   |      200       |                                                                                                                                                                                                                                                                                                                                                                            Maximum {param0} pending iceberg orders can be held at the same time.                                                                                                                                                                                                                                                                                                                                                                            |
|  51263   |      200       |                                                                                                                                                                                                                                                                                                                                                                         Maximum {param0} pending time-weighted orders can be held at the same time.                                                                                                                                                                                                                                                                                                                                                                         |
|  51264   |      200       |                                                                                                                                                                                                                                                                                                                                                                                Average amount exceeds the limit of per time-weighted order.                                                                                                                                                                                                                                                                                                                                                                                 |
|  51265   |      200       |                                                                                                                                                                                                                                                                                                                                                                                              Time-weighted order limit error.                                                                                                                                                                                                                                                                                                                                                                                               |
|  51267   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Time-weighted order strategy initiative rate error.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51268   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    Time-weighted order strategy initiative range error.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51269   |      200       |                                                                                                                                                                                                                                                                                                                                                                         Time-weighted order interval error. Interval must be {%min}\<= x\<={%max}.                                                                                                                                                                                                                                                                                                                                                                          |
|  51270   |      200       |                                                                                                                                                                                                                                                                                                                                                                              The limit of time-weighted order price variance is 0 \< x \<= 1%.                                                                                                                                                                                                                                                                                                                                                                              |
|  51271   |      200       |                                                                                                                                                                                                                                                                                                                                                                                            Sweep ratio must be 0 \< x \<= 100%.                                                                                                                                                                                                                                                                                                                                                                                             |
|  51272   |      200       |                                                                                                                                                                                                                                                                                                                                                                                            Price variance must be 0 \< x \<= 1%.                                                                                                                                                                                                                                                                                                                                                                                            |
|  51273   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         Total amount must be greater than {param0}.                                                                                                                                                                                                                                                                                                                                                                                         |
|  51274   |      200       |                                                                                                                                                                                                                                                                                                                                                                        Total quantity of time-weighted order must be larger than single order limit.                                                                                                                                                                                                                                                                                                                                                                        |
|  51275   |      200       |                                                                                                                                                                                                                                                                                                                                                                            The amount of single stop-market order cannot exceed the upper limit.                                                                                                                                                                                                                                                                                                                                                                            |
|  51276   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Prices cannot be specified for stop market orders.                                                                                                                                                                                                                                                                                                                                                                                      |
|  51277   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   TP trigger price cannot be higher than the last price.                                                                                                                                                                                                                                                                                                                                                                                    |
|  51278   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    SL trigger price cannot be lower than the last price.                                                                                                                                                                                                                                                                                                                                                                                    |
|  51279   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    TP trigger price cannot be lower than the last price.                                                                                                                                                                                                                                                                                                                                                                                    |
|  51280   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   SL trigger price cannot be higher than the last price.                                                                                                                                                                                                                                                                                                                                                                                    |
|  51281   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Trigger order do not support the tgtCcy parameter.                                                                                                                                                                                                                                                                                                                                                                                      |
|  51282   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      The range of Price variance is {param0}\~{param1}                                                                                                                                                                                                                                                                                                                                                                                      |
|  51283   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      The range of Time interval is {param0}\~{param1}                                                                                                                                                                                                                                                                                                                                                                                       |
|  51284   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      The range of Average amount is {param0}\~{param1}                                                                                                                                                                                                                                                                                                                                                                                      |
|  51285   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       The range of Total amount is {param0}\~{param1}                                                                                                                                                                                                                                                                                                                                                                                       |
|  51286   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      The total amount should not be less than {param0}                                                                                                                                                                                                                                                                                                                                                                                      |
|  51287   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         This bot doesn't support current instrument                                                                                                                                                                                                                                                                                                                                                                                         |
|  51288   |      200       |                                                                                                                                                                                                                                                                                                                                                                              Bot is currently stopping. Do not make multiple attempts to stop.                                                                                                                                                                                                                                                                                                                                                                              |
|  51289   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  Bot configuration does not exist. Please try again later                                                                                                                                                                                                                                                                                                                                                                                   |
|  51290   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  The Bot engine is being upgraded. Please try again later                                                                                                                                                                                                                                                                                                                                                                                   |
|  51291   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         This Bot does not exist or has been stopped                                                                                                                                                                                                                                                                                                                                                                                         |
|  51292   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                This Bot type does not exist                                                                                                                                                                                                                                                                                                                                                                                                 |
|  51293   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                   This Bot does not exist                                                                                                                                                                                                                                                                                                                                                                                                   |
|  51294   |      200       |                                                                                                                                                                                                                                                                                                                                                                               This Bot cannot be created temporarily. Please try again later                                                                                                                                                                                                                                                                                                                                                                                |
|  51295   |      200       |                                                                                                                                                                                                                                                                                                                                                                       Portfolio margin account does not support ordType {param0} in Trading bot mode                                                                                                                                                                                                                                                                                                                                                                        |
|  51298   |      200       |                                                                                                                                                                                                                                                                                                                                                                  Trigger orders are not available in the net mode of Expiry Futures and Perpetual Futures                                                                                                                                                                                                                                                                                                                                                                   |
|  51299   |      200       |                                                                                                                                                                                                                                                                                                                                                                      Order did not go through. You can hold a maximum of {param0} orders of this type.                                                                                                                                                                                                                                                                                                                                                                      |
|  51300   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    TP trigger price cannot be higher than the mark price                                                                                                                                                                                                                                                                                                                                                                                    |
|  51302   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    SL trigger price cannot be lower than the mark price                                                                                                                                                                                                                                                                                                                                                                                     |
|  51303   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    TP trigger price cannot be lower than the mark price                                                                                                                                                                                                                                                                                                                                                                                     |
|  51304   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    SL trigger price cannot be higher than the mark price                                                                                                                                                                                                                                                                                                                                                                                    |
|  51305   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   TP trigger price cannot be higher than the index price                                                                                                                                                                                                                                                                                                                                                                                    |
|  51306   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    SL trigger price cannot be lower than the index price                                                                                                                                                                                                                                                                                                                                                                                    |
|  51307   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    TP trigger price cannot be lower than the index price                                                                                                                                                                                                                                                                                                                                                                                    |
|  51308   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   SL trigger price cannot be higher than the index price                                                                                                                                                                                                                                                                                                                                                                                    |
|  51309   |      200       |                                                                                                                                                                                                                                                                                                                                                                                        Cannot create trading bot during call auction                                                                                                                                                                                                                                                                                                                                                                                        |
|  51310   |      200       |                                                                                                                                                                                                                                                                                                                                                   Strategic orders with Iceberg and TWAP order type are not supported when margins are self-transferred in isolated mode.                                                                                                                                                                                                                                                                                                                                                   |
|  51311   |      200       |                                                                                                                                                                                                                                                                                                                                                                    Failed to place trailing stop order. Callback rate should be within {min}\<x\<={max}                                                                                                                                                                                                                                                                                                                                                                     |
|  51312   |      200       |                                                                                                                                                                                                                                                                                                                                                                     Failed to place trailing stop order. Order amount should be within {min}\<x\<={max}                                                                                                                                                                                                                                                                                                                                                                     |
|  51313   |      200       |                                                                                                                                                                                                                                                                                                                                                                                Manual transfer in isolated mode does not support bot trading                                                                                                                                                                                                                                                                                                                                                                                |
|  51317   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         Trigger orders are not available by margin                                                                                                                                                                                                                                                                                                                                                                                          |
|  51327   |      200       |                                                                                                                                                                                                                                                                                                                                                                          closeFraction is only available for Expiry Futures and Perpetual Futures                                                                                                                                                                                                                                                                                                                                                                           |
|  51328   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    closeFraction is only available for reduceOnly orders                                                                                                                                                                                                                                                                                                                                                                                    |
|  51329   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         closeFraction is only available in NET mode                                                                                                                                                                                                                                                                                                                                                                                         |
|  51330   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   closeFraction is only available for stop market orders                                                                                                                                                                                                                                                                                                                                                                                    |
|  51331   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  closeFraction is only available for close position orders                                                                                                                                                                                                                                                                                                                                                                                  |
|  51332   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     closeFraction is not applicable to Portfolio Margin                                                                                                                                                                                                                                                                                                                                                                                     |
|  51333   |      200       |                                                                                                                                                                                                                                                                                                                                                                 Close position order in hedge-mode or reduce-only order in one-way mode cannot attach TPSL                                                                                                                                                                                                                                                                                                                                                                  |
|  51340   |      200       |                                                                                                                                                                                                                                                                                                                                                                                           Used margin must be greater than {0}{1}                                                                                                                                                                                                                                                                                                                                                                                           |
|  51341   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                Position closing not allowed                                                                                                                                                                                                                                                                                                                                                                                                 |
|  51342   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    Closing order already exists. Please try again later                                                                                                                                                                                                                                                                                                                                                                                     |
|  51343   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         TP price must be less than the lower price                                                                                                                                                                                                                                                                                                                                                                                          |
|  51344   |      200       |                                                                                                                                                                                                                                                                                                                                                                                        SL price must be greater than the upper price                                                                                                                                                                                                                                                                                                                                                                                        |
|  51345   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               Policy type is not grid policy                                                                                                                                                                                                                                                                                                                                                                                                |
|  51346   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   The highest price cannot be lower than the lowest price                                                                                                                                                                                                                                                                                                                                                                                   |
|  51347   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                     No profit available                                                                                                                                                                                                                                                                                                                                                                                                     |
|  51348   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Stop loss price must be less than the lower price in the range.                                                                                                                                                                                                                                                                                                                                                                               |
|  51349   |      200       |                                                                                                                                                                                                                                                                                                                                                                           Take profit price must be greater than the highest price in the range.                                                                                                                                                                                                                                                                                                                                                                            |
|  51350   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                  No recommended parameters                                                                                                                                                                                                                                                                                                                                                                                                  |
|  51351   |      200       |                                                                                                                                                                                                                                                                                                                                                                                            Single income must be greater than 0                                                                                                                                                                                                                                                                                                                                                                                             |
|  51352   |      200       |                                                                                                                                                                                                                                                                                                                                                                                            You can have {0} to {1} trading pairs                                                                                                                                                                                                                                                                                                                                                                                            |
|  51353   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               Trading pair {0} already exists                                                                                                                                                                                                                                                                                                                                                                                               |
|  51354   |      200       |                                                                                                                                                                                                                                                                                                                                                                                 The percentages of all trading pairs should add up to 100%                                                                                                                                                                                                                                                                                                                                                                                  |
|  51355   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               Select a date within {0} - {1}                                                                                                                                                                                                                                                                                                                                                                                                |
|  51356   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               Select a time within {0} - {1}                                                                                                                                                                                                                                                                                                                                                                                                |
|  51357   |      200       |                                                                                                                                                                                                                                                                                                                                                                                             Select a time zone within {0} - {1}                                                                                                                                                                                                                                                                                                                                                                                             |
|  51358   |      200       |                                                                                                                                                                                                                                                                                                                                                                             The investment amount of each crypto must be greater than {amount}                                                                                                                                                                                                                                                                                                                                                                              |
|  51359   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   Recurring buy not supported for the selected crypto {0}                                                                                                                                                                                                                                                                                                                                                                                   |
|  51370   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               The range of lever is {0}\~{1}                                                                                                                                                                                                                                                                                                                                                                                                |
|  51380   |      200       |                                                                                                                                                                                                                                                                                                                                                Market conditions do not meet the strategy running configuration. You can try again later or adjust your tp/sl configuration.                                                                                                                                                                                                                                                                                                                                                |
|  51381   |      200       |                                                                                                                                                                                                                                                                                                                                                                           Per grid profit ratio must be larger than 0.1% and less or equal to 10%                                                                                                                                                                                                                                                                                                                                                                           |
|  51382   |      200       |                                                                                                                                                                                                                                                                                                                                                                                 Stop triggerAction is not supported by the current strategy                                                                                                                                                                                                                                                                                                                                                                                 |
|  51383   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         The min\_price is lower than the last price                                                                                                                                                                                                                                                                                                                                                                                         |
|  51384   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    The trigger price must be greater than the min price                                                                                                                                                                                                                                                                                                                                                                                     |
|  51385   |      200       |                                                                                                                                                                                                                                                                                                                                                                                The take profit price needs to be greater than the min price                                                                                                                                                                                                                                                                                                                                                                                 |
|  51386   |      200       |                                                                                                                                                                                                                                                                                                                                                                                The min price needs to be greater than 1/2 of the last price                                                                                                                                                                                                                                                                                                                                                                                 |
|  51387   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Stop loss price must be less than the bottom price                                                                                                                                                                                                                                                                                                                                                                                      |
|  51388   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                This Bot is in running status                                                                                                                                                                                                                                                                                                                                                                                                |
|  51389   |      200       |                                                                                                                                                                                                                                                                                                                                                                                           Trigger price should be lower than {0}                                                                                                                                                                                                                                                                                                                                                                                            |
|  51390   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Trigger price should be lower than the TP price                                                                                                                                                                                                                                                                                                                                                                                       |
|  51391   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      Trigger price should be higher than the SL price                                                                                                                                                                                                                                                                                                                                                                                       |
|  51392   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      TP price should be higher than the trigger price                                                                                                                                                                                                                                                                                                                                                                                       |
|  51393   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       SL price should be lower than the trigger price                                                                                                                                                                                                                                                                                                                                                                                       |
|  51394   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      Trigger price should be higher than the TP price                                                                                                                                                                                                                                                                                                                                                                                       |
|  51395   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Trigger price should be lower than the SL price                                                                                                                                                                                                                                                                                                                                                                                       |
|  51396   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       TP price should be lower than the trigger price                                                                                                                                                                                                                                                                                                                                                                                       |
|  51397   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      SL price should be higher than the trigger price                                                                                                                                                                                                                                                                                                                                                                                       |
|  51398   |      200       |                                                                                                                                                                                                                                                                                                                                                                             Current market meets the stop condition. The bot cannot be created.                                                                                                                                                                                                                                                                                                                                                                             |
|  51399   |      200       |                                                                                                                                                                                                                                                                                                                                                           Max margin under current leverage: {amountLimit} {quoteCurrency}. Enter a smaller amount and try again.                                                                                                                                                                                                                                                                                                                                                           |
|  51400   |      200       |                                                                                                                                                                                                                                                                                                                                                                     Order cancellation failed as the order has been filled, canceled or does not exist.                                                                                                                                                                                                                                                                                                                                                                     |
|  51400   |      200       |                                                                                                                                                                                                                                                                                                                                                                     Cancellation failed as the order does not exist. (Only applicable to Nitro Spread)                                                                                                                                                                                                                                                                                                                                                                      |
|  51401   |      200       |                                                                                                                                                                                                                                                                                                                                                                   Cancellation failed as the order is already canceled. (Only applicable to Nitro Spread)                                                                                                                                                                                                                                                                                                                                                                   |
|  51402   |      200       |                                                                                                                                                                                                                                                                                                                                                                  Cancellation failed as the order is already completed. (Only applicable to Nitro Spread)                                                                                                                                                                                                                                                                                                                                                                   |
|  51403   |      200       |                                                                                                                                                                                                                                                                                                                                                                             Cancellation failed as the order type doesn't support cancellation.                                                                                                                                                                                                                                                                                                                                                                             |
|  51404   |      200       |                                                                                                                                                                                                                                                                                                                                                                           Order cancellation unavailable during the second phase of call auction.                                                                                                                                                                                                                                                                                                                                                                           |
|  51405   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  Cancellation failed as you don't have any pending orders.                                                                                                                                                                                                                                                                                                                                                                                  |
|  51406   |      400       |                                                                                                                                                                                                                                                                                                                                                                                     Canceled - order count exceeds the limit {param0}.                                                                                                                                                                                                                                                                                                                                                                                      |
|  51407   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Either order ID or client order ID is required.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51408   |      200       |                                                                                                                                                                                                                                                                                                                                                                                        Pair ID or name doesn't match the order info.                                                                                                                                                                                                                                                                                                                                                                                        |
|  51409   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         Either pair ID or pair name ID is required.                                                                                                                                                                                                                                                                                                                                                                                         |
|  51410   |      200       |                                                                                                                                                                                                                                                                                                                                                                            Cancellation failed as the order is already under cancelling status.                                                                                                                                                                                                                                                                                                                                                                             |
|  51411   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   Account does not have permission for mass cancellation.                                                                                                                                                                                                                                                                                                                                                                                   |
|  51412   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Cancellation timed out, please try again later.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51412   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     The order has been triggered and can't be canceled.                                                                                                                                                                                                                                                                                                                                                                                     |
|  51413   |      200       |                                                                                                                                                                                                                                                                                                                                                                             Cancellation failed as the order type is not supported by endpoint.                                                                                                                                                                                                                                                                                                                                                                             |
|  51415   |      200       |                                                                                                                                                                                                                                                                                                                                                Unable to place order. Spot trading only supports using the last price as trigger price. Please select "Last" and try again.                                                                                                                                                                                                                                                                                                                                                 |
|  51416   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Order has been triggered and can't be canceled                                                                                                                                                                                                                                                                                                                                                                                        |
|  51500   |      200       |                                                                                                                                                                                                                                                                                                                                                                                         You must enter a price, quantity, or TP/SL                                                                                                                                                                                                                                                                                                                                                                                          |
|  51501   |      400       |                                                                                                                                                                                                                                                                                                                                                                                          Maximum {param0} orders can be modified.                                                                                                                                                                                                                                                                                                                                                                                           |
|  51502   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    Unable to edit order: insufficient balance or margin.                                                                                                                                                                                                                                                                                                                                                                                    |
|  51502   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    Order failed. Insufficient {param0} margin in account                                                                                                                                                                                                                                                                                                                                                                                    |
|  51502   |      200       |                                                                                                                                                                                                                                                                                                                                                                    Order failed. Insufficient {param0} balance in account and Auto Borrow is not enabled                                                                                                                                                                                                                                                                                                                                                                    |
|  51502   |      200       |                                                                                                                                                                                                                                                                                                                                     Order failed. Insufficient {param0} margin in account and Auto Borrow is not enabled (Portfolio margin mode can try IOC orders to lower the risks)                                                                                                                                                                                                                                                                                                                                      |
|  51502   |      200       |                                                                                                                                                                                                                                                                                 Order failed. The requested borrowing amount is larger than the available {param0} borrowing amount of your position tier. Existing pending orders and the new order need to borrow {param1}, remaining quota {param2}, total quota {param3}, used {param4}                                                                                                                                                                                                                                                                                 |
|  51502   |      200       |                                                                                                                                                                                                                                                                                 Order failed. The requested borrowing amount is larger than the available {param0} borrowing amount of your position tier. Existing pending orders and the new order need to borrow {param1}, remaining quota {param2}, total quota {param3}, used {param4}                                                                                                                                                                                                                                                                                 |
|  51502   |      200       |                                                                                                                                                                                                                                                                   Order failed. The requested borrowing amount is larger than the available {param0} borrowing amount of your main account and the allocated VIP quota. Existing pending orders and the new order need to borrow {param1}, remaining quota {param2}, total quota {param3}, used {param4}                                                                                                                                                                                                                                                                    |
|  51502   |      200       |                                                                                                                                                                                                                                                                                                                                                                        Order failed. Insufficient available borrowing amount in {param0} crypto pair                                                                                                                                                                                                                                                                                                                                                                        |
|  51502   |      200       |                                                                                                                                                                                                                                                                                                                                                                         Order failed. Insufficient available borrowing amount in {param0} loan pool                                                                                                                                                                                                                                                                                                                                                                         |
|  51502   |      200       |                                                                                                                                                                                                                                                                                                                                                             Order failed. Insufficient account balance and the adjusted equity in USD is smaller than the IMR.                                                                                                                                                                                                                                                                                                                                                              |
|  51502   |      200       |                                                                                                                                                                                                                                                                                           Order failed. The order didn't pass delta verification. If the order succeeded, the change in adjEq would be smaller than the change in IMR. Increase adjEq or reduce IMR (Portfolio margin mode can try IOC orders to lower the risks)                                                                                                                                                                                                                                                                                           |
|  51503   |      200       |                                                                                                                                                                                                                                                                                                                                                                                       Your order has already been filled or canceled.                                                                                                                                                                                                                                                                                                                                                                                       |
|  51503   |      200       |                                                                                                                                                                                                                                                                                                                                                                  Order modification failed as the order does not exist. (Only applicable to Nitro Spread)                                                                                                                                                                                                                                                                                                                                                                   |
|  51505   |      200       |                                                                                                                                                                                                                                                                                                                                                                                               {instId} is not in call auction                                                                                                                                                                                                                                                                                                                                                                                               |
|  51506   |      200       |                                                                                                                                                                                                                                                                                                                                                                                     Order modification unavailable for the order type.                                                                                                                                                                                                                                                                                                                                                                                      |
|  51507   |      200       |                                                                                                                                                                                                                                                                                                                                                                   You can only place market orders for this crypto at least 5 minutes after its listing.                                                                                                                                                                                                                                                                                                                                                                    |
|  51508   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Orders are not allowed to be modified during the call auction.                                                                                                                                                                                                                                                                                                                                                                                |
|  51509   |      200       |                                                                                                                                                                                                                                                                                                                                                                    Modification failed as the order has been canceled. (Only applicable to Nitro Spread)                                                                                                                                                                                                                                                                                                                                                                    |
|  51510   |      200       |                                                                                                                                                                                                                                                                                                                                                                   Modification failed as the order has been completed. (Only applicable to Nitro Spread)                                                                                                                                                                                                                                                                                                                                                                    |
|  51511   |      200       |                                                                                                                                                                                                                                                                                                                                                                     Modification failed as the order price did not meet the requirement for Post Only.                                                                                                                                                                                                                                                                                                                                                                      |
|  51512   |      200       |                                                                                                                                                                                                                                                                                                                                                         Failed to amend orders in batches. You cannot have duplicate orders in the same amend-batch-orders request.                                                                                                                                                                                                                                                                                                                                                         |
|  51513   |      200       |                                                                                                                                                                                                                                                                                                                                                             Number of modification requests that are currently in progress for an order cannot exceed 3 times.                                                                                                                                                                                                                                                                                                                                                              |
|  51514   |      200       |                                                                                                                                                                                                                                                                                                                                                                        Order modification failed. The price length must be 32 characters or shorter.                                                                                                                                                                                                                                                                                                                                                                        |
|  51521   |      200       |                                                                                                                                                                                                                                                                                                                                                           Failed to edit. Unable to edit reduce-only order because you don't have any positions of this contract.                                                                                                                                                                                                                                                                                                                                                           |
|  51522   |      200       |                                                                                                                                                                                                                                                                                                                                                           Failed to edit. A reduce-only order can't be in the same trading direction as your existing positions.                                                                                                                                                                                                                                                                                                                                                            |
|  51523   |      200       |                                                                                                                                                                                                                                                                                                                                                  Unable to modify the order price of a stop order that closes an entire position. Please modify the trigger price instead.                                                                                                                                                                                                                                                                                                                                                  |
|  51524   |      200       |                                                                                                                                                                                                                                                                                                                                                Unable to modify the order quantity of a stop order that closes an entire position. Please modify the trigger price instead.                                                                                                                                                                                                                                                                                                                                                 |
|  51525   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  Stop order modification is not available for quick margin                                                                                                                                                                                                                                                                                                                                                                                  |
|  51526   |      200       |                                                                                                                                                                                                                                                                                                                                                      Order modification unsuccessful. Take profit/Stop loss conditions cannot be added to or removed from stop orders.                                                                                                                                                                                                                                                                                                                                                      |
|  51527   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Order modification unsuccessful. The stop order does not exist.                                                                                                                                                                                                                                                                                                                                                                               |
|  51528   |      200       |                                                                                                                                                                                                                                                                                                                                                                                             Unable to modify trigger price type                                                                                                                                                                                                                                                                                                                                                                                             |
|  51529   |      200       |                                                                                                                                                                                                                                                                                                                                                       Order modification unsuccessful. Stop order modification only applies to Expiry Futures and Perpetual Futures.                                                                                                                                                                                                                                                                                                                                                        |
|  51530   |      200       |                                                                                                                                                                                                                                                                                                                                                  Order modification unsuccessful. Take profit/Stop loss conditions cannot be added to or removed from reduce-only orders.                                                                                                                                                                                                                                                                                                                                                   |
|  51531   |      200       |                                                                                                                                                                                                                                                                                                                                                             Order modification unsuccessful. The stop order must have either take profit or stop loss attached.                                                                                                                                                                                                                                                                                                                                                             |
|  51532   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Your TP/SL can't be modified because it was partially triggered                                                                                                                                                                                                                                                                                                                                                                               |
|  51536   |      200       |                                                                                                                                                                                                                                                                                                                                                                     Unable to modify the size of the options order if the price type is pxUsd or pxVol.                                                                                                                                                                                                                                                                                                                                                                     |
|  51537   |      200       |                                                                                                                                                                                                                                                                                                                                                                                 pxUsd or pxVol are not supported by non-options instruments                                                                                                                                                                                                                                                                                                                                                                                 |
|  51543   |      200       |                                                                                                                                                                                                                                                                                                                       When modifying take-profit or stop-loss orders for spot or margin trading, you can only adjust the price and quantity. Cancel the order and place a new one for other actions.                                                                                                                                                                                                                                                                                                                        |
|  51600   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                      Status not found.                                                                                                                                                                                                                                                                                                                                                                                                      |
|  51601   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  Order status and order id cannot exist at the same time.                                                                                                                                                                                                                                                                                                                                                                                   |
|  51602   |      200       |                                                                                                                                                                                                                                                                                                                                                                                        Either order status or order ID is required.                                                                                                                                                                                                                                                                                                                                                                                         |
|  51603   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                    Order does not exist.                                                                                                                                                                                                                                                                                                                                                                                                    |
|  51604   |      200       |                                                                                                                                                                                                                                                                                                                                                                                 Initiate a download request before obtaining the hyperlink                                                                                                                                                                                                                                                                                                                                                                                  |
|  51605   |      200       |                                                                                                                                                                                                                                                                                                                                                                                You can only download transaction data from the past 2 years                                                                                                                                                                                                                                                                                                                                                                                 |
|  51606   |      200       |                                                                                                                                                                                                                                                                                                                                                                                  Transaction data for the current quarter is not available                                                                                                                                                                                                                                                                                                                                                                                  |
|  51607   |      200       |                                                                                                                                                                                                                                                                                                                                                                                   Your previous download request is still being processed                                                                                                                                                                                                                                                                                                                                                                                   |
|  51608   |      200       |                                                                                                                                                                                                                                                                                                                                                                                      No transaction data found for the current quarter                                                                                                                                                                                                                                                                                                                                                                                      |
|  51610   |      200       |                                                                                                                                                                                                                                                                                                                                                                               You can't download billing statements for the current quarter.                                                                                                                                                                                                                                                                                                                                                                                |
|  51611   |      200       |                                                                                                                                                                                                                                                                                                                                                                               You can't download billing statements for the current quarter.                                                                                                                                                                                                                                                                                                                                                                                |
|  51620   |      200       |                                                                                                                                                                                                                                                                                                                                                                                           Only affiliates can perform this action                                                                                                                                                                                                                                                                                                                                                                                           |
|  51621   |      200       |                                                                                                                                                                                                                                                                                                                                                                                                 The user isn’t your invitee                                                                                                                                                                                                                                                                                                                                                                                                 |
|  51156   |      200       |                                                                                                                                                                                                                                                                                                                                                                 You're leading trades in long/short mode and can't use this API endpoint to close positions                                                                                                                                                                                                                                                                                                                                                                 |
|  51159   |      200       |                                                                                                                                                                                                                                                                                                                      You're leading trades in buy/sell mode. If you want to place orders using this API endpoint, the orders must be in the same direction as your existing positions and open orders.                                                                                                                                                                                                                                                                                                                      |
|  51162   |      200       |                                                                                                                                                                                                                                                                                                                                                                            You have {instrument} open orders. Cancel these orders and try again                                                                                                                                                                                                                                                                                                                                                                             |
|  51163   |      200       |                                                                                                                                                                                                                                                                                                                                                                            You hold {instrument} positions. Close these positions and try again                                                                                                                                                                                                                                                                                                                                                                             |
|  51165   |      200       |                                                                                                                                                                                                                                                                                                                                                     The number of {instrument} reduce-only orders reached the upper limit of {upLimit}. Cancel some orders to proceed.                                                                                                                                                                                                                                                                                                                                                      |
|  51166   |      200       |                                                                                                                                                                                                                                                                                                                                                                               Currently, we don't support leading trades with this instrument                                                                                                                                                                                                                                                                                                                                                                               |
|  51167   |      200       |                                                                                                                                                                                                                                                                                                                                                               Failed. You have block trading open order(s), please proceed after canceling existing order(s).                                                                                                                                                                                                                                                                                                                                                               |
|  51168   |      200       |                                                                                                                                                                                                                                                                                                                                                            Failed. You have reduce-only type of open order(s), please proceed after canceling existing order(s)                                                                                                                                                                                                                                                                                                                                                             |
|  51320   |      200       |                                                                                                                                                                                                                                                                                                                                                                                          The range of coin percentage is {0}%-{1}%                                                                                                                                                                                                                                                                                                                                                                                          |
|  51321   |      200       |                                                                                                                                                                                                                                                                                                                                                           You're leading trades. Currently, we don't support leading trades with arbitrage, iceberg, or TWAP bots                                                                                                                                                                                                                                                                                                                                                           |
|  51322   |      200       |                                                                                                                                                                                                                                                                                                                                                  You're leading trades that have been filled at market price. We've canceled your open stop orders to close your positions                                                                                                                                                                                                                                                                                                                                                  |
|  51323   |      200       |                                                                                                                                                                                                                                                                                                                                                      You're already leading trades with take profit or stop loss settings. Cancel your existing stop orders to proceed                                                                                                                                                                                                                                                                                                                                                      |
|  51324   |      200       |                                                                                                                                                                                                                                                                                                                                   As a lead trader, you hold positions in {instrument}. To close your positions, place orders in the amount that equals the available amount for closing                                                                                                                                                                                                                                                                                                                                    |
|  51325   |      200       |                                                                                                                                                                                                                                                                                                                                                                            As a lead trader, you must use market price when placing stop orders                                                                                                                                                                                                                                                                                                                                                                             |
|  51326   |      200       |                                                                                                                                                                                                                                                                                                                                                           As a lead trader, you must use market price when placing orders with take profit or stop loss settings                                                                                                                                                                                                                                                                                                                                                            |
|  54000   |      200       |                                                                                                                                                                                                                                                                                                                                                                                              Margin trading is not supported.                                                                                                                                                                                                                                                                                                                                                                                               |
|  54001   |      200       |                                                                                                                                                                                                                                                                                                                                                                        Only Multi-currency margin account can be set to borrow coins automatically.                                                                                                                                                                                                                                                                                                                                                                         |
|  54004   |      200       |                                                                                                                                                                                                                                                                                                                                                                    Order placement or modification failed because one of the orders in the batch failed.                                                                                                                                                                                                                                                                                                                                                                    |
|  54005   |      200       |                                                                                                                                                                                                                                                                                                                                                                             Switch to isolated margin mode to trade pre-market expiry futures.                                                                                                                                                                                                                                                                                                                                                                              |
|  54006   |      200       |                                                                                                                                                                                                                                                                                                                                                                Pre-market expiry future position limit is {posLimit}. Please cancel order or close position                                                                                                                                                                                                                                                                                                                                                                 |
|  54007   |      200       |                                                                                                                                                                                                                                                                                                                                                                                            Instrument {instId} is not supported                                                                                                                                                                                                                                                                                                                                                                                             |
|  54008   |      200       |                                                                                                                                                                                                                                                                                                                                                            This operation is disabled by the 'mass cancel order' endpoint. Please enable it using this endpoint.                                                                                                                                                                                                                                                                                                                                                            |
|  54009   |      200       |                                                                                                                                                                                                                                                                                                                                                                                    The range of {param0} should be [{param1}, {param2}].                                                                                                                                                                                                                                                                                                                                                                                    |
|  54011   |      200       |                                                                                                                                                                                                                                                                                                                                      Pre-market trading contracts are only allowed to reduce the number of positions within 1 hour before delivery. Please modify or cancel the order.                                                                                                                                                                                                                                                                                                                                      |
|  54012   |      200       |                                                                                                                                                                                                                                                            Due to insufficient order book depth, we are now taking measures to protect your positions. Currently, you can only cancel orders, add margin to your positions, and place post-only orders. Your positions will not be liquidated. Trade will resume once order book depth returns to a safe level.                                                                                                                                                                                                                                                             |
|  54018   |      200       |                                                                                                                                                                                                                                                                                                                                                             Buy limit of {param0} USD exceeded. Your remaining limit is {param1} USD. (During the call auction)                                                                                                                                                                                                                                                                                                                                                             |
|  54019   |      200       |                                                                                                                                                                                                                                                                                                                                                             Buy limit of {param0} USD exceeded. Your remaining limit is {param1} USD. (After the call auction)                                                                                                                                                                                                                                                                                                                                                              |
|  54024   |      200       |                                                                                                                                                                                                                                                                                                                                         Your order failed because you must enable {ccy} as collateral to trade expiry futures, perpetual futures, and options in cross-margin mode.                                                                                                                                                                                                                                                                                                                                         |
|  54025   |      200       |                                                                                                                                                                                                                                                                                                                                   Your order failed because you must enable {ccy} as collateral to trade margin, expiry futures, perpetual futures, and options in isolated margin mode.                                                                                                                                                                                                                                                                                                                                    |
|  54026   |      200       |                                                                                                                                                                                                                                                                                                                                                 Your order failed because you must enable {ccy} and {ccy1} as collateral to trade the margin pair in isolated margin mode.                                                                                                                                                                                                                                                                                                                                                  |
|  54027   |      200       |                                                                                                                                                                                                                                                                                                                                                                       Your order failed because you must enable {ccy} as collateral to trade options.                                                                                                                                                                                                                                                                                                                                                                       |
|  54028   |      200       |                                                                                                                                                                                                                                                                                                                                                            Your order failed because you must enable {ccy} as collateral to trade spot in isolated margin mode.                                                                                                                                                                                                                                                                                                                                                             |
|  54029   |      200       |                                                                                                                                                                                                                                                                                                                                                                                           {param0} doesn’t exist within {param1}.                                                                                                                                                                                                                                                                                                                                                                                           |

#### Data class ####

|Error Code|HTTP Status Code|    Error Message    |
|----------|----------------|---------------------|
|  52000   |      200       |No market data found.|

---

Production Trading Services
----------

The Production Trading URL:

* REST: `https://www.okx.com`  

* Public WebSocket: `wss://ws.okx.com:8443/ws/v5/public`  

* Private WebSocket: `wss://ws.okx.com:8443/ws/v5/private`
* Business WebSocket: `wss://ws.okx.com:8443/ws/v5/business`

---

Demo Trading Services
----------

Currently, the V5 API works for Demo Trading, but some functions are not supported, such as `withdraw`,`deposit`,`purchase/redemption`, etc.

The Demo Trading URL:

* REST: `https://www.okx.com`  

* Public WebSocket: `wss://wspap.okx.com:8443/ws/v5/public`  

* Private WebSocket: `wss://wspap.okx.com:8443/ws/v5/private`  

* Business WebSocket: `wss://wspap.okx.com:8443/ws/v5/business`

OKX account can be used for login on Demo Trading. If you already have an OKX account, you can log in directly.

Start API Demo Trading by the following steps:  
Login OKX —\> Trade —\> Demo Trading —\> Personal Center —\> Demo Trading API -\> Create Demo Trading V5 API Key —\> Start your Demo Trading

Note: `x-simulated-trading: 1` needs to be added to the header of the Demo Trading request.
>
>
> Http Header Example
>
>

```
Content-Type: application/json

OK-ACCESS-KEY: 37c541a1-****-****-****-10fe7a038418

OK-ACCESS-SIGN: leaVRETrtaoEQ3yI9qEtI1CZ82ikZ4xSG5Kj8gnl3uw=

OK-ACCESS-PASSPHRASE: 1****6

OK-ACCESS-TIMESTAMP: 2020-03-28T12:21:41.274Z

x-simulated-trading: 1

```

---

### Demo Trading Explorer ###

You need to sign in to your OKX account before accessing the explorer. The interface only allow access to the demo trading environment.

* Clicking `Try it out` button in Parameters Panel and editing request parameters.

* Clicking `Execute` button to send your request. You can check response in Responses panel.

Try [demo trading explorer](/demo-trading-explorer/v5/en)

---

General Info
----------

**The rules for placing orders at the exchange level are as follows:**

* The maximum number of pending orders (including post only orders, limit orders and taker orders that are being processed): 4,000
* The maximum number of pending orders per trading symbol is 500, the limit of 500 pending orders applies to the following **order types**:

  * Limit
  * Market
  * Post only
  * Fill or Kill (FOK)
  * Immediate or Cancel (IOC)
  * Market order with Immediate-or-Cancel order (optimal limit IOC)
  * Take Profit / Stop Loss (TP/SL)
  * Limit and market orders triggered under the order types below:
    * Take Profit / Stop Loss (TP/SL)
    * Trigger
    * Trailing stop
    * Arbitrage
    * Iceberg
    * TWAP
    * Recurring buy

* The maximum number of pending spread orders: 500 across all spreads

* The maximum number of pending algo orders:

  * TP/SL order: 100 per instrument
  * Trigger order: 500
  * Trailing order: 50
  * Iceberg order: 100
  * TWAP order: 20

* The maximum number of grid trading

  * Spot grid: 100
  * Contract grid: 100

**The rules for trading are as follows:**

* When the number of maker orders matched with a taker order exceeds the maximum number limit of 1000, the taker order will be canceled.
  * The limit orders will only be executed with a portion corresponding to 1000 maker orders and the remainder will be canceled.
  * Fill or Kill (FOK) orders will be canceled directly.

**The rules for the returning data are as follows:**

* `code` and `msg` represent the request result or error reason when the return data has `code`, and has not `sCode`;

* It is `sCode` and `sMsg` that represent the request result or error reason when the return data has `sCode` rather than `code` and `msg`.

**The introduction of `instFamily`:**

* There are no difference between `uly` and `instFamily`:
  * For BTC-USD-SWAP, `uly` and `instFamily` are both BTC-USD. For BTC-USDC-SWAP, `uly` and `instFamily` are both BTC-USDC.
  * If you set the request parameter "uly" as BTC-USD, you will get the data for BTC-USD (coin-margined) contracts.
  * If you set the request parameter "instFamily" as BTC-USD, then you also will get data for BTC-USD (coin-margined) contracts.  

* You can look up the corresponding instFamily of each instrument from the "Get instruments" endpoint.

---

Transaction Timeouts
----------

Orders may not be processed in time due to network delay or busy OKX servers. You can configure the expiry time of the request using `expTime` if you want the order request to be discarded after a specific time.

If `expTime` is specified in the requests for Place (multiple) orders or Amend (multiple) orders, the request will not be processed if the current system time of the server is after the `expTime`.

---

### REST API ###

Set the following parameters in the request header

|Parameter| Type |Required|                                      Description                                      |
|---------|------|--------|---------------------------------------------------------------------------------------|
| expTime |String|   No   |Request effective deadline. Unix timestamp format in milliseconds, e.g. `1597026383085`|

The following endpoints are supported:

* [Place order](/docs-v5/en/#order-book-trading-trade-post-place-order)
* [Place multiple orders](/docs-v5/en/#order-book-trading-trade-post-place-multiple-orders)
* [Amend order](/docs-v5/en/#order-book-trading-trade-post-amend-order)
* [Amend multiple orders](/docs-v5/en/#order-book-trading-trade-post-amend-multiple-orders)

>
>
> Request Example
>
>

```
curl -X 'POST' \
  'https://www.okx.com/api/v5/trade/order' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -H 'OK-ACCESS-KEY: *****' \
  -H 'OK-ACCESS-SIGN: *****'' \
  -H 'OK-ACCESS-TIMESTAMP: *****'' \
  -H 'OK-ACCESS-PASSPHRASE: *****'' \
  -H 'expTime: 1597026383085' \   // request effective deadline
  -d '{
  "instId": "BTC-USDT",
  "tdMode": "cash",
  "side": "buy",
  "ordType": "limit",
  "px": "1000",
  "sz": "0.01"
}'

```

---

Rate Limits
----------

Our REST and WebSocket APIs use rate limits to protect our APIs against malicious usage so our trading platform can operate reliably and fairly.  
When a request is rejected by our system due to rate limits, the system returns error code 50011 (Rate limit reached. Please refer to API documentation and throttle requests accordingly).  
The rate limit is different for each endpoint. You can find the limit for each endpoint from the endpoint details. Rate limit definitions are detailed below:

* WebSocket login and subscription rate limits are based on connection.

* Public unauthenticated REST rate limits are based on IP address.

* Private REST rate limits are based on User ID (sub-accounts have individual User IDs).

* WebSocket order management rate limits are based on User ID (sub-accounts have individual User IDs).

---

### Trading-related APIs ###

For Trading-related APIs (place order, cancel order, and amend order) the following conditions apply:

* Rate limits are shared across the REST and WebSocket channels.

* Rate limits for placing orders, amending orders, and cancelling orders are independent from each other.

* Rate limits are defined on the Instrument ID level (except Options)

* Rate limits for Options are defined based on the Instrument Family level. Refer to the [Get instruments](/docs-v5/en/#public-data-rest-api-get-instruments) endpoint to view Instrument Family information.

* Rate limits for a multiple order endpoint and a single order endpoint are also independent, with the exception being when there is only one order sent to a multiple order endpoint, the order will be counted as a single order and adopt the single order rate limit.

---

### Sub-account rate limit ###

At the sub-account level, we allow a maximum of 1000 order requests per 2 seconds. Only new order requests and amendment order requests will be counted towards this limit. The limit encompasses all requests from the endpoints below. For batch order requests consisting of multiple orders, each order will be counted individually. Error code 50061 is returned when the sub-account rate limit is exceeded. The existing rate limit rule per instrument ID remains unchanged and the existing rate limit and sub-account rate limit will operate in parallel. If clients require a higher rate limit, clients can trade via multiple sub-accounts.

* [POST / Place order](/docs-v5/en/#order-book-trading-trade-post-place-order)
* [POST / Place multiple orders](/docs-v5/en/#order-book-trading-trade-post-place-multiple-orders)
* [POST / Amend order](/docs-v5/en/#order-book-trading-trade-post-amend-order)
* [POST / Amend multiple orders](/docs-v5/en/#order-book-trading-trade-post-amend-multiple-orders)

* [WS / Place order](/docs-v5/en/#order-book-trading-trade-ws-place-order)

* [WS / Place multiple orders](/docs-v5/en/#order-book-trading-trade-ws-place-multiple-orders)

* [WS / Amend order](/docs-v5/en/#order-book-trading-trade-ws-amend-order)

* [WS / Amend multiple orders](/docs-v5/en/#order-book-trading-trade-ws-amend-multiple-orders)

---

### Fill ratio based sub-account rate limit ###

This is only applicable to \>= VIP5 customers.  
As an incentive for more efficient trading, the exchange will offer a higher sub-account rate limit to clients with a high trade fill ratio.   

The exchange calculates two ratios based on the transaction data from the past 7 days at 00:00 UTC.

1. Sub-account fill ratio: This ratio is determined by dividing (the trade volume in USDT of the sub-account) by (sum of (new and amendment request count per symbol \* symbol multiplier) of the sub-account). Note that the master trading account itself is also considered as a sub-account in this context.
2. Master account aggregated fill ratio: This ratio is calculated by dividing (the trade volume in USDT on the master account level) by (the sum (new and amendment count per symbol \* symbol multiplier] of all sub-accounts).

The symbol multiplier allows for fine-tuning the weight of each symbol. A smaller symbol multiplier (\<1) is used for smaller pairs that require more updates per trading volume. All instruments have a default symbol multiplier, and some instruments will have overridden symbol multipliers.

|    InstType     |    Override rule    |                                       Overridden symbol multiplier                                        |Default symbol multiplier|
|-----------------|---------------------|-----------------------------------------------------------------------------------------------------------|-------------------------|
|Perpetual Futures|  Per instrument ID  |`1`   <br/>Instrument ID:   <br/>BTC-USDT-SWAP   <br/>BTC-USD-SWAP   <br/>ETH-USDT-SWAP   <br/>ETH-USD-SWAP|          `0.2`          |
| Expiry Futures  |Per instrument Family|       `0.3`   <br/>Instrument Family:   <br/>BTC-USDT   <br/>BTC-USD   <br/>ETH-USDT   <br/>ETH-USD       |          `0.1`          |
|      Spot       |  Per instrument ID  |                        `0.5`   <br/>Instrument ID:   <br/>BTC-USDT   <br/>ETH-USDT                        |          `0.1`          |
|     Options     |Per instrument Family|                                                                                                           |          `0.1`          |

The fill ratio computation excludes block trading, spread trading, MMP and fiat orders for order count; and excludes block trading, spread trading for trade volume. Only successful order requests (sCode=0) are considered.

At 08:00 UTC, the system will use the maximum value between the sub-account fill ratio and the master account aggregated fill ratio based on the data snapshot at 00:00 UTC to determine the sub-account rate limit based on the table below. For broker (non-disclosed) clients, the system considers the sub-account fill ratio only.

|      |Fill ratio[x\<=ratio\<y)|Sub-account rate limit per 2 seconds(new and amendment)|
|------|------------------------|-------------------------------------------------------|
|Tier 1|         [0,1)          |                         1,000                         |
|Tier 2|         [1,2)          |                         1,250                         |
|Tier 3|         [2,3)          |                         1,500                         |
|Tier 4|         [3,5)          |                         1,750                         |
|Tier 5|         [5,10)         |                         2,000                         |
|Tier 6|        [10,20)         |                         2,500                         |
|Tier 7|        [20,50)         |                         3,000                         |
|Tier 8|         \>= 50         |                        10,000                         |

If there is an improvement in the fill ratio and rate limit to be uplifted, the uplift will take effect immediately at 08:00 UTC. However, if the fill ratio decreases and the rate limit needs to be lowered, a one-day grace period will be granted, and the lowered rate limit will only be implemented on T+1 at 08:00 UTC. On T+1, if the fill ratio improves, the higher rate limit will be applied accordingly. In the event of client demotion to VIP4, their rate limit will be downgraded to Tier 1, accompanied by a one-day grace period.

If the 7-day trading volume of a sub-account is less than 1,000,000 USDT, the fill ratio of the master account will be applied to it.

For newly created sub-accounts, the Tier 1 rate limit will be applied at creation until T+1 8am UTC, at which the normal rules will be applied.

Block trading, spread trading, MMP and spot/margin orders are exempted from the sub-account rate limit.

The exchange offers [GET / Account rate limit](/docs-v5/en/#order-book-trading-trade-get-account-rate-limit) endpoint that provides ratio and rate limit data, which will be updated daily at 8am UTC. It will return the sub-account fill ratio, the master account aggregated fill ratio, current sub-account rate limit and sub-account rate limit on T+1 (applicable if the rate limit is going to be demoted).  

The fill ratio and rate limit calculation example is shown below. Client has 3 accounts, symbol multiplier for BTC-USDT-SWAP = 1 and XRP-USDT = 0.1.

1. Account A (master account):
   1. BTC-USDT-SWAP trade volume = 100 USDT, order count = 10;
   2. XRP-USDT trade volume = 20 USDT, order count = 15;
   3. Sub-account ratio = (100+20) / (10 \* 1 + 15 \* 0.1) = 10.4

2. Account B (sub-account):
   1. BTC-USDT-SWAP trade volume = 200 USDT, order count = 100;
   2. XRP-USDT trade volume = 20 USDT, order count = 30;
   3. Sub-account ratio = (200+20) / (100 \* 1 + 30 \* 0.1) = 2.13

3. Account C (sub-account):
   1. BTC-USDT-SWAP trade volume = 300 USDT, order count = 1000;
   2. XRP-USDT trade volume = 20 USDT, order count = 45;
   3. Sub-account ratio = (300+20) / (100 \* 1 + 45 \* 0.1) = 3.06

4. Master account aggregated fill ratio = (100+20+200+20+300+20) / (10 \* 1 + 15 \* 0.1 + 100 \* 1 + 30 \* 0.1 + 100 \* 1 + 45 \* 0.1) = 3.01
5. Rate limit of accounts
   1. Account A = max(10.4, 3.01) = 10.4 -\> 2500 order requests/2s
   2. Account B = max(2.13, 3.01) = 3.01 -\> 1750 order requests/2s
   3. Account C = max(3.06, 3.01) = 3.06 -\> 1750 order requests/2s

---

### Best practices ###

If you require a higher request rate than our rate limit, you can set up different sub-accounts to batch request rate limits. We recommend this method for throttling or spacing out requests in order to maximize each accounts' rate limit and avoid disconnections or rejections.

---

### Get instruments ###

Retrieve available instruments info of current account.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID + Instrument Type ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/instruments`

>
>
> Request Example
>
>

```
GET /api/v5/account/instruments?instType=SPOT

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1" # Production trading: 0, Demo trading: 1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

result = accountAPI.get_instruments(instType="SPOT")
print(result)

```

#### Request Parameters ####

|Parameter | Type | Required  |                                                                  Description                                                                   |
|----------|------|-----------|------------------------------------------------------------------------------------------------------------------------------------------------|
| instType |String|    Yes    |Instrument type  <br/>`SPOT`: Spot  <br/>`MARGIN`: Margin  <br/>`SWAP`: Perpetual Futures  <br/>`FUTURES`: Expiry Futures  <br/>`OPTION`: Option|
|   uly    |String|Conditional|       Underlying   <br/>Only applicable to `FUTURES`/`SWAP`/`OPTION`.If instType is `OPTION`, either `uly` or `instFamily` is required.        |
|instFamily|String|Conditional|    Instrument family  <br/>Only applicable to `FUTURES`/`SWAP`/`OPTION`. If instType is `OPTION`, either `uly` or `instFamily` is required.    |
|  instId  |String|    No     |                                                                 Instrument ID                                                                  |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "auctionEndTime": "",
            "baseCcy": "BTC",
            "ctMult": "",
            "ctType": "",
            "ctVal": "",
            "ctValCcy": "",
            "expTime": "",
            "futureSettlement": false,
            "instFamily": "",
            "instId": "BTC-EUR",
            "instType": "SPOT",
            "lever": "",
            "listTime": "1704876947000",
            "lotSz": "0.00000001",
            "maxIcebergSz": "9999999999.0000000000000000",
            "maxLmtAmt": "1000000",
            "maxLmtSz": "9999999999",
            "maxMktAmt": "1000000",
            "maxMktSz": "1000000",
            "maxStopSz": "1000000",
            "maxTriggerSz": "9999999999.0000000000000000",
            "maxTwapSz": "9999999999.0000000000000000",
            "minSz": "0.00001",
            "optType": "",
            "quoteCcy": "EUR",
            "settleCcy": "",
            "state": "live",
            "ruleType": "normal",
            "stk": "",
            "tickSz": "1",
            "uly": ""
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| **Parameter**  |**Type**|                                                                                                                                  **Description**                                                                                                                                  |
|----------------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    instType    | String |                                                                                                                                  Instrument type                                                                                                                                  |
|     instId     | String |                                                                                                                        Instrument ID, e.g. `BTC-USD-SWAP`                                                                                                                         |
|      uly       | String |                                                                                               Underlying, e.g. `BTC-USD`   <br/>Only applicable to `MARGIN/FUTURES`/`SWAP`/`OPTION`                                                                                               |
|   instFamily   | String |                                                                                           Instrument family, e.g. `BTC-USD`   <br/>Only applicable to `MARGIN/FUTURES`/`SWAP`/`OPTION`                                                                                            |
|    baseCcy     | String |                                                                                                 Base currency, e.g. `BTC` in`BTC-USDT`   <br/>Only applicable to `SPOT`/`MARGIN`                                                                                                  |
|    quoteCcy    | String |                                                                                                Quote currency, e.g. `USDT` in `BTC-USDT`   <br/>Only applicable to `SPOT`/`MARGIN`                                                                                                |
|   settleCcy    | String |                                                                                          Settlement and margin currency, e.g. `BTC`   <br/>Only applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                           |
|     ctVal      | String |                                                                                                        Contract value   <br/>Only applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                         |
|     ctMult     | String |                                                                                                      Contract multiplier   <br/>Only applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                      |
|    ctValCcy    | String |                                                                                                    Contract value currency   <br/>Only applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                    |
|    optType     | String |                                                                                                        Option type, `C`: Call `P`: put   <br/>Only applicable to `OPTION`                                                                                                         |
|      stk       | String |                                                                                                                  Strike price   <br/>Only applicable to `OPTION`                                                                                                                  |
|    listTime    | String |                                                                                                     Listing time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                     |
| auctionEndTime | String |                                            The end time of call auction, Unix timestamp format in milliseconds, e.g. `1597026383085`   <br/>Only applicable to `SPOT` that are listed through call auctions, return "" in other cases                                             |
|    expTime     | String |             Expiry time   <br/>Applicable to `SPOT`/`MARGIN`/`FUTURES`/`SWAP`/`OPTION`. For `FUTURES`/`OPTION`, it is natural delivery/exercise time. It is the instrument offline time when there is `SPOT/MARGIN/FUTURES/SWAP/` manual offline. Update once change.             |
|     lever      | String |                                                                                                              Max Leverage,   <br/>Not applicable to `SPOT`, `OPTION`                                                                                                              |
|     tickSz     | String |                                                               Tick size, e.g. `0.0001`  <br/>For Option, it is minimum tickSz among tick band, please use "Get option tick bands" if you want get option tickBands.                                                               |
|     lotSz      | String |                                                        Lot size  <br/>If it is a derivatives contract, the value is the number of contracts.  <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in `base currency`.                                                        |
|     minSz      | String |                                                   Minimum order size  <br/>If it is a derivatives contract, the value is the number of contracts.  <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in `base currency`.                                                   |
|     ctType     | String |                                                                            Contract type  <br/>`linear`: linear contract  <br/>`inverse`: inverse contract   <br/>Only applicable to `FUTURES`/`SWAP`                                                                             |
|     state      | String |                            Instrument status  <br/>`live`   <br/>`suspend`  <br/>`preopen` e.g. Futures and options contracts rollover from generation to trading start; certain symbols before they go live  <br/>`test`: Test pairs, can't be traded                            |
|    ruleType    | String |                                                                                             Trading rule types  <br/>`normal`: normal trading  <br/>`pre_market`: pre-market trading                                                                                              |
|    maxLmtSz    | String |                                  The maximum order quantity of a single limit order.  <br/>If it is a derivatives contract, the value is the number of contracts.  <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in `base currency`.                                   |
|    maxMktSz    | String |                                      The maximum order quantity of a single market order.  <br/>If it is a derivatives contract, the value is the number of contracts.  <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in `USDT`.                                       |
|   maxLmtAmt    | String |                                                                                                                      Max USD amount for a single limit order                                                                                                                      |
|   maxMktAmt    | String |                                                                                                Max USD amount for a single market order   <br/>Only applicable to `SPOT`/`MARGIN`                                                                                                 |
|   maxTwapSz    | String |The maximum order quantity of a single TWAP order.  <br/>If it is a derivatives contract, the value is the number of contracts.  <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in `base currency`.   <br/> The minimum order quantity of a single TWAP order is minSz\*2|
|  maxIcebergSz  | String |                                 The maximum order quantity of a single iceBerg order.  <br/>If it is a derivatives contract, the value is the number of contracts.  <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in `base currency`.                                  |
|  maxTriggerSz  | String |                                 The maximum order quantity of a single trigger order.  <br/>If it is a derivatives contract, the value is the number of contracts.  <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in `base currency`.                                  |
|   maxStopSz    | String |                                    The maximum order quantity of a single stop market order.  <br/>If it is a derivatives contract, the value is the number of contracts.  <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in `USDT`.                                    |
|futureSettlement|Boolean |                                                                                           Whether daily settlement for expiry feature is enabled  <br/>Applicable to `FUTURES` `cross`                                                                                            |
listTime and auctionEndTime  
For spot symbols listed through a call auction, listTime represents the start time of the auction, and auctionEndTime indicates the end of the auction and the start of continuous trading. For other scenarios, listTime will mark the beginning of continuous trading, and auctionEndTime will return an empty value "". state  
The state will always change from `preopen` to `live` when the listTime is reached.  
When a product is going to be delisted (e.g. when a FUTURES contract is settled or OPTION contract is exercised), the instrument will not be available.

---

### Get balance ###

Retrieve a list of assets (with non-zero balance), remaining balance, and available amount in the trading account.

Interest-free quota and discount rates are public data and not displayed on the account interface.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Requests ####

`GET /api/v5/account/balance`

>
>
> Request Example
>
>

```
# Get the balance of all assets in the account
GET /api/v5/account/balance

# Get the balance of BTC and ETH assets in the account
GET /api/v5/account/balance?ccy=BTC,ETH

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get account balance
result = accountAPI.get_account_balance()
print(result)

```

#### Request Parameters ####

|**Parameters**|**Types**|**Required**|                                            **Description**                                            |
|--------------|---------|------------|-------------------------------------------------------------------------------------------------------|
|     ccy      | String  |     No     |Single currency or multiple currencies (no more than 20) separated with comma, e.g. `BTC` or `BTC,ETH`.|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "adjEq": "55415.624719833286",
            "borrowFroz": "0",
            "details": [
                {
                    "availBal": "4834.317093622894",
                    "availEq": "4834.3170936228935",
                    "borrowFroz": "0",
                    "cashBal": "4850.435693622894",
                    "ccy": "USDT",
                    "crossLiab": "0",
                    "collateralEnabled": false,
                    "disEq": "4991.542013297616",
                    "eq": "4992.890093622894",
                    "eqUsd": "4991.542013297616",
                    "smtSyncEq": "0",
                    "spotCopyTradingEq": "0",
                    "fixedBal": "0",
                    "frozenBal": "158.573",
                    "imr": "",
                    "interest": "0",
                    "isoEq": "0",
                    "isoLiab": "0",
                    "isoUpl": "0",
                    "liab": "0",
                    "maxLoan": "0",
                    "mgnRatio": "",
                    "mmr": "",
                    "notionalLever": "",
                    "ordFrozen": "0",
                    "rewardBal": "0",
                    "spotInUseAmt": "",
                    "clSpotInUseAmt": "",
                    "maxSpotInUse": "",
                    "spotIsoBal": "0",
                    "stgyEq": "150",
                    "twap": "0",
                    "uTime": "1705449605015",
                    "upl": "-7.545600000000006",
                    "uplLiab": "0",
                    "spotBal": "",
                    "openAvgPx": "",
                    "accAvgPx": "",
                    "spotUpl": "",
                    "spotUplRatio": "",
                    "totalPnl": "",
                    "totalPnlRatio": ""
                }
            ],
            "imr": "0",
            "isoEq": "0",
            "mgnRatio": "",
            "mmr": "0",
            "notionalUsd": "0",
            "notionalUsdForBorrow": "0",
            "notionalUsdForFutures": "0",
            "notionalUsdForOption": "0",
            "notionalUsdForSwap": "0",
            "ordFroz": "",
            "totalEq": "55837.43556134779",
            "uTime": "1705474164160",
            "upl": "0",
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|   **Parameters**    |   **Types**    |                                                                                                                                                                                                                                                                                               **Description**                                                                                                                                                                                                                                                                                               |
|---------------------|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        uTime        |     String     |                                                                                                                                                                                                                                                       Update time of account information, millisecond format of Unix timestamp, e.g. `1597026383085`                                                                                                                                                                                                                                                        |
|       totalEq       |     String     |                                                                                                                                                                                                                                                                                     The total amount of equity in `USD`                                                                                                                                                                                                                                                                                     |
|        isoEq        |     String     |                                                                                                                                                                                                                                           Isolated margin equity in `USD`  <br/>Applicable to `Spot and futures mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                            |
|        adjEq        |     String     |Adjusted / Effective equity in `USD`   <br/>The net fiat value of the assets in the account that can provide margins for spot, expiry futures, perpetual futures and options under the cross-margin mode.   <br/>In multi-ccy or PM mode, the asset and margin requirement will all be converted to USD value to process the order check or liquidation.   <br/>Due to the volatility of each currency market, our platform calculates the actual USD value of each currency based on discount rates to balance market risks.   <br/>Applicable to `Spot mode`/`Multi-currency margin` and `Portfolio margin`|
|       ordFroz       |     String     |                                                                                                                                                                                                                                      Cross margin frozen for pending orders in `USD`   <br/>Only applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                       |
|         imr         |     String     |                                                                                                                                                                                        Initial margin requirement in `USD`   <br/>The sum of initial margins of all open positions and pending orders under cross-margin mode in `USD`.   <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                         |
|         mmr         |     String     |                                                                                                                                                                                    Maintenance margin requirement in `USD`   <br/>The sum of maintenance margins of all open positions and pending orders under cross-margin mode in `USD`.   <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                     |
|     borrowFroz      |     String     |                                                                                                                                                                                                                     Potential borrowing IMR of the account in `USD`   <br/>Only applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`. It is "" for other margin modes.                                                                                                                                                                                                                      |
|      mgnRatio       |     String     |                                                                                                                                                                                                                                                      Margin ratio in `USD`   <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                                      |
|     notionalUsd     |     String     |                                                                                                                                                                                                                                              Notional value of positions in `USD`   <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                               |
|notionalUsdForBorrow |     String     |                                                                                                                                                                                                                                                Notional value for `Borrow` in USD  <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                                |
| notionalUsdForSwap  |     String     |                                                                                                                                                                                                                                          Notional value of positions for `Perpetual Futures` in USD  <br/>Applicable to `Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                          |
|notionalUsdForFutures|     String     |                                                                                                                                                                                                                                           Notional value of positions for `Expiry Futures` in USD  <br/>Applicable to `Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                            |
|notionalUsdForOption |     String     |                                                                                                                                                                                                                                         Notional value of positions for `Option` in USD  <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                          |
|         upl         |     String     |                                                                                                                                                                                                                                Cross-margin info of unrealized profit and loss at the account level in `USD`  <br/>Applicable to `Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                 |
|       details       |Array of objects|                                                                                                                                                                                                                                                                                Detailed asset information in all currencies                                                                                                                                                                                                                                                                                 |
|       \> ccy        |     String     |                                                                                                                                                                                                                                                                                                  Currency                                                                                                                                                                                                                                                                                                   |
|        \> eq        |     String     |                                                                                                                                                                                                                                                                                             Equity of currency                                                                                                                                                                                                                                                                                              |
|     \> cashBal      |     String     |                                                                                                                                                                                                                                                                                                Cash balance                                                                                                                                                                                                                                                                                                 |
|      \> uTime       |     String     |                                                                                                                                                                                                                                                  Update time of currency balance information, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                   |
|      \> isoEq       |     String     |                                                                                                                                                                                                                                          Isolated margin equity of currency  <br/>Applicable to `Spot and futures mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                          |
|     \> availEq      |     String     |                                                                                                                                                                                                                                             Available equity of currency  <br/>Applicable to `Spot and futures mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                             |
|      \> disEq       |     String     |                                                                                                                                                                                                                                    Discount equity of currency in `USD`.  <br/>Applicable to `Spot mode`(enabled spot borrow)/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                    |
|     \> fixedBal     |     String     |                                                                                                                                                                                                                                                                              Frozen balance for `Dip Sniper` and `Peak Sniper`                                                                                                                                                                                                                                                                              |
|     \> availBal     |     String     |                                                                                                                                                                                                                                                                                        Available balance of currency                                                                                                                                                                                                                                                                                        |
|    \> frozenBal     |     String     |                                                                                                                                                                                                                                                                                         Frozen balance of currency                                                                                                                                                                                                                                                                                          |
|    \> ordFrozen     |     String     |                                                                                                                                                                                                                                                Margin frozen for open orders  <br/>Applicable to `Spot mode`/`Spot and futures mode`/`Multi-currency margin`                                                                                                                                                                                                                                                |
|       \> liab       |     String     |                                                                                                                                                                                                                              Liabilities of currency  <br/>It is a positive value, e.g. `21625.64`  <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                               |
|       \> upl        |     String     |                                                                                                                                                                                                            The sum of the unrealized profit & loss of all margin and derivatives positions of currency.   <br/>Applicable to `Spot and futures mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                             |
|     \> uplLiab      |     String     |                                                                                                                                                                                                                                                Liabilities due to Unrealized loss of currency  <br/>Applicable to `Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                                |
|    \> crossLiab     |     String     |                                                                                                                                                                                                                                                  Cross liabilities of currency  <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                                   |
|    \> rewardBal     |     String     |                                                                                                                                                                                                                                                                                             Trial fund balance                                                                                                                                                                                                                                                                                              |
|     \> isoLiab      |     String     |                                                                                                                                                                                                                                                       Isolated liabilities of currency  <br/>Applicable to `Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                                       |
|     \> mgnRatio     |     String     |                                                                                                                                                                                                           Cross margin ratio of currency   <br/>The index for measuring the risk of a certain asset in the account.   <br/>Applicable to `Spot and futures mode` and when there is cross position                                                                                                                                                                                                           |
|       \> imr        |     String     |                                                                                                                                                                                                                                     Cross initial margin requirement at the currency level  <br/>Applicable to `Spot and futures mode` and when there is cross position                                                                                                                                                                                                                                     |
|       \> mmr        |     String     |                                                                                                                                                                                                                                   Cross maintenance margin requirement at the currency level  <br/>Applicable to `Spot and futures mode` and when there is cross position                                                                                                                                                                                                                                   |
|     \> interest     |     String     |                                                                                                                                                                                                                              Accrued interest of currency  <br/>It is a positive value, e.g. `9.01`  <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                              |
|       \> twap       |     String     |                                                                                                                                                                             Risk indicator of auto liability repayment  <br/>Divided into multiple levels from 0 to 5, the larger the number, the more likely the auto repayment will be triggered.   <br/>Applicable to `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                             |
|     \> maxLoan      |     String     |                                                                                                                                                                                                                                                 Max loan of currency  <br/>Applicable to `cross` of `Spot mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                                  |
|      \> eqUsd       |     String     |                                                                                                                                                                                                                                                                                         Equity in `USD` of currency                                                                                                                                                                                                                                                                                         |
|    \> borrowFroz    |     String     |                                                                                                                                                                                                                               Potential borrowing IMR of currency in `USD`   <br/>Applicable to `Multi-currency margin`/`Portfolio margin`. It is "" for other margin modes.                                                                                                                                                                                                                                |
|  \> notionalLever   |     String     |                                                                                                                                                                                                                                                                      Leverage of currency  <br/>Applicable to `Spot and futures mode`                                                                                                                                                                                                                                                                       |
|      \> stgyEq      |     String     |                                                                                                                                                                                                                                                                                               Strategy equity                                                                                                                                                                                                                                                                                               |
|      \> isoUpl      |     String     |                                                                                                                                                                                                                                   Isolated unrealized profit and loss of currency  <br/>Applicable to `Spot and futures mode`/`Multi-currency margin`/`Portfolio margin`                                                                                                                                                                                                                                    |
|   \> spotInUseAmt   |     String     |                                                                                                                                                                                                                                                                          Spot in use amount  <br/>Applicable to `Portfolio margin`                                                                                                                                                                                                                                                                          |
|  \> clSpotInUseAmt  |     String     |                                                                                                                                                                                                                                                                 User-defined spot risk offset amount  <br/>Applicable to `Portfolio margin`                                                                                                                                                                                                                                                                 |
|   \> maxSpotInUse   |     String     |                                                                                                                                                                                                                                                                 Max possible spot risk offset amount  <br/>Applicable to `Portfolio margin`                                                                                                                                                                                                                                                                 |
|    \> spotIsoBal    |     String     |                                                                                                                                                                                                                                               Spot isolated balance  <br/>Applicable to copy trading  <br/>Applicable to `Spot mode`/`Spot and futures mode`.                                                                                                                                                                                                                                               |
|    \> smtSyncEq     |     String     |                                                                                                                                                                                                                                                                 Smart sync equity  <br/>The default is "0", only applicable to copy trader.                                                                                                                                                                                                                                                                 |
|\> spotCopyTradingEq |     String     |                                                                                                                                                                                                                                                             Spot smart sync equity.   <br/>The default is "0", only applicable to copy trader.                                                                                                                                                                                                                                                              |
|     \> spotBal      |     String     |                                                                                                                                                                                                                                                Spot balance. The unit is currency, e.g. BTC. [More details](https://www.okx.com/help/i-introduction-of-spot)                                                                                                                                                                                                                                                |
|    \> openAvgPx     |     String     |                                                                                                                                                                                                                                                  Spot average cost price. The unit is USD. [More details](https://www.okx.com/help/i-introduction-of-spot)                                                                                                                                                                                                                                                  |
|     \> accAvgPx     |     String     |                                                                                                                                                                                                                                                Spot accumulated cost price. The unit is USD. [More details](https://www.okx.com/help/i-introduction-of-spot)                                                                                                                                                                                                                                                |
|     \> spotUpl      |     String     |                                                                                                                                                                                                                                              Spot unrealized profit and loss. The unit is USD. [More details](https://www.okx.com/help/i-introduction-of-spot)                                                                                                                                                                                                                                              |
|   \> spotUplRatio   |     String     |                                                                                                                                                                                                                                                   Spot unrealized profit and loss ratio. [More details](https://www.okx.com/help/i-introduction-of-spot)                                                                                                                                                                                                                                                    |
|     \> totalPnl     |     String     |                                                                                                                                                                                                                                             Spot accumulated profit and loss. The unit is USD. [More details](https://www.okx.com/help/i-introduction-of-spot)                                                                                                                                                                                                                                              |
|  \> totalPnlRatio   |     String     |                                                                                                                                                                                                                                                   Spot accumulated profit and loss ratio. [More details](https://www.okx.com/help/i-introduction-of-spot)                                                                                                                                                                                                                                                   |
|  \> totalPnlRatio   |     String     |                                                                                                                                                                                                                                                   Spot accumulated profit and loss ratio. [More details](https://www.okx.com/help/i-introduction-of-spot)                                                                                                                                                                                                                                                   |
|\> collateralEnabled |    Boolean     |                                                                                                                                                                                                  `true`: Collateral enabled  <br/>`false`: Collateral disabled  <br/>Applicable to `Multi-currency margin`  <br/>[More details](/help/setting-collateral-cryptocurrencies-in-multi-currency-account-mode)                                                                                                                                                                                                   |

* Regarding more parameter details, you can refer to product documentations below:  
  [Spot and futures mode: cross margin trading](https://www.okx.com/help/iii-single-currency-margin-cross-margin-trading)   
  [Multi-currency margin mode: cross margin trading](https://www.okx.com/help/iv-multi-currency-margin-mode-cross-margin-trading)   
  [Multi-currency margin mode vs. Portfolio margin mode](https://www.okx.com/help/vi-multi-currency-margin-mode-vs-portfolio-margin-mode)   

"" will be returned for inapplicable fields under the current account level. The currency details will not be returned when cashBal and eq is both 0.

Distribution of applicable fields under each account level are as follows:

|   **Parameters**    |**Spot mode**|**Spot and futures mode**|**Multi-currency margin mode**|**Portfolio margin mode**|
|---------------------|-------------|-------------------------|------------------------------|-------------------------|
|        uTime        |     Yes     |           Yes           |             Yes              |           Yes           |
|       totalEq       |     Yes     |           Yes           |             Yes              |           Yes           |
|        isoEq        |             |           Yes           |             Yes              |           Yes           |
|        adjEq        |     Yes     |                         |             Yes              |           Yes           |
|       ordFroz       |     Yes     |                         |             Yes              |           Yes           |
|         imr         |     Yes     |                         |             Yes              |           Yes           |
|         mmr         |     Yes     |                         |             Yes              |           Yes           |
|     borrowFroz      |     Yes     |                         |             Yes              |           Yes           |
|      mgnRatio       |     Yes     |                         |             Yes              |           Yes           |
|     notionalUsd     |     Yes     |                         |             Yes              |           Yes           |
| notionalUsdForSwap  |             |                         |             Yes              |           Yes           |
|notionalUsdForFutures|             |                         |             Yes              |           Yes           |
|notionalUsdForOption |     Yes     |                         |             Yes              |           Yes           |
|notionalUsdForBorrow |     Yes     |                         |             Yes              |           Yes           |
|         upl         |             |                         |             Yes              |           Yes           |
|       details       |             |                         |             Yes              |           Yes           |
|       \> ccy        |     Yes     |           Yes           |             Yes              |           Yes           |
|        \> eq        |     Yes     |           Yes           |             Yes              |           Yes           |
|     \> cashBal      |     Yes     |           Yes           |             Yes              |           Yes           |
|      \> uTime       |     Yes     |           Yes           |             Yes              |           Yes           |
|      \> isoEq       |             |           Yes           |             Yes              |           Yes           |
|     \> availEq      |             |           Yes           |             Yes              |           Yes           |
|      \> disEq       |     Yes     |                         |             Yes              |           Yes           |
|     \> availBal     |     Yes     |           Yes           |             Yes              |           Yes           |
|    \> frozenBal     |     Yes     |           Yes           |             Yes              |           Yes           |
|    \> ordFrozen     |     Yes     |           Yes           |             Yes              |           Yes           |
|       \> liab       |     Yes     |                         |             Yes              |           Yes           |
|       \> upl        |             |           Yes           |             Yes              |           Yes           |
|     \> uplLiab      |             |                         |             Yes              |           Yes           |
|    \> crossLiab     |     Yes     |                         |             Yes              |           Yes           |
|     \> isoLiab      |             |                         |             Yes              |           Yes           |
|     \> mgnRatio     |             |           Yes           |                              |                         |
|     \> interest     |     Yes     |                         |             Yes              |           Yes           |
|       \> twap       |     Yes     |                         |             Yes              |           Yes           |
|     \> maxLoan      |     Yes     |                         |             Yes              |           Yes           |
|      \> eqUsd       |     Yes     |           Yes           |             Yes              |           Yes           |
|    \> borrowFroz    |     Yes     |                         |             Yes              |           Yes           |
|  \> notionalLever   |             |           Yes           |                              |                         |
|      \> stgyEq      |     Yes     |           Yes           |             Yes              |           Yes           |
|      \> isoUpl      |             |           Yes           |             Yes              |           Yes           |
|   \> spotInUseAmt   |             |                         |                              |           Yes           |
|    \> spotIsoBal    |     Yes     |           Yes           |                              |                         |
|       \> imr        |             |           Yes           |                              |                         |
|       \> mmr        |             |           Yes           |                              |                         |
|    \> smtSyncEq     |     Yes     |           Yes           |             Yes              |           Yes           |
|\> spotCopyTradingEq |     Yes     |           Yes           |             Yes              |           Yes           |
|     \> spotBal      |     Yes     |           Yes           |             Yes              |           Yes           |
|    \> openAvgPx     |     Yes     |           Yes           |             Yes              |           Yes           |
|     \> accAvgPx     |     Yes     |           Yes           |             Yes              |           Yes           |
|     \> spotUpl      |     Yes     |           Yes           |             Yes              |           Yes           |
|   \> spotUplRatio   |     Yes     |           Yes           |             Yes              |           Yes           |
|     \> totalPnl     |     Yes     |           Yes           |             Yes              |           Yes           |
| \> totalPnlRatio c  |     Yes     |           Yes           |             Yes              |           Yes           |
|\> collateralEnabled |             |                         |             Yes              |                         |

---

### Get positions ###

Retrieve information on your positions. When the account is in `net` mode, `net` positions will be displayed, and when the account is in `long/short` mode, `long` or `short` positions will be displayed. Return in reverse chronological order using ctime.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/positions`

>
>
> Request Example
>
>

```
# Query BTC-USDT position information
GET /api/v5/account/positions?instId=BTC-USDT

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get positions information
result = accountAPI.get_positions()
print(result)

```

#### Request Parameters ####

|**Parameter**|**Type**|**Required**|                                                                                                              **Description**                                                                                                              |
|-------------|--------|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  instType   | String |     No     |                                       Instrument type  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`  <br/>`instId` will be checked against `instType` when both parameters are passed.                                       |
|   instId    | String |     No     |                                                        Instrument ID, e.g. `BTC-USDT-SWAP`. Single instrument ID or multiple instrument IDs (no more than 10) separated with comma                                                        |
|    posId    | String |     No     |Single position ID or multiple position IDs (no more than 20) separated with comma.   <br/>There is attribute expiration, the posId and position information will be cleared if it is more than 30 days after the last full close position.|
instId  
If the instrument ever had position and its open interest is 0, it will return the position information with specific instId. It will not return the position information with specific instId if there is no valid posId; it will not return the position information without specific instId. In the isolated margin trading settings, if it is set to the manual transfers mode, after the position is transferred to the margin, a position with a position of 0 will be generated
>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "adl": "1",
            "availPos": "0.00190433573",
            "avgPx": "62961.4",
            "baseBal": "",
            "baseBorrowed": "",
            "baseInterest": "",
            "bePx": "",
            "bizRefId": "",
            "bizRefType": "",
            "cTime": "1724740225685",
            "ccy": "BTC",
            "clSpotInUseAmt": "",
            "closeOrderAlgo": [],
            "deltaBS": "",
            "deltaPA": "",
            "fee": "",
            "fundingFee": "",
            "gammaBS": "",
            "gammaPA": "",
            "idxPx": "62890.5",
            "imr": "",
            "instId": "BTC-USDT",
            "instType": "MARGIN",
            "interest": "0",
            "last": "62892.9",
            "lever": "5",
            "liab": "-99.9998177776581948",
            "liabCcy": "USDT",
            "liqPenalty": "",
            "liqPx": "53615.448336593756",
            "margin": "0.000317654",
            "markPx": "62891.9",
            "maxSpotInUseAmt": "",
            "mgnMode": "isolated",
            "mgnRatio": "9.404143929947395",
            "mmr": "0.0000318005395854",
            "notionalUsd": "119.756628017499",
            "optVal": "",
            "pendingCloseOrdLiabVal": "0",
            "pnl": "",
            "pos": "0.00190433573",
            "posCcy": "BTC",
            "posId": "1752810569801498626",
            "posSide": "net",
            "quoteBal": "",
            "quoteBorrowed": "",
            "quoteInterest": "",
            "realizedPnl": "",
            "spotInUseAmt": "",
            "spotInUseCcy": "",
            "thetaBS": "",
            "thetaPA": "",
            "tradeId": "785524470",
            "uTime": "1724742632153",
            "upl": "-0.0000033452492717",
            "uplLastPx": "-0.0000033199677697",
            "uplRatio": "-0.0105311101755551",
            "uplRatioLastPx": "-0.0104515220008934",
            "usdPx": "",
            "vegaBS": "",
            "vegaPA": "",
            "nonSettleAvgPx":"",
            "settledPnl":""
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|    **Parameter**     |   **Type**    |                                                                                                                                                                             **Description**                                                                                                                                                                              |
|----------------------|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       instType       |    String     |                                                                                                                                                                             Instrument type                                                                                                                                                                              |
|       mgnMode        |    String     |                                                                                                                                                               Margin mode  <br/>`cross`   <br/>`isolated`                                                                                                                                                                |
|        posId         |    String     |                                                                                                                                                                               Position ID                                                                                                                                                                                |
|       posSide        |    String     |           Position side  <br/>`long`, `pos` is positive   <br/>`short`, `pos` is positive   <br/>`net` (`FUTURES`/`SWAP`/`OPTION`: positive `pos` means long position and negative `pos` means short position. For `MARGIN`, `pos` is always positive, `posCcy` being base currency means long position, `posCcy` being quote currency means short position.)            |
|         pos          |    String     |                                                                                                      Quantity of positions. In the isolated margin mode, when doing manual transfers, a position with pos of `0` will be generated after the deposit is transferred                                                                                                      |
|       baseBal        |    String     |                                                                                                                                          ~~Base currency balance, only applicable to `MARGIN`（Quick Margin Mode）~~(Deprecated)                                                                                                                                           |
|       quoteBal       |    String     |                                                                                                                                          ~~Quote currency balance, only applicable to `MARGIN`（Quick Margin Mode）~~(Deprecated)                                                                                                                                          |
|     baseBorrowed     |    String     |                                                                                                                                   ~~Base currency amount already borrowed, only applicable to MARGIN(Quick Margin Mode）~~(Deprecated)                                                                                                                                    |
|     baseInterest     |    String     |                                                                                                                         ~~Base Interest, undeducted interest that has been incurred, only applicable to MARGIN(Quick Margin Mode）~~(Deprecated)                                                                                                                          |
|    quoteBorrowed     |    String     |                                                                                                                                   ~~Quote currency amount already borrowed, only applicable to MARGIN(Quick Margin Mode）~~(Deprecated)                                                                                                                                   |
|    quoteInterest     |    String     |                                                                                                                         ~~Quote Interest, undeducted interest that has been incurred, only applicable to MARGIN(Quick Margin Mode）~~(Deprecated)                                                                                                                         |
|        posCcy        |    String     |                                                                                                                                                        Position currency, only applicable to `MARGIN` positions.                                                                                                                                                         |
|       availPos       |    String     |Position that can be closed   <br/>Only applicable to `MARGIN` and `OPTION`.  <br/>For `MARGIN` position, the rest of sz will be `SPOT` trading after the liability is repaid while closing the position. Please get the available reduce-only amount from "Get maximum available tradable amount" if you want to reduce the amount of `SPOT` trading as much as possible.|
|        avgPx         |    String     |                                                                                        Average open price  <br/>Under cross-margin mode, the entry price of expiry futures will update at settlement to the last settlement price, and when the position is opened or increased.                                                                                         |
|    nonSettleAvgPx    |    String     |                                                                                      Non-settlement entry price  <br/>The non-settlement entry price only reflects the average price at which the position is opened or increased.  <br/>Applicable to `cross` `FUTURES` positions.                                                                                      |
|        markPx        |    String     |                                                                                                                                                                            Latest Mark price                                                                                                                                                                             |
|         upl          |    String     |                                                                                                                                                           Unrealized profit and loss calculated by mark price.                                                                                                                                                           |
|       uplRatio       |    String     |                                                                                                                                                        Unrealized profit and loss ratio calculated by mark price.                                                                                                                                                        |
|      uplLastPx       |    String     |                                                                                                                                     Unrealized profit and loss calculated by last price. Main usage is showing, actual value is upl.                                                                                                                                     |
|    uplRatioLastPx    |    String     |                                                                                                                                                        Unrealized profit and loss ratio calculated by last price.                                                                                                                                                        |
|        instId        |    String     |                                                                                                                                                                   Instrument ID, e.g. `BTC-USDT-SWAP`                                                                                                                                                                    |
|        lever         |    String     |                                                                                                                                  Leverage  <br/> Not applicable to `OPTION` and positions of cross margin mode under `Portfolio margin`                                                                                                                                  |
|        liqPx         |    String     |                                                                                                                                                      Estimated liquidation price   <br/>Not applicable to `OPTION`                                                                                                                                                       |
|         imr          |    String     |                                                                                                                                                         Initial margin requirement, only applicable to `cross`.                                                                                                                                                          |
|        margin        |    String     |                                                                                                                                                     Margin, can be added or reduced. Only applicable to `isolated`.                                                                                                                                                      |
|       mgnRatio       |    String     |                                                                                                                                                                               Margin ratio                                                                                                                                                                               |
|         mmr          |    String     |                                                                                                                                                                      Maintenance margin requirement                                                                                                                                                                      |
|         liab         |    String     |                                                                                                                                                                Liabilities, only applicable to `MARGIN`.                                                                                                                                                                 |
|       liabCcy        |    String     |                                                                                                                                                            Liabilities currency, only applicable to `MARGIN`.                                                                                                                                                            |
|       interest       |    String     |                                                                                                                                                          Interest. Undeducted interest that has been incurred.                                                                                                                                                           |
|       tradeId        |    String     |                                                                                                                                                                              Last trade ID                                                                                                                                                                               |
|        optVal        |    String     |                                                                                                                                                                Option Value, only applicable to `OPTION`.                                                                                                                                                                |
|pendingCloseOrdLiabVal|    String     |                                                                                                                                                         The amount of close orders of isolated margin liability.                                                                                                                                                         |
|     notionalUsd      |    String     |                                                                                                                                                                   Notional value of positions in `USD`                                                                                                                                                                   |
|         adl          |    String     |                                                                                                                    Auto-deleveraging (ADL) indicator  <br/>Divided into 5 levels, from 1 to 5, the smaller the number, the weaker the adl intensity.                                                                                                                     |
|         ccy          |    String     |                                                                                                                                                                         Currency used for margin                                                                                                                                                                         |
|         last         |    String     |                                                                                                                                                                           Latest traded price                                                                                                                                                                            |
|        idxPx         |    String     |                                                                                                                                                                      Latest underlying index price                                                                                                                                                                       |
|        usdPx         |    String     |                                                                                                                                                 Latest USD price of the `ccy` on the market, only applicable to `OPTION`                                                                                                                                                 |
|         bePx         |    String     |                                                                                                                                                                             Breakeven price                                                                                                                                                                              |
|       deltaBS        |    String     |                                                                                                                                                   delta: Black-Scholes Greeks in dollars, only applicable to `OPTION`                                                                                                                                                    |
|       deltaPA        |    String     |                                                                                                                                                           delta: Greeks in coins, only applicable to `OPTION`                                                                                                                                                            |
|       gammaBS        |    String     |                                                                                                                                                   gamma: Black-Scholes Greeks in dollars, only applicable to `OPTION`                                                                                                                                                    |
|       gammaPA        |    String     |                                                                                                                                                           gamma: Greeks in coins, only applicable to `OPTION`                                                                                                                                                            |
|       thetaBS        |    String     |                                                                                                                                                    theta：Black-Scholes Greeks in dollars, only applicable to `OPTION`                                                                                                                                                    |
|       thetaPA        |    String     |                                                                                                                                                            theta：Greeks in coins, only applicable to `OPTION`                                                                                                                                                            |
|        vegaBS        |    String     |                                                                                                                                                    vega：Black-Scholes Greeks in dollars, only applicable to `OPTION`                                                                                                                                                     |
|        vegaPA        |    String     |                                                                                                                                                            vega：Greeks in coins, only applicable to `OPTION`                                                                                                                                                             |
|     spotInUseAmt     |    String     |                                                                                                                                                        Spot in use amount  <br/>Applicable to `Portfolio margin`                                                                                                                                                         |
|     spotInUseCcy     |    String     |                                                                                                                                                   Spot in use unit, e.g. `BTC`  <br/>Applicable to `Portfolio margin`                                                                                                                                                    |
|    clSpotInUseAmt    |    String     |                                                                                                                                               User-defined spot risk offset amount  <br/>Applicable to `Portfolio margin`                                                                                                                                                |
|   maxSpotInUseAmt    |    String     |                                                                                                                                               Max possible spot risk offset amount  <br/>Applicable to `Portfolio margin`                                                                                                                                                |
|       bizRefId       |    String     |                                                                                                                                                             External business id, e.g. experience coupon id                                                                                                                                                              |
|      bizRefType      |    String     |                                                                                                                                                                          External business type                                                                                                                                                                          |
|     realizedPnl      |    String     |                                                                                                            Realized profit and loss  <br/>Only applicable to `FUTURES`/`SWAP`/`OPTION`  <br/>`realizedPnl`=`pnl`+`fee`+`fundingFee`+`liqPenalty`+`settledPnl`                                                                                                            |
|      settledPnl      |    String     |                                                                                                                             Accumulated settled profit and loss (calculated by settlement price)  <br/>Only applicable to `cross` `FUTURES`                                                                                                                              |
|         pnl          |    String     |                                                                                                                                                                   Accumulated pnl of closing order(s)                                                                                                                                                                    |
|         fee          |    String     |                                                                                                                   Accumulated fee  <br/>Negative number represents the user transaction fee charged by the platform.Positive number represents rebate.                                                                                                                   |
|      fundingFee      |    String     |                                                                                                                                                                         Accumulated funding fee                                                                                                                                                                          |
|      liqPenalty      |    String     |                                                                                                                                                  Accumulated liquidation penalty. It is negative when there is a value.                                                                                                                                                  |
|    closeOrderAlgo    |Array of object|                                                                                                            Close position algo orders attached to the position. This array will have values only after you request "Place algo order" with `closeFraction`=1.                                                                                                            |
|      \> algoId       |    String     |                                                                                                                                                                                 Algo ID                                                                                                                                                                                  |
|    \> slTriggerPx    |    String     |                                                                                                                                                                         Stop-loss trigger price.                                                                                                                                                                         |
|  \> slTriggerPxType  |    String     |                                                                                                                               Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                |
|    \> tpTriggerPx    |    String     |                                                                                                                                                                        Take-profit trigger price.                                                                                                                                                                        |
|  \> tpTriggerPxType  |    String     |                                                                                                                              Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                               |
|   \> closeFraction   |    String     |                                                                                                                                                   Fraction of position to be closed when the algo order is triggered.                                                                                                                                                    |
|        cTime         |    String     |                                                                                                                                                Creation time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                |
|        uTime         |    String     |                                                                                                                                      Latest time position was adjusted, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                      |

As for portfolio margin account, the IMR and MMR of the position are calculated in risk unit granularity, thus their values of the same risk unit cross positions are the same.

---

### Get positions history ###

Retrieve the updated position data for the last 3 months. Return in reverse chronological order using utime. Getting positions history is supported under Portfolio margin mode since **04:00 AM (UTC) on November 11, 2024**.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/positions-history`

>
>
> Request Example
>
>

```
GET /api/v5/account/positions-history

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get positions history
result = accountAPI.get_positions_history()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                                                    Description                                                                                                     |
|---------|------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|instType |String|   No   |                                                                     Instrument type  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                     |
| instId  |String|   No   |                                                                                         Instrument ID, e.g. `BTC-USD-SWAP`                                                                                         |
| mgnMode |String|   No   |                                                                                        Margin mode  <br/>`cross` `isolated`                                                                                        |
|  type   |String|   No   |The type of latest close position  <br/>`1`: Close position partially;`2`：Close all;`3`：Liquidation;`4`：Partial liquidation; `5`：ADL;   <br/>It is the latest type if there are several types for the same position.|
|  posId  |String|   No   |                       Position ID. There is attribute expiration. The posId will be expired if it is more than 30 days after the last full close position, then position will use new posId.                       |
|  after  |String|   No   |                                        Pagination of data to return records earlier than the requested `uTime`, Unix timestamp format in milliseconds, e.g. `1597026383085`                                        |
| before  |String|   No   |                                         Pagination of data to return records newer than the requested `uTime`, Unix timestamp format in milliseconds, e.g. `1597026383085`                                         |
|  limit  |String|   No   |                               Number of results per request. The maximum is 100. The default is 100. All records that have the same `uTime` will be returned at the current request                                |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "cTime": "1654177169995",
            "ccy": "BTC",
            "closeAvgPx": "29786.5999999789081085",
            "closeTotalPos": "1",
            "instId": "BTC-USD-SWAP",
            "instType": "SWAP",
            "lever": "10.0",
            "mgnMode": "cross",
            "openAvgPx": "29783.8999999995535393",
            "openMaxPos": "1",
            "realizedPnl": "0.001",
            "fee": "-0.0001",
            "fundingFee": "0",
            "liqPenalty": "0",
            "pnl": "0.0011",
            "pnlRatio": "0.000906447858888",
            "posId": "452587086133239818",
            "posSide": "long",
            "direction": "long",
            "triggerPx": "",
            "type": "1",
            "uTime": "1654177174419",
            "uly": "BTC-USD",
            "nonSettleAvgPx":"",
            "settledPnl":""
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|  Parameter   | Type |                                                                                                    Description                                                                                                    |
|--------------|------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   instType   |String|                                                                                                  Instrument type                                                                                                  |
|    instId    |String|                                                                                                   Instrument ID                                                                                                   |
|   mgnMode    |String|                                                                                       Margin mode  <br/>`cross` `isolated`                                                                                        |
|     type     |String|The type of latest close position  <br/>`1`：Close position partially;`2`：Close all;`3`：Liquidation;`4`：Partial liquidation; `5`：ADL;   <br/>It is the latest type if there are several types for the same position.|
|    cTime     |String|                                                                                             Created time of position                                                                                              |
|    uTime     |String|                                                                                             Updated time of position                                                                                              |
|  openAvgPx   |String|     Average price of opening position  <br/>Under cross-margin mode, the entry price of expiry futures will update at settlement to the last settlement price, and when the position is opened or increased.      |
|nonSettleAvgPx|String|             Non-settlement entry price  <br/>The non-settlement entry price only reflects the average price at which the position is opened or increased.  <br/>Only applicable to `cross` `FUTURES`              |
|  closeAvgPx  |String|                                                                                         Average price of closing position                                                                                         |
|    posId     |String|                                                                                                    Position ID                                                                                                    |
|  openMaxPos  |String|                                                                                             Max quantity of position                                                                                              |
|closeTotalPos |String|                                                                                        Position's cumulative closed volume                                                                                        |
| realizedPnl  |String|                                Realized profit and loss  <br/>Only applicable to `FUTURES`/`SWAP`/`OPTION`  <br/>`realizedPnl`=`pnl`+`fee`+`fundingFee`+`liqPenalty`+`settledPnl`                                 |
|  settledPnl  |String|                                                  Accumulated settled profit and loss (calculated by settlement price)  <br/>Only applicable to `cross` `FUTURES`                                                  |
|   pnlRatio   |String|                                                                                                Realized P&L ratio                                                                                                 |
|     fee      |String|                                       Accumulated fee  <br/>Negative number represents the user transaction fee charged by the platform.Positive number represents rebate.                                        |
|  fundingFee  |String|                                                                                              Accumulated funding fee                                                                                              |
|  liqPenalty  |String|                                                                      Accumulated liquidation penalty. It is negative when there is a value.                                                                       |
|     pnl      |String|                                                                                                  Profit and loss                                                                                                  |
|   posSide    |String|                                                      Position mode side  <br/>`long`: Hedge mode long  <br/>`short`: Hedge mode short  <br/>`net`: Net mode                                                       |
|    lever     |String|                                                                                                     Leverage                                                                                                      |
|  direction   |String|                                                                  Direction: `long` `short`  <br/>Only applicable to `MARGIN/FUTURES/SWAP/OPTION`                                                                  |
|  triggerPx   |String|                                              trigger mark price. There is value when `type` is equal to `3`, `4` or `5`. It is "" when `type` is equal to `1` or `2`                                              |
|     uly      |String|                                                                                                    Underlying                                                                                                     |
|     ccy      |String|                                                                                             Currency used for margin                                                                                              |

---

### Get account and position risk ###

Get account and position risk

Obtain basic information about accounts and positions on the same time snapshot

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Requests ####

`GET /api/v5/account/account-position-risk`

>
>
> Request Example
>
>

```
GET /api/v5/account/account-position-risk

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get account and position risk
result = accountAPI.get_account_position_risk()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                               Description                                |
|---------|------|--------|--------------------------------------------------------------------------|
|instType |String|   No   |Instrument type  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`|

>
>
> Response Example
>
>

```
{
    "code":"0",
    "data":[
        {
            "adjEq":"174238.6793649711331679",
            "balData":[
                {
                    "ccy":"BTC",
                    "disEq":"78846.7803721021362242",
                    "eq":"1.3863533369419636"
                },
                {
                    "ccy":"USDT",
                    "disEq":"73417.2495112863300127",
                    "eq":"73323.395564963177146"
                }
            ],
            "posData":[
                {
                    "baseBal": "0.4",
                    "ccy": "",
                    "instId": "BTC-USDT",
                    "instType": "MARGIN",
                    "mgnMode": "isolated",
                    "notionalCcy": "0",
                    "notionalUsd": "0",
                    "pos": "0",
                    "posCcy": "",
                    "posId": "310388685292318723",
                    "posSide": "net",
                    "quoteBal": "0"
                }
            ],
            "ts":"1620282889345"
        }
    ],
    "msg":""
}

```

#### Response Parameters ####

|**Parameters**|   **Types**    |                                                                                                                                **Description**                                                                                                                                |
|--------------|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      ts      |     String     |                                                                                        Update time of account information, millisecond format of Unix timestamp, e.g. `1597026383085`                                                                                         |
|    adjEq     |     String     |                                                                                    Adjusted / Effective equity in `USD`  <br/>Applicable to `Multi-currency margin` and `Portfolio margin`                                                                                    |
|   balData    |Array of objects|                                                                                                                 Detailed asset information in all currencies                                                                                                                  |
|    \> ccy    |     String     |                                                                                                                                   Currency                                                                                                                                    |
|    \> eq     |     String     |                                                                                                                              Equity of currency                                                                                                                               |
|   \> disEq   |     String     |                                                                                                                     Discount equity of currency in `USD`.                                                                                                                     |
|   posData    |Array of objects|                                                                                                                Detailed position information in all currencies                                                                                                                |
| \> instType  |     String     |                                                                                                                                Instrument type                                                                                                                                |
|  \> mgnMode  |     String     |                                                                                                                  Margin mode  <br/>`cross`   <br/>`isolated`                                                                                                                  |
|   \> posId   |     String     |                                                                                                                                  Position ID                                                                                                                                  |
|  \> instId   |     String     |                                                                                                                      Instrument ID, e.g. `BTC-USDT-SWAP`                                                                                                                      |
|    \> pos    |     String     |                                                   Quantity of positions `contract`. In the isolated margin mode, when doing manual transfers, a position with pos of `0` will be generated after the deposit is transferred                                                   |
|  \> baseBal  |     String     |                                                                                             ~~Base currency balance, only applicable to `MARGIN`（Quick Margin Mode）~~(Deprecated)                                                                                             |
| \> quoteBal  |     String     |                                                                                            ~~Quote currency balance, only applicable to `MARGIN`（Quick Margin Mode）~~(Deprecated)                                                                                             |
|  \> posSide  |     String     |Position side  <br/>`long`   <br/>`short`   <br/>`net` (`FUTURES`/`SWAP`/`OPTION`: positive `pos` means long position and negative `pos` means short position. `MARGIN`: `posCcy` being base currency means long position, `posCcy` being quote currency means short position.)|
|  \> posCcy   |     String     |                                                                                                           Position currency, only applicable to `MARGIN` positions.                                                                                                           |
|    \> ccy    |     String     |                                                                                                                           Currency used for margin                                                                                                                            |
|\> notionalCcy|     String     |                                                                                                                     Notional value of positions in `coin`                                                                                                                     |
|\> notionalUsd|     String     |                                                                                                                     Notional value of positions in `USD`                                                                                                                      |

---

### Get bills details (last 7 days) ###

Retrieve the bills of the account. The bill refers to all transaction records that result in changing the balance of an account. Pagination is supported, and the response is sorted with the most recent first. This endpoint can retrieve data from the last 7 days.

#### Rate Limit: 5 requests per second ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/bills`

>
>
> Request Example
>
>

```
GET /api/v5/account/bills

GET /api/v5/account/bills?instType=MARGIN

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get bills details (last 7 days)
result = accountAPI.get_account_bills()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------|------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|instType |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instId  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|   ccy   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Bill currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| mgnMode |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Margin mode  <br/>`isolated`  <br/>`cross`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ctType  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Contract type  <br/>`linear`  <br/>`inverse`  <br/>Only applicable to `FUTURES`/`SWAP`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|  type   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Bill type  <br/>`1`: Transfer  <br/>`2`: Trade  <br/>`3`: Delivery  <br/>`4`: Forced repayment  <br/>`5`: Liquidation  <br/>`6`: Margin transfer  <br/>`7`: Interest deduction  <br/>`8`: Funding fee  <br/>`9`: ADL  <br/>`10`: Clawback  <br/>`11`: System token conversion  <br/>`12`: Strategy transfer  <br/>`13`: DDH  <br/>`14`: Block trade  <br/>`15`: Quick Margin  <br/>`16`: Borrowing  <br/>`22`: Repay  <br/>`24`: Spread trading  <br/>`26`: Structured products  <br/>`27`: Convert  <br/>`28`: Easy convert  <br/>`29`: One-click repay  <br/>`30`: Simple trade  <br/>`33`: Loans  <br/>`34`: Settlement  <br/>`250`: Copy trader profit sharing expenses  <br/>`251`: Copy trader profit sharing refund                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| subType |String|   No   |Bill subtype  <br/>`1`: Buy  <br/>`2`: Sell  <br/>`3`: Open long  <br/>`4`: Open short  <br/>`5`: Close long  <br/>`6`: Close short  <br/>`9`: Interest deduction for Market loans  <br/>`11`: Transfer in  <br/>`12`: Transfer out  <br/>`14`: Interest deduction for VIP loans  <br/>`160`: Manual margin increase  <br/>`161`: Manual margin decrease  <br/>`162`: Auto margin increase  <br/>`114`: Forced repayment buy  <br/>`115`: Forced repayment sell  <br/>`118`: System token conversion transfer in  <br/>`119`: System token conversion transfer out  <br/>`100`: Partial liquidation close long  <br/>`101`: Partial liquidation close short  <br/>`102`: Partial liquidation buy  <br/>`103`: Partial liquidation sell  <br/>`104`: Liquidation long  <br/>`105`: Liquidation short  <br/>`106`: Liquidation buy  <br/>`107`: Liquidation sell  <br/>`108`: Clawback  <br/>`110`: Liquidation transfer in  <br/>`111`: Liquidation transfer out  <br/>`125`: ADL close long  <br/>`126`: ADL close short  <br/>`127`: ADL buy  <br/>`128`: ADL sell  <br/>`131`: ddh buy  <br/>`132`: ddh sell  <br/>`170`: Exercised(ITM buy side)  <br/>`171`: Counterparty exercised(ITM sell side)  <br/>`172`: Expired(Non-ITM buy and sell side)  <br/>`112`: Delivery long  <br/>`113`: Delivery short  <br/>`117`: Delivery/Exercise clawback  <br/>`173`: Funding fee expense  <br/>`174`: Funding fee income  <br/>`200`:System transfer in  <br/>`201`: Manually transfer in  <br/>`202`: System transfer out  <br/>`203`: Manually transfer out  <br/>`204`: block trade buy  <br/>`205`: block trade sell  <br/>`206`: block trade open long  <br/>`207`: block trade open short  <br/>`208`: block trade close long  <br/>`209`: block trade close short  <br/>`210`: Manual Borrowing of quick margin  <br/>`211`: Manual Repayment of quick margin  <br/>`212`: Auto borrow of quick margin  <br/>`213`: Auto repay of quick margin  <br/>`220`: Transfer in when using USDT to buy OPTION  <br/>`221`: Transfer out when using USDT to buy OPTION  <br/>`16`: Repay forcibly  <br/>`17`: Repay interest by borrowing forcibly  <br/>`224`: Repayment transfer in  <br/>`225`: Repayment transfer out  <br/>`236`: Easy convert in  <br/>`237`: Easy convert out  <br/>`250`: Profit sharing expenses  <br/>`251`: Profit sharing refund  <br/>`280`: SPOT profit sharing expenses  <br/>`281`: SPOT profit sharing refund  <br/>`270`: Spread trading buy  <br/>`271`: Spread trading sell  <br/>`272`: Spread trading open long  <br/>`273`: Spread trading open short  <br/>`274`: Spread trading close long  <br/>`275`: Spread trading close short  <br/>`280`: SPOT profit sharing expenses  <br/>`281`: SPOT profit sharing refund   <br/>`284`: Copy trade automatic transfer in  <br/>`285`: Copy trade manual transfer in  <br/>`286`: Copy trade automatic transfer out  <br/>`287`: Copy trade manual transfer out  <br/>`290`: Crypto dust auto-transfer out  <br/>~~`293`: Fixed loan interest deduction~~  <br/>~~`294`: Fixed loan interest refund~~  <br/>~~`295`: Fixed loan overdue penalty~~  <br/>`296`: From structured order placements  <br/>`297`: To structured order placements  <br/>`298`: From structured settlements  <br/>`299`: To structured settlements  <br/>`306`: Manual borrow  <br/>`307`: Auto borrow  <br/>`308`: Manual repay  <br/>`309`: Auto repay  <br/>`312`: Auto offset  <br/>`318`: Convert in  <br/>`319`: Convert out  <br/>`320`: Simple buy  <br/>`321`: Simple sell  <br/>`332`: Margin transfer in isolated margin position   <br/>`333`: Margin transfer out isolated margin position  <br/>`334`: Margin loss when closing isolated margin position  <br/>`348`: [Credit line] Forced repayment  <br/>`350`: [Credit line] Forced repayment refund  <br/>`352`: [Credit line] Forced repayment penalty fee deduction  <br/>`353`: [Credit line] Forced repayment penalty fee (pending deduction)  <br/>`356`: [Credit line] Auto conversion (pending deduction)  <br/>`357`: [Credit line] Auto Conversion Transfer to Funding  <br/>`355`: Settlement PnL|
|  after  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Pagination of data to return records earlier than the requested bill ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| before  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Pagination of data to return records newer than the requested bill ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|  begin  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Filter with a begin timestamp `ts`. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|   end   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Filter with an end timestamp `ts`. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|  limit  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Number of results per request. The maximum is `100`. The default is `100`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
        "bal": "8694.2179403378290202",
        "balChg": "0.0219338232210000",
        "billId": "623950854533513219",
        "ccy": "USDT",
        "clOrdId": "",
        "execType": "T",
        "fee": "-0.000021955779",
        "fillFwdPx": "",
        "fillIdxPx": "27104.1",
        "fillMarkPx": "",
        "fillMarkVol": "",
        "fillPxUsd": "",
        "fillPxVol": "",
        "fillTime": "1695033476166",
        "from": "",
        "instId": "BTC-USDT",
        "instType": "SPOT",
        "interest": "0",
        "mgnMode": "isolated",
        "notes": "",
        "ordId": "623950854525124608",
        "pnl": "0",
        "posBal": "0",
        "posBalChg": "0",
        "px": "27105.9",
        "subType": "1",
        "sz": "0.021955779",
        "tag": "",
        "to": "",
        "tradeId": "586760148",
        "ts": "1695033476167",
        "type": "2"
    }]
}

```

#### Response Parameters ####

| Parameter | Type |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-----------|------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instType  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|  billId   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Bill ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|   type    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Bill type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|  subType  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Bill subtype                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|    ts     |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        The time when the balance complete update, Unix timestamp format in milliseconds, e.g.`1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|  balChg   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Change in balance amount at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| posBalChg |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Change in balance amount at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|    bal    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Balance at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|  posBal   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Balance at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|    sz     |String|                                                                                                                                                                                                                                                                                                                                                                                                                                 Quantity  <br/>For `FUTURES`/`SWAP`/`OPTION`, it is fill quantity or position quantity, the unit is contract. The value is always positive.  <br/>For other scenarios. the unit is account balance currency(`ccy`).                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|    px     |String|Price which related to subType  <br/>                    Trade filled price for`1`: Buy `2`: Sell `3`: Open long `4`: Open short `5`: Close long `6`: Close short `204`: block trade buy `205`: block trade sell `206`: block trade open long `207`: block trade open short `208`: block trade close long `209`: block trade close short `114`: Forced repayment buy `115`: Forced repayment sell  <br/>                Liquidation Price for`100`: Partial liquidation close long `101`: Partial liquidation close short `102`: Partial liquidation buy `103`: Partial liquidation sell `104`: Liquidation long `105`: Liquidation short `106`: Liquidation buy `107`: Liquidation sell `16`: Repay forcibly `17`: Repay interest by borrowing forcibly `110`: Liquidation transfer in `111`: Liquidation transfer out  <br/>            Delivery price for`112`: Delivery long `113`: Delivery short  <br/>        Exercise price for`170`: Exercised `171`: Counterparty exercised `172`: Expired OTM  <br/>    Mark price for`173`: Funding fee expense `174`: Funding fee income|
|    ccy    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Account balance currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|    pnl    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Profit and loss                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|    fee    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                         Fee  <br/>Negative number represents the user transaction fee charged by the platform.  <br/>Positive number represents rebate.  <br/>[Trading fee rule](/en/fees)                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|  mgnMode  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Margin mode  <br/>`isolated` `cross` `cash`  <br/>When bills are not generated by trading, the field returns ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|  instId   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|   ordId   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Order ID  <br/>Return order ID when the type is `2`/`5`/`9`  <br/>Return "" when there is no order.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| execType  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Liquidity taker or maker  <br/>`T`: taker  <br/>`M`: maker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|   from    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                      The remitting account  <br/>`6`: Funding account  <br/>`18`: Trading account  <br/>Only applicable to `transfer`. When bill type is not `transfer`, the field returns "".                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|    to     |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                     The beneficiary account  <br/>`6`: Funding account  <br/>`18`: Trading account  <br/>Only applicable to `transfer`. When bill type is not `transfer`, the field returns "".                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|   notes   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| interest  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Interest                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|    tag    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| fillTime  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|  tradeId  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Last traded ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|  clOrdId  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Client Order ID as assigned by the client  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| fillIdxPx |String|                                                                                                                                                                                                                                                                                                                                                                                                                                          Index price at the moment of trade execution  <br/>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|fillMarkPx |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Mark price when filled  <br/>Applicable to FUTURES/SWAP/OPTIONS, return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| fillPxVol |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Implied volatility when filled  <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| fillPxUsd |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Options price when filled, in the unit of USD  <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|fillMarkVol|String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Mark volatility when filled  <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| fillFwdPx |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Forward price when filled  <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
**Funding Fee expense (subType = 173)**  
You may refer to "pnl" for the fee payment

---

### Get bills details (last 1 year) ###

Retrieve the account’s bills. The bill refers to all transaction records that result in changing the balance of an account. Pagination is supported, and the response is sorted with most recent first. This endpoint can retrieve data from the last 1 year since July 1, 2024.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/bills-archive`

>
>
> Request Example
>
>

```
GET /api/v5/account/bills-archive

GET /api/v5/account/bills-archive?instType=MARGIN

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get bills details (last 3 months)
result = accountAPI.get_account_bills_archive()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|---------|------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|instType |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| instId  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|   ccy   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Bill currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| mgnMode |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Margin mode  <br/>`isolated`  <br/>`cross`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ctType  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Contract type  <br/>`linear`  <br/>`inverse`  <br/>Only applicable to `FUTURES`/`SWAP`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|  type   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Bill type  <br/>`1`: Transfer  <br/>`2`: Trade  <br/>`3`: Delivery  <br/>`4`: Forced repayment  <br/>`5`: Liquidation  <br/>`6`: Margin transfer  <br/>`7`: Interest deduction  <br/>`8`: Funding fee  <br/>`9`: ADL  <br/>`10`: Clawback  <br/>`11`: System token conversion  <br/>`12`: Strategy transfer  <br/>`13`: DDH  <br/>`14`: Block trade  <br/>`15`: Quick Margin  <br/>`16`: Borrowing  <br/>`22`: Repay  <br/>`24`: Spread trading  <br/>`26`: Structured products  <br/>`27`: Convert  <br/>`28`: Easy convert  <br/>`29`: One-click repay  <br/>`30`: Simple trade  <br/>`33`: Loans  <br/>`34`: Settlement  <br/>`250`: Copy trader profit sharing expenses  <br/>`251`: Copy trader profit sharing refund                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| subType |String|   No   |Bill subtype  <br/>`1`: Buy  <br/>`2`: Sell  <br/>`3`: Open long  <br/>`4`: Open short  <br/>`5`: Close long  <br/>`6`: Close short  <br/>`9`: Interest deduction for Market loans  <br/>`11`: Transfer in  <br/>`12`: Transfer out  <br/>`14`: Interest deduction for VIP loans  <br/>`160`: Manual margin increase  <br/>`161`: Manual margin decrease  <br/>`162`: Auto margin increase  <br/>`114`: Forced repayment buy  <br/>`115`: Forced repayment sell  <br/>`118`: System token conversion transfer in  <br/>`119`: System token conversion transfer out  <br/>`100`: Partial liquidation close long  <br/>`101`: Partial liquidation close short  <br/>`102`: Partial liquidation buy  <br/>`103`: Partial liquidation sell  <br/>`104`: Liquidation long  <br/>`105`: Liquidation short  <br/>`106`: Liquidation buy  <br/>`107`: Liquidation sell  <br/>`108`: Clawback  <br/>`110`: Liquidation transfer in  <br/>`111`: Liquidation transfer out  <br/>`125`: ADL close long  <br/>`126`: ADL close short  <br/>`127`: ADL buy  <br/>`128`: ADL sell  <br/>`131`: ddh buy  <br/>`132`: ddh sell  <br/>`170`: Exercised(ITM buy side)  <br/>`171`: Counterparty exercised(ITM sell side)  <br/>`172`: Expired(Non-ITM buy and sell side)  <br/>`112`: Delivery long  <br/>`113`: Delivery short  <br/>`117`: Delivery/Exercise clawback  <br/>`173`: Funding fee expense  <br/>`174`: Funding fee income  <br/>`200`:System transfer in  <br/>`201`: Manually transfer in  <br/>`202`: System transfer out  <br/>`203`: Manually transfer out  <br/>`204`: block trade buy  <br/>`205`: block trade sell  <br/>`206`: block trade open long  <br/>`207`: block trade open short  <br/>`208`: block trade close long  <br/>`209`: block trade close short  <br/>`210`: Manual Borrowing of quick margin  <br/>`211`: Manual Repayment of quick margin  <br/>`212`: Auto borrow of quick margin  <br/>`213`: Auto repay of quick margin  <br/>`220`: Transfer in when using USDT to buy OPTION  <br/>`221`: Transfer out when using USDT to buy OPTION  <br/>`16`: Repay forcibly  <br/>`17`: Repay interest by borrowing forcibly  <br/>`224`: Repayment transfer in  <br/>`225`: Repayment transfer out  <br/>`236`: Easy convert in  <br/>`237`: Easy convert out  <br/>`250`: Profit sharing expenses  <br/>`251`: Profit sharing refund  <br/>`280`: SPOT profit sharing expenses  <br/>`281`: SPOT profit sharing refund  <br/>`270`: Spread trading buy  <br/>`271`: Spread trading sell  <br/>`272`: Spread trading open long  <br/>`273`: Spread trading open short  <br/>`274`: Spread trading close long  <br/>`275`: Spread trading close short  <br/>`280`: SPOT profit sharing expenses  <br/>`281`: SPOT profit sharing refund   <br/>`284`: Copy trade automatic transfer in  <br/>`285`: Copy trade manual transfer in  <br/>`286`: Copy trade automatic transfer out  <br/>`287`: Copy trade manual transfer out  <br/>`290`: Crypto dust auto-transfer out  <br/>~~`293`: Fixed loan interest deduction~~  <br/>~~`294`: Fixed loan interest refund~~  <br/>~~`295`: Fixed loan overdue penalty~~  <br/>`296`: From structured order placements  <br/>`297`: To structured order placements  <br/>`298`: From structured settlements  <br/>`299`: To structured settlements  <br/>`306`: Manual borrow  <br/>`307`: Auto borrow  <br/>`308`: Manual repay  <br/>`309`: Auto repay  <br/>`312`: Auto offset  <br/>`318`: Convert in  <br/>`319`: Convert out  <br/>`320`: Simple buy  <br/>`321`: Simple sell  <br/>`332`: Margin transfer in isolated margin position   <br/>`333`: Margin transfer out isolated margin position  <br/>`334`: Margin loss when closing isolated margin position  <br/>`348`: [Credit line] Forced repayment  <br/>`350`: [Credit line] Forced repayment refund  <br/>`352`: [Credit line] Forced repayment penalty fee deduction  <br/>`353`: [Credit line] Forced repayment penalty fee (pending deduction)  <br/>`356`: [Credit line] Auto conversion (pending deduction)  <br/>`357`: [Credit line] Auto Conversion Transfer to Funding  <br/>`355`: Settlement PnL|
|  after  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Pagination of data to return records earlier than the requested bill ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| before  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Pagination of data to return records newer than the requested bill ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|  begin  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Filter with a begin timestamp `ts`. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|   end   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Filter with an end timestamp `ts`. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|  limit  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Number of results per request. The maximum is `100`. The default is `100`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
        "bal": "8694.2179403378290202",
        "balChg": "0.0219338232210000",
        "billId": "623950854533513219",
        "ccy": "USDT",
        "clOrdId": "",
        "execType": "T",
        "fee": "-0.000021955779",
        "fillFwdPx": "",
        "fillIdxPx": "27104.1",
        "fillMarkPx": "",
        "fillMarkVol": "",
        "fillPxUsd": "",
        "fillPxVol": "",
        "fillTime": "1695033476166",
        "from": "",
        "instId": "BTC-USDT",
        "instType": "SPOT",
        "interest": "0",
        "mgnMode": "isolated",
        "notes": "",
        "ordId": "623950854525124608",
        "pnl": "0",
        "posBal": "0",
        "posBalChg": "0",
        "px": "27105.9",
        "subType": "1",
        "sz": "0.021955779",
        "tag": "",
        "to": "",
        "tradeId": "586760148",
        "ts": "1695033476167",
        "type": "2"
    }]
}

```

#### Response Parameters ####

| Parameter | Type |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-----------|------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instType  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|  billId   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Bill ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|   type    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Bill type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|  subType  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Bill subtype                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|    ts     |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        The time when the balance complete update, Unix timestamp format in milliseconds, e.g.`1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|  balChg   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Change in balance amount at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| posBalChg |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Change in balance amount at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|    bal    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Balance at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|  posBal   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Balance at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|    sz     |String|                                                                                                                                                                                                                                                                                                                                                                                                                                 Quantity  <br/>For `FUTURES`/`SWAP`/`OPTION`, it is fill quantity or position quantity, the unit is contract. The value is always positive.  <br/>For other scenarios. the unit is account balance currency(`ccy`).                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|    px     |String|Price which related to subType  <br/>                    Trade filled price for`1`: Buy `2`: Sell `3`: Open long `4`: Open short `5`: Close long `6`: Close short `204`: block trade buy `205`: block trade sell `206`: block trade open long `207`: block trade open short `208`: block trade close long `209`: block trade close short `114`: Forced repayment buy `115`: Forced repayment sell  <br/>                Liquidation Price for`100`: Partial liquidation close long `101`: Partial liquidation close short `102`: Partial liquidation buy `103`: Partial liquidation sell `104`: Liquidation long `105`: Liquidation short `106`: Liquidation buy `107`: Liquidation sell `16`: Repay forcibly `17`: Repay interest by borrowing forcibly `110`: Liquidation transfer in `111`: Liquidation transfer out  <br/>            Delivery price for`112`: Delivery long `113`: Delivery short  <br/>        Exercise price for`170`: Exercised `171`: Counterparty exercised `172`: Expired OTM  <br/>    Mark price for`173`: Funding fee expense `174`: Funding fee income|
|    ccy    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Account balance currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|    pnl    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Profit and loss                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|    fee    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                         Fee  <br/>Negative number represents the user transaction fee charged by the platform.   <br/>Positive number represents rebate.  <br/>[Trading fee rule](/en/fees)                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|  mgnMode  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Margin mode  <br/>`isolated` `cross` `cash`  <br/>When bills are not generated by trading, the field returns ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|  instId   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|   ordId   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Order ID  <br/>Return order ID when the type is `2`/`5`/`9`  <br/>Return "" when there is no order.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| execType  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Liquidity taker or maker  <br/>`T`: taker `M`: maker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|   from    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                      The remitting account  <br/>`6`: Funding account  <br/>`18`: Trading account  <br/>Only applicable to `transfer`. When bill type is not `transfer`, the field returns "".                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|    to     |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                     The beneficiary account  <br/>`6`: Funding account  <br/>`18`: Trading account  <br/>Only applicable to `transfer`. When bill type is not `transfer`, the field returns "".                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|   notes   |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| interest  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Interest                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|    tag    |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| fillTime  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|  tradeId  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Last traded ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|  clOrdId  |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Client Order ID as assigned by the client   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| fillIdxPx |String|                                                                                                                                                                                                                                                                                                                                                                                                                                          Index price at the moment of trade execution   <br/>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|fillMarkPx |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Mark price when filled   <br/>Applicable to FUTURES/SWAP/OPTIONS, return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| fillPxVol |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Implied volatility when filled   <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| fillPxUsd |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Options price when filled, in the unit of USD   <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|fillMarkVol|String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Mark volatility when filled   <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| fillFwdPx |String|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Forward price when filled   <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
**Funding Fee expense (subType = 173)**  
You may refer to "pnl" for the fee payment

---

### Apply bills details (since 2021) ###

Apply for bill data since 1 February, 2021 except for the current quarter.

#### Rate Limit：12 requests per day ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`POST /api/v5/account/bills-history-archive`

>
>
> Request Example
>
>

```
POST /api/v5/account/bills-history-archive
body
{
    "year":"2023",
    "quarter":"Q1"
}

```

#### Request Parameters ####

|Parameter| Type |Required|                 Description                  |
|---------|------|--------|----------------------------------------------|
|  year   |String|  Yes   |                4 digits year                 |
| quarter |String|  Yes   |Quarter, valid value is `Q1`, `Q2`, `Q3`, `Q4`|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "result": "true",
            "ts": "1646892328000"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                                                                            **Description**                                                                                                                                             |
|-------------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   result    | String |Whether there is already a download link for this section   <br/>`true`: Existed, can check from "Get bills details (since 2021)".   <br/>`false`: Does not exist and is generating, can check the download link after 2 hours  <br/> The data of file is in reverse chronological order using `billId`.|
|     ts      | String |                                                                                              The first request time when the server receives. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                              |
 The rule introduction, only applicable to the file generated after 11 October, 2024  
1. Taking 2024 Q2 as an example. The date range are [2024-07-01, 2024-10-01). The begin date is included, The end date is excluded.  
2. The data of file is in reverse chronological order using `billId` Check the file link from the "Get bills details (since 2021)" endpoint in 2 hours to allow for data generation.   
During peak demand, data generation may take longer. If the file link is still unavailable after 3 hours, reach out to customer support for assistance. It is only applicable to the data from the unified account.

---

### Get bills details (since 2021) ###

Apply for bill data since 1 February, 2021 except for the current quarter.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/bills-history-archive`

>
>
> Response Example
>
>

```
GET /api/v5/account/bills-history-archive?year=2023&quarter=Q4

```

#### Request Parameters ####

|Parameter| Type |Required|                 Description                  |
|---------|------|--------|----------------------------------------------|
|  year   |String|  Yes   |                4 digits year                 |
| quarter |String|  Yes   |Quarter, valid value is `Q1`, `Q2`, `Q3`, `Q4`|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "fileHref": "http://xxx",
            "state": "finished",
            "ts": "1646892328000"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                   **Description**                                                                                   |
|-------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  fileHref   | String |Download file link.   <br/>The expiration of every link is 5 and a half hours. If you already apply the files for the same quarter, then it don’t need to apply again within 30 days.|
|     ts      | String |                                    The first request time when the server receives. Unix timestamp format in milliseconds, e.g. `1597026383085`                                     |
|    state    | String |                                                Download link status   <br/>"finished" "ongoing" "failed": Failed, please apply again                                                |
It is only applicable to the data from the unified account.

#### Field descriptions in the decompressed CSV file ####

|**Parameter**|**Type**|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  instType   | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Instrument type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|   billId    | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Bill ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|   subType   | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Bill subtype                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|     ts      | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        The time when the balance complete update, Unix timestamp format in milliseconds, e.g.`1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|   balChg    | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Change in balance amount at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|  posBalChg  | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Change in balance amount at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     bal     | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Balance at the account level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|   posBal    | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Balance at the position level                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|     sz      | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Quantity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|     px      | String |Price which related to subType  <br/>                    Trade filled price for`1`: Buy `2`: Sell `3`: Open long `4`: Open short `5`: Close long `6`: Close short `204`: block trade buy `205`: block trade sell `206`: block trade open long `207`: block trade open short `208`: block trade close long `209`: block trade close short `114`: Forced repayment buy `115`: Forced repayment sell  <br/>                Liquidation Price for`100`: Partial liquidation close long `101`: Partial liquidation close short `102`: Partial liquidation buy `103`: Partial liquidation sell `104`: Liquidation long `105`: Liquidation short `106`: Liquidation buy `107`: Liquidation sell `16`: Repay forcibly `17`: Repay interest by borrowing forcibly `110`: Liquidation transfer in `111`: Liquidation transfer out  <br/>            Delivery price for`112`: Delivery long `113`: Delivery short  <br/>        Exercise price for`170`: Exercised `171`: Counterparty exercised `172`: Expired OTM  <br/>    Mark price for`173`: Funding fee expense `174`: Funding fee income|
|     ccy     | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Account balance currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|     pnl     | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Profit and loss                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|     fee     | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                         Fee  <br/>Negative number represents the user transaction fee charged by the platform.   <br/>Positive number represents rebate.  <br/>[Trading fee rule](/en/fees)                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|   mgnMode   | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Margin mode  <br/>`isolated` `cross` `cash`  <br/>When bills are not generated by trading, the field returns ""                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|   instId    | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|    ordId    | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Order ID  <br/>Return order ID when the type is `2`/`5`/`9`  <br/>Return "" when there is no order.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|  execType   | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Liquidity taker or maker  <br/>`T`: taker `M`: maker                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|  interest   | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Interest                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|     tag     | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Order tag                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|  fillTime   | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Last filled time                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|   tradeId   | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Last traded ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|   clOrdId   | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Client Order ID as assigned by the client   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|  fillIdxPx  | String |                                                                                                                                                                                                                                                                                                                                                                                                                                          Index price at the moment of trade execution   <br/>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| fillMarkPx  | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Mark price when filled   <br/>Applicable to FUTURES/SWAP/OPTIONS, return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|  fillPxVol  | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Implied volatility when filled   <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|  fillPxUsd  | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                Options price when filled, in the unit of USD   <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| fillMarkVol | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Mark volatility when filled   <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|  fillFwdPx  | String |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Forward price when filled   <br/>Only applicable to options; return "" for other instrument types                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

---

### Get account configuration ###

Retrieve current account configuration.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/config`

>
>
> Request Example
>
>

```
GET /api/v5/account/config

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Retrieve current account configuration
result = accountAPI.get_account_config()
print(result)

```

#### Request Parameters ####

none

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "acctLv": "2",
            "acctStpMode": "cancel_maker",
            "autoLoan": false,
            "ctIsoMode": "automatic",
            "enableSpotBorrow": false,
            "greeksType": "PA",
            "ip": "",
            "type": "0",
            "kycLv": "3",
            "label": "v5 test",
            "level": "Lv1",
            "levelTmp": "",
            "liquidationGear": "-1",
            "mainUid": "44705892343619584",
            "mgnIsoMode": "automatic",
            "opAuth": "1",
            "perm": "read_only,withdraw,trade",
            "posMode": "long_short_mode",
            "roleType": "0",
            "spotBorrowAutoRepay": false,
            "spotOffsetType": "",
            "spotRoleType": "0",
            "spotTraderInsts": [],
            "traderInsts": [],
            "uid": "44705892343619584"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|   **Parameter**   |    **Type**    |                                                                                                                                                                         **Description**                                                                                                                                                                         |
|-------------------|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        uid        |     String     |                                                                                                                                                                 Account ID of current request.                                                                                                                                                                  |
|      mainUid      |     String     |                                                                                          Main Account ID of current request.   <br/>The current request account is main account if uid = mainUid.  <br/>The current request account is sub-account if uid != mainUid.                                                                                           |
|      acctLv       |     String     |                                                                                                                Account mode   <br/>`1`: Spot mode  <br/>`2`: Spot and futures mode  <br/>`3`: Multi-currency margin  <br/>`4`: Portfolio margin                                                                                                                 |
|    acctStpMode    |     String     |                                                                               Account self-trade prevention mode   <br/>`cancel_maker`   <br/>`cancel_taker`   <br/>`cancel_both`   <br/>Users can log in to the webpage through the master account to modify this configuration                                                                                |
|      posMode      |     String     |                                                                                                                          Position mode  <br/>`long_short_mode`: long/short, only applicable to `FUTURES`/`SWAP`  <br/>`net_mode`: net                                                                                                                           |
|     autoLoan      |    Boolean     |                                                                                                                  Whether to borrow coins automatically  <br/>`true`: borrow coins automatically  <br/>`false`: not borrow coins automatically                                                                                                                   |
|    greeksType     |     String     |                                                                                                                             Current display type of Greeks  <br/>`PA`: Greeks in coins  <br/>`BS`: Black-Scholes Greeks in dollars                                                                                                                              |
|       level       |     String     |                                                                                                                                          The user level of the current real trading volume on the platform, e.g `Lv1`                                                                                                                                           |
|     levelTmp      |     String     |                                                                                                                                                   Temporary experience user level of special users, e.g `Lv3`                                                                                                                                                   |
|     ctIsoMode     |     String     |                                                                                                                         Contract isolated margin trading settings  <br/>`automatic`: Auto transfers  <br/>`autonomy`: Manual transfers                                                                                                                          |
|    mgnIsoMode     |     String     |Margin isolated margin trading settings  <br/>`auto_transfers_ccy`: New auto transfers, enabling both base and quote currency as the margin for isolated margin trading  <br/>`automatic`: Auto transfers  <br/>`quick_margin`: Quick Margin Mode (For new accounts, including subaccounts, some defaults will be `automatic`, and others will be `quick_margin`)|
|  spotOffsetType   |     String     |                                                               ~~Risk offset type  <br/>`1`: Spot-Derivatives(USDT) to be offsetted  <br/>`2`: Spot-Derivatives(Coin) to be offsetted  <br/>`3`: Only derivatives to be offsetted  <br/>Only applicable to `Portfolio margin`~~  <br/>(Deprecated)                                                               |
|     roleType      |     String     |                                                                                                                                       Role type  <br/>`0`: General user  <br/>`1`: Leading trader  <br/>`2`: Copy trader                                                                                                                                        |
|    traderInsts    |Array of strings|                                                                                                                                                  Leading trade instruments, only applicable to Leading trader                                                                                                                                                   |
|   spotRoleType    |     String     |                                                                                                                                    SPOT copy trading role type.  <br/>`0`: General user；`1`: Leading trader；`2`: Copy trader                                                                                                                                    |
|  spotTraderInsts  |Array of strings|                                                                                                                                                  Spot lead trading instruments, only applicable to lead trader                                                                                                                                                  |
|      opAuth       |     String     |                                                                                                                                     Whether the optional trading was activated  <br/>`0`: not activate  <br/>`1`: activated                                                                                                                                     |
|       kycLv       |     String     |         Main account KYC level  <br/>`0`: No verification  <br/>`1`: level 1 completed  <br/>`2`: level 2 completed  <br/>`3`: level 3 completed  <br/>If the request originates from a subaccount, kycLv is the KYC level of the main account.   <br/>If the request originates from the main account, kycLv is the KYC level of the current account.          |
|       label       |     String     |                                                                                                            API key note of current request API key. No more than 50 letters (case sensitive) or numbers, which can be pure letters or pure numbers.                                                                                                             |
|        ip         |     String     |                                                                                          IP addresses that linked with current API key, separate with commas if more than one, e.g. `117.37.203.58,117.37.203.57`. It is an empty string "" if there is no IP bonded.                                                                                           |
|       perm        |     String     |                                                                                                            The permission of the current requesting API key or Access token  <br/>`read_only`: Read  <br/>`trade`: Trade  <br/>`withdraw`: Withdraw                                                                                                             |
|  liquidationGear  |     String     |                         The margin ratio level of liquidation alert  <br/>`3` and `-1` means that you will get hourly liquidation alerts on app and channel "Position risk warning" when your margin level drops to or below 300%. `-1` is the initial value which has the same effect as `-3`   <br/>`0` means that there is not alert                         |
| enableSpotBorrow  |    Boolean     |                                                                                                                                  Whether borrow is allowed or not in `Spot mode`  <br/>`true`: Enabled  <br/>`false`: Disabled                                                                                                                                  |
|spotBorrowAutoRepay|    Boolean     |                                                                                                                                Whether auto-repay is allowed or not in `Spot mode`  <br/>`true`: Enabled  <br/>`false`: Disabled                                                                                                                                |
|       type        |     String     |                                                Account type   <br/>`0`: Main account   <br/>`1`: Standard sub-account   <br/>`2`: Managed trading sub-account   <br/>`5`: Custody trading sub-account - Copper  <br/>`9`: Managed trading sub-account - Copper  <br/>`12`: Custody trading sub-account - Komainu                                                |

---

### Set position mode ###

Spot and futures mode and Multi-currency mode: `FUTURES` and `SWAP` support both `long/short` mode and `net` mode. In `net` mode, users can only have positions in one direction; In `long/short` mode, users can hold positions in long and short directions.  
Portfolio margin mode: `FUTURES` and `SWAP` only support `net` mode

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-position-mode`

>
>
> Request Example
>
>

```
POST /api/v5/account/set-position-mode
body
{
    "posMode":"long_short_mode"
}

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Set position mode
result = accountAPI.set_position_mode(
    posMode="long_short_mode"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                Description                                                 |
|---------|------|--------|------------------------------------------------------------------------------------------------------------|
| posMode |String|  Yes   |Position mode  <br/>`long_short_mode`: long/short, only applicable to `FUTURES`/`SWAP`  <br/>`net_mode`: net|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
        "posMode": "long_short_mode"
    }]
}

```

#### Response Parameters ####

|Parameter| Type | Description |
|---------|------|-------------|
| posMode |String|Position mode|

 Portfolio margin account only supports net mode

---

### Set leverage ###

There are 10 different scenarios for leverage setting:   

1. Set leverage for `MARGIN` instruments under `isolated-margin` trade mode at pairs level.   
2. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Spot mode (enabled borrow) at currency level.   
3. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Spot and futures mode account mode at pairs level.   
4. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Multi-currency margin at currency level.   
5. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Portfolio margin at currency level.   
6. Set leverage for `FUTURES` instruments under `cross-margin` trade mode at underlying level.   
7. Set leverage for `FUTURES` instruments under `isolated-margin` trade mode and buy/sell position mode at contract level.   
8. Set leverage for `FUTURES` instruments under `isolated-margin` trade mode and long/short position mode at contract and position side level.   
9. Set leverage for `SWAP` instruments under `cross-margin` trade at contract level.   
10. Set leverage for `SWAP` instruments under `isolated-margin` trade mode and buy/sell position mode at contract level.   
11. Set leverage for `SWAP` instruments under `isolated-margin` trade mode and long/short position mode at contract and position side level.   

Note that the request parameter `posSide` is only required when margin mode is isolated in long/short position mode for FUTURES/SWAP instruments (see scenario 8 and 11 above).   
Please refer to the request examples on the right for each case.   

#### Rate limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-leverage`

>
>
> Request Example
>
>

```
# 1. Set leverage for `MARGIN` instruments under `isolated-margin` trade mode at pairs level.
POST /api/v5/account/set-leverage
body
{
    "instId":"BTC-USDT",
    "lever":"5",
    "mgnMode":"isolated"
}

# 2. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Spot mode (enabled borrow) at currency level.
POST /api/v5/account/set-leverage
body
{
    "ccy":"BTC",
    "lever":"5",
    "mgnMode":"cross"
}

# 3. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Spot and futures mode account mode at pairs level.
POST /api/v5/account/set-leverage
body
{
    "instId":"BTC-USDT",
    "lever":"5",
    "mgnMode":"cross"
}

# 4. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Multi-currency margin at currency level.
POST /api/v5/account/set-leverage
body
{
    "ccy":"BTC",
    "lever":"5",
    "mgnMode":"cross"
}

# 5. Set leverage for `MARGIN` instruments under `cross-margin` trade mode and Portfolio margin at currency level.
POST /api/v5/account/set-leverage
body
{
    "ccy":"BTC",
    "lever":"5",
    "mgnMode":"cross"
}

# 6. Set leverage for `FUTURES` instruments under `cross-margin` trade mode at underlying level.
POST /api/v5/account/set-leverage
body
{
    "instId":"BTC-USDT-200802",
    "lever":"5",
    "mgnMode":"cross"
}

# 7. Set leverage for `FUTURES` instruments under `isolated-margin` trade mode and buy/sell order placement mode at contract level.
POST /api/v5/account/set-leverage
body
{
    "instId":"BTC-USDT-200802",
    "lever":"5",
    "mgnMode":"isolated"
}

# 8. Set leverage for `FUTURES` instruments under `isolated-margin` trade mode and long/short order placement mode at contract and position side level.
POST /api/v5/account/set-leverage
body
{
    "instId":"BTC-USDT-200802",
    "lever":"5",
    "posSide":"long",
    "mgnMode":"isolated"
}

# 9. Set leverage for `SWAP` instruments under `cross-margin` trade at contract level.
POST /api/v5/account/set-leverage
body
{
    "instId":"BTC-USDT-SWAP",
    "lever":"5",
    "mgnMode":"cross"
}

# 10. Set leverage for `SWAP` instruments under `isolated-margin` trade mode and buy/sell order placement mode at contract level.
POST /api/v5/account/set-leverage
body
{
    "instId":"BTC-USDT-SWAP",
    "lever":"5",
    "mgnMode":"isolated"
}

# 11. Set leverage for `SWAP` instruments under `isolated-margin` trade mode and long/short order placement mode at contract and position side level.
POST /api/v5/account/set-leverage
body
{
    "instId":"BTC-USDT-SWAP",
    "lever":"5",
    "posSide":"long",
    "mgnMode":"isolated"
}

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Set leverage for MARGIN instruments under isolated-margin trade mode at pairs level.
result = accountAPI.set_leverage(
    instId="BTC-USDT",
    lever="5",
    mgnMode="isolated"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type | Required  |                                                                                                                              Description                                                                                                                              |
|---------|------|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instId  |String|Conditional|                                                                   Instrument ID  <br/>Under cross mode, either `instId` or `ccy` is required; if both are passed, `instId` will be used by default.                                                                   |
|   ccy   |String|Conditional|Currency used for margin, used for the leverage setting for the currency in auto borrow.  <br/>Only applicable to `cross` `MARGIN` of `Spot mode`/`Multi-currency margin`/`Portfolio margin`  <br/>Required when setting the leverage for automatically borrowing coin.|
|  lever  |String|    Yes    |                                                                                                                               Leverage                                                                                                                                |
| mgnMode |String|    Yes    |                                                                                          Margin mode  <br/>`isolated` `cross`   <br/>Can only be `cross` if `ccy` is passed.                                                                                          |
| posSide |String|Conditional|                                                                   Position side  <br/>`long` `short`  <br/>Only required when margin mode is `isolated` in `long/short` mode for `FUTURES`/`SWAP`.                                                                    |

>
>
> Response Example
>
>

```
{
  "code": "0",
  "msg": "",
  "data": [
    {
      "lever": "30",
      "mgnMode": "isolated",
      "instId": "BTC-USDT-SWAP",
      "posSide": "long"
    }
  ]
}

```

#### Response Parameters ####

|Parameter| Type |            Description             |
|---------|------|------------------------------------|
|  lever  |String|              Leverage              |
| mgnMode |String|Margin mode  <br/>`cross` `isolated`|
| instId  |String|           Instrument ID            |
| posSide |String|           Position side            |
When setting leverage for `cross` `FUTURES`/`SWAP` at the underlying level, pass in any instId and mgnMode(`cross`). Leverage cannot be adjusted for the cross positions of Expiry Futures and Perpetual Futures under the portfolio margin account.

---

### Get maximum order quantity ###

The maximum quantity to buy or sell. It corresponds to the "sz" from placement.

Under the Portfolio Margin account, the calculation of the maximum buy/sell amount or open amount is not supported under the cross mode of derivatives.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/max-size`

>
>
> Request Example
>
>

```
GET /api/v5/account/max-size?instId=BTC-USDT&tdMode=isolated

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get maximum buy/sell amount or open amount
result = accountAPI.get_max_order_size(
    instId="BTC-USDT",
    tdMode="isolated"
)
print(result)

```

#### Request Parameters ####

|**Parameter**|**Type**| Required  |                                                                                                                          Description                                                                                                                           |
|-------------|--------|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   instId    | String |    Yes    |                                                             Single instrument or multiple instruments (no more than 5) in the smae instrument type separated with comma, e.g. `BTC-USDT,ETH-USDT`                                                              |
|   tdMode    | String |    Yes    |                                                                                          Trade mode  <br/>`cross`  <br/>`isolated`  <br/>`cash`  <br/>`spot_isolated`                                                                                          |
|     ccy     | String |Conditional|                                                                   Currency used for margin   <br/>Applicable to `isolated` `MARGIN` and `cross` `MARGIN` orders in `Spot and futures mode`.                                                                    |
|     px      | String |    No     |Price  <br/>When the price is not specified, it will be calculated according to the current limit price for `FUTURES` and `SWAP`, the last traded price for other instrument types.  <br/>The parameter will be ignored when multiple instruments are specified.|
|  leverage   | String |    No     |                                                                          Leverage for instrument  <br/>The default is current leverage  <br/>Only applicable to `MARGIN/FUTURES/SWAP`                                                                          |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
        "ccy": "BTC",
        "instId": "BTC-USDT",
        "maxBuy": "0.0500695098559788",
        "maxSell": "64.4798671570072269"
  }]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                                                               **Description**                                                                                                                               |
|-------------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   instId    | String |                                                                                                                                Instrument ID                                                                                                                                |
|     ccy     | String |                                                                                                                          Currency used for margin                                                                                                                           |
|   maxBuy    | String | `SPOT`/`MARGIN`: The maximum quantity in base currency that you can buy  <br/>The cross-margin order under `Spot and futures mode` mode, quantity of coins is based on base currency.  <br/>`FUTURES`/`SWAP`/`OPTIONS`: The maximum quantity of contracts that you can buy  |
|   maxSell   | String |`SPOT`/`MARGIN`: The maximum quantity in quote currency that you can sell  <br/>The cross-margin order under `Spot and futures mode` mode, quantity of coins is based on base currency.  <br/>`FUTURES`/`SWAP`/`OPTIONS`: The maximum quantity of contracts that you can sell|

---

### Get maximum available balance/equity ###

Available balance for isolated margin positions and SPOT, available equity for cross margin positions.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/max-avail-size`

>
>
> Request Example
>
>

```
# Query maximum available transaction amount when cross MARGIN BTC-USDT use BTC as margin
GET /api/v5/account/max-avail-size?instId=BTC-USDT&tdMode=cross&ccy=BTC

# Query maximum available transaction amount for SPOT BTC-USDT
GET /api/v5/account/max-avail-size?instId=BTC-USDT&tdMode=cash

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get maximum available transaction amount for SPOT BTC-USDT
result = accountAPI.get_max_avail_size(
    instId="BTC-USDT",
    tdMode="cash"
)
print(result)

```

#### Request Parameters ####

|**Parameter**|**Type**| Required  |                                                   Description                                                   |
|-------------|--------|-----------|-----------------------------------------------------------------------------------------------------------------|
|   instId    | String |    Yes    |    Single instrument or multiple instruments (no more than 5) separated with comma, e.g. `BTC-USDT,ETH-USDT`    |
|     ccy     | String |Conditional|Currency used for margin  <br/>Applicable to `isolated` `MARGIN` and `cross` `MARGIN` in `Spot and futures mode`.|
|   tdMode    | String |    Yes    |                  Trade mode  <br/>`cross`  <br/>`isolated`  <br/>`cash`  <br/>`spot_isolated`                   |
| reduceOnly  |Boolean |    No     |                       Whether to reduce position only   <br/>Only applicable to `MARGIN`                        |
|     px      | String |    No     |                  The price of closing position.   <br/>Only applicable to reduceOnly `MARGIN`.                  |

>
>
> Response Example
>
>

```
{
  "code": "0",
  "msg": "",
  "data": [
    {
      "instId": "BTC-USDT",
      "availBuy": "100",
      "availSell": "1"
    }
  ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|            **Description**             |
|-------------|--------|----------------------------------------|
|   instId    | String |             Instrument ID              |
|  availBuy   | String |Maximum available balance/equity to buy |
|  availSell  | String |Maximum available balance/equity to sell|
In the case of SPOT/MARGIN, availBuy is in the quote currency, and availSell is in the base currency.  
In the case of MARGIN with cross tdMode, both availBuy and availSell are in the currency passed in **ccy**.

---

### Increase/decrease margin ###

Increase or decrease the margin of the isolated position. Margin reduction may result in the change of the actual leverage.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/position/margin-balance`

>
>
> Request Example
>
>

```
POST /api/v5/account/position/margin-balance
body
{
    "instId":"BTC-USDT-200626",
    "posSide":"short",
    "type":"add",
    "amt":"1"
}

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Increase margin
result = accountAPI.adjustment_margin(
    instId="BTC-USDT-SWAP",
    posSide="short",
    type= "add",
    amt="1"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type | Required  |                                Description                                 |
|---------|------|-----------|----------------------------------------------------------------------------|
| instId  |String|    Yes    |                               Instrument ID                                |
| posSide |String|    Yes    |Position side, the default is `net`  <br/>`long`   <br/>`short`   <br/>`net`|
|  type   |String|    Yes    |              `add`: add margin   <br/>`reduce`: reduce margin              |
|   amt   |String|    Yes    |                    Amount to be increased or decreased.                    |
|   ccy   |String|Conditional|          Currency   <br/>Applicable to `isolated` `MARGIN` orders          |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
            "amt": "0.3",
            "ccy": "BTC",
            "instId": "BTC-USDT",
            "leverage": "",
            "posSide": "net",
            "type": "add"
        }]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                **Description**                |
|-------------|--------|-----------------------------------------------|
|   instId    | String |                 Instrument ID                 |
|   posSide   | String |         Position side, `long` `short`         |
|     amt     | String |       Amount to be increase or decrease       |
|    type     | String |`add`: add margin  <br/>`reduce`: reduce margin|
|  leverage   | String |   Real leverage after the margin adjustment   |
|     ccy     | String |                   Currency                    |
Manual transfer mode  
The value of the margin initially assigned to the isolated position must be greater than or equal to 10,000 USDT, and a position will be created on the account.

---

### Get leverage ###

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/leverage-info`

>
>
> Request Example
>
>

```
GET /api/v5/account/leverage-info?instId=BTC-USDT-SWAP&mgnMode=cross

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get leverage
result = accountAPI.get_leverage(
    instId="BTC-USDT-SWAP",
    mgnMode="cross"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type | Required  |                                                                                                                    Description                                                                                                                     |
|---------|------|-----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instId  |String|Conditional|                                                                     Instrument ID  <br/>Single instrument ID or multiple instrument IDs (no more than 20) separated with comma                                                                     |
|   ccy   |String|Conditional|Currency，used for getting leverage of currency level.  <br/>Applicable to `cross` `MARGIN` of `Spot mode`/`Multi-currency margin`/`Portfolio margin`.  <br/>Supported single currency or multiple currencies (no more than 20) separated with comma.|
| mgnMode |String|    Yes    |                                                                                                        Margin mode  <br/>`cross` `isolated`                                                                                                        |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
        "ccy":"",
        "instId": "BTC-USDT-SWAP",
        "mgnMode": "cross",
        "posSide": "long",
        "lever": "10"
    },{
        "ccy":"",
        "instId": "BTC-USDT-SWAP",
        "mgnMode": "cross",
        "posSide": "short",
        "lever": "10"
    }]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                   **Description**                                                                   |
|-------------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
|   instId    | String |                                                                    Instrument ID                                                                    |
|     ccy     | String |Currency，used for getting leverage of currency level.  <br/>Applicable to `cross` `MARGIN` of `Spot mode`/`Multi-currency margin`/`Portfolio margin`.|
|   mgnMode   | String |                                                                     Margin mode                                                                     |
|   posSide   | String | Position side  <br/>`long`   <br/>`short`   <br/>`net`  <br/>In `long/short` mode, the leverage in both directions `long`/`short` will be returned. |
|    lever    | String |                                                                      Leverage                                                                       |
Leverage cannot be enquired for the cross positions of Expiry Futures and Perpetual Futures under the portfolio margin account.

---

### Get leverage estimated info ###

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/adjust-leverage-info`

>
>
> Request Example
>
>

```
GET /api/v5/account/adjust-leverage-info?instType=MARGIN&mgnMode=isolated&lever=3&instId=BTC-USDT

```

#### Request Parameters ####

|Parameter| Type | Required  |                                                                              Description                                                                              |
|---------|------|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|instType |String|    Yes    |                                                      Instrument type  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`                                                      |
| mgnMode |String|    Yes    |                                                              Margin mode  <br/>`isolated`  <br/>`cross`                                                               |
|  lever  |String|    Yes    |                                                                               Leverage                                                                                |
| instId  |String|Conditional|       Instrument ID, e.g. BTC-USDT  <br/>It is required for these scenarioes: `SWAP` and `FUTURES`, Margin isolation, Margin cross in `Spot and futures mode`.        |
|   ccy   |String|Conditional|Currency used for margin, e.g. BTC  <br/>It is required for isolated margin and cross margin in `Spot and futures mode`, `Multi-currency margin` and `Portfolio margin`|
| posSide |String|    No     |                                                   posSide  <br/>`net`: The default value  <br/>`long`  <br/>`short`                                                   |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "estAvailQuoteTrans": "",
            "estAvailTrans": "1.1398040558348279",
            "estLiqPx": "",
            "estMaxAmt": "10.6095865868904898",
            "estMgn": "0.0701959441651721",
            "estQuoteMaxAmt": "176889.6871254563042714",
            "estQuoteMgn": "",
            "existOrd": false,
            "maxLever": "10",
            "minLever": "0.01"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|  **Parameter**   |**Type**|                                                                                                                                                                                                                 **Description**                                                                                                                                                                                                                 |
|------------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|estAvailQuoteTrans| String |                                                        The estimated margin(in quote currency) can be transferred out under the corresponding leverage  <br/>For cross, it is the maximum quantity that can be transferred from the trading account.  <br/>For isolated, it is the maximum quantity that can be transferred from the isolated position  <br/>Only applicable to `MARGIN`                                                        |
|  estAvailTrans   | String |The estimated margin can be transferred out under the corresponding leverage.  <br/>For cross, it is the maximum quantity that can be transferred from the trading account.  <br/>For isolated, it is the maximum quantity that can be transferred from the isolated position  <br/> The unit is base currency for `MARGIN`  <br/> It is not applicable to the scenario when increasing leverage for isolated position under `FUTURES` and `SWAP`|
|     estLiqPx     | String |                                                                                                                                                                     The estimated liquidation price under the corresponding leverage. Only return when there is a position.                                                                                                                                                                     |
|      estMgn      | String |                                                                                                                                                    The estimated margin needed by position under the corresponding leverage.  <br/>For the `MARGIN` position, it is margin in base currency                                                                                                                                                     |
|   estQuoteMgn    | String |                                                                                                                                                                          The estimated margin (in quote currency) needed by position under the corresponding leverage                                                                                                                                                                           |
|    estMaxAmt     | String |                                                                                                     For `MARGIN`, it is the estimated maximum loan in base currency under the corresponding leverage  <br/>For `SWAP` and `FUTURES`, it is the estimated maximum quantity of contracts that can be opened under the corresponding leverage                                                                                                      |
|  estQuoteMaxAmt  | String |                                                                                                                                                                             The `MARGIN` estimated maximum loan in quote currency under the corresponding leverage.                                                                                                                                                                             |
|     existOrd     |Boolean |                                                                                                                                                                                           Whether there is pending orders   <br/>`true`  <br/>`false`                                                                                                                                                                                           |
|     maxLever     | String |                                                                                                                                                                                                                Maximum leverage                                                                                                                                                                                                                 |
|     minLever     | String |                                                                                                                                                                                                                Minimum leverage                                                                                                                                                                                                                 |

---

### Get the maximum loan of instrument ###

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/max-loan`

>
>
> Request Example
>
>

```
# Max loan of cross `MARGIN` for trading pair in `Spot mode` (enabled borrowing)
GET  /api/v5/account/max-loan?instId=BTC-USDT&mgnMode=cross

# Max loan for currency in `Spot mode` (enabled borrowing)
GET  /api/v5/account/max-loan?instId=USDT&mgnMode=cross

# Max loan of isolated `MARGIN` in `Spot and futures mode`
GET  /api/v5/account/max-loan?instId=BTC-USDT&mgnMode=isolated

# Max loan of cross `MARGIN` in `Spot and futures mode` (Margin Currency is BTC)
GET  /api/v5/account/max-loan?instId=BTC-USDT&mgnMode=cross&mgnCcy=BTC

# Max loan of cross `MARGIN` in `Multi-currency margin`
GET  /api/v5/account/max-loan?instId=BTC-USDT&mgnMode=cross

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Max loan of cross MARGIN in Spot and futures mode (Margin Currency is BTC)
result = accountAPI.get_max_loan(
    instId="BTC-USDT",
    mgnMode="cross",
    mgnCcy="BTC"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type | Required  |                                                 Description                                                  |
|---------|------|-----------|--------------------------------------------------------------------------------------------------------------|
| mgnMode |String|    Yes    |                                     Margin mode  <br/>`isolated` `cross`                                     |
| instId  |String|Conditional|  Single instrument or multiple instruments (no more than 5) separated with comma, e.g. `BTC-USDT,ETH-USDT`   |
|   ccy   |String|Conditional|Currency  <br/>Applicable to get Max loan of manual borrow for the currency in `Spot mode` (enabled borrowing)|
| mgnCcy  |String|Conditional|   Margin currency  <br/>Applicable to `isolated` `MARGIN` and `cross` `MARGIN` in `Spot and futures mode`.   |

>
>
> Response Example
>
>

```
{
  "code": "0",
  "msg": "",
  "data": [
    {
      "instId": "BTC-USDT",
      "mgnMode": "isolated",
      "mgnCcy": "",
      "maxLoan": "0.1",
      "ccy": "BTC",
      "side": "sell"
    },
    {
      "instId": "BTC-USDT",
      "mgnMode": "isolated",
      "mgnCcy": "",
      "maxLoan": "0.2",
      "ccy": "USDT",
      "side": "buy"
    }
  ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|       **Description**       |
|-------------|--------|-----------------------------|
|   instId    | String |        Instrument ID        |
|   mgnMode   | String |         Margin mode         |
|   mgnCcy    | String |       Margin currency       |
|   maxLoan   | String |          Max loan           |
|     ccy     | String |          Currency           |
|    side     | String |Order side  <br/>`buy` `sell`|

---

### Get fee rates ###

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/trade-fee`

>
>
> Request Example
>
>

```
# Query trade fee rate of SPOT BTC-USDT
GET /api/v5/account/trade-fee?instType=SPOT&instId=BTC-USDT

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get trading fee rates of current account
result = accountAPI.get_fee_rates(
    instType="SPOT",
    instId="BTC-USDT"
)
print(result)

```

#### Request Parameters ####

|Parameter | Type |Required|                                                                             Description                                                                              |
|----------|------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instType |String|  Yes   |                                       Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                        |
|  instId  |String|   No   |                                                  Instrument ID, e.g. `BTC-USDT`  <br/>Applicable to `SPOT`/`MARGIN`                                                  |
|   uly    |String|   No   |                                               Underlying, e.g. `BTC-USD`  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                               |
|instFamily|String|   No   |                                           Instrument family, e.g. `BTC-USD`  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                            |
| ruleType |String|  Yes   |Trading rule types  <br/>`normal`: normal trading  <br/>`pre_market`: pre-market trading  <br/> ruleType can not be passed through together with instId/instFamily/uly|

>
>
> Response Example
>
>

```
{
  "code": "0",
  "msg": "",
  "data": [{
    "category": "1", //Deprecated
    "delivery": "",
    "exercise": "",
    "instType": "SPOT",
    "level": "lv1",
    "maker": "-0.0008",
    "makerU": "",
    "makerUSDC": "",
    "taker": "-0.001",
    "takerU": "",
    "takerUSDC": "",
    "ruleType": "normal",
    "ts": "1608623351857",
    "fiat": []
  }
  ]
}

```

#### Response Parameters ####

|**Parameter**|    **Type**    |                                                                     **Description**                                                                      |
|-------------|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
|    level    |     String     |                                                                      Fee rate Level                                                                      |
|    taker    |     String     |For `SPOT`/`MARGIN`, it is taker fee rate of the USDT trading pairs.   <br/>For `FUTURES`/`SWAP`/`OPTION`, it is the fee rate of crypto-margined contracts|
|    maker    |     String     |For `SPOT`/`MARGIN`, it is maker fee rate of the USDT trading pairs.   <br/>For `FUTURES`/`SWAP`/`OPTION`, it is the fee rate of crypto-margined contracts|
|   takerU    |     String     |                                      Taker fee rate of USDT-margined contracts, only applicable to `FUTURES`/`SWAP`                                      |
|   makerU    |     String     |                                      Maker fee rate of USDT-margined contracts, only applicable to `FUTURES`/`SWAP`                                      |
|  delivery   |     String     |                                                                    Delivery fee rate                                                                     |
|  exercise   |     String     |                                                            Fee rate for exercising the option                                                            |
|  instType   |     String     |                                                                     Instrument type                                                                      |
|  takerUSDC  |     String     |  For `SPOT`/`MARGIN`, it is taker fee rate of the USDⓈ&Crypto trading pairs.  <br/>For `FUTURES`/`SWAP`, it is the fee rate of USDC-margined contracts   |
|  makerUSDC  |     String     |  For `SPOT`/`MARGIN`, it is maker fee rate of the USDⓈ&Crypto trading pairs.  <br/>For `FUTURES`/`SWAP`, it is the fee rate of USDC-margined contracts   |
|  ruleType   |     String     |                                 Trading rule types  <br/>`normal`: normal trading  <br/>`pre_market`: pre-market trading                                 |
|     ts      |     String     |                                      Data return time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                       |
|  category   |     String     |                                              Currency category. Note: this parameter is already deprecated                                               |
|    fiat     |Array of objects|                                                                 Details of fiat fee rate                                                                 |
|   \> ccy    |     String     |                                                                      Fiat currency.                                                                      |
|  \> taker   |     String     |                                                                      Taker fee rate                                                                      |
|  \> maker   |     String     |                                                                      Maker fee rate                                                                      |
Remarks:   
The fee rate like maker and taker: positive number, which means the rate of rebate; negative number, which means the rate of commission. USDⓈ represent the stablecoin besides USDT and USDC

---

### Get interest accrued data ###

Get interest accrued data. Only data within the last one year can be obtained.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/interest-accrued`

>
>
> Request Example
>
>

```
GET /api/v5/account/interest-accrued

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get interest accrued data
result = accountAPI.get_interest_accrued()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                             Description                                                              |
|---------|------|--------|--------------------------------------------------------------------------------------------------------------------------------------|
|  type   |String|   No   |                                        Loan type  <br/>`2`: Market loans  <br/>Default is `2`                                        |
|   ccy   |String|   No   |                  Loan currency, e.g. `BTC`  <br/>Only applicable to `Market loans`  <br/>Only applicable to`MARGIN`                  |
| instId  |String|   No   |                                Instrument ID, e.g. `BTC-USDT`  <br/>Only applicable to `Market loans`                                |
| mgnMode |String|   No   |                         Margin mode  <br/>`cross`   <br/>`isolated`  <br/>Only applicable to `Market loans`                          |
|  after  |String|   No   |Pagination of data to return records earlier than the requested timestamp, Unix timestamp format in milliseconds, e.g. `1597026383085`|
| before  |String|   No   |      Pagination of data to return records newer than the requested, Unix timestamp format in milliseconds, e.g. `1597026383085`      |
|  limit  |String|   No   |                              Number of results per request. The maximum is `100`. The default is `100`.                              |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "ccy": "USDT",
            "instId": "",
            "interest": "0.0003960833333334",
            "interestRate": "0.0000040833333333",
            "liab": "97",
            "mgnMode": "",
            "ts": "1637312400000",
            "type": "1"
        },
        {
            "ccy": "USDT",
            "instId": "",
            "interest": "0.0004083333333334",
            "interestRate": "0.0000040833333333",
            "liab": "100",
            "mgnMode": "",
            "ts": "1637049600000",
            "type": "1"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter  | Type |                                        Description                                        |
|------------|------|-------------------------------------------------------------------------------------------|
|    type    |String|                             Loan type  <br/>`2`: Market loans                             |
|    ccy     |String|                                 Loan currency, e.g. `BTC`                                 |
|   instId   |String|          Instrument ID, e.g. `BTC-USDT`  <br/>Only applicable to `Market loans`           |
|  mgnMode   |String|                        Margin mode  <br/>`cross`   <br/>`isolated`                        |
|  interest  |String|                                         Interest                                          |
|interestRate|String|                                  Interest rate (in hour)                                  |
|    liab    |String|                                         Liability                                         |
|     ts     |String|Timestamp for interest accured, Unix timestamp format in milliseconds, e.g. `1597026383085`|

---

### Get interest rate ###

Get the user's current leveraged currency borrowing market interest rate

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Requests ####

`GET /api/v5/account/interest-rate`

>
>
> Request Example
>
>

```
GET /api/v5/account/interest-rate

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get the user's current leveraged currency borrowing interest rate
result = accountAPI.get_interest_rate()
print(result)

```

#### Request Parameters ####

|**Parameters**|**Types**|**Required**|  **Description**   |
|--------------|---------|------------|--------------------|
|     ccy      | String  |     No     |Currency, e.g. `BTC`|

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
            "ccy":"BTC",
            "interestRate":"0.0001"
        },
        {
            "ccy":"LTC",
            "interestRate":"0.0003"
        }
    ]
}

```

#### Response Parameters ####

| Parameter  | Type |          Description          |
|------------|------|-------------------------------|
|interestRate|String|interest rate(the current hour)|
|    ccy     |String|           currency            |

---

### Set greeks (PA/BS) ###

Set the display type of Greeks.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-greeks`

>
>
> Request Example
>
>

```
POST /api/v5/account/set-greeks
body
{
    "greeksType":"PA"
}

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Set greeks (PA/BS)
result = accountAPI.set_greeks(greeksType="PA")
print(result)

```

#### Request Parameters ####

|Parameter | Type |Required|                                          Description                                           |
|----------|------|--------|------------------------------------------------------------------------------------------------|
|greeksType|String|  Yes   |Display type of Greeks.  <br/>`PA`: Greeks in coins   <br/>`BS`: Black-Scholes Greeks in dollars|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
        "greeksType": "PA"
    }]
}

```

#### Response Parameters ####

|Parameter | Type |      Description      |
|----------|------|-----------------------|
|greeksType|String|Display type of Greeks.|

---

### Isolated margin trading settings ###

You can set the currency margin and futures/perpetual Isolated margin trading mode

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-isolated-mode`

>
>
> Request Example
>
>

```
POST /api/v5/account/set-isolated-mode
body
{
    "isoMode":"automatic",
    "type":"MARGIN"
}

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Isolated margin trading settings
result = accountAPI.set_isolated_mode(
    isoMode="automatic",
    type="MARGIN"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                                                          Description                                                                                                           |
|---------|------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| isoMode |String|  Yes   |Isolated margin trading settings  <br/>`auto_transfers_ccy`: New auto transfers, enabling both base and quote currency as the margin for isolated margin trading. Only applicable to `MARGIN`.  <br/>`automatic`: Auto transfers|
|  type   |String|  Yes   |                                                                                        Instrument type  <br/>`MARGIN`  <br/>`CONTRACTS`                                                                                        |
 When there are positions and pending orders in the current account, the margin transfer mode from position to position cannot be adjusted.
>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "isoMode": "automatic"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|Parameter| Type |                           Description                            |
|---------|------|------------------------------------------------------------------|
| isoMode |String|Isolated margin trading settings  <br/>`automatic`: Auto transfers|
CONTRACTS  
Auto transfers: Automatically occupy and release the margin when opening and closing positions MARGIN  
Auto transfers: Automatically borrow and return coins when opening and closing positions

---

### Get maximum withdrawals ###

Retrieve the maximum transferable amount from trading account to funding account. If no currency is specified, the transferable amount of all owned currencies will be returned.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/max-withdrawal`

>
>
> Request Example
>
>

```
GET /api/v5/account/max-withdrawal

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get maximum withdrawals
result = accountAPI.get_max_withdrawal()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                              Description                                              |
|---------|------|--------|-------------------------------------------------------------------------------------------------------|
|   ccy   |String|   No   |Single currency or multiple currencies (no more than 20) separated with comma, e.g. `BTC` or `BTC,ETH`.|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
            "ccy": "BTC",
            "maxWd": "124",
            "maxWdEx": "125",
            "spotOffsetMaxWd": "",
            "spotOffsetMaxWdEx": ""
        },
        {
            "ccy": "ETH",
            "maxWd": "10",
            "maxWdEx": "12",
            "spotOffsetMaxWd": "",
            "spotOffsetMaxWdEx": ""
        }
    ]
}

```

#### Response Parameters ####

|  **Parameter**  |**Type**|                                                                 **Description**                                                                  |
|-----------------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------|
|       ccy       | String |                                                                     Currency                                                                     |
|      maxWd      | String |                     Max withdrawal (excluding borrowed assets under `Spot mode`/`Multi-currency margin`/`Portfolio margin`)                      |
|     maxWdEx     | String |                     Max withdrawal (including borrowed assets under `Spot mode`/`Multi-currency margin`/`Portfolio margin`)                      |
| spotOffsetMaxWd | String |Max withdrawal under Spot-Derivatives risk offset mode (excluding borrowed assets under `Portfolio margin`)  <br/>Applicable to `Portfolio margin`|
|spotOffsetMaxWdEx| String |Max withdrawal under Spot-Derivatives risk offset mode (including borrowed assets under `Portfolio margin`)  <br/>Applicable to `Portfolio margin`|

---

### Get account risk state ###

Only applicable to Portfolio margin account

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Requests ####

`GET /api/v5/account/risk-state`

>
>
> Request Example
>
>

```
GET /api/v5/account/risk-state

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get account risk state
result = accountAPI.get_account_position_risk()
print(result)

```

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "atRisk": false,
            "atRiskIdx": [],
            "atRiskMgn": [],
            "ts": "1635745078794"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|**Parameters**|   **Types**    |                                                                             **Description**                                                                              |
|--------------|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    atRisk    |    Boolean     |Account risk status in auto-borrow mode   <br/>true: the account is currently in a specific risk state   <br/>false: the account is currently not in a specific risk state|
|  atRiskIdx   |Array of strings|                                                                        derivatives risk unit list                                                                        |
|  atRiskMgn   |Array of strings|                                                                          margin risk unit list                                                                           |
|      ts      |     String     |                                                        Unix timestamp format in milliseconds, e.g.`1597026383085`                                                        |

---

### Manual borrow and repay in Quick Margin Mode ###

Please note that this endpoint will be deprecated soon.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/quick-margin-borrow-repay`

>
>
> Request Example
>
>

```
POST /api/v5/account/quick-margin-borrow-repay
body
{
    "instId":"BTC-USDT",
    "ccy":"USDT",
    "side":"borrow",
    "amt":"100"
}

```

#### Request Parameters ####

|Parameter| Type |Required|        Description         |
|---------|------|--------|----------------------------|
| instId  |String|  Yes   |Instrument ID, e.g. BTC-USDT|
|   ccy   |String|  Yes   | Loan currency, e.g. `BTC`  |
|  side   |String|  Yes   |      `borrow` `repay`      |
|   amt   |String|  Yes   |    borrow/repay amount     |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "amt": "100",
            "instId":"BTC-USDT",
            "ccy": "USDT",
            "side": "borrow"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|Parameter| Type |        Description         |
|---------|------|----------------------------|
| instId  |String|Instrument ID, e.g. BTC-USDT|
|   ccy   |String| Loan currency, e.g. `BTC`  |
|  side   |String|      `borrow` `repay`      |
|   amt   |String|    borrow/repay amount     |

---

### Get borrow and repay history in Quick Margin Mode ###

Get record in the past 3 months.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/quick-margin-borrow-repay-history`

>
>
> Request Example
>
>

```
GET /api/v5/account/quick-margin-borrow-repay-history

```

#### Request Parameters ####

|Parameter| Type |Required|                                      Description                                       |
|---------|------|--------|----------------------------------------------------------------------------------------|
| instId  |String|   No   |                              Instrument ID, e.g. BTC-USDT                              |
|   ccy   |String|   No   |                               Loan currency, e.g. `BTC`                                |
|  side   |String|   No   |                                    `borrow` `repay`                                    |
|  after  |String|   No   |        Pagination of data to return records earlier than the requested `refId`         |
| before  |String|   No   |         Pagination of data to return records newer than the requested `refId`          |
|  begin  |String|   No   |Filter with a begin timestamp. Unix timestamp format in milliseconds, e.g. 1597026383085|
|   end   |String|   No   |Filter with an end timestamp. Unix timestamp format in milliseconds, e.g. 1597026383085 |
|  limit  |String|   No   |       Number of results per request. The maximum is `100`; The default is `100`        |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "instId": "BTC-USDT",
            "ccy": "USDT",
            "side": "borrow",
            "accBorrowed": "0.01",
            "amt": "0.005",
            "refId": "1637310691470124",
            "ts": "1637310691470"
        },
        {
            "instId": "BTC-USDT",
            "ccy": "USDT",
            "side": "borrow",
            "accBorrowed": "0.01",
            "amt": "0.005",
            "refId": "1637310691470123",
            "ts": "1637310691400"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter | Type |          Description           |
|-----------|------|--------------------------------|
|  instId   |String|  Instrument ID, e.g. BTC-USDT  |
|    ccy    |String|   Loan currency, e.g. `BTC`    |
|   side    |String|        `borrow` `repay`        |
|accBorrowed|String|    Accumulate borrow amount    |
|    amt    |String|      borrow/repay amount       |
|   refId   |String|The ID of borrowing or repayment|
|    ts     |String|   Timestamp for Borrow/Repay   |

---

### Get borrow interest and limit ###

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/interest-limits`

>
>
> Request Example
>
>

```
GET /api/v5/account/interest-limits?type=1&ccy=BTC

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get borrow interest and limit
result = accountAPI.get_interest_limits(
    type="1",
    ccy="BTC"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                     Description                      |
|---------|------|--------|------------------------------------------------------|
|  type   |String|   No   |Loan type  <br/>`2`: Market loans  <br/>Default is `2`|
|   ccy   |String|   No   |              Loan currency, e.g. `BTC`               |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "debt": "0.85893159114900247077000000000000",
            "interest": "0.00000000000000000000000000000000",
            "loanAlloc": "",
            "nextDiscountTime": "1729490400000",
            "nextInterestTime": "1729490400000",
            "records": [
                {
                    "availLoan": "",
                    "avgRate": "",
                    "ccy": "BTC",
                    "interest": "0",
                    "loanQuota": "175.00000000",
                    "posLoan": "",
                    "rate": "0.0000276",
                    "surplusLmt": "175.00000000",
                    "surplusLmtDetails": {},
                    "usedLmt": "0.00000000",
                    "usedLoan": ""
                }
            ]
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|        Parameter         |      Type      |                                                                                                                Description                                                                                                                 |
|--------------------------|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           debt           |     String     |                                                                                                           Current debt in `USDT`                                                                                                           |
|         interest         |     String     |                                                                           Current interest in `USDT`, the unit is `USDT`  <br/>Only applicable to `Market loans`                                                                           |
|     nextDiscountTime     |     String     |                                                                               Next deduct time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                |
|     nextInterestTime     |     String     |                                                                               Next accrual time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                               |
|        loanAlloc         |     String     |VIP Loan allocation for the current trading account  <br/>1. The unit is percent(%). Range is [0, 100]. Precision is 0.01%  <br/>2. If master account did not assign anything, then "0"  <br/>3. "" if shared between master and sub-account|
|         records          |Array of objects|                                                                                                           Details for currencies                                                                                                           |
|          \> ccy          |     String     |                                                                                                         Loan currency, e.g. `BTC`                                                                                                          |
|         \> rate          |     String     |                                                                                                             Current daily rate                                                                                                             |
|       \> loanQuota       |     String     |                                                   Borrow limit of master account  <br/>If loan allocation has been assigned, then it is the borrow limit of the current trading account                                                    |
|      \> surplusLmt       |     String     |                                       Available amount across all sub-accounts  <br/>If loan allocation has been assigned, then it is the available amount to borrow by the current trading account                                        |
|   \> surplusLmtDetails   |     Object     |   The details of available amount across all sub-accounts  <br/>The value of `surplusLmt` is the minimum value within this array. It can help you judge the reason that `surplusLmt` is not enough.  <br/>Only applicable to `VIP loans`   |
|\>\> allAcctRemainingQuota|     String     |                                                                                         Total remaining quota for master account and sub-accounts                                                                                          |
|\>\> curAcctRemainingQuota|     String     |                                                  The remaining quota for the current account.  <br/>Only applicable to the case in which the sub-account is assigned the loan allocation                                                   |
| \>\> platRemainingQuota  |     String     |                                           Remaining quota for the platform.  <br/>The format like "600" will be returned when it is more than `curAcctRemainingQuota` or `allAcctRemainingQuota`                                           |
|        \> usedLmt        |     String     |                                             Borrowed amount across all sub-accounts  <br/>If loan allocation has been assigned, then it is the borrowed amount by the current trading account                                              |
|       \> interest        |     String     |                                                                                      Interest to be deducted  <br/>Only applicable to `Market loans`                                                                                       |
|        \> posLoan        |     String     |                                                                     Frozen amount for current account (Within the locked quota)   <br/>Only applicable to `VIP loans`                                                                      |
|       \> availLoan       |     String     |                                                                    Available amount for current account (Within the locked quota)  <br/>Only applicable to `VIP loans`                                                                     |
|       \> usedLoan        |     String     |                                                                                  Borrowed amount for current account  <br/>Only applicable to `VIP loans`                                                                                  |
|        \> avgRate        |     String     |                                                                           Average (hour) interest of already borrowed coin  <br/>only applicable to `VIP loans`                                                                            |

---

### Manual borrow / repay ###

Only applicable to `Spot mode` (enabled borrowing)

#### Rate Limit: 1 request per second ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/spot-manual-borrow-repay`

>
>
> Request Example
>
>

```
POST /api/v5/account/spot-manual-borrow-repay
body
{
    "ccy":"USDT",
    "side":"borrow",
    "amt":"100"
}

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1
accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

result = accountAPI.spot_manual_borrow_repay(ccy="USDT", side="borrow", amt= "1")
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|           Description           |
|---------|------|--------|---------------------------------|
|   ccy   |String|  Yes   |      Currency, e.g. `BTC`       |
|  side   |String|  Yes   |Side  <br/>`borrow`  <br/>`repay`|
|   amt   |String|  Yes   |             Amount              |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "ccy":"USDT",
            "side":"borrow",
            "amt":"100"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|Parameter| Type |           Description           |
|---------|------|---------------------------------|
|   ccy   |String|      Currency, e.g. `BTC`       |
|  side   |String|Side  <br/>`borrow`  <br/>`repay`|
|   amt   |String|          Actual amount          |

---

### Set auto repay ###

Only applicable to `Spot mode` (enabled borrowing)

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-auto-repay`

>
>
> Request Example
>
>

```
POST /api/v5/account/set-auto-repay
body
{
    "autoRepay": true
}

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1
accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

result = accountAPI.set_auto_repay(autoRepay=True)
print(result)

```

#### Request Parameters ####

|Parameter| Type  |Required|                                                      Description                                                       |
|---------|-------|--------|------------------------------------------------------------------------------------------------------------------------|
|autoRepay|Boolean|  Yes   |Whether auto repay is allowed or not under `Spot mode`  <br/>`true`: Enable auto repay  <br/>`false`: Disable auto repay|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [
        {
            "autoRepay": true
        }
    ]
}

```

#### Response Parameters ####

|Parameter| Type  |                                                      Description                                                       |
|---------|-------|------------------------------------------------------------------------------------------------------------------------|
|autoRepay|Boolean|Whether auto repay is allowed or not under `Spot mode`  <br/>`true`: Enable auto repay  <br/>`false`: Disable auto repay|

---

### Get borrow/repay history ###

Retrieve the borrow/repay history under `Spot mode`

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/spot-borrow-repay-history`

>
>
> Request Example
>
>

```
GET /api/v5/account/spot-borrow-repay-history

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"   # Production trading:0 , demo trading:1
accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

result = accountAPI.spot_borrow_repay_history(ccy="USDT", type="auto_borrow")
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                Description                                                                 |
|---------|------|--------|--------------------------------------------------------------------------------------------------------------------------------------------|
|   ccy   |String|   No   |                                                            Currency, e.g. `BTC`                                                            |
|  type   |String|   No   |                        Event type  <br/>`auto_borrow`  <br/>`auto_repay`  <br/>`manual_borrow`  <br/>`manual_repay`                        |
|  after  |String|   No   |Pagination of data to return records earlier than the requested `ts` (included), Unix timestamp format in milliseconds, e.g. `1597026383085`|
| before  |String|   No   | Pagination of data to return records newer than the requested `ts`(included), Unix timestamp format in milliseconds, e.g. `1597026383085`  |
|  limit  |String|   No   |                                   Number of results per request. The maximum is 100. The default is 100.                                   |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "accBorrowed": "0",
            "amt": "6764.802661157592",
            "ccy": "USDT",
            "ts": "1725330976644",
            "type": "auto_repay"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter | Type |                                        Description                                         |
|-----------|------|--------------------------------------------------------------------------------------------|
|    ccy    |String|                                    Currency, e.g. `BTC`                                    |
|   type    |String|Event type  <br/>`auto_borrow`  <br/>`auto_repay`  <br/>`manual_borrow`  <br/>`manual_repay`|
|    amt    |String|                                           Amount                                           |
|accBorrowed|String|                                 Accumulated borrow amount                                  |
|    ts     |String|    Timestamp for the event, Unix timestamp format in milliseconds, e.g. `1597026383085`    |

---

### Position builder (new) ###

Calculates portfolio margin information for virtual position/assets or current position of the user.  
You can add up to 200 virtual positions and 200 virtual assets in one request.

#### Rate Limit: 2 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`POST /api/v5/account/position-builder`

>
>
> Request Example
>
>

```
# Both real and virtual positions and assets are calculated
POST /api/v5/account/position-builder
body
{
    "inclRealPosAndEq": false,
    "simPos":[
         {
            "pos":"-10",
            "instId":"BTC-USDT-SWAP",
            "avgPx":"100000"
         },
         {
            "pos":"10",
            "instId":"LTC-USDT-SWAP",
            "avgPx":"8000"
         }
    ],
    "simAsset":[
        {
            "ccy": "USDT",
            "amt": "100"
        }
    ],
    "greeksType":"CASH"
}

# Only existing real positions are calculated
POST /api/v5/account/position-builder
body
{
   "inclRealPosAndEq":true
}

# Only virtual positions are calculated
POST /api/v5/account/position-builder
body
{
    "acctLv": "4",
    "inclRealPosAndEq": false,
    "simPos":[
        {
            "pos":"10",
            "instId":"BTC-USDT-SWAP",
            "avgPx":"100000"
        },
        {
            "pos":"10",
            "instId":"LTC-USDT-SWAP",
            "avgPx":"8000"
        }
    ]
}

# Switch to Multi-currency margin mode
POST /api/v5/account/position-builder
body
{
    "acctLv": "3",
    "lever":"10",
    "simPos":[
        {
            "pos":"10",
            "instId":"BTC-USDT-SWAP",
            "avgPx":"100000",
            "lever":"5"
        },
        {
            "pos":"10",
            "instId":"LTC-USDT-SWAP",
            "avgPx":"8000"
        }
    ]
}

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

result = accountAPI.position_builder(
    inclRealPosAndEq=True,
    simPos=[
        {
            "pos": "10",
            "instId": "BTC-USDT-SWAP"
        },
        {
            "pos": "10",
            "instId": "LTC-USDT-SWAP"
        }
    ]
)
print(result)

```

#### Request Parameters ####

|   Parameter    |     Type      |Required|                                                                                                Description                                                                                                |
|----------------|---------------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     acctLv     |    String     |   No   |                                               Switch to account mode  <br/>`3`: Multi-currency margin  <br/>`4`: Portfolio margin  <br/>The default is `4`                                                |
|inclRealPosAndEq|    Boolean    |   No   |                                                                 Whether import existing positions and assets  <br/>The default is `true`                                                                  |
|     lever      |    String     |   No   |Cross margin leverage in Multi-currency margin mode, the default is `1`.  <br/>If the allowed leverage is exceeded, set according to the maximum leverage.  <br/>Only applicable to `Multi-currency margin`|
|     simPos     |Array of object|   No   |                                                                                        List of simulated positions                                                                                        |
|   \> instId    |    String     |  Yes   |                                                             Instrument ID, e.g. `BTC-USDT-SWAP`  <br/>Applicable to `SWAP`/`FUTURES`/`OPTION`                                                             |
|     \> pos     |    String     |  Yes   |                                                                                           Quantity of positions                                                                                           |
|    \> avgPx    |    String     |  Yes   |                                                                                            Average open price                                                                                             |
|    \> lever    |    String     |   No   |                   leverage  <br/>Only applicable to `Multi-currency margin`  <br/>The default is `1`  <br/>If the allowed leverage is exceeded, set according to the maximum leverage.                    |
|    simAsset    |Array of object|   No   |                                     List of simulated assets  <br/>When `inclRealPosAndEq` is `true`, only real assets are considered and virtual assets are ignored                                      |
|     \> ccy     |    String     |  Yes   |                                                                                           Currency, e.g. `BTC`                                                                                            |
|     \> amt     |    String     |  Yes   |                                                                                              Currency amount                                                                                              |
|   greeksType   |    String     |   No   |                                   Greeks type  <br/>`BS`: Black-Scholes Model Greeks  <br/>`PA`: Crypto Greeks  <br/>`CASH`: Empirical Greeks  <br/>The default is `BS`                                   |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "acctLever": "-0.1364949794742562",
            "assets": [
                {
                    "availEq": "0",
                    "borrowImr": "0",
                    "borrowMmr": "",
                    "ccy": "BTC",
                    "spotInUse": "0"
                },
                {
                    "availEq": "0",
                    "borrowImr": "0",
                    "borrowMmr": "",
                    "ccy": "LTC",
                    "spotInUse": "0"
                },
                {
                    "availEq": "0",
                    "borrowImr": "0",
                    "borrowMmr": "",
                    "ccy": "USDC",
                    "spotInUse": "0"
                },
                {
                    "availEq": "-78589.37",
                    "borrowImr": "7855.32188898",
                    "borrowMmr": "",
                    "ccy": "USDT",
                    "spotInUse": "0"
                }
            ],
            "borrowMmr": "1571.064377796",
            "derivMmr": "1375.4837063088003",
            "eq": "-78553.21888979999",
            "marginRatio": "-25.95365779811705",
            "positions": [],
            "riskUnitData": [
                {
                    "delta": "-9704.903689800001",
                    "gamma": "0",
                    "imr": "1538.9669514070802",
                    "mmr": "1183.8207318516002",
                    "mr1": "1164.4109244719994",
                    "mr1FinalResult": {
                        "pnl": "-1164.4109244719994",
                        "spotShock": "0.12",
                        "volShock": "up"
                    },
                    "mr1Scenarios": {
                        "volSame": {
                            "0": "0",
                            "0.08": "-776.2739496480004",
                            "-0.08": "776.2739496480004",
                            "0.04": "-388.1369748240002",
                            "0.12": "-1164.4109244719994",
                            "-0.12": "1164.4109244719994",
                            "-0.04": "388.1369748240002"
                        },
                        "volShockDown": {
                            "0": "0",
                            "0.08": "-776.2739496480004",
                            "-0.08": "776.2739496480004",
                            "0.04": "-388.1369748240002",
                            "0.12": "-1164.4109244719994",
                            "-0.12": "1164.4109244719994",
                            "-0.04": "388.1369748240002"
                        },
                        "volShockUp": {
                            "0": "0",
                            "0.08": "-776.2739496480004",
                            "-0.08": "776.2739496480004",
                            "0.04": "-388.1369748240002",
                            "0.12": "-1164.4109244719994",
                            "-0.12": "1164.4109244719994",
                            "-0.04": "388.1369748240002"
                        }
                    },
                    "mr2": "0",
                    "mr3": "0",
                    "mr4": "19.4098073796",
                    "mr5": "0",
                    "mr6": "1164.4109244720003",
                    "mr6FinalResult": {
                        "pnl": "-2328.8218489440005",
                        "spotShock": "0.24"
                    },
                    "mr7": "43.67206660410001",
                    "mr8": "1571.064377796",
                    "mr9": "0",
                    "portfolios": [
                        {
                            "amt": "-10",
                            "avgPx": "100000",
                            "delta": "-9704.903689800001",
                            "floatPnl": "290.6300000000003",
                            "gamma": "0",
                            "instId": "BTC-USDT-SWAP",
                            "instType": "SWAP",
                            "isRealPos": false,
                            "markPx": "97093.7",
                            "notionalUsd": "9703.22",
                            "posSide": "net",
                            "theta": "0",
                            "vega": "0"
                        }
                    ],
                    "riskUnit": "BTC",
                    "theta": "0",
                    "upl": "290.49631020000027",
                    "vega": "0"
                },
                {
                    "delta": "1019.5308",
                    "gamma": "0",
                    "imr": "249.16186679436",
                    "mmr": "191.6629744572",
                    "mr1": "183.50672805719995",
                    "mr1FinalResult": {
                        "pnl": "-183.50672805719995",
                        "spotShock": "-0.18",
                        "volShock": "up"
                    },
                    "mr1Scenarios": {
                        "volSame": {
                            "0": "0",
                            "-0.06": "-61.168909352399936",
                            "0.06": "61.168909352399936",
                            "-0.18": "-183.50672805719995",
                            "0.18": "183.50672805719995",
                            "0.12": "122.33781870480001",
                            "-0.12": "-122.33781870480001"
                        },
                        "volShockDown": {
                            "0": "0",
                            "-0.06": "-61.168909352399936",
                            "0.06": "61.168909352399936",
                            "-0.18": "-183.50672805719995",
                            "0.18": "183.50672805719995",
                            "0.12": "122.33781870480001",
                            "-0.12": "-122.33781870480001"
                        },
                        "volShockUp": {
                            "0": "0",
                            "-0.06": "-61.168909352399936",
                            "0.06": "61.168909352399936",
                            "-0.18": "-183.50672805719995",
                            "0.18": "183.50672805719995",
                            "0.12": "122.33781870480001",
                            "-0.12": "-122.33781870480001"
                        }
                    },
                    "mr2": "0",
                    "mr3": "0",
                    "mr4": "8.1562464",
                    "mr5": "0",
                    "mr6": "183.5067280572",
                    "mr6FinalResult": {
                        "pnl": "-367.0134561144",
                        "spotShock": "-0.36"
                    },
                    "mr7": "7.1367156",
                    "mr8": "1571.064377796",
                    "mr9": "0",
                    "portfolios": [
                        {
                            "amt": "10",
                            "avgPx": "8000",
                            "delta": "1019.5308",
                            "floatPnl": "-78980",
                            "gamma": "0",
                            "instId": "LTC-USDT-SWAP",
                            "instType": "SWAP",
                            "isRealPos": false,
                            "markPx": "102",
                            "notionalUsd": "1018.9",
                            "posSide": "net",
                            "theta": "0",
                            "vega": "0"
                        }
                    ],
                    "riskUnit": "LTC",
                    "theta": "0",
                    "upl": "-78943.6692",
                    "vega": "0"
                }
            ],
            "totalImr": "9643.45070718144",
            "totalMmr": "2946.5480841048",
            "ts": "1736936801642",
            "upl": "-78653.1728898"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| **Parameters**  |   **Types**   |                                                                                                                                                     **Description**                                                                                                                                                     |
|-----------------|---------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       eq        |    String     |                                                                                                                                         Adjusted equity (`USD`) for the account                                                                                                                                         |
|    totalMmr     |    String     |                                                                                                                                            Total MMR (`USD`) for the account                                                                                                                                            |
|    totalImr     |    String     |                                                                                                                                            Total IMR (`USD`) for the account                                                                                                                                            |
|    borrowMmr    |    String     |                                                                                                                                           Borrow MMR (`USD`) for the account                                                                                                                                            |
|    derivMmr     |    String     |                                                                                                                                         Derivatives MMR (`USD`) for the account                                                                                                                                         |
|   marginRatio   |    String     |                                                                                                                                           Cross margin ratio for the account                                                                                                                                            |
|       upl       |    String     |                                                                                                                                                   UPL for the account                                                                                                                                                   |
|    acctLever    |    String     |                                                                                                                                                 Leverage of the account                                                                                                                                                 |
|       ts        |    String     |                                                                                                                Update time for the account, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                 |
|     assets      |Array of object|                                                                                                                                                       Asset info                                                                                                                                                        |
|     \> ccy      |    String     |                                                                                                                                                  Currency, e.g. `BTC`                                                                                                                                                   |
|   \> availEq    |    String     |                                                                                                                                                     Currency equity                                                                                                                                                     |
|  \> spotInUse   |    String     |                                                                                                                                                       Spot in use                                                                                                                                                       |
|  \> borrowMmr   |    String     |                                                                                                                                          ~~Borrowing MMR (`USD`)~~(Deprecated)                                                                                                                                          |
|  \> borrowImr   |    String     |                                                                                                                                                  Borrowing IMR (`USD`)                                                                                                                                                  |
|  riskUnitData   |Array of object|                                                                                                                                                     Risk unit info                                                                                                                                                      |
|   \> riskUnit   |    String     |                                                                                                                                                  Risk unit, e.g. `BTC`                                                                                                                                                  |
|   \> indexUsd   |    String     |                                                                                                                                              Risk unit index price (`USD`)                                                                                                                                              |
|     \> mmr      |    String     |                                                                                                                                                  Risk unit MMR (`USD`)                                                                                                                                                  |
|     \> imr      |    String     |                                                                                                                                                  Risk unit IMR (`USD`)                                                                                                                                                  |
|     \> upl      |    String     |                                                                                                                                                  Risk unit UPL (`USD`)                                                                                                                                                  |
|     \> mr1      |    String     |                                                                                                  Stress testing value of spot and volatility (all derivatives, and spot trading in spot-derivatives risk offset mode)                                                                                                   |
|     \> mr2      |    String     |                                                                                                                             Stress testing value of time value of money (TVM) (for options)                                                                                                                             |
|     \> mr3      |    String     |                                                                                                                                  Stress testing value of volatility span (for options)                                                                                                                                  |
|     \> mr4      |    String     |                                                                                                                                   Stress testing value of basis (for all derivatives)                                                                                                                                   |
|     \> mr5      |    String     |                                                                                                                                Stress testing value of interest rate risk (for options)                                                                                                                                 |
|     \> mr6      |    String     |                                                                                             Stress testing value of extremely volatile markets (for all derivatives, and spot trading in spot-derivatives risk offset mode)                                                                                             |
|     \> mr7      |    String     |                                                                                                                          Stress testing value of position reduction cost (for all derivatives)                                                                                                                          |
|     \> mr8      |    String     |                                                                                                                                                    Borrowing MMR/IMR                                                                                                                                                    |
|     \> mr9      |    String     |                                                                                                                                                USDT-USDC-USD hedge risk                                                                                                                                                 |
| \> mr1Scenarios |    Object     |                                                                                                                                                  MR1 scenario analysis                                                                                                                                                  |
|\>\> volShockDown|    Object     | When the volatility shock down, the P&L of stress tests under different price volatility ratios, format in {`change`: `value`,...}  <br/>`change`: price volatility ratio (in percentage), e.g. `0.01` representing `1%`  <br/>`value`: P&L under stress tests, measured in `USD`  <br/>e.g. {"-0.15":"-2333.23", ...}  |
|  \>\> volSame   |    Object     |When the volatility keep the same, the P&L of stress tests under different price volatility ratios, format in {`change`: `value`,...}  <br/>`change`: price volatility ratio (in percentage), e.g. `0.01` representing `1%`  <br/>`value`: P&L under stress tests, measured in `USD`  <br/>e.g. {"-0.15":"-2333.23", ...}|
| \>\> volShockUp |    Object     |  When the volatility shock up, the P&L of stress tests under different price volatility ratios, format in {`change`: `value`,...}  <br/>`change`: price volatility ratio (in percentage), e.g. `0.01` representing `1%`  <br/>`value`: P&L under stress tests, measured in `USD`  <br/>e.g. {"-0.15":"-2333.23", ...}   |
|\> mr1FinalResult|    Object     |                                                                                                                                                 MR1 worst-case scenario                                                                                                                                                 |
|    \>\> pnl     |    String     |                                                                                                                                                 MR1 stress P&L (`USD`)                                                                                                                                                  |
| \>\> spotShock  |    String     |                                                                                                                    MR1 worst-case scenario spot shock (in percentage), e.g. `0.01` representing `1%`                                                                                                                    |
|  \>\> volShock  |    String     |                                                                                   MR1 worst-case scenario volatility shock  <br/>`down`: volatility shock down  <br/>`unchange`: volatility unchanged  <br/>`up`: volatility shock up                                                                                   |
|\> mr6FinalResult|    Object     |                                                                                                                                                  MR6 scenario analysis                                                                                                                                                  |
|    \>\> pnl     |    String     |                                                                                                                                                 MR6 stress P&L (`USD`)                                                                                                                                                  |
| \>\> spotShock  |    String     |                                                                                                                    MR6 worst-case scenario spot shock (in percentage), e.g. `0.01` representing `1%`                                                                                                                    |
|    \> delta     |    String     |                                               (Risk unit) The rate of change in the contract’s price with respect to changes in the underlying asset’s price.   <br/>When the price of the underlying changes by x, the option’s price changes by delta multiplied by x.                                                |
|    \> gamma     |    String     |                                                        (Risk unit) The rate of change in the delta with respect to changes in the underlying price.   <br/>When the price of the underlying changes by x%, the option’s delta changes by gamma multiplied by x%.                                                        |
|    \> theta     |    String     |                                                                                                                           (Risk unit) The change in contract price each day closer to expiry.                                                                                                                           |
|     \> vega     |    String     |                                                                                                                 (Risk unit) The change of the option price when underlying volatility increases by 1%.                                                                                                                  |
|  \> portfolios  |Array of object|                                                                                                                               Portfolios info  <br/>Only applicable to `Portfolio margin`                                                                                                                               |
|   \>\> instId   |    String     |                                                                                                                                           Instrument ID, e.g. `BTC-USDT-SWAP`                                                                                                                                           |
|  \>\> instType  |    String     |                                                                                                                        Instrument type  <br/>`SPOT`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                         |
|    \>\> amt     |    String     |                                                                                        When `instType` is `SPOT`, it represents spot in use.  <br/>When `instType` is `SWAP`/`FUTURES`/`OPTION`, it represents position amount.                                                                                         |
|  \>\> posSide   |    String     |                                                                                                                                  Position side  <br/>`long`  <br/>`short`  <br/>`net`                                                                                                                                   |
|   \>\> avgPx    |    String     |                                                                                                                                                   Average open price                                                                                                                                                    |
|   \>\> markPx   |    String     |                                                                                                                                                       Mark price                                                                                                                                                        |
|  \>\> floatPnl  |    String     |                                                                                                                                                        Float P&L                                                                                                                                                        |
|\>\> notionalUsd |    String     |                                                                                                                                                    Notional in `USD`                                                                                                                                                    |
|   \>\> delta    |    String     |                                     When `instType` is `SPOT`, it represents asset amount.  <br/>When `instType` is `SWAP`/`FUTURES`/`OPTION`, it represents the rate of change in the contract’s price with respect to changes in the underlying asset’s price (by Instrument ID).                                     |
|   \>\> gamma    |    String     |                                                                                The rate of change in the delta with respect to changes in the underlying price (by Instrument ID).   <br/>When `instType` is `SPOT`, it will returns "".                                                                                |
|   \>\> theta    |    String     |                                                                                             The change in contract price each day closer to expiry (by Instrument ID).  <br/>When `instType` is `SPOT`, it will returns "".                                                                                             |
|    \>\> vega    |    String     |                                                                                   The change of the option price when underlying volatility increases by 1% (by Instrument ID).  <br/>When `instType` is `SPOT`, it will returns "".                                                                                    |
| \>\> isRealPos  |    Boolean    |                                                                                          Whether it is a real position  <br/>If `instType` is `SWAP`/`FUTURES`/`OPTION`, it is a valid parameter, else it will returns `false`                                                                                          |
|    positions    |Array of object|                                                                                                                             Position info  <br/>Only applicable to `Multi-currency margin`                                                                                                                              |
|    \> instId    |    String     |                                                                                                                                           Instrument ID, e.g. `BTC-USDT-SWAP`                                                                                                                                           |
|   \> instType   |    String     |                                                                                                                        Instrument type  <br/>`SPOT`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                         |
|     \> amt      |    String     |                                                                                        When `instType` is `SPOT`, it represents spot in use.  <br/>When `instType` is `SWAP`/`FUTURES`/`OPTION`, it represents position amount.                                                                                         |
|   \> posSide    |    String     |                                                                                                                                  Position side  <br/>`long`  <br/>`short`  <br/>`net`                                                                                                                                   |
|    \> avgPx     |    String     |                                                                                                                                                   Average open price                                                                                                                                                    |
|    \> markPx    |    String     |                                                                                                                                                       Mark price                                                                                                                                                        |
|   \> floatPnl   |    String     |                                                                                                                                                        Float P&L                                                                                                                                                        |
|     \> imr      |    String     |                                                                                                                                                           IMR                                                                                                                                                           |
|   \> mgnRatio   |    String     |                                                                                                                                                      Margin ratio                                                                                                                                                       |
|    \> lever     |    String     |                                                                                                                                                        Leverage                                                                                                                                                         |
| \> notionalUsd  |    String     |                                                                                                                                                    Notional in `USD`                                                                                                                                                    |
|  \> isRealPos   |    Boolean    |                                                                                          Whether it is a real position  <br/>If `instType` is `SWAP`/`FUTURES`/`OPTION`, it is a valid parameter, else it will returns `false`                                                                                          |

---

### Set risk offset amount ###

Set risk offset amount. This does not represent the actual spot risk offset amount. Only applicable to Portfolio Margin Mode.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-riskOffset-amt`

>
>
> Request Example
>
>

```
# Set spot risk offset amount
POST /api/v5/account/set-riskOffset-amt
body
{
   "ccy": "BTC",
   "clSpotInUseAmt": "0.5"
}

```

#### Request Parameters ####

|  Parameter   | Type |Required|              Description               |
|--------------|------|--------|----------------------------------------|
|     ccy      |String|  Yes   |                Currency                |
|clSpotInUseAmt|String|  Yes   |Spot risk offset amount defined by users|

>
>
> Response Example
>
>

```
{
   "code": "0",
   "msg": "",
   "data": [
      {
         "ccy": "BTC",
         "clSpotInUseAmt": "0.5"
      }
   ]
}

```

#### Response Parameters ####

|  Parameters  |Types |              Description               |
|--------------|------|----------------------------------------|
|     ccy      |String|                Currency                |
|clSpotInUseAmt|String|Spot risk offset amount defined by users|

---

### Get Greeks ###

Retrieve a greeks list of all assets in the account.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Requests ####

`GET /api/v5/account/greeks`

>
>
> Request Example
>
>

```
# Get the greeks of all assets in the account
GET /api/v5/account/greeks

# Get the greeks of BTC assets in the account
GET /api/v5/account/greeks?ccy=BTC

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Retrieve a greeks list of all assets in the account
result = accountAPI.get_greeks()
print(result)

```

#### Request Parameters ####

|**Parameters**|**Types**|**Required**|      **Description**       |
|--------------|---------|------------|----------------------------|
|     ccy      | String  |     No     |Single currency, e.g. `BTC`.|

>
>
> Response Example
>
>

```
{
    "code":"0",
    "data":[
        {            
           "thetaBS": "",
           "thetaPA":"",
           "deltaBS":"",
           "deltaPA":"",
           "gammaBS":"",
           "gammaPA":"",
           "vegaBS":"",    
           "vegaPA":"",
           "ccy":"BTC",
           "ts":"1620282889345"
        }
    ],
    "msg":""
}

```

#### Response Parameters ####

|**Parameters**|**Types**|                                 **Description**                                 |
|--------------|---------|---------------------------------------------------------------------------------|
|   deltaBS    | String  |                     delta: Black-Scholes Greeks in dollars                      |
|   deltaPA    | String  |                             delta: Greeks in coins                              |
|   gammaBS    | String  |        gamma: Black-Scholes Greeks in dollars, only applicable to OPTION        |
|   gammaPA    | String  |                gamma: Greeks in coins, only applicable to OPTION                |
|   thetaBS    | String  |       theta: Black-Scholes Greeks in dollars, only applicable to `OPTION`       |
|   thetaPA    | String  |               theta: Greeks in coins, only applicable to `OPTION`               |
|    vegaBS    | String  |       vega: Black-Scholes Greeks in dollars, only applicable to `OPTION`        |
|    vegaPA    | String  |                vega：Greeks in coins, only applicable to `OPTION`                |
|     ccy      | String  |                                    Currency                                     |
|      ts      | String  |Time of getting Greeks, Unix timestamp format in milliseconds, e.g. 1597026383085|

---

### Get PM position limitation ###

Retrieve cross position limitation of SWAP/FUTURES/OPTION under Portfolio margin mode.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/position-tiers`

>
>
> Request Example
>
>

```
# Query limitation of BTC-USDT
GET /api/v5/account/position-tiers?instType=SWAP&uly=BTC-USDT

```

```
import okx.Account as Account

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading:0 , demo trading:1

accountAPI = Account.AccountAPI(apikey, secretkey, passphrase, False, flag)

# Get PM position limitation
result = accountAPI.get_account_position_tiers(
    instType="SWAP",
    uly="BTC-USDT"
)
print(result)

```

#### Request Parameters ####

|**Parameter**|**Type**|**Required**|                                                                                   **Description**                                                                                   |
|-------------|--------|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  instType   | String |    Yes     |                                                             Instrument type  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                             |
|     uly     | String |Conditional |   Single underlying or multiple underlyings (no more than 3) separated with comma.  <br/>Either `uly` or `instFamily` is required. If both are passed, `instFamily` will be used.   |
| instFamily  | String |Conditional |Single instrument family or instrument families (no more than 5) separated with comma.  <br/>Either `uly` or `instFamily` is required. If both are passed, `instFamily` will be used.|

>
>
> Response Example
>
>

```
{
  "code": "0",
  "data": [
    {
      "instFamily": "BTC-USDT",
      "maxSz": "10000",
      "posType": "",
      "uly": "BTC-USDT"
    }
  ],
  "msg": ""
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                                                                                                                                                                                                                        **Description**                                                                                                                                                                                                                                                                                         |
|-------------|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     uly     | String |                                                                                                                                                                                                                                                                    Underlying  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                                                                    |
| instFamily  | String |                                                                                                                                                                                                                                                                Instrument family  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                                                                 |
|    maxSz    | String |                                                                                                                                                                                                                                                                                    Max number of positions                                                                                                                                                                                                                                                                                     |
|   posType   | String |Limitation of position type, only applicable to cross `OPTION` under portfolio margin mode   <br/>`1`: Contracts of pending orders and open positions for all derivatives instruments. `2`: Contracts of pending orders for all derivatives instruments. `3`: Pending orders for all derivatives instruments. `4`: Contracts of pending orders and open positions for all derivatives instruments on the same side. `5`: Pending orders for one derivatives instrument. `6`: Contracts of pending orders and open positions for one derivatives instrument. `7`: Contracts of one pending order.|

---

### Activate option ###

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/activate-option`

>
>
> Request Example
>
>

```
POST /api/v5/account/activate-option

```

#### Request Parameters ####

None

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
        "ts": "1600000000000"
    }]
}

```

#### Response Parameters ####

|Parameter| Type |  Description  |
|---------|------|---------------|
|   ts    |String|Activation time|

---

### Set auto loan ###

Only applicable to `Multi-currency margin` and `Portfolio margin`

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-auto-loan`

>
>
> Request Example
>
>

```
POST /api/v5/account/set-auto-loan
body
{
    "autoLoan":true,
}

```

#### Request Parameters ####

|Parameter| Type  |Required|                                              Description                                               |
|---------|-------|--------|--------------------------------------------------------------------------------------------------------|
|autoLoan |Boolean|   No   |Whether to automatically make loans   <br/>Valid values are `true`, `false`   <br/>The default is `true`|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [{
        "autoLoan": true
    }]
}

```

#### Response Parameters ####

|Parameter| Type  |            Description            |
|---------|-------|-----------------------------------|
|autoLoan |Boolean|Whether to automatically make loans|

---

### Preset account mode switch ###

Pre-set the required information for account mode switching. When switching from `Portfolio margin mode` back to `Spot and futures mode` / `Multi-currency margin mode`, and if there are existing cross-margin contract positions, it is mandatory to pre-set leverage.

If the user does not follow the required settings, they will receive an error message during the pre-check or when setting the account mode.

#### Rate limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/account-level-switch-preset`

>
>
> Request example
>
>

```
# 1. Spot and futures mode -> Multi-currency margin mode
POST /api/v5/account/account-level-switch-preset
{
    "acctLv": "3"
}

# 2. Multi-currency margin mode -> Spot and futures mode
POST /api/v5/account/account-level-switch-preset
{
    "acctLv": "2"
}

# 3. Portfolio margin mode -> Spot and futures mode/Multi-currency margin mode, the user have cross-margin contract position and lever is required
POST /api/v5/account/account-level-switch-preset
{
    "acctLv": "2",
    "lever": "10"
}

# 4. Portfolio margin mode -> Spot and futures mode/Multi-currency margin mode, the user doesn't have cross-margin contract position and lever is not required
POST /api/v5/account/account-level-switch-preset
{
    "acctLv": "3"
}

```

#### Request parameters ####

|**Parameter** |**Type**|**Required**|                                                                                                                                                          **Description**                                                                                                                                                           |
|--------------|--------|------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    acctLv    | String |    Yes     |                                                                                                        Account mode  <br/>`2`: Spot and futures mode  <br/>`3`: Multi-currency margin code  <br/>`4`: Portfolio margin mode                                                                                                        |
|    lever     | String |  Optional  |                                                                               Leverage  <br/> Required when switching from Portfolio margin mode to Spot and futures mode or Multi-currency margin mode, and the user holds cross-margin positions.                                                                                |
|riskOffsetType| String |  Optional  |~~Risk offset type  <br/>`1`: Spot-derivatives (USDT) risk offset  <br/>`2`: Spot-derivatives (Crypto) risk offset  <br/>`3`: Derivatives only mode  <br/>`4`: Spot-derivatives (USDC) risk offset  <br/> Applicable when switching from Spot and futures mode or Multi-currency margin mode to Portfolio margin mode.~~(Deprecated)|

>
>
> Response example 1. Spot and futures mode -\> Multi-currency margin mode
>
>

```
{
    "acctLv": "3",
    "curAcctLv": "2",
    "lever": "",
    "riskOffsetType": ""
}

```

>
>
> Response example 2. Multi-currency margin mode -\> Spot and futures mode
>
>

```
{
    "acctLv": "2",
    "curAcctLv": "3",
    "lever": "",
    "riskOffsetType": ""
}

```

>
>
> Response example 3. Portfolio margin mode -\> Spot and futures mode/Multi-currency margin mode
>
>

```
{
    "acctLv": "2",
    "curAcctLv": "4",
    "lever": "10",
    "riskOffsetType": ""
}

```

>
>
> Response example 4. Portfolio margin mode -\> Spot and futures mode/Multi-currency margin mode
>
>

```
{
    "acctLv": "3",
    "curAcctLv": "4",
    "lever": "",
    "riskOffsetType": ""
}

```

#### Response parameters ####

|**Parameter** |**Type**|                  **Description**                  |
|--------------|--------|---------------------------------------------------|
|  curAcctLv   | String |               Current account mode                |
|    acctLv    | String |             Account mode after switch             |
|    lever     | String |The leverage user preset for cross-margin positions|
|riskOffsetType| String | ~~The risk offset type user preset~~(Deprecated)  |

lever: When switching from Portfolio margin mode to Spot and futures mode or Multi-currency margin mode, if the user holds cross-margin positions, this parameter must be provided; otherwise, error code 50014 will occur. The maximum allowable value for this parameter is determined by the smallest maximum leverage based on current position sizes under the target mode. For example, if a user in PM mode holds three cross-margin positions, with maximum allowable leverage of 20x, 50x, and 100x respectively, the maximum leverage it can set is 20x.

---

### Precheck account mode switch ###

Retrieve precheck information for account mode switching.

#### Rate limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/set-account-switch-precheck`

>
>
> Request example
>
>

```
GET /api/v5/account/set-account-switch-precheck?acctLv=3

```

#### Request parameters ####

|**Parameter**|**Type**|**Required**|                                                             **Description**                                                             |
|-------------|--------|------------|-----------------------------------------------------------------------------------------------------------------------------------------|
|   acctLv    | String |    Yes     |Account mode  <br/>`1`: Spot mode  <br/>`2`: Spot and futures mode  <br/>`3`: Multi-currency margin code  <br/>`4`: Portfolio margin mode|

>
>
> Response example. Spot and futures mode-\>Portfolio margin mode, need to finish the Q&A on web or mobile first
>
>

```
{
    "code": "51070",
    "data": [],
    "msg": "You do not meet the requirements for switching to this account mode. Please upgrade the account mode on the OKX website or App"
}

```

>
>
> Response example. Spot and futures mode-\>Portfolio margin mode, unmatched information. sCode 1
>
>

```
{
    "code": "0",
    "data": [
        {
            "acctLv": "3",
            "curAcctLv": "1",
            "mgnAft": null,
            "mgnBf": null,
            "posList": [],
            "posTierCheck": [],
            "riskOffsetType": "",
            "sCode": "1",
            "unmatchedInfoCheck": [
                {
                    "posList": [],
                    "totalAsset": "",
                    "type": "repay_borrowings"
                }
            ]
        }
    ],
    "msg": ""
}

```

>
>
> Response example. Portfolio margin mode-\>Multi-currency margin code, the user has cross-margin positions but doesn't preset leverage. sCode 3
>
>

```
{
    "code": "0",
    "data": [
        {
            "acctLv": "3",
            "curAcctLv": "4",
            "mgnAft": null,
            "mgnBf": null,
            "posList": [
                {
                    "lever": "50",
                    "posId": "2005456500916518912"
                },
                {
                    "lever": "10",
                    "posId": "2005456108363218944"
                },
                {
                    "lever": "100",
                    "posId": "2005456332909477888"
                },
                {
                    "lever": "1",
                    "posId": "2005456415990251520"
                }
            ],
            "posTierCheck": [],
            "riskOffsetType": "",
            "sCode": "3",
            "unmatchedInfoCheck": []
        }
    ],
    "msg": ""
}

```

>
>
> Response example. Portfolio margin mode-\>Multi-currency margin code, the user finishes the leverage setting to 10, and passes the position tier an margin check. sCode 0.
>
>

```
{
    "code": "0",
    "data": [
        {
            "acctLv": "3",
            "curAcctLv": "4",
            "mgnAft": {
                "acctAvailEq": "106002.2061970689",
                "details": [],
                "mgnRatio": "148.1652396878421"
            },
            "mgnBf": {
                "acctAvailEq": "77308.89735228613",
                "details": [],
                "mgnRatio": "4.460069474634038"
            },
            "posList": [
                {
                    "lever": "50",
                    "posId": "2005456500916518912"
                },
                {
                    "lever": "50",
                    "posId": "2005456108363218944"
                },
                {
                    "lever": "50",
                    "posId": "2005456332909477888"
                },
                {
                    "lever": "50",
                    "posId": "2005456415990251520"
                }
            ],
            "posTierCheck": [],
            "riskOffsetType": "",
            "sCode": "0",
            "unmatchedInfoCheck": []
        }
    ],
    "msg": ""
}

```

#### Response parameters ####

|  **Parameter**   |    **Type**    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|------------------|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|      sCode       |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Check code  <br/>`0`: pass all checks  <br/>`1`: unmatched information  <br/>`3`: leverage setting is not finished  <br/>`4`: position tier or margin check is not passed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|    curAcctLv     |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Account mode  <br/>`1`: Spot mode  <br/>`2`: Spot and futures mode  <br/>`3`: Multi-currency margin code  <br/>`4`: Portfolio margin mode  <br/> Applicable to all scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|      acctLv      |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Account mode  <br/>`1`: Spot mode  <br/>`2`: Spot and futures mode  <br/>`3`: Multi-currency margin code  <br/>`4`: Portfolio margin mode  <br/> Applicable to all scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|  riskOffsetType  |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ~~Risk offset type  <br/>`1`: Spot-derivatives (USDT) risk offset  <br/>`2`: Spot-derivatives (Crypto) risk offset  <br/>`3`: Derivatives only mode  <br/>`4`: Spot-derivatives (USDC) risk offset  <br/> Applicable when acctLv is `4`, return "" for other scenarios  <br/> If the user preset before, it will use the user's specified value; if not, the default value `3` will be applied~~(Deprecated)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|unmatchedInfoCheck|Array of objects|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Unmatched information list  <br/> Applicable when sCode is `1`, indicating there is unmatched information; return [] for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|    \>\> type     |     String     |Unmatched information type  <br/>`asset_validation`: asset validation  <br/>`pending_orders`: order book pending orders  <br/>`pending_algos`: pending algo orders and trading bots, such as iceberg, recurring buy and twap  <br/>`isolated_margin`: isolated margin (quick margin and manual transfers)  <br/>`isolated_contract`: isolated contract (manual transfers)  <br/>`contract_long_short`: contract positions in hedge mode  <br/>`cross_margin`: cross margin positions  <br/>`cross_option_buyer`: cross options buyer  <br/>`isolated_option`: isolated options (only applicable to spot mode)  <br/>`growth_fund`: positions with trial funds  <br/>`all_positions`: all positions  <br/>`spot_lead_copy_only_simple_single`: copy trader and customize lead trader can only use spot mode or spot and futures mode  <br/>`stop_spot_custom`: spot customize copy trading  <br/>`stop_futures_custom`: contract customize copy trading  <br/>`lead_portfolio`: lead trader can not switch to portfolio margin mode  <br/>`futures_smart_sync`: you can not switch to spot mode when having smart contract sync  <br/>`vip_fixed_loan`: vip loan  <br/>`repay_borrowings`: borrowings  <br/>`compliance_restriction`: due to compliance restrictions, margin trading services are unavailable  <br/>`compliance_kyc2`: Due to compliance restrictions, margin trading services are unavailable. If you are not a resident of this region, please complete kyc2 identity verification.|
| \>\> totalAsset  |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Total assets  <br/> Only applicable when type is `asset_validation`, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|   \>\> posList   |Array of string |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Unmatched position list (posId)  <br/> Applicable when type is related to positions, return [] for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|     posList      |Array of objects|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Cross margin contract position list  <br/> Applicable when curAcctLv is `4`, acctLv is `2/3` and user has cross margin contract positions  <br/> Applicable when sCode is `0/3/4`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|     \> posId     |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Position ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|     \> lever     |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Leverage of cross margin contract positions after switch                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|   posTierCheck   |Array of objects|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Cross margin contract positions that don't pass the position tier check  <br/> Only applicable when sCode is `4`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|  \> instFamily   |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Instrument family                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|   \> instType    |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Instrument type  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|      \> pos      |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Quantity of position                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|     \> lever     |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Leverage                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|     \> maxSz     |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                If acctLv is `2/3`, it refers to the maximum position size allowed at the current leverage. If acctLv is `4`, it refers to the maximum position limit for cross-margin positions under the PM mode.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|      mgnBf       |     Object     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                The margin related information before switching account mode  <br/> Applicable when sCode is `0/4`, return null for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|  \> acctAvailEq  |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Account available equity in USD  <br/> Applicable when curAcctLv is `3/4`, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|   \> mgnRatio    |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Margin ratio in USD  <br/> Applicable when curAcctLv is `3/4`, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|    \> details    |Array of objects|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Detailed information  <br/> Only applicable when curAcctLv is `2`, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|     \>\> ccy     |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|   \>\> availEq   |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Available equity of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|  \>\> mgnRatio   |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Margin ratio of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|      mgnAft      |     Object     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 The margin related information after switching account mode  <br/> Applicable when sCode is `0/4`, return null for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|  \> acctAvailEq  |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Account available equity in USD  <br/> Applicable when acctLv is `3/4`, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|   \> mgnRatio    |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Margin ratio in USD  <br/> Applicable when acctLv is `3/4`, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|    \> details    |Array of objects|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Detailed information  <br/> Only applicable when acctLv is `2`, return "" for other scenarios                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     \>\> ccy     |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|   \>\> availEq   |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Available equity of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|  \>\> mgnRatio   |     String     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Margin ratio of currency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |

---

### Set account mode ###

You need to set on the Web/App for the first set of every account mode. If users plan to switch account modes while holding positions, they should first call the preset endpoint to conduct necessary settings, then call the precheck endpoint to get unmatched information, margin check, and other related information, and finally call the account mode switch endpoint to switch account modes.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-account-level`

>
>
> Request Example
>
>

```
POST /api/v5/account/set-account-level
body
{
    "acctLv":"1"
}

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                Description                                                                |
|---------|------|--------|-------------------------------------------------------------------------------------------------------------------------------------------|
| acctLv  |String|  Yes   |Account mode  <br/>`1`: Spot mode  <br/>`2`: Spot and futures mode   <br/>`3`: Multi-currency margin code   <br/>`4`: Portfolio margin mode|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "acctLv": "1"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|Parameter| Type |Description |
|---------|------|------------|
| acctLv  |String|Account mode|

---

### Set collateral assets ###

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/set-collateral-assets`

>
>
> Request Example
>
>

```
# Set all assets to be collateral
POST /api/v5/account/set-collateral-assets
body
{
    "type":"all",
    "collateralEnabled":true
}

# Set custom assets to be non-collateral
POST /api/v5/account/set-collateral-assets
body
{
    "type":"custom",
    "ccyList":["BTC","ETH"],
    "collateralEnabled":false
}

```

#### Request Parameters ####

|    Parameter    |     Type      | Required  |                                                       Description                                                       |
|-----------------|---------------|-----------|-------------------------------------------------------------------------------------------------------------------------|
|      type       |    String     |   true    |                                             Type  <br/>`all`  <br/>`custom`                                             |
|collateralEnabled|    Boolean    |   true    |Whether or not set the assets to be collateral  <br/>`true`: Set to be collateral  <br/>`false`: Set to be non-collateral|
|     ccyList     |Array of string|conditional|                  Currency list, e.g. ["BTC","ETH"]  <br/>If type=`custom`, the parameter is required.                   |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data" :[
      {
        "type":"all",
        "ccyList":["BTC","ETH"],
        "collateralEnabled":false
      }
    ]  
}

```

#### Response Parameters ####

|    Parameter    |     Type      |                                                       Description                                                       |
|-----------------|---------------|-------------------------------------------------------------------------------------------------------------------------|
|      type       |    String     |                                             Type  <br/>`all`  <br/>`custom`                                             |
|collateralEnabled|    Boolean    |Whether or not set the assets to be collateral  <br/>`true`: Set to be collateral  <br/>`false`: Set to be non-collateral|
|     ccyList     |Array of string|                                            Currency list, e.g. ["BTC","ETH"]                                            |

---

### Get collateral assets ###

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/collateral-assets`

>
>
> Request Example
>
>

```
GET /api/v5/account/collateral-assets

```

#### Request Parameters ####

| **Parameters**  |**Types**|**Required**|                                            **Description**                                            |
|-----------------|---------|------------|-------------------------------------------------------------------------------------------------------|
|       ccy       | String  |     No     |Single currency or multiple currencies (no more than 20) separated with comma, e.g. "BTC" or "BTC,ETH".|
|collateralEnabled| Boolean |     No     |                                Whether or not to be a collateral asset                                |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data" :[
          {
            "ccy":"BTC",
            "collateralEnabled": true
          },
          {
            "ccy":"ETH",
            "collateralEnabled": false
          }
    ]  
}

```

#### Response Parameters ####

|  **Parameter**  |**Type**|            **Description**            |
|-----------------|--------|---------------------------------------|
|       ccy       | String |         Currency, e.g. `BTC`          |
|collateralEnabled|Boolean |Whether or not to be a collateral asset|

---

### Reset MMP Status ###

You can unfreeze by this endpoint once MMP is triggered.  

Only applicable to Option in Portfolio Margin mode, and MMP privilege is required.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/mmp-reset`

>
>
> Request Example
>
>

```
POST /api/v5/account/mmp-reset
body
{
    "instType":"OPTION",
    "instFamily":"BTC-USD"
}

```

#### Request Parameters ####

|Parameter | Type |Required|                        Description                        |
|----------|------|--------|-----------------------------------------------------------|
| instType |String|   No   |Instrument type  <br/>`OPTION`  <br/>The default is `OPTION|
|instFamily|String|  Yes   |                     Instrument family                     |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
            "result":true
        }
    ]
}

```

#### Response Parameters ####

|Parameter| Type  |             Description             |
|---------|-------|-------------------------------------|
| result  |Boolean|Result of the request `true`, `false`|

---

### Set MMP ###

This endpoint is used to set MMP configure  

Only applicable to Option in Portfolio Margin mode, and MMP privilege is required.

What is MMP?  
Market Maker Protection (MMP) is an automated mechanism for market makers to pull their quotes when their executions exceed a certain threshold(`qtyLimit`) within a certain time frame(`timeInterval`). Once mmp is triggered, any pre-existing mmp pending orders(`mmp` and `mmp\_and\_post\_only` orders) will be automatically canceled, and new orders tagged as MMP will be rejected for a specific duration(`frozenInterval`), or until manual reset by makers.  

How to enable MMP?  
Please send an email to institutional@okx.com or contact your business development (BD) manager to apply for MMP. The initial threshold will be upon your request.

#### Rate Limit: 2 requests per 10 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/account/mmp-config`

>
>
> Request Example
>
>

```
POST /api/v5/account/mmp-config
body
{
    "instFamily":"BTC-USD",
    "timeInterval":"5000",
    "frozenInterval":"2000",
    "qtyLimit": "100"
}

```

#### Request Parameters ####

|  Parameter   | Type |Required|                                                   Description                                                    |
|--------------|------|--------|------------------------------------------------------------------------------------------------------------------|
|  instFamily  |String|  Yes   |                                                Instrument family                                                 |
| timeInterval |String|  Yes   |               Time window (ms). MMP interval where monitoring is done  <br/>"0" means disable MMP                |
|frozenInterval|String|  Yes   |Frozen period (ms).   <br/>"0" means the trade will remain frozen until you request "Reset MMP Status" to unfrozen|
|   qtyLimit   |String|  Yes   |                            Trade qty limit in number of contracts  <br/>Must be \> 0                             |

>
>
> Response Example
>
>

```
{
  "code": "0",
  "msg": "",
  "data": [
    {
        "frozenInterval":"2000",
        "instFamily":"BTC-USD",
        "qtyLimit": "100",
        "timeInterval":"5000"
    }
  ]
}

```

#### Response Parameters ####

|  Parameter   | Type |                      Description                      |
|--------------|------|-------------------------------------------------------|
|  instFamily  |String|                   Instrument family                   |
| timeInterval |String|Time window (ms). MMP interval where monitoring is done|
|frozenInterval|String|                  Frozen period (ms).                  |
|   qtyLimit   |String|        Trade qty limit in number of contracts         |

---

### GET MMP Config ###

This endpoint is used to get MMP configure information  

Only applicable to Option in Portfolio Margin mode, and MMP privilege is required.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/account/mmp-config`

>
>
> Request Example
>
>

```
GET /api/v5/account/mmp-config?instFamily=BTC-USD

```

#### Request Parameters ####

|Parameter | Type |Required|   Description   |
|----------|------|--------|-----------------|
|instFamily|String|   No   |Instrument Family|

>
>
> Response Example
>
>

```
{
  "code": "0",
  "data": [
    {
      "frozenInterval": "2000",
      "instFamily": "ETH-USD",
      "mmpFrozen": true,
      "mmpFrozenUntil": "1000",
      "qtyLimit": "10",
      "timeInterval": "5000"
    }
  ],
  "msg": ""
}

```

#### Response Parameters ####

|**Parameter** |**Type**|                                                          **Description**                                                           |
|--------------|--------|------------------------------------------------------------------------------------------------------------------------------------|
|  instFamily  | String |                                                         Instrument Family                                                          |
|  mmpFrozen   |Boolean |                                       Whether MMP is currently triggered. `true` or `false`                                        |
|mmpFrozenUntil| String |If frozenInterval is configured and mmpFrozen = True, it is the time interval (in ms) when MMP is no longer triggered, otherwise "".|
| timeInterval | String |                                      Time window (ms). MMP interval where monitoring is done                                       |
|frozenInterval| String |        Frozen period (ms). If it is "0", the trade will remain frozen until manually reset and `mmpFrozenUntil` will be "".        |
|   qtyLimit   | String |                                               Trade qty limit in number of contracts                                               |

---

### POST / Place order ###

You can place an order only if you have sufficient funds.

#### Rate Limit: 60 requests per 2 seconds ####

#### Rate Limit of lead instruments for Copy Trading: 4 requests per 2 seconds ####

#### Rate limit rule (except Options): User ID + Instrument ID ####

#### Rate limit rule (Options only): User ID + Instrument Family ####

#### Permission: Trade ####

Rate limit of this endpoint will also be affected by the rules [Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit) and [Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

#### HTTP Request ####

`POST /api/v5/trade/order`

>
>
> Request Example
>
>

```
 place order for SPOT
 POST /api/v5/trade/order
 body
 {
    "instId":"BTC-USDT",
    "tdMode":"cash",
    "clOrdId":"b15",
    "side":"buy",
    "ordType":"limit",
    "px":"2.15",
    "sz":"2"
}

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Spot mode, limit order
result = tradeAPI.place_order(
    instId="BTC-USDT",
    tdMode="cash",
    clOrdId="b15",
    side="buy",
    ordType="limit",
    px="2.15",
    sz="2"
)
print(result)

```

#### Request Parameters ####

|       Parameter       |     Type      | Required  |                                                                                                                                                                                                                                                               Description                                                                                                                                                                                                                                                                |
|-----------------------|---------------|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        instId         |    String     |    Yes    |                                                                                                                                                                                                                                                      Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                      |
|        tdMode         |    String     |    Yes    |                                                                                                                                                                  Trade mode  <br/>Margin mode `cross` `isolated`  <br/>Non-Margin mode `cash`  <br/>`spot_isolated` (only applicable to SPOT lead trading, `tdMode` should be `spot_isolated` for `SPOT` lead trading.)                                                                                                                                                                  |
|          ccy          |    String     |    No     |                                                                                                                                                                                                       Margin currency   <br/>Applicable to all `isolated` `MARGIN` orders and `cross` `MARGIN` orders in `Spot and futures mode`.                                                                                                                                                                                                        |
|        clOrdId        |    String     |    No     |                                                                                                                    Client Order ID as assigned by the client   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>Only applicable to general order. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                    |
|          tag          |    String     |    No     |                                                                                                                                                                                                           Order tag   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                            |
|         side          |    String     |    Yes    |                                                                                                                                                                                                                                                         Order side, `buy` `sell`                                                                                                                                                                                                                                                         |
|        posSide        |    String     |Conditional|                                                                                                                                                                        Position side   <br/>The default is `net` in the `net` mode   <br/>It is required in the `long/short` mode, and can only be `long` or `short`.   <br/>Only applicable to `FUTURES`/`SWAP`.                                                                                                                                                                        |
|        ordType        |    String     |    Yes    |Order type   <br/>`market`: Market order   <br/>`limit`: Limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures).  <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)   <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)|
|          sz           |    String     |    Yes    |                                                                                                                                                                                                                                                         Quantity to buy or sell                                                                                                                                                                                                                                                          |
|          px           |    String     |Conditional|                                                                                                                                                               Order price. Only applicable to `limit`,`post_only`,`fok`,`ioc`,`mmp`,`mmp_and_post_only` order.  <br/>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                |
|         pxUsd         |    String     |Conditional|                                                                                                                                                                               Place options orders in `USD`   <br/>Only applicable to options   <br/>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                                |
|         pxVol         |    String     |Conditional|                                                                                                                                                         Place options orders based on implied volatility, where 1 represents 100%   <br/>Only applicable to options   <br/>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                          |
|      reduceOnly       |    Boolean    |    No     |                                                                                                                        Whether orders can only reduce in position size.   <br/>Valid options: `true` or `false`. The default value is `false`.  <br/>Only applicable to `MARGIN` orders, and `FUTURES`/`SWAP` orders in `net` mode   <br/>Only applicable to `Spot and futures mode` and `Multi-currency margin`                                                                                                                         |
|        tgtCcy         |    String     |    No     |                                                                                                                                                    Whether the target currency uses the quote or base currency.  <br/>`base_ccy`: Base currency ,`quote_ccy`: Quote currency   <br/>Only applicable to `SPOT` Market Orders  <br/>Default is `quote_ccy` for buy, `base_ccy` for sell                                                                                                                                                    |
|       banAmend        |    Boolean    |    No     |                                                                                                              Whether to disallow the system from amending the size of the SPOT Market Order.  <br/>Valid options: `true` or `false`. The default value is `false`.  <br/>If `true`, system will not amend and reject the market order if user does not have sufficient funds.   <br/>Only applicable to SPOT Market Orders                                                                                                               |
|     quickMgnType      |    String     |    No     |                                                                                                                                                                               ~~Quick Margin type. Only applicable to Quick Margin Mode of isolated margin   <br/>`manual`, `auto_borrow`, `auto_repay`  <br/>The default value is `manual`~~(Deprecated)                                                                                                                                                                                |
|         stpId         |    String     |    No     |                                                                                                                                                             ~~Self trade prevention ID. Orders from the same master account with the same ID will be prevented from self trade.  <br/>Numerical integers defined by user in the range of 1\<= x\<= 999999999~~ (deprecated)                                                                                                                                                              |
|        stpMode        |    String     |    No     |                                                                                                                                                                                          Self trade prevention mode.   <br/>Default to cancel maker   <br/>`cancel_maker`,`cancel_taker`, `cancel_both`  <br/>Cancel both does not support FOK.                                                                                                                                                                                          |
|    attachAlgoOrds     |Array of object|    No     |                                                                                                                                                                                                                                              TP/SL information attached when placing order                                                                                                                                                                                                                                               |
| \> attachAlgoClOrdId  |    String     |    No     |                                                                                                                            Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.                                                                                                                            |
|    \> tpTriggerPx     |    String     |Conditional|                                                                                                                                                                                              Take-profit trigger price  <br/>For condition TP order, if you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                                                              |
|      \> tpOrdPx       |    String     |Conditional|                                                                                                Take-profit order price   <br/><br/>For condition TP order, if you fill in this parameter, you should fill in the take-profit trigger price as well.   <br/>For limit TP order, you need to fill in this parameter, take-profit trigger needn‘t to be filled.   <br/>If the price is -1, take-profit will be executed at the market price.                                                                                                |
|     \> tpOrdKind      |    String     |    No     |                                                                                                                                                                                                                             TP order kind  <br/>`condition`  <br/>`limit`  <br/> The default is `condition`                                                                                                                                                                                                                              |
|    \> slTriggerPx     |    String     |Conditional|                                                                                                                                                                                                                Stop-loss trigger price  <br/>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                                                                |
|      \> slOrdPx       |    String     |Conditional|                                                                                                                                                                           Stop-loss order price  <br/>If you fill in this parameter, you should fill in the stop-loss trigger price.  <br/>If the price is -1, stop-loss will be executed at the market price.                                                                                                                                                                           |
|  \> tpTriggerPxType   |    String     |    No     |                                                                                                                                                                                                 Take-profit trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price   <br/>The default is last                                                                                                                                                                                                 |
|  \> slTriggerPxType   |    String     |    No     |                                                                                                                                                                                                  Stop-loss trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price   <br/>The default is last                                                                                                                                                                                                  |
|         \> sz         |    String     |Conditional|                                                                                                                                                                                                                       Size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                                                                                                                                       |
|\> amendPxOnTriggerType|    String     |    No     |                                                                                                                                                           Whether to enable Cost-price SL. Only applicable to SL order of split TPs. Whether `slTriggerPx` will move to `avgPx` when the first TP order is triggered  <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                                                                                            |

>
>
> Response Example
>
>

```
{
  "code": "0",
  "msg": "",
  "data": [
    {
      "clOrdId": "oktswap6",
      "ordId": "312269865356374016",
      "tag": "",
      "ts":"1695190491421",
      "sCode": "0",
      "sMsg": ""
    }
  ],
  "inTime": "1695190491421339",
  "outTime": "1695190491423240"
}

```

#### Response Parameters ####

|**Parameter**|    **Type**    |                                                                            **Description**                                                                             |
|-------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    code     |     String     |                                                                   The result code, `0` means success                                                                   |
|     msg     |     String     |                                                               The error message, empty if the code is 0                                                                |
|    data     |Array of objects|                                                             Array of objects contains the response results                                                             |
|  \> ordId   |     String     |                                                                                Order ID                                                                                |
| \> clOrdId  |     String     |                                                               Client Order ID as assigned by the client                                                                |
|   \> tag    |     String     |                                                                               Order tag                                                                                |
|    \> ts    |     String     |                   Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. `1597026383085`                   |
|  \> sCode   |     String     |                                                       The code of the event execution result, `0` means success.                                                       |
|   \> sMsg   |     String     |                                                            Rejection or success message of event execution.                                                            |
|   inTime    |     String     |Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. `1597026383085123`   <br/>The time is recorded after authentication.|
|   outTime   |     String     |                          Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. `1597026383085123`                           |
tdMode  
Trade Mode, when placing an order, you need to specify the trade mode.  
**Spot mode:**  
\- SPOT and OPTION buyer: cash  
**Spot and futures mode:**  
\- Isolated MARGIN: isolated  
\- Cross MARGIN: cross  
\- SPOT: cash  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated  
**Multi-currency margin mode:**  
\- Isolated MARGIN: isolated  
\- Cross SPOT: cross  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated  
**Portfolio margin:**  
\- Isolated MARGIN: isolated  
\- Cross SPOT: cross  
\- Cross FUTURES/SWAP/OPTION: cross  
\- Isolated FUTURES/SWAP/OPTION: isolated clOrdId  
clOrdId is a user-defined unique ID used to identify the order. It will be included in the response parameters if you have specified during order submission, and can be used as a request parameter to the endpoints to query, cancel and amend orders.   
clOrdId must be unique among the clOrdIds of all pending orders. posSide  
Position side, this parameter is not mandatory in **net** mode. If you pass it through, the only valid value is **net**.  
In **long/short** mode, it is mandatory. Valid values are **long** or **short**.  
In **long/short** mode, **side** and **posSide** need to be specified in the combinations below:  
Open long: buy and open long (side: fill in buy; posSide: fill in long)  
Open short: sell and open short (side: fill in sell; posSide: fill in short)  
Close long: sell and close long (side: fill in sell; posSide: fill in long)  
Close short: buy and close short (side: fill in buy; posSide: fill in short)  
Portfolio margin mode: Expiry Futures and Perpetual Futures only support net mode ordType   
Order type. When creating a new order, you must specify the order type. The order type you specify will affect: 1) what order parameters are required, and 2) how the matching system executes your order. The following are valid order types:   
limit: Limit order, which requires specified sz and px.   
market: Market order. For SPOT and MARGIN, market order will be filled with market price (by swiping opposite order book). For Expiry Futures and Perpetual Futures, market order will be placed to order book with most aggressive price allowed by Price Limit Mechanism. For OPTION, market order is not supported yet. As the filled price for market orders cannot be determined in advance, OKX reserves/freezes your quote currency by an additional 5% for risk check.   
post\_only: Post-only order, which the order can only provide liquidity to the market and be a maker. If the order would have executed on placement, it will be canceled instead.   
fok: Fill or kill order. If the order cannot be fully filled, the order will be canceled. The order would not be partially filled.   
ioc: Immediate or cancel order. Immediately execute the transaction at the order price, cancel the remaining unfilled quantity of the order, and the order quantity will not be displayed in the order book.   
optimal\_limit\_ioc: Market order with ioc (immediate or cancel). Immediately execute the transaction of this market order, cancel the remaining unfilled quantity of the order, and the order quantity will not be displayed in the order book. Only applicable to Expiry Futures and Perpetual Futures. sz  
Quantity to buy or sell.   
For SPOT/MARGIN Buy and Sell Limit Orders, it refers to the quantity in base currency.   
For MARGIN Buy Market Orders, it refers to the quantity in quote currency.   
For MARGIN Sell Market Orders, it refers to the quantity in base currency.   
For SPOT Market Orders, it is set by tgtCcy.   
For FUTURES/SWAP/OPTION orders, it refers to the number of contracts. reduceOnly  
When placing an order with this parameter set to true, it means that the order will reduce the size of the position only  
For the same MARGIN instrument, the coin quantity of all reverse direction pending orders adds `sz` of new `reduceOnly` order cannot exceed the position assets. After the debt is paid off, if there is a remaining size of orders, the position will not be opened in reverse, but will be traded in SPOT.  
For the same FUTURES/SWAP instrument, the sum of the current order size and all reverse direction reduce-only pending orders which’s price-time priority is higher than the current order, cannot exceed the contract quantity of position.  
Only applicable to `Spot and futures mode` and `Multi-currency margin`  
Only applicable to `MARGIN` orders, and `FUTURES`/`SWAP` orders in `net` mode  
Notice: Under long/short mode of Expiry Futures and Perpetual Futures, all closing orders apply the reduce-only feature which is not affected by this parameter. tgtCcy  
This parameter is used to specify the order quantity in the order request is denominated in the quantity of base or quote currency. This is applicable to SPOT Market Orders only.  
Base currency: base\_ccy  
Quote currency: quote\_ccy  
If you use the Base Currency quantity for buy market orders or the Quote Currency for sell market orders, please note:  
1. If the quantity you enter is greater than what you can buy or sell, the system will execute the order according to your maximum buyable or sellable quantity. If you want to trade according to the specified quantity, you should use Limit orders.  
2. When the market price is too volatile, the locked balance may not be sufficient to buy the Base Currency quantity or sell to receive the Quote Currency that you specified. We will change the quantity of the order to execute the order based on best effort principle based on your account balance. In addition, we will try to over lock a fraction of your balance to avoid changing the order quantity.  
2.1 Example of base currency buy market order:  
Taking the market order to buy 10 LTCs as an example, and the user can buy 11 LTC. At this time, if 10 \< 11, the order is accepted. When the LTC-USDT market price is 200, and the locked balance of the user is 3,000 USDT, as 200\*10 \< 3,000, the market order of 10 LTC is fully executed;
If the market is too volatile and the LTC-USDT market price becomes 400, 400\*10 \> 3,000, the user's locked balance is not sufficient to buy using the specified amount of base currency, the user's maximum locked balance of 3,000 USDT will be used to settle the trade. Final transaction quantity becomes 3,000/400 = 7.5 LTC.  
2.2 Example of quote currency sell market order:  
Taking the market order to sell 1,000 USDT as an example, and the user can sell 1,200 USDT, 1,000 \< 1,200, the order is accepted. When the LTC-USDT market price is 200, and the locked balance of the user is 6 LTC, as 1,000/200 \< 6, the market order of 1,000 USDT is fully executed;
If the market is too volatile and the LTC-USDT market price becomes 100, 100\*6 \< 1,000, the user's locked balance is not sufficient to sell using the specified amount of quote currency, the user's maximum locked balance of 6 LTC will be used to settle the trade. Final transaction quantity becomes 6 \* 100 = 600 USDT. px  
The value for px must be a multiple of tickSz for OPTION orders.  
If not, the system will apply the rounding rules below. Using tickSz 0.0005 as an example:  
The px will be rounded up to the nearest 0.0005 when the remainder of px to 0.0005 is more than 0.00025 or `px` is less than 0.0005.  
The px will be rounded down to the nearest 0.0005 when the remainder of px to 0.0005 is less than 0.00025 and `px` is more than 0.0005. For placing order with TP/Sl:  
1. TP/SL algo order will be generated only when this order is filled fully, or there is no TP/SL algo order generated.  
2. Attaching TP/SL is neither supported for market buy with tgtCcy is base\_ccy or market sell with tgtCcy is quote\_ccy  
3. If tpOrdKind is limit, and there is only one conditional TP order, attachAlgoClOrdId can be used as clOrdId for retrieving on "GET / Order details" endpoint.  
4. For “split TPs”, including condition TP order and limit TP order.  
\* TP/SL orders in Split TPs only support one-way TP/SL. You can't use slTriggerPx&slOrdPx and tpTriggerPx&tpOrdPx at the same time, or error code 51076 will be thrown.  
\* Take-profit trigger price types (tpTriggerPxType) must be the same in an order with Split TPs attached, or error code 51080 will be thrown.  
\* Take-profit trigger prices (tpTriggerPx) cannot be the same in an order with Split TPs attached, or error code 51081 will be thrown.  
\* The size of the TP order among split TPs attached cannot be empty, or error code 51089 will be thrown.  
\* The total size of TP orders with Split TPs attached in a same order should equal the size of this order, or error code 51083 will be thrown.  
\* The number of TP orders with Split TPs attached in a same order cannot exceed 10, or error code 51079 will be thrown.  
\* Setting multiple TP and cost-price SL orders isn’t supported for spot and margin trading, or error code 51077 will be thrown.  
\* The number of SL orders with Split TPs attached in a same order cannot exceed 1, or error code 51084 will be thrown.  
\* The number of TP orders cannot be less than 2 when cost-price SL is enabled (amendPxOnTriggerType set as 1) for Split TPs, or error code 51085 will be thrown.  
\* All TP orders in one order must be of the same type, or error code 51091 will be thrown.  
\* TP order prices (tpOrdPx) in one order must be different, or error code 51092 will be thrown.  
\* TP limit order prices (tpOrdPx) in one order can't be –1 (market price), or error code 51093 will be thrown.  
\* You can't place TP limit orders in spot, margin, or options trading. Otherwise, error code 51094 will be thrown.  
Mandatory self trade prevention (STP)  
The trading platform imposes mandatory self trade prevention at master account level, which means the accounts under the same master account, including master account itself and all its affiliated sub-accounts, will be prevented from self trade. The default STP mode is `Cancel Maker`. Users can also utilize the stpMode request parameter of the placing order endpoint to determine the stpMode of a certain order.  
Mandatory self trade prevention will not lead to latency.   
There are three STP modes. The STP mode is always taken based on the configuration in the taker order.  
1. Cancel Maker: This is the default STP mode, which cancels the maker order to prevent self-trading. Then, the taker order continues to match with the next order based on the order book priority.  
2. Cancel Taker: The taker order is canceled to prevent self-trading. If the user's own maker order is lower in the order book priority, the taker order is partially filled and then canceled. FOK orders are always honored and canceled if they would result in self-trading.  
3. Cancel Both: Both taker and maker orders are canceled to prevent self-trading. If the user's own maker order is lower in the order book priority, the taker order is partially filled. Then, the remaining quantity of the taker order and the first maker order are canceled. FOK orders are not supported in this mode.

---

### POST / Place multiple orders ###

Place orders in batches. Maximum 20 orders can be placed per request.   
Request parameters should be passed in the form of an array. Orders will be placed in turn  

#### Rate Limit: 300 orders per 2 seconds ####

#### Rate Limit of lead instruments for Copy Trading: 4 orders per 2 seconds ####

#### Rate limit rule (except Options): User ID + Instrument ID ####

#### Rate limit rule (Options only): User ID + Instrument Family ####

#### Permission: Trade ####

Rate limit of this endpoint will also be affected by the rules [Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit) and [Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Unlike other endpoints, the rate limit of this endpoint is determined by the number of orders. If there is only one order in the request, it will consume the rate limit of `Place order`.

#### HTTP Request ####

`POST /api/v5/trade/batch-orders`

>
>
> Request Example
>
>

```
 batch place order for SPOT
 POST /api/v5/trade/batch-orders
 body
 [
    {
        "instId":"BTC-USDT",
        "tdMode":"cash",
        "clOrdId":"b15",
        "side":"buy",
        "ordType":"limit",
        "px":"2.15",
        "sz":"2"
    },
    {
        "instId":"BTC-USDT",
        "tdMode":"cash",
        "clOrdId":"b16",
        "side":"buy",
        "ordType":"limit",
        "px":"2.15",
        "sz":"2"
    }
]

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Place multiple orders
place_orders_without_clOrdId = [
    {"instId": "BTC-USDT", "tdMode": "cash", "clOrdId": "b15", "side": "buy", "ordType": "limit", "px": "2.15", "sz": "2"},
    {"instId": "BTC-USDT", "tdMode": "cash", "clOrdId": "b16", "side": "buy", "ordType": "limit", "px": "2.15", "sz": "2"}
]

result = tradeAPI.place_multiple_orders(place_orders_without_clOrdId)
print(result)

```

#### Request Parameters ####

|       Parameter       |     Type      | Required  |                                                                                                                                                                                                                                                               Description                                                                                                                                                                                                                                                               |
|-----------------------|---------------|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        instId         |    String     |    Yes    |                                                                                                                                                                                                                                                     Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                      |
|        tdMode         |    String     |    Yes    |                                                                                                                                                                 Trade mode  <br/>Margin mode `cross` `isolated`  <br/>Non-Margin mode `cash`  <br/>`spot_isolated` (only applicable to SPOT lead trading, `tdMode` should be `spot_isolated` for `SPOT` lead trading.)                                                                                                                                                                  |
|          ccy          |    String     |    No     |                                                                                                                                                                                                       Margin currency   <br/>Applicable to all `isolated` `MARGIN` orders and `cross` `MARGIN` orders in `Spot and futures mode`.                                                                                                                                                                                                       |
|        clOrdId        |    String     |    No     |                                                                                                                                                                                           Client Order ID as assigned by the client   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                                                                                                                                           |
|          tag          |    String     |    No     |                                                                                                                                                                                                           Order tag   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                                                                                                                                                           |
|         side          |    String     |    Yes    |                                                                                                                                                                                                                                                         Order side `buy` `sell`                                                                                                                                                                                                                                                         |
|        posSide        |    String     |Conditional|                                                                                                                                                                       Position side   <br/>The default is `net` in the `net` mode   <br/>It is required in the `long/short` mode, and can only be `long` or `short`.   <br/>Only applicable to `FUTURES`/`SWAP`.                                                                                                                                                                        |
|        ordType        |    String     |    Yes    |Order type   <br/>`market`: Market order   <br/>`limit`: Limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures).  <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)  <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)|
|          sz           |    String     |    Yes    |                                                                                                                                                                                                                                                         Quantity to buy or sell                                                                                                                                                                                                                                                         |
|          px           |    String     |Conditional|                                                                                                                                                               Order price. Only applicable to `limit`,`post_only`,`fok`,`ioc`,`mmp`,`mmp_and_post_only` order.  <br/>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                               |
|         pxUsd         |    String     |Conditional|                                                                                                                                                                               Place options orders in `USD`   <br/>Only applicable to options   <br/>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                                               |
|         pxVol         |    String     |Conditional|                                                                                                                                                         Place options orders based on implied volatility, where 1 represents 100%   <br/>Only applicable to options   <br/>When placing an option order, one of px/pxUsd/pxVol must be filled in, and only one can be filled in                                                                                                                                                         |
|      reduceOnly       |    Boolean    |    No     |                                                                                                                        Whether the order can only reduce position size.   <br/>Valid options: `true` or `false`. The default value is `false`.  <br/>Only applicable to `MARGIN` orders, and `FUTURES`/`SWAP` orders in `net` mode   <br/>Only applicable to `Spot and futures mode` and `Multi-currency margin`                                                                                                                        |
|        tgtCcy         |    String     |    No     |                                                                                                                                                               Order quantity unit setting for `sz`  <br/>`base_ccy`: Base currency ,`quote_ccy`: Quote currency   <br/>Only applicable to `SPOT` Market Orders  <br/>Default is `quote_ccy` for buy, `base_ccy` for sell                                                                                                                                                                |
|       banAmend        |    Boolean    |    No     |                                                                                                              Whether to disallow the system from amending the size of the SPOT Market Order.  <br/>Valid options: `true` or `false`. The default value is `false`.  <br/>If `true`, system will not amend and reject the market order if user does not have sufficient funds.   <br/>Only applicable to SPOT Market Orders                                                                                                              |
|     quickMgnType      |    String     |    No     |                                                                                                                                                                               ~~Quick Margin type. Only applicable to Quick Margin Mode of isolated margin   <br/>`manual`, `auto_borrow`, `auto_repay`  <br/>The default value is `manual`~~(Deprecated)                                                                                                                                                                               |
|         stpId         |    String     |    No     |                                                                                                                                                             ~~Self trade prevention ID. Orders from the same master account with the same ID will be prevented from self trade.  <br/>Numerical integers defined by user in the range of 1\<= x\<= 999999999~~ (deprecated)                                                                                                                                                             |
|        stpMode        |    String     |    No     |                                                                                                                                                                                         Self trade prevention mode.   <br/>Default to cancel maker   <br/>`cancel_maker`,`cancel_taker`, `cancel_both`  <br/>Cancel both does not support FOK.                                                                                                                                                                                          |
|    attachAlgoOrds     |Array of object|    No     |                                                                                                                                                                                                                                              TP/SL information attached when placing order                                                                                                                                                                                                                                              |
| \> attachAlgoClOrdId  |    String     |    No     |                                                                                                                           Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.                                                                                                                            |
|    \> tpTriggerPx     |    String     |Conditional|                                                                                                                                                                                             Take-profit trigger price  <br/>For condition TP order, if you fill in this parameter, you should fill in the take-profit order price as well.                                                                                                                                                                                              |
|      \> tpOrdPx       |    String     |Conditional|                                                                                                  Take-profit order price   <br/>For condition TP order, if you fill in this parameter, you should fill in the take-profit trigger price as well.   <br/>For limit TP order, you need to fill in this parameter, take-profit trigger needn't to be filled.  <br/>If the price is -1, take-profit will be executed at the market price.                                                                                                   |
|     \> tpOrdKind      |    String     |    No     |                                                                                                                                                                                                                             TP order kind  <br/>`condition`  <br/>`limit`  <br/> The default is `condition`                                                                                                                                                                                                                             |
|    \> slTriggerPx     |    String     |Conditional|                                                                                                                                                                                                               Stop-loss trigger price  <br/>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                                                                                                                |
|      \> slOrdPx       |    String     |Conditional|                                                                                                                                                                          Stop-loss order price  <br/>If you fill in this parameter, you should fill in the stop-loss trigger price.  <br/>If the price is -1, stop-loss will be executed at the market price.                                                                                                                                                                           |
|  \> tpTriggerPxType   |    String     |    No     |                                                                                                                                                                                                Take-profit trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price   <br/>The default is last                                                                                                                                                                                                 |
|  \> slTriggerPxType   |    String     |    No     |                                                                                                                                                                                                 Stop-loss trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price   <br/>The default is last                                                                                                                                                                                                  |
|         \> sz         |    String     |Conditional|                                                                                                                                                                                                                      Size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                                                                                                                                       |
|\> amendPxOnTriggerType|    String     |    No     |                                                                                                                                                           Whether to enable Cost-price SL. Only applicable to SL order of split TPs. Whether `slTriggerPx` will move to `avgPx` when the first TP order is triggered  <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                                                                                           |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
            "clOrdId":"oktswap6",
            "ordId":"12345689",
            "tag":"",
            "ts":"1695190491421",
            "sCode":"0",
            "sMsg":""
        },
        {
            "clOrdId":"oktswap7",
            "ordId":"12344",
            "tag":"",
            "ts":"1695190491421",
            "sCode":"0",
            "sMsg":""
        }
    ],
    "inTime": "1695190491421339",
    "outTime": "1695190491423240"
}

```

#### Response Parameters ####

|**Parameter**|    **Type**    |                                                                            **Description**                                                                             |
|-------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    code     |     String     |                                                                   The result code, `0` means success                                                                   |
|     msg     |     String     |                                                               The error message, empty if the code is 0                                                                |
|    data     |Array of objects|                                                             Array of objects contains the response results                                                             |
|  \> ordId   |     String     |                                                                                Order ID                                                                                |
| \> clOrdId  |     String     |                                                               Client Order ID as assigned by the client                                                                |
|   \> tag    |     String     |                                                                               Order tag                                                                                |
|    \> ts    |     String     |                   Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. `1597026383085`                   |
|  \> sCode   |     String     |                                                       The code of the event execution result, `0` means success.                                                       |
|   \> sMsg   |     String     |                                                            Rejection or success message of event execution.                                                            |
|   inTime    |     String     |Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. `1597026383085123`   <br/>The time is recorded after authentication.|
|   outTime   |     String     |                          Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. `1597026383085123`                           |
 In the `Portfolio Margin` account mode, either all orders are accepted by the system successfully, or all orders are rejected by the system. clOrdId  
clOrdId is a user-defined unique ID used to identify the order. It will be included in the response parameters if you have specified during order submission, and can be used as a request parameter to the endpoints to query, cancel and amend orders.   
clOrdId must be unique among all pending orders and the current request.

---

### POST / Cancel order ###

Cancel an incomplete order.

#### Rate Limit: 60 requests per 2 seconds ####

#### Rate limit rule (except Options): User ID + Instrument ID ####

#### Rate limit rule (Options only): User ID + Instrument Family ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/trade/cancel-order`

>
>
> Request Example
>
>

```
POST /api/v5/trade/cancel-order
body
{
    "ordId":"590908157585625111",
    "instId":"BTC-USD-190927"
}

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Cancel order
result = tradeAPI.cancel_order(instId="BTC-USDT", ordId="590908157585625111")
print(result)

```

#### Request Parameters ####

|Parameter| Type | Required  |                                          Description                                           |
|---------|------|-----------|------------------------------------------------------------------------------------------------|
| instId  |String|    Yes    |                                 Instrument ID, e.g. `BTC-USDT`                                 |
|  ordId  |String|Conditional|Order ID   <br/>Either `ordId` or `clOrdId` is required. If both are passed, ordId will be used.|
| clOrdId |String|Conditional|                           Client Order ID as assigned by the client                            |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
            "clOrdId":"oktswap6",
            "ordId":"12345689",
            "ts":"1695190491421",
            "sCode":"0",
            "sMsg":""
        }
    ],
    "inTime": "1695190491421339",
    "outTime": "1695190491423240"
}

```

#### Response Parameters ####

|**Parameter**|    **Type**    |                                                                            **Description**                                                                             |
|-------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    code     |     String     |                                                                   The result code, `0` means success                                                                   |
|     msg     |     String     |                                                               The error message, empty if the code is 0                                                                |
|    data     |Array of objects|                                                             Array of objects contains the response results                                                             |
|  \> ordId   |     String     |                                                                                Order ID                                                                                |
| \> clOrdId  |     String     |                                                               Client Order ID as assigned by the client                                                                |
|    \> ts    |     String     |                   Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. `1597026383085`                   |
|  \> sCode   |     String     |                                                       The code of the event execution result, `0` means success.                                                       |
|   \> sMsg   |     String     |                                                           Rejection message if the request is unsuccessful.                                                            |
|   inTime    |     String     |Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. `1597026383085123`   <br/>The time is recorded after authentication.|
|   outTime   |     String     |                          Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. `1597026383085123`                           |
Cancel order returns with sCode equal to 0. It is not strictly considered that the order has been canceled. It only means that your cancellation request has been accepted by the system server. The result of the cancellation is subject to the state pushed by the order channel or the get order state.

---

### POST / Cancel multiple orders ###

Cancel incomplete orders in batches. Maximum 20 orders can be canceled per request. Request parameters should be passed in the form of an array.

#### Rate Limit: 300 orders per 2 seconds ####

#### Rate limit rule (except Options): User ID + Instrument ID ####

#### Rate limit rule (Options only): User ID + Instrument Family ####

#### Permission: Trade ####

Unlike other endpoints, the rate limit of this endpoint is determined by the number of orders. If there is only one order in the request, it will consume the rate limit of `Cancel order`.

#### HTTP Request ####

`POST /api/v5/trade/cancel-batch-orders`

>
>
> Request Example
>
>

```
POST /api/v5/trade/cancel-batch-orders
body
[
    {
        "instId":"BTC-USDT",
        "ordId":"590908157585625111"
    },
    {
        "instId":"BTC-USDT",
        "ordId":"590908544950571222"
    }
]

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Cancel multiple orders by ordId
cancel_orders_with_orderId = [
    {"instId": "BTC-USDT", "ordId": "590908157585625111"},
    {"instId": "BTC-USDT", "ordId": "590908544950571222"}
]

result = tradeAPI.cancel_multiple_orders(cancel_orders_with_orderId)
print(result)

```

#### Request Parameters ####

|Parameter| Type | Required  |                                           Description                                           |
|---------|------|-----------|-------------------------------------------------------------------------------------------------|
| instId  |String|    Yes    |                                 Instrument ID, e.g. `BTC-USDT`                                  |
|  ordId  |String|Conditional|Order ID  <br/>Either `ordId` or `clOrdId` is required. If both are passed, `ordId` will be used.|
| clOrdId |String|Conditional|                            Client Order ID as assigned by the client                            |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
            "clOrdId":"oktswap6",
            "ordId":"12345689",
            "ts":"1695190491421",
            "sCode":"0",
            "sMsg":""
        },
        {
            "clOrdId":"oktswap7",
            "ordId":"12344",
            "ts":"1695190491421",
            "sCode":"0",
            "sMsg":""
        }
    ],
    "inTime": "1695190491421339",
    "outTime": "1695190491423240"
}

```

#### Response Parameters ####

|**Parameter**|    **Type**    |                                                                            **Description**                                                                             |
|-------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    code     |     String     |                                                                   The result code, `0` means success                                                                   |
|     msg     |     String     |                                                               The error message, empty if the code is 0                                                                |
|    data     |Array of objects|                                                             Array of objects contains the response results                                                             |
|  \> ordId   |     String     |                                                                                Order ID                                                                                |
| \> clOrdId  |     String     |                                                               Client Order ID as assigned by the client                                                                |
|    \> ts    |     String     |                   Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. `1597026383085`                   |
|  \> sCode   |     String     |                                                       The code of the event execution result, `0` means success.                                                       |
|   \> sMsg   |     String     |                                                           Rejection message if the request is unsuccessful.                                                            |
|   inTime    |     String     |Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. `1597026383085123`   <br/>The time is recorded after authentication.|
|   outTime   |     String     |                          Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. `1597026383085123`                           |

---

### POST / Amend order ###

Amend an incomplete order.

#### Rate Limit: 60 requests per 2 seconds ####

#### Rate Limit of lead instruments for Copy Trading: 4 requests per 2 seconds ####

#### Rate limit rule (except Options): User ID + Instrument ID ####

#### Rate limit rule (Options only): User ID + Instrument Family ####

#### Permission: Trade ####

Rate limit of this endpoint will also be affected by the rules [Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit) and [Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

#### HTTP Request ####

`POST /api/v5/trade/amend-order`

>
>
> Request Example
>
>

```
POST /api/v5/trade/amend-order
body
{
    "ordId":"590909145319051111",
    "newSz":"2",
    "instId":"BTC-USDT"
}

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Amend order
result = tradeAPI.amend_order(
    instId="BTC-USDT",
    ordId="590909145319051111",
    newSz="2"
)
print(result)

```

#### Request Parameters ####

|       Parameter       |     Type      | Required  |                                                                                                                                              Description                                                                                                                                              |
|-----------------------|---------------|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        instId         |    String     |    Yes    |                                                                                                                                             Instrument ID                                                                                                                                             |
|       cxlOnFail       |    Boolean    |    No     |                                                                         Whether the order needs to be automatically canceled when the order amendment fails   <br/>Valid options: `false` or `true`, the default is `false`.                                                                          |
|         ordId         |    String     |Conditional|                                                                                                  Order ID   <br/>Either `ordId` or `clOrdId` is required. If both are passed, `ordId` will be used.                                                                                                   |
|        clOrdId        |    String     |Conditional|                                                                                                                               Client Order ID as assigned by the client                                                                                                                               |
|         reqId         |    String     |    No     |Client Request ID as assigned by the client for order amendment   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.   <br/>The response will include the corresponding `reqId` to help you identify the request if you provide it in the request.|
|         newSz         |    String     |Conditional|                                                                   New quantity after amendment and it has to be larger than 0. When amending a partially-filled order, the `newSz` should include the amount that has been filled.                                                                    |
|         newPx         |    String     |Conditional|New price after amendment.   <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order.|
|       newPxUsd        |    String     |Conditional|                                                      Modify options orders using USD prices   <br/>Only applicable to options.   <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                       |
|       newPxVol        |    String     |Conditional|                                    Modify options orders based on implied volatility, where 1 represents 100%   <br/>Only applicable to options.   <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                     |
|    attachAlgoOrds     |Array of object|    No     |                                                                                                                             TP/SL information attached when placing order                                                                                                                             |
|    \> attachAlgoId    |    String     |Conditional|                                                The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                 |
| \> attachAlgoClOrdId  |    String     |Conditional|          Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.           |
|   \> newTpTriggerPx   |    String     |Conditional|                                                                                 Take-profit trigger price.   <br/>Either the take profit trigger price or order price is 0, it means that the take profit is deleted.                                                                                 |
|     \> newTpOrdPx     |    String     |Conditional|                                                                                                  Take-profit order price  <br/>If the price is -1, take-profit will be executed at the market price.                                                                                                  |
|    \> newTpOrdKind    |    String     |    No     |                                                                                                                             TP order kind  <br/>`condition`  <br/>`limit`                                                                                                                             |
|   \> newSlTriggerPx   |    String     |Conditional|                                                                                     Stop-loss trigger price  <br/>Either the stop loss trigger price or order price is 0, it means that the stop loss is deleted.                                                                                     |
|     \> newSlOrdPx     |    String     |Conditional|                                                                                                    Stop-loss order price  <br/>If the price is -1, stop-loss will be executed at the market price.                                                                                                    |
| \> newTpTriggerPxType |    String     |Conditional|                                     Take-profit trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price  <br/>Only applicable to `FUTURES`/`SWAP`  <br/>If you want to add the take-profit, this parameter is required                                      |
| \> newSlTriggerPxType |    String     |Conditional|                                       Stop-loss trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price  <br/>Only applicable to `FUTURES`/`SWAP`  <br/>If you want to add the stop-loss, this parameter is required                                        |
|         \> sz         |    String     |Conditional|                                                                                                   New size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                    |
|\> amendPxOnTriggerType|    String     |    No     |                                                                                 Whether to enable Cost-price SL. Only applicable to SL order of split TPs.   <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                  |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
         "clOrdId":"",
         "ordId":"12344",
         "ts":"1695190491421",
         "reqId":"b12344",
         "sCode":"0",
         "sMsg":""
        }
    ],
    "inTime": "1695190491421339",
    "outTime": "1695190491423240"
}

```

#### Response Parameters ####

|**Parameter**|    **Type**    |                                                                            **Description**                                                                             |
|-------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    code     |     String     |                                                                   The result code, `0` means success                                                                   |
|     msg     |     String     |                                                               The error message, empty if the code is 0                                                                |
|    data     |Array of objects|                                                             Array of objects contains the response results                                                             |
|  \> ordId   |     String     |                                                                                Order ID                                                                                |
| \> clOrdId  |     String     |                                                               Client Order ID as assigned by the client                                                                |
|    \> ts    |     String     |                   Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. `1597026383085`                   |
|  \> reqId   |     String     |                                                    Client Request ID as assigned by the client for order amendment.                                                    |
|  \> sCode   |     String     |                                                       The code of the event execution result, `0` means success.                                                       |
|   \> sMsg   |     String     |                                                           Rejection message if the request is unsuccessful.                                                            |
|   inTime    |     String     |Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. `1597026383085123`   <br/>The time is recorded after authentication.|
|   outTime   |     String     |                          Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. `1597026383085123`                           |
newSz   
If the new quantity of the order is less than or equal to the filled quantity when you are amending a partially-filled order, the order status will be changed to filled. The amend order returns sCode equal to 0. It is not strictly considered that the order has been amended. It only means that your amend order request has been accepted by the system server. The result of the amend is subject to the status pushed by the order channel or the order status query

---

### POST / Amend multiple orders ###

Amend incomplete orders in batches. Maximum 20 orders can be amended per request. Request parameters should be passed in the form of an array.

#### Rate Limit: 300 orders per 2 seconds ####

#### Rate Limit of lead instruments for Copy Trading: 4 orders per 2 seconds ####

#### Rate limit rule (except Options): User ID + Instrument ID ####

#### Rate limit rule (Options only): User ID + Instrument Family ####

#### Permission: Trade ####

Rate limit of this endpoint will also be affected by the rules [Sub-account rate limit](/docs-v5/en/#overview-rate-limits-sub-account-rate-limit) and [Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit).

Unlike other endpoints, the rate limit of this endpoint is determined by the number of orders. If there is only one order in the request, it will consume the rate limit of `Amend order`.

#### HTTP Request ####

`POST /api/v5/trade/amend-batch-orders`

>
>
> Request Example
>
>

```
POST /api/v5/trade/amend-batch-orders
body
[
    {
        "ordId":"590909308792049444",
        "newSz":"2",
        "instId":"BTC-USDT"
    },
    {
        "ordId":"590909308792049555",
        "newSz":"2",
        "instId":"BTC-USDT"
    }
]

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Amend incomplete orders in batches by ordId
amend_orders_with_orderId = [
    {"instId": "BTC-USDT", "ordId": "590909308792049444","newSz":"2"},
    {"instId": "BTC-USDT", "ordId": "590909308792049555","newSz":"2"}
]

result = tradeAPI.amend_multiple_orders(amend_orders_with_orderId)
print(result)

```

#### Request Parameters ####

|       Parameter       |     Type      | Required  |                                                                                                                                              Description                                                                                                                                              |
|-----------------------|---------------|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|        instId         |    String     |    Yes    |                                                                                                                                             Instrument ID                                                                                                                                             |
|       cxlOnFail       |    Boolean    |    No     |                                                                                  Whether the order needs to be automatically canceled when the order amendment fails   <br/>`false` `true`, the default is `false`.                                                                                   |
|         ordId         |    String     |Conditional|                                                                                                   Order ID   <br/>Either `ordId` or `clOrdId`is required, if both are passed, `ordId` will be used.                                                                                                   |
|        clOrdId        |    String     |Conditional|                                                                                                                               Client Order ID as assigned by the client                                                                                                                               |
|         reqId         |    String     |    No     |Client Request ID as assigned by the client for order amendment   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.   <br/>The response will include the corresponding `reqId` to help you identify the request if you provide it in the request.|
|         newSz         |    String     |Conditional|                                                                   New quantity after amendment and it has to be larger than 0. When amending a partially-filled order, the `newSz` should include the amount that has been filled.                                                                    |
|         newPx         |    String     |Conditional|New price after amendment.   <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol. It must be consistent with parameters when placing orders. For example, if users placed the order using px, they should use newPx when modifying the order.|
|       newPxUsd        |    String     |Conditional|                                                      Modify options orders using USD prices   <br/>Only applicable to options.   <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                                       |
|       newPxVol        |    String     |Conditional|                                    Modify options orders based on implied volatility, where 1 represents 100%   <br/>Only applicable to options.   <br/>When modifying options orders, users can only fill in one of the following: newPx, newPxUsd, or newPxVol.                                     |
|    attachAlgoOrds     |Array of object|    No     |                                                                                                                             TP/SL information attached when placing order                                                                                                                             |
|    \> attachAlgoId    |    String     |Conditional|                                                The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                 |
| \> attachAlgoClOrdId  |    String     |Conditional|          Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.           |
|   \> newTpTriggerPx   |    String     |Conditional|                                                                                 Take-profit trigger price.   <br/>Either the take profit trigger price or order price is 0, it means that the take profit is deleted.                                                                                 |
|     \> newTpOrdPx     |    String     |Conditional|                                                                                                  Take-profit order price  <br/>If the price is -1, take-profit will be executed at the market price.                                                                                                  |
|    \> newTpOrdKind    |    String     |    No     |                                                                                                                             TP order kind  <br/>`condition`  <br/>`limit`                                                                                                                             |
|   \> newSlTriggerPx   |    String     |Conditional|                                                                                     Stop-loss trigger price  <br/>Either the stop loss trigger price or order price is 0, it means that the stop loss is deleted.                                                                                     |
|     \> newSlOrdPx     |    String     |Conditional|                                                                                                    Stop-loss order price  <br/>If the price is -1, stop-loss will be executed at the market price.                                                                                                    |
| \> newTpTriggerPxType |    String     |Conditional|                                     Take-profit trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price  <br/>Only applicable to `FUTURES`/`SWAP`  <br/>If you want to add the take-profit, this parameter is required                                      |
| \> newSlTriggerPxType |    String     |Conditional|                                       Stop-loss trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price  <br/>Only applicable to `FUTURES`/`SWAP`  <br/>If you want to add the stop-loss, this parameter is required                                        |
|         \> sz         |    String     |Conditional|                                                                                                   New size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                    |
|\> amendPxOnTriggerType|    String     |    No     |                                                                                 Whether to enable Cost-price SL. Only applicable to SL order of split TPs.   <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                  |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
            "clOrdId":"oktswap6",
            "ordId":"12345689",
            "ts":"1695190491421",
            "reqId":"b12344",
            "sCode":"0",
            "sMsg":""
        },
        {
            "clOrdId":"oktswap7",
            "ordId":"12344",
            "ts":"1695190491421",
            "reqId":"b12344",
            "sCode":"0",
            "sMsg":""
        }
    ],
    "inTime": "1695190491421339",
    "outTime": "1695190491423240"
}

```

#### Response Parameters ####

|**Parameter**|    **Type**    |                                                                            **Description**                                                                             |
|-------------|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    code     |     String     |                                                                   The result code, `0` means success                                                                   |
|     msg     |     String     |                                                               The error message, empty if the code is 0                                                                |
|    data     |Array of objects|                                                             Array of objects contains the response results                                                             |
|  \> ordId   |     String     |                                                                                Order ID                                                                                |
| \> clOrdId  |     String     |                                                               Client Order ID as assigned by the client                                                                |
|    \> ts    |     String     |                   Timestamp when the order request processing is finished by our system, Unix timestamp format in milliseconds, e.g. `1597026383085`                   |
|  \> reqId   |     String     |                                                    Client Request ID as assigned by the client for order amendment.                                                    |
|  \> sCode   |     String     |                                                       The code of the event execution result, `0` means success.                                                       |
|   \> sMsg   |     String     |                                                           Rejection message if the request is unsuccessful.                                                            |
|   inTime    |     String     |Timestamp at REST gateway when the request is received, Unix timestamp format in microseconds, e.g. `1597026383085123`   <br/>The time is recorded after authentication.|
|   outTime   |     String     |                          Timestamp at REST gateway when the response is sent, Unix timestamp format in microseconds, e.g. `1597026383085123`                           |
newSz   
If the new quantity of the order is less than or equal to the filled quantity when you are amending a partially-filled order, the order status will be changed to filled.

---

### POST / Close positions ###

Close the position of an instrument via a market order.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule (except Options): User ID + Instrument ID ####

#### Rate limit rule (Options only): User ID + Instrument Family ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/trade/close-position`

>
>
> Request Example
>
>

```
POST /api/v5/trade/close-position
body
{
    "instId":"BTC-USDT-SWAP",
    "mgnMode":"cross"
}

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Close the position of an instrument via a market order
result = tradeAPI.close_positions(
    instId="BTC-USDT-SWAP",
    mgnMode="cross"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type  | Required  |                                                                                                                         Description                                                                                                                          |
|---------|-------|-----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instId  |String |    Yes    |                                                                                                                        Instrument ID                                                                                                                         |
| posSide |String |Conditional|Position side   <br/>This parameter can be omitted in `net` mode, and the default value is `net`. You can only fill with `net`.  <br/>This parameter must be filled in under the `long/short` mode. Fill in `long` for close-long and `short` for close-short.|
| mgnMode |String |    Yes    |                                                                                                             Margin mode  <br/>`cross` `isolated`                                                                                                             |
|   ccy   |String |Conditional|                                                                           Margin currency, required in the case of closing `cross` `MARGIN` position for `Spot and futures mode`.                                                                            |
| autoCxl |Boolean|    No     |                                            Whether any pending orders for closing out needs to be automatically canceled when close position via a market order.  <br/>`false` or `true`, the default is `false`.                                            |
| clOrdId |String |    No     |                                                                 Client-supplied ID  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.                                                                  |
|   tag   |String |    No     |                                                                      Order tag  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                                                                      |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "clOrdId": "",
            "instId": "BTC-USDT-SWAP",
            "posSide": "long",
            "tag": ""
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                      **Description**                                                      |
|-------------|--------|---------------------------------------------------------------------------------------------------------------------------|
|   instId    | String |                                                       Instrument ID                                                       |
|   posSide   | String |                                                       Position side                                                       |
|   clOrdId   | String |Client-supplied ID  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.|
|     tag     | String |    Order tag  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.     |
if there are any pending orders for closing out and the orders do not need to be automatically canceled, it will return an error code and message to prompt users to cancel pending orders before closing the positions.

---

### GET / Order details ###

Retrieve order details.

#### Rate Limit: 60 requests per 2 seconds ####

#### Rate limit rule (except Options): User ID + Instrument ID ####

#### Rate limit rule (Options only): User ID + Instrument Family ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/order`

>
>
> Request Example
>
>

```
GET /api/v5/trade/order?ordId=1753197687182819328&instId=BTC-USDT

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Retrieve order details by ordId
result = tradeAPI.get_order(
    instId="BTC-USDT",
    ordId="680800019749904384"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type | Required  |                                                               Description                                                                |
|---------|------|-----------|------------------------------------------------------------------------------------------------------------------------------------------|
| instId  |String|    Yes    |                                 Instrument ID, e.g. `BTC-USDT`  <br/>Only applicable to live instruments                                 |
|  ordId  |String|Conditional|                    Order ID   <br/>Either `ordId` or `clOrdId` is required, if both are passed, `ordId` will be used                     |
| clOrdId |String|Conditional|Client Order ID as assigned by the client  <br/>If the `clOrdId` is associated with multiple orders, only the latest one will be returned.|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "accFillSz": "0.00192834",
            "algoClOrdId": "",
            "algoId": "",
            "attachAlgoClOrdId": "",
            "attachAlgoOrds": [],
            "avgPx": "51858",
            "cTime": "1708587373361",
            "cancelSource": "",
            "cancelSourceReason": "",
            "category": "normal",
            "ccy": "",
            "clOrdId": "",
            "fee": "-0.00000192834",
            "feeCcy": "BTC",
            "fillPx": "51858",
            "fillSz": "0.00192834",
            "fillTime": "1708587373361",
            "instId": "BTC-USDT",
            "instType": "SPOT",
            "isTpLimit": "false",
            "lever": "",
            "linkedAlgoOrd": {
                "algoId": ""
            },
            "ordId": "680800019749904384",
            "ordType": "market",
            "pnl": "0",
            "posSide": "net",
            "px": "",
            "pxType": "",
            "pxUsd": "",
            "pxVol": "",
            "quickMgnType": "",
            "rebate": "0",
            "rebateCcy": "USDT",
            "reduceOnly": "false",
            "side": "buy",
            "slOrdPx": "",
            "slTriggerPx": "",
            "slTriggerPxType": "",
            "source": "",
            "state": "filled",
            "stpId": "",
            "stpMode": "",
            "sz": "100",
            "tag": "",
            "tdMode": "cash",
            "tgtCcy": "quote_ccy",
            "tpOrdPx": "",
            "tpTriggerPx": "",
            "tpTriggerPxType": "",
            "tradeId": "744876980",
            "uTime": "1708587373362"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|     **Parameter**     |   **Type**    |                                                                                                                                                                                                                                                  **Description**                                                                                                                                                                                                                                                   |
|-----------------------|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       instType        |    String     |                                                                                                                                                                                                              Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                               |
|        instId         |    String     |                                                                                                                                                                                                                                                   Instrument ID                                                                                                                                                                                                                                                    |
|        tgtCcy         |    String     |                                                                                                                                                     Order quantity unit setting for `sz`  <br/>`base_ccy`: Base currency ,`quote_ccy`: Quote currency   <br/>Only applicable to `SPOT` Market Orders  <br/>Default is `quote_ccy` for buy, `base_ccy` for sell                                                                                                                                                     |
|          ccy          |    String     |                                                                                                                                                                                            Margin currency   <br/>Applicable to all `isolated` `MARGIN` orders and `cross` `MARGIN` orders in `Spot and futures mode`.                                                                                                                                                                                             |
|         ordId         |    String     |                                                                                                                                                                                                                                                      Order ID                                                                                                                                                                                                                                                      |
|        clOrdId        |    String     |                                                                                                                                                                                                                                     Client Order ID as assigned by the client                                                                                                                                                                                                                                      |
|          tag          |    String     |                                                                                                                                                                                                                                                     Order tag                                                                                                                                                                                                                                                      |
|          px           |    String     |                                                                                                                                                                                                                             Price  <br/>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                              |
|         pxUsd         |    String     |                                                                                                                                                                                                                Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                |
|         pxVol         |    String     |                                                                                                                                                                                                      Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                       |
|        pxType         |    String     |                                                                                                     Price type of options   <br/>`px`: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)   <br/>`pxVol`: Place an order based on pxVol   <br/>`pxUsd`: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                     |
|          sz           |    String     |                                                                                                                                                                                                                                              Quantity to buy or sell                                                                                                                                                                                                                                               |
|          pnl          |    String     |                                                                                                                                                                                               Profit and loss, Applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                               |
|        ordType        |    String     |Order type   <br/>`market`: Market order   <br/>`limit`: Limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order  <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)  <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)   <br/>`op_fok`: Simple options (fok)|
|         side          |    String     |                                                                                                                                                                                                                                                     Order side                                                                                                                                                                                                                                                     |
|        posSide        |    String     |                                                                                                                                                                                                                                                   Position side                                                                                                                                                                                                                                                    |
|        tdMode         |    String     |                                                                                                                                                                                                                                                     Trade mode                                                                                                                                                                                                                                                     |
|       accFillSz       |    String     |                                                                                                                         Accumulated fill quantity  <br/>The unit is `base_ccy` for SPOT and MARGIN, e.g. BTC-USDT, the unit is BTC; For market orders, the unit both is `base_ccy` when the tgtCcy is `base_ccy` or `quote_ccy`;  <br/>The unit is contract for `FUTURES`/`SWAP`/`OPTION`                                                                                                                          |
|        fillPx         |    String     |                                                                                                                                                                                                                              Last filled price. If none is filled, it will return "".                                                                                                                                                                                                                              |
|        tradeId        |    String     |                                                                                                                                                                                                                                                   Last traded ID                                                                                                                                                                                                                                                   |
|        fillSz         |    String     |                                                                                                                            Last filled quantity  <br/>The unit is `base_ccy` for SPOT and MARGIN, e.g. BTC-USDT, the unit is BTC; For market orders, the unit both is `base_ccy` when the tgtCcy is `base_ccy` or `quote_ccy`;  <br/>The unit is contract for `FUTURES`/`SWAP`/`OPTION`                                                                                                                            |
|       fillTime        |    String     |                                                                                                                                                                                                                                                  Last filled time                                                                                                                                                                                                                                                  |
|         avgPx         |    String     |                                                                                                                                                                                                                            Average filled price. If none is filled, it will return "".                                                                                                                                                                                                                             |
|         state         |    String     |                                                                                                                                                                                                         State   <br/>`canceled`  <br/>`live`   <br/>`partially_filled`  <br/>`filled`  <br/>`mmp_canceled`                                                                                                                                                                                                         |
|         stpId         |    String     |                                                                                                                                                                                                        ~~Self trade prevention ID  <br/>Return "" if self trade prevention is not applicable~~ (deprecated)                                                                                                                                                                                                        |
|        stpMode        |    String     |                                                                                                                                                                                                               Self trade prevention mode   <br/>Return "" if self trade prevention is not applicable                                                                                                                                                                                                               |
|         lever         |    String     |                                                                                                                                                                                                                  Leverage, from `0.01` to `125`.   <br/>Only applicable to `MARGIN/FUTURES/SWAP`                                                                                                                                                                                                                   |
|   attachAlgoClOrdId   |    String     |                                                                                                                                                                                                                            Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                             |
|      tpTriggerPx      |    String     |                                                                                                                                                                                                                                             Take-profit trigger price.                                                                                                                                                                                                                                             |
|    tpTriggerPxType    |    String     |                                                                                                                                                                                                   Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                    |
|        tpOrdPx        |    String     |                                                                                                                                                                                                                                              Take-profit order price.                                                                                                                                                                                                                                              |
|      slTriggerPx      |    String     |                                                                                                                                                                                                                                              Stop-loss trigger price.                                                                                                                                                                                                                                              |
|    slTriggerPxType    |    String     |                                                                                                                                                                                                    Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                     |
|        slOrdPx        |    String     |                                                                                                                                                                                                                                               Stop-loss order price.                                                                                                                                                                                                                                               |
|    attachAlgoOrds     |Array of object|                                                                                                                                                                                                                                   TP/SL information attached when placing order                                                                                                                                                                                                                                    |
|    \> attachAlgoId    |    String     |                                                                                                                                                       The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                       |
| \> attachAlgoClOrdId  |    String     |                                                                                                                 Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.                                                                                                                 |
|     \> tpOrdKind      |    String     |                                                                                                                                                                                                                                   TP order kind  <br/>`condition`  <br/>`limit`                                                                                                                                                                                                                                    |
|    \> tpTriggerPx     |    String     |                                                                                                                                                                                                                                             Take-profit trigger price.                                                                                                                                                                                                                                             |
|  \> tpTriggerPxType   |    String     |                                                                                                                                                                                                   Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                    |
|      \> tpOrdPx       |    String     |                                                                                                                                                                                                                                              Take-profit order price.                                                                                                                                                                                                                                              |
|    \> slTriggerPx     |    String     |                                                                                                                                                                                                                                              Stop-loss trigger price.                                                                                                                                                                                                                                              |
|  \> slTriggerPxType   |    String     |                                                                                                                                                                                                    Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                     |
|      \> slOrdPx       |    String     |                                                                                                                                                                                                                                               Stop-loss order price.                                                                                                                                                                                                                                               |
|         \> sz         |    String     |                                                                                                                                                                                                                                   Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                   |
|\> amendPxOnTriggerType|    String     |                                                                                                                                                                                        Whether to enable Cost-price SL. Only applicable to SL order of split TPs.   <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                                                                                                                        |
|\> amendPxOnTriggerType|    String     |                                                                                                                                                                                        Whether to enable Cost-price SL. Only applicable to SL order of split TPs.   <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                                                                                                                        |
|      \> failCode      |    String     |                                                                                                                                                                                                               The error code when failing to place TP/SL order, e.g. 51020   <br/>The default is ""                                                                                                                                                                                                                |
|     \> failReason     |    String     |                                                                                                                                                                                                                    The error reason when failing to place TP/SL order.   <br/>The default is ""                                                                                                                                                                                                                    |
|     linkedAlgoOrd     |    Object     |                                                                                                                                                                                     Linked SL order detail, only applicable to the order that is placed by one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                                                     |
|       \> algoId       |    String     |                                                                                                                                                                                                                                                      Algo ID                                                                                                                                                                                                                                                       |
|        feeCcy         |    String     |                                                                                                                                                                                                                                                    Fee currency                                                                                                                                                                                                                                                    |
|          fee          |    String     |                                                                                                                                               Fee and rebate  <br/>For spot and margin, it is accumulated fee charged by the platform. It is always negative, e.g. -0.01.   <br/>For Expiry Futures, Perpetual Futures and Options, it is accumulated fee and rebate                                                                                                                                               |
|       rebateCcy       |    String     |                                                                                                                                                                                                                                                  Rebate currency                                                                                                                                                                                                                                                   |
|        source         |    String     |                                                                                             Order source  <br/>`6`: The normal order triggered by the `trigger order`  <br/>`7`:The normal order triggered by the `TP/SL order`   <br/>`13`: The normal order triggered by the algo order  <br/>`25`:The normal order triggered by the `trailing stop order`  <br/>`34`: The normal order triggered by the chase order                                                                                             |
|        rebate         |    String     |                                                                                                                                                   Rebate amount, only applicable to spot and margin, the reward of placing orders from the platform (rebate) given to user who has reached the specified trading level. If there is no rebate, this field is "".                                                                                                                                                   |
|       category        |    String     |                                                                                                                                                                             Category  <br/>`normal`  <br/>`twap`   <br/>`adl`  <br/>`full_liquidation`  <br/>`partial_liquidation`  <br/>`delivery`   <br/>`ddh`: Delta dynamic hedge                                                                                                                                                                              |
|      reduceOnly       |    String     |                                                                                                                                                                                                                 Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                                 |
|       isTpLimit       |    String     |                                                                                                                                                                                                                                    Whether it is TP limit order. true or false                                                                                                                                                                                                                                     |
|     cancelSource      |    String     |                                                                                                                                                                                                                                          Code of the cancellation source.                                                                                                                                                                                                                                          |
|  cancelSourceReason   |    String     |                                                                                                                                                                                                                                            Reason for the cancellation.                                                                                                                                                                                                                                            |
|     quickMgnType      |    String     |                                                                                                                                                                                               Quick Margin type, Only applicable to Quick Margin Mode of isolated margin  <br/>`manual`, `auto_borrow`, `auto_repay`                                                                                                                                                                                               |
|      algoClOrdId      |    String     |                                                                                                                                                                                               Client-supplied Algo ID. There will be a value when algo order attaching `algoClOrdId` is triggered, or it will be "".                                                                                                                                                                                               |
|        algoId         |    String     |                                                                                                                                                                                                                   Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                   |
|         uTime         |    String     |                                                                                                                                                                                                                      Update time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                      |
|         cTime         |    String     |                                                                                                                                                                                                                     Creation time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                     |

---

### GET / Order List ###

Retrieve all incomplete orders under the current account.

#### Rate Limit: 60 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/orders-pending`

>
>
> Request Example
>
>

```
GET /api/v5/trade/orders-pending?ordType=post_only,fok,ioc&instType=SPOT

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Retrieve all incomplete orders
result = tradeAPI.get_order_list(
    instType="SPOT",
    ordType="post_only,fok,ioc"
)
print(result)

```

#### Request Parameters ####

|Parameter | Type |Required|                                                                                                                                                                                                                                                     Description                                                                                                                                                                                                                                                     |
|----------|------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instType |String|   No   |                                                                                                                                                                                                               Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                               |
|   uly    |String|   No   |                                                                                                                                                                                                                              Underlying  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                               |
|instFamily|String|   No   |                                                                                                                                                                                                                           Instrument family  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                           |
|  instId  |String|   No   |                                                                                                                                                                                                                                        Instrument ID, e.g. `BTC-USD-200927`                                                                                                                                                                                                                                         |
| ordType  |String|   No   |Order type   <br/>`market`: Market order   <br/>`limit`: Limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order   <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)  <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)   <br/>`op_fok`: Simple options (fok)|
|  state   |String|   No   |                                                                                                                                                                                                                                    State  <br/>`live`   <br/>`partially_filled`                                                                                                                                                                                                                                     |
|  after   |String|   No   |                                                                                                                                                                                                                       Pagination of data to return records earlier than the requested `ordId`                                                                                                                                                                                                                       |
|  before  |String|   No   |                                                                                                                                                                                                                        Pagination of data to return records newer than the requested `ordId`                                                                                                                                                                                                                        |
|  limit   |String|   No   |                                                                                                                                                                                                                      Number of results per request. The maximum is `100`; The default is `100`                                                                                                                                                                                                                      |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "accFillSz": "0",
            "algoClOrdId": "",
            "algoId": "",
            "attachAlgoClOrdId": "",
            "attachAlgoOrds": [],
            "avgPx": "",
            "cTime": "1724733617998",
            "cancelSource": "",
            "cancelSourceReason": "",
            "category": "normal",
            "ccy": "",
            "clOrdId": "",
            "fee": "0",
            "feeCcy": "BTC",
            "fillPx": "",
            "fillSz": "0",
            "fillTime": "",
            "instId": "BTC-USDT",
            "instType": "SPOT",
            "isTpLimit": "false",
            "lever": "",
            "linkedAlgoOrd": {
                "algoId": ""
            },
            "ordId": "1752588852617379840",
            "ordType": "post_only",
            "pnl": "0",
            "posSide": "net",
            "px": "13013.5",
            "pxType": "",
            "pxUsd": "",
            "pxVol": "",
            "quickMgnType": "",
            "rebate": "0",
            "rebateCcy": "USDT",
            "reduceOnly": "false",
            "side": "buy",
            "slOrdPx": "",
            "slTriggerPx": "",
            "slTriggerPxType": "",
            "source": "",
            "state": "live",
            "stpId": "",
            "stpMode": "cancel_maker",
            "sz": "0.001",
            "tag": "",
            "tdMode": "cash",
            "tgtCcy": "",
            "tpOrdPx": "",
            "tpTriggerPx": "",
            "tpTriggerPxType": "",
            "tradeId": "",
            "uTime": "1724733617998"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|     **Parameter**     |   **Type**    |                                                                                                                                                                                                                                                  **Description**                                                                                                                                                                                                                                                   |
|-----------------------|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       instType        |    String     |                                                                                                                                                                                                                                                  Instrument type                                                                                                                                                                                                                                                   |
|        instId         |    String     |                                                                                                                                                                                                                                                   Instrument ID                                                                                                                                                                                                                                                    |
|        tgtCcy         |    String     |                                                                                                                                                     Order quantity unit setting for `sz`  <br/>`base_ccy`: Base currency ,`quote_ccy`: Quote currency   <br/>Only applicable to `SPOT` Market Orders  <br/>Default is `quote_ccy` for buy, `base_ccy` for sell                                                                                                                                                     |
|          ccy          |    String     |                                                                                                                                                                                            Margin currency   <br/>Applicable to all `isolated` `MARGIN` orders and `cross` `MARGIN` orders in `Spot and futures mode`.                                                                                                                                                                                             |
|         ordId         |    String     |                                                                                                                                                                                                                                                      Order ID                                                                                                                                                                                                                                                      |
|        clOrdId        |    String     |                                                                                                                                                                                                                                     Client Order ID as assigned by the client                                                                                                                                                                                                                                      |
|          tag          |    String     |                                                                                                                                                                                                                                                     Order tag                                                                                                                                                                                                                                                      |
|          px           |    String     |                                                                                                                                                                                                                             Price   <br/>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                             |
|         pxUsd         |    String     |                                                                                                                                                                                                                Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                |
|         pxVol         |    String     |                                                                                                                                                                                                      Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                       |
|        pxType         |    String     |                                                                                                     Price type of options   <br/>`px`: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)   <br/>`pxVol`: Place an order based on pxVol   <br/>`pxUsd`: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                     |
|          sz           |    String     |                                                                                                                                                                                                                                              Quantity to buy or sell                                                                                                                                                                                                                                               |
|          pnl          |    String     |                                                                                                                                                                                               Profit and loss, Applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                               |
|        ordType        |    String     |Order type   <br/>`market`: Market order   <br/>`limit`: Limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order  <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)  <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)   <br/>`op_fok`: Simple options (fok)|
|         side          |    String     |                                                                                                                                                                                                                                                     Order side                                                                                                                                                                                                                                                     |
|        posSide        |    String     |                                                                                                                                                                                                                                                   Position side                                                                                                                                                                                                                                                    |
|        tdMode         |    String     |                                                                                                                                                                                                                                                     Trade mode                                                                                                                                                                                                                                                     |
|       accFillSz       |    String     |                                                                                                                                                                                                                                             Accumulated fill quantity                                                                                                                                                                                                                                              |
|        fillPx         |    String     |                                                                                                                                                                                                                                                 Last filled price                                                                                                                                                                                                                                                  |
|        tradeId        |    String     |                                                                                                                                                                                                                                                   Last trade ID                                                                                                                                                                                                                                                    |
|        fillSz         |    String     |                                                                                                                                                                                                                                                Last filled quantity                                                                                                                                                                                                                                                |
|       fillTime        |    String     |                                                                                                                                                                                                                                                  Last filled time                                                                                                                                                                                                                                                  |
|         avgPx         |    String     |                                                                                                                                                                                                                            Average filled price. If none is filled, it will return "".                                                                                                                                                                                                                             |
|         state         |    String     |                                                                                                                                                                                                                                    State  <br/>`live`   <br/>`partially_filled`                                                                                                                                                                                                                                    |
|         lever         |    String     |                                                                                                                                                                                                                  Leverage, from `0.01` to `125`.   <br/>Only applicable to `MARGIN/FUTURES/SWAP`                                                                                                                                                                                                                   |
|   attachAlgoClOrdId   |    String     |                                                                                                                                                                                                                            Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                             |
|      tpTriggerPx      |    String     |                                                                                                                                                                                                                                             Take-profit trigger price.                                                                                                                                                                                                                                             |
|    tpTriggerPxType    |    String     |                                                                                                                                                                                                   Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                    |
|        tpOrdPx        |    String     |                                                                                                                                                                                                                                              Take-profit order price.                                                                                                                                                                                                                                              |
|      slTriggerPx      |    String     |                                                                                                                                                                                                                                              Stop-loss trigger price.                                                                                                                                                                                                                                              |
|    slTriggerPxType    |    String     |                                                                                                                                                                                                    Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                     |
|        slOrdPx        |    String     |                                                                                                                                                                                                                                               Stop-loss order price.                                                                                                                                                                                                                                               |
|    attachAlgoOrds     |Array of object|                                                                                                                                                                                                                                   TP/SL information attached when placing order                                                                                                                                                                                                                                    |
|    \> attachAlgoId    |    String     |                                                                                                                                                       The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                       |
| \> attachAlgoClOrdId  |    String     |                                                                                                                 Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.                                                                                                                 |
|     \> tpOrdKind      |    String     |                                                                                                                                                                                                                                   TP order kind  <br/>`condition`  <br/>`limit`                                                                                                                                                                                                                                    |
|    \> tpTriggerPx     |    String     |                                                                                                                                                                                                                                             Take-profit trigger price.                                                                                                                                                                                                                                             |
|  \> tpTriggerPxType   |    String     |                                                                                                                                                                                                   Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                    |
|      \> tpOrdPx       |    String     |                                                                                                                                                                                                                                              Take-profit order price.                                                                                                                                                                                                                                              |
|    \> slTriggerPx     |    String     |                                                                                                                                                                                                                                              Stop-loss trigger price.                                                                                                                                                                                                                                              |
|  \> slTriggerPxType   |    String     |                                                                                                                                                                                                    Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                     |
|      \> slOrdPx       |    String     |                                                                                                                                                                                                                                               Stop-loss order price.                                                                                                                                                                                                                                               |
|         \> sz         |    String     |                                                                                                                                                                                                                                   Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                   |
|\> amendPxOnTriggerType|    String     |                                                                                                                                                                                        Whether to enable Cost-price SL. Only applicable to SL order of split TPs.   <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                                                                                                                        |
|      \> failCode      |    String     |                                                                                                                                                                                                               The error code when failing to place TP/SL order, e.g. 51020   <br/>The default is ""                                                                                                                                                                                                                |
|     \> failReason     |    String     |                                                                                                                                                                                                                    The error reason when failing to place TP/SL order.   <br/>The default is ""                                                                                                                                                                                                                    |
|     linkedAlgoOrd     |    Object     |                                                                                                                                                                                     Linked SL order detail, only applicable to the order that is placed by one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                                                     |
|       \> algoId       |    String     |                                                                                                                                                                                                                                                      Algo ID                                                                                                                                                                                                                                                       |
|         stpId         |    String     |                                                                                                                                                                                                        ~~Self trade prevention ID  <br/>Return "" if self trade prevention is not applicable~~ (deprecated)                                                                                                                                                                                                        |
|        stpMode        |    String     |                                                                                                                                                                                                               Self trade prevention mode   <br/>Return "" if self trade prevention is not applicable                                                                                                                                                                                                               |
|        feeCcy         |    String     |                                                                                                                                                                                                                                                    Fee currency                                                                                                                                                                                                                                                    |
|          fee          |    String     |                                                                                                                                               Fee and rebate  <br/>For spot and margin, it is accumulated fee charged by the platform. It is always negative, e.g. -0.01.   <br/>For Expiry Futures, Perpetual Futures and Options, it is accumulated fee and rebate                                                                                                                                               |
|       rebateCcy       |    String     |                                                                                                                                                                                                                                                  Rebate currency                                                                                                                                                                                                                                                   |
|        source         |    String     |                                                                                             Order source  <br/>`6`: The normal order triggered by the `trigger order`  <br/>`7`:The normal order triggered by the `TP/SL order`   <br/>`13`: The normal order triggered by the algo order  <br/>`25`:The normal order triggered by the `trailing stop order`  <br/>`34`: The normal order triggered by the chase order                                                                                             |
|        rebate         |    String     |                                                                                                                                                   Rebate amount, only applicable to spot and margin, the reward of placing orders from the platform (rebate) given to user who has reached the specified trading level. If there is no rebate, this field is "".                                                                                                                                                   |
|       category        |    String     |                                                                                                                                                                                                                                              Category   <br/>`normal`                                                                                                                                                                                                                                              |
|      reduceOnly       |    String     |                                                                                                                                                                                                                 Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                                 |
|     quickMgnType      |    String     |                                                                                                                                                                                               Quick Margin type, Only applicable to Quick Margin Mode of isolated margin  <br/>`manual`, `auto_borrow`, `auto_repay`                                                                                                                                                                                               |
|      algoClOrdId      |    String     |                                                                                                                                                                                               Client-supplied Algo ID. There will be a value when algo order attaching `algoClOrdId` is triggered, or it will be "".                                                                                                                                                                                               |
|        algoId         |    String     |                                                                                                                                                                                                                   Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                   |
|       isTpLimit       |    String     |                                                                                                                                                                                                                                    Whether it is TP limit order. true or false                                                                                                                                                                                                                                     |
|         uTime         |    String     |                                                                                                                                                                                                                      Update time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                      |
|         cTime         |    String     |                                                                                                                                                                                                                     Creation time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                     |
|     cancelSource      |    String     |                                                                                                                                                                                                                                          Code of the cancellation source.                                                                                                                                                                                                                                          |
|  cancelSourceReason   |    String     |                                                                                                                                                                                                                                            Reason for the cancellation.                                                                                                                                                                                                                                            |

---

### GET / Order history (last 7 days) ###

Get completed orders which are placed in the last 7 days, including those placed 7 days ago but completed in the last 7 days.   

The incomplete orders that have been canceled are only reserved for 2 hours.

#### Rate Limit: 40 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/orders-history`

>
>
> Request Example
>
>

```
GET /api/v5/trade/orders-history?ordType=post_only,fok,ioc&instType=SPOT

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Get completed SPOT orders which are placed in the last 7 days
# The incomplete orders that have been canceled are only reserved for 2 hours
result = tradeAPI.get_orders_history(
    instType="SPOT",
    ordType="post_only,fok,ioc"
)
print(result)

```

#### Request Parameters ####

|Parameter | Type |Required|                                                                                                                                                                                                                                                    Description                                                                                                                                                                                                                                                    |
|----------|------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instType |String|  yes   |                                                                                                                                                                                                              Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                              |
|   uly    |String|   No   |                                                                                                                                                                                                                             Underlying  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                              |
|instFamily|String|   No   |                                                                                                                                                                                                                          Instrument family  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                          |
|  instId  |String|   No   |                                                                                                                                                                                                                                          Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                           |
| ordType  |String|   No   |Order type  <br/>`market`: market order   <br/>`limit`: limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order  <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)  <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)   <br/>`op_fok`: Simple options (fok)|
|  state   |String|   No   |                                                                                                                                                                                              State  <br/>`canceled`  <br/>`filled`  <br/>`mmp_canceled`: Order canceled automatically due to Market Maker Protection                                                                                                                                                                                              |
| category |String|   No   |                                                                                                                                                                                   Category   <br/>`twap`   <br/>`adl`  <br/>`full_liquidation`  <br/>`partial_liquidation`   <br/>`delivery`   <br/>`ddh`: Delta dynamic hedge                                                                                                                                                                                    |
|  after   |String|   No   |                                                                                                                                                                                                                      Pagination of data to return records earlier than the requested `ordId`                                                                                                                                                                                                                      |
|  before  |String|   No   |                                                                                                                                                                                                                       Pagination of data to return records newer than the requested `ordId`                                                                                                                                                                                                                       |
|  begin   |String|   No   |                                                                                                                                                                                                         Filter with a begin timestamp `cTime`. Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                          |
|   end    |String|   No   |                                                                                                                                                                                                          Filter with an end timestamp `cTime`. Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                          |
|  limit   |String|   No   |                                                                                                                                                                                                                     Number of results per request. The maximum is `100`; The default is `100`                                                                                                                                                                                                                     |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "accFillSz": "0.00192834",
            "algoClOrdId": "",
            "algoId": "",
            "attachAlgoClOrdId": "",
            "attachAlgoOrds": [],
            "avgPx": "51858",
            "cTime": "1708587373361",
            "cancelSource": "",
            "cancelSourceReason": "",
            "category": "normal",
            "ccy": "",
            "clOrdId": "",
            "fee": "-0.00000192834",
            "feeCcy": "BTC",
            "fillPx": "51858",
            "fillSz": "0.00192834",
            "fillTime": "1708587373361",
            "instId": "BTC-USDT",
            "instType": "SPOT",
            "lever": "",
            "linkedAlgoOrd": {
                "algoId": ""
            },
            "ordId": "680800019749904384",
            "ordType": "market",
            "pnl": "0",
            "posSide": "",
            "px": "",
            "pxType": "",
            "pxUsd": "",
            "pxVol": "",
            "quickMgnType": "",
            "rebate": "0",
            "rebateCcy": "USDT",
            "reduceOnly": "false",
            "side": "buy",
            "slOrdPx": "",
            "slTriggerPx": "",
            "slTriggerPxType": "",
            "source": "",
            "state": "filled",
            "stpId": "",
            "stpMode": "",
            "sz": "100",
            "tag": "",
            "tdMode": "cash",
            "tgtCcy": "quote_ccy",
            "tpOrdPx": "",
            "tpTriggerPx": "",
            "tpTriggerPxType": "",
            "tradeId": "744876980",
            "uTime": "1708587373362",
            "isTpLimit": "false"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|     **Parameter**     |   **Type**    |                                                                                                                                                                                                                                                  **Description**                                                                                                                                                                                                                                                   |
|-----------------------|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       instType        |    String     |                                                                                                                                                                                                                                                  Instrument type                                                                                                                                                                                                                                                   |
|        instId         |    String     |                                                                                                                                                                                                                                                   Instrument ID                                                                                                                                                                                                                                                    |
|        tgtCcy         |    String     |                                                                                                                                                     Order quantity unit setting for `sz`  <br/>`base_ccy`: Base currency ,`quote_ccy`: Quote currency   <br/>Only applicable to `SPOT` Market Orders  <br/>Default is `quote_ccy` for buy, `base_ccy` for sell                                                                                                                                                     |
|          ccy          |    String     |                                                                                                                                                                                            Margin currency   <br/>Applicable to all `isolated` `MARGIN` orders and `cross` `MARGIN` orders in `Spot and futures mode`.                                                                                                                                                                                             |
|         ordId         |    String     |                                                                                                                                                                                                                                                      Order ID                                                                                                                                                                                                                                                      |
|        clOrdId        |    String     |                                                                                                                                                                                                                                     Client Order ID as assigned by the client                                                                                                                                                                                                                                      |
|          tag          |    String     |                                                                                                                                                                                                                                                     Order tag                                                                                                                                                                                                                                                      |
|          px           |    String     |                                                                                                                                                                                                                             Price   <br/>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                             |
|         pxUsd         |    String     |                                                                                                                                                                                                                Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                |
|         pxVol         |    String     |                                                                                                                                                                                                      Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                       |
|        pxType         |    String     |                                                                                                     Price type of options   <br/>`px`: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)   <br/>`pxVol`: Place an order based on pxVol   <br/>`pxUsd`: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                     |
|          sz           |    String     |                                                                                                                                                                                                                                              Quantity to buy or sell                                                                                                                                                                                                                                               |
|        ordType        |    String     |Order type   <br/>`market`: market order   <br/>`limit`: limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order  <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)  <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)   <br/>`op_fok`: Simple options (fok)|
|         side          |    String     |                                                                                                                                                                                                                                                     Order side                                                                                                                                                                                                                                                     |
|        posSide        |    String     |                                                                                                                                                                                                                                                   Position side                                                                                                                                                                                                                                                    |
|        tdMode         |    String     |                                                                                                                                                                                                                                                     Trade mode                                                                                                                                                                                                                                                     |
|       accFillSz       |    String     |                                                                                                                                                                                                                                             Accumulated fill quantity                                                                                                                                                                                                                                              |
|        fillPx         |    String     |                                                                                                                                                                                                                              Last filled price. If none is filled, it will return "".                                                                                                                                                                                                                              |
|        tradeId        |    String     |                                                                                                                                                                                                                                                   Last trade ID                                                                                                                                                                                                                                                    |
|        fillSz         |    String     |                                                                                                                                                                                                                                                Last filled quantity                                                                                                                                                                                                                                                |
|       fillTime        |    String     |                                                                                                                                                                                                                                                  Last filled time                                                                                                                                                                                                                                                  |
|         avgPx         |    String     |                                                                                                                                                                                                                            Average filled price. If none is filled, it will return "".                                                                                                                                                                                                                             |
|         state         |    String     |                                                                                                                                                                                                                           State   <br/>`canceled`   <br/>`filled`   <br/>`mmp_canceled`                                                                                                                                                                                                                            |
|         lever         |    String     |                                                                                                                                                                                                                  Leverage, from `0.01` to `125`.   <br/>Only applicable to `MARGIN/FUTURES/SWAP`                                                                                                                                                                                                                   |
|   attachAlgoClOrdId   |    String     |                                                                                                                                                                                                                            Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                             |
|      tpTriggerPx      |    String     |                                                                                                                                                                                                                                             Take-profit trigger price.                                                                                                                                                                                                                                             |
|    tpTriggerPxType    |    String     |                                                                                                                                                                                                   Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                    |
|        tpOrdPx        |    String     |                                                                                                                                                                                                                                              Take-profit order price.                                                                                                                                                                                                                                              |
|      slTriggerPx      |    String     |                                                                                                                                                                                                                                              Stop-loss trigger price.                                                                                                                                                                                                                                              |
|    slTriggerPxType    |    String     |                                                                                                                                                                                                    Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                     |
|        slOrdPx        |    String     |                                                                                                                                                                                                                                               Stop-loss order price.                                                                                                                                                                                                                                               |
|    attachAlgoOrds     |Array of object|                                                                                                                                                                                                                                   TP/SL information attached when placing order                                                                                                                                                                                                                                    |
|    \> attachAlgoId    |    String     |                                                                                                                                                       The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                       |
| \> attachAlgoClOrdId  |    String     |                                                                                                                 Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.                                                                                                                 |
|     \> tpOrdKind      |    String     |                                                                                                                                                                                                                                   TP order kind  <br/>`condition`  <br/>`limit`                                                                                                                                                                                                                                    |
|    \> tpTriggerPx     |    String     |                                                                                                                                                                                                                                             Take-profit trigger price.                                                                                                                                                                                                                                             |
|  \> tpTriggerPxType   |    String     |                                                                                                                                                                                                   Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                    |
|      \> tpOrdPx       |    String     |                                                                                                                                                                                                                                              Take-profit order price.                                                                                                                                                                                                                                              |
|    \> slTriggerPx     |    String     |                                                                                                                                                                                                                                              Stop-loss trigger price.                                                                                                                                                                                                                                              |
|  \> slTriggerPxType   |    String     |                                                                                                                                                                                                    Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                     |
|      \> slOrdPx       |    String     |                                                                                                                                                                                                                                               Stop-loss order price.                                                                                                                                                                                                                                               |
|         \> sz         |    String     |                                                                                                                                                                                                                                   Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                   |
|\> amendPxOnTriggerType|    String     |                                                                                                                                                                                        Whether to enable Cost-price SL. Only applicable to SL order of split TPs.   <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                                                                                                                        |
|      \> failCode      |    String     |                                                                                                                                                                                                               The error code when failing to place TP/SL order, e.g. 51020   <br/>The default is ""                                                                                                                                                                                                                |
|     \> failReason     |    String     |                                                                                                                                                                                                                    The error reason when failing to place TP/SL order.   <br/>The default is ""                                                                                                                                                                                                                    |
|     linkedAlgoOrd     |    Object     |                                                                                                                                                                                     Linked SL order detail, only applicable to the order that is placed by one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                                                     |
|       \> algoId       |    String     |                                                                                                                                                                                                                                                      Algo ID                                                                                                                                                                                                                                                       |
|         stpId         |    String     |                                                                                                                                                                                                        ~~Self trade prevention ID  <br/>Return "" if self trade prevention is not applicable~~ (deprecated)                                                                                                                                                                                                        |
|        stpMode        |    String     |                                                                                                                                                                                                               Self trade prevention mode   <br/>Return "" if self trade prevention is not applicable                                                                                                                                                                                                               |
|        feeCcy         |    String     |                                                                                                                                                                                                                                                    Fee currency                                                                                                                                                                                                                                                    |
|          fee          |    String     |                                                                                                                                               Fee and rebate  <br/>For spot and margin, it is accumulated fee charged by the platform. It is always negative, e.g. -0.01.   <br/>For Expiry Futures, Perpetual Futures and Options, it is accumulated fee and rebate                                                                                                                                               |
|       rebateCcy       |    String     |                                                                                                                                                                                                                                                  Rebate currency                                                                                                                                                                                                                                                   |
|        source         |    String     |                                                                                             Order source  <br/>`6`: The normal order triggered by the `trigger order`  <br/>`7`:The normal order triggered by the `TP/SL order`   <br/>`13`: The normal order triggered by the algo order  <br/>`25`:The normal order triggered by the `trailing stop order`  <br/>`34`: The normal order triggered by the chase order                                                                                             |
|        rebate         |    String     |                                                                                                                                                   Rebate amount, only applicable to spot and margin, the reward of placing orders from the platform (rebate) given to user who has reached the specified trading level. If there is no rebate, this field is "".                                                                                                                                                   |
|          pnl          |    String     |                                                                                                                                                                                               Profit and loss, Applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                               |
|       category        |    String     |                                                                                                                                                                            Category   <br/>`normal`  <br/>`twap`   <br/>`adl`  <br/>`full_liquidation`  <br/>`partial_liquidation`   <br/>`delivery`   <br/>`ddh`: Delta dynamic hedge                                                                                                                                                                             |
|      reduceOnly       |    String     |                                                                                                                                                                                                                 Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                                 |
|     cancelSource      |    String     |                                                                                                                                                                                                                                          Code of the cancellation source.                                                                                                                                                                                                                                          |
|  cancelSourceReason   |    String     |                                                                                                                                                                                                                                            Reason for the cancellation.                                                                                                                                                                                                                                            |
|      algoClOrdId      |    String     |                                                                                                                                                                                               Client-supplied Algo ID. There will be a value when algo order attaching `algoClOrdId` is triggered, or it will be "".                                                                                                                                                                                               |
|        algoId         |    String     |                                                                                                                                                                                                                   Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                   |
|       isTpLimit       |    String     |                                                                                                                                                                                                                                    Whether it is TP limit order. true or false                                                                                                                                                                                                                                     |
|         uTime         |    String     |                                                                                                                                                                                                                      Update time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                      |
|         cTime         |    String     |                                                                                                                                                                                                                     Creation time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                     |
|     quickMgnType      |    String     |                                                                                                                                                                                      ~~Quick Margin type, Only applicable to Quick Margin Mode of isolated margin  <br/>`manual`, `auto_borrow`, `auto_repay`~~ (Deprecated)                                                                                                                                                                                       |

---

### GET / Order history (last 3 months) ###

Get completed orders which are placed in the last 3 months, including those placed 3 months ago but completed in the last 3 months.   

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/orders-history-archive`

>
>
> Request Example
>
>

```
GET /api/v5/trade/orders-history-archive?ordType=post_only,fok,ioc&instType=SPOT

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Get completed SPOT orders which are placed in the last 3 months
result = tradeAPI.get_orders_history_archive(
    instType="SPOT",
    ordType="post_only,fok,ioc"
)
print(result)

```

#### Request Parameters ####

|Parameter | Type |Required|                                                                                                                                                                                                                                                    Description                                                                                                                                                                                                                                                     |
|----------|------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instType |String|  yes   |                                                                                                                                                                                                              Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                               |
|   uly    |String|   No   |                                                                                                                                                                                                                              Underlying  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                              |
|instFamily|String|   No   |                                                                                                                                                                                                                          Instrument family  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                           |
|  instId  |String|   No   |                                                                                                                                                                                                                                        Instrument ID, e.g. `BTC-USD-200927`                                                                                                                                                                                                                                        |
| ordType  |String|   No   |Order type   <br/>`market`: Market order   <br/>`limit`: Limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order  <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)  <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)   <br/>`op_fok`: Simple options (fok)|
|  state   |String|   No   |                                                                                                                                                                                              State  <br/>`canceled`   <br/>`filled`  <br/>`mmp_canceled`: Order canceled automatically due to Market Maker Protection                                                                                                                                                                                              |
| category |String|   No   |                                                                                                                                                                                    Category   <br/>`twap`   <br/>`adl`  <br/>`full_liquidation`  <br/>`partial_liquidation`  <br/>`delivery`   <br/>`ddh`: Delta dynamic hedge                                                                                                                                                                                     |
|  after   |String|   No   |                                                                                                                                                                                                                      Pagination of data to return records earlier than the requested `ordId`                                                                                                                                                                                                                       |
|  before  |String|   No   |                                                                                                                                                                                                                       Pagination of data to return records newer than the requested `ordId`                                                                                                                                                                                                                        |
|  begin   |String|   No   |                                                                                                                                                                                                          Filter with a begin timestamp `cTime`. Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                          |
|   end    |String|   No   |                                                                                                                                                                                                          Filter with an end timestamp `cTime`. Unix timestamp format in milliseconds, e.g. 1597026383085                                                                                                                                                                                                           |
|  limit   |String|   No   |                                                                                                                                                                                                                     Number of results per request. The maximum is `100`; The default is `100`                                                                                                                                                                                                                      |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "accFillSz": "0.00192834",
            "algoClOrdId": "",
            "algoId": "",
            "attachAlgoClOrdId": "",
            "attachAlgoOrds": [],
            "avgPx": "51858",
            "cTime": "1708587373361",
            "cancelSource": "",
            "cancelSourceReason": "",
            "category": "normal",
            "ccy": "",
            "clOrdId": "",
            "fee": "-0.00000192834",
            "feeCcy": "BTC",
            "fillPx": "51858",
            "fillSz": "0.00192834",
            "fillTime": "1708587373361",
            "instId": "BTC-USDT",
            "instType": "SPOT",
            "lever": "",
            "ordId": "680800019749904384",
            "ordType": "market",
            "pnl": "0",
            "posSide": "",
            "px": "",
            "pxType": "",
            "pxUsd": "",
            "pxVol": "",
            "quickMgnType": "",
            "rebate": "0",
            "rebateCcy": "USDT",
            "reduceOnly": "false",
            "side": "buy",
            "slOrdPx": "",
            "slTriggerPx": "",
            "slTriggerPxType": "",
            "source": "",
            "state": "filled",
            "stpId": "",
            "stpMode": "",
            "sz": "100",
            "tag": "",
            "tdMode": "cash",
            "tgtCcy": "quote_ccy",
            "tpOrdPx": "",
            "tpTriggerPx": "",
            "tpTriggerPxType": "",
            "tradeId": "744876980",
            "uTime": "1708587373362",
            "isTpLimit": "false",
            "linkedAlgoOrd": {
                "algoId": ""
            }
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|     **Parameter**     |   **Type**    |                                                                                                                                                                                                                                                  **Description**                                                                                                                                                                                                                                                   |
|-----------------------|---------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       instType        |    String     |                                                                                                                                                                                                                                                  Instrument type                                                                                                                                                                                                                                                   |
|        instId         |    String     |                                                                                                                                                                                                                                                   Instrument ID                                                                                                                                                                                                                                                    |
|        tgtCcy         |    String     |                                                                                                                                                     Order quantity unit setting for `sz`  <br/>`base_ccy`: Base currency ,`quote_ccy`: Quote currency   <br/>Only applicable to `SPOT` Market Orders  <br/>Default is `quote_ccy` for buy, `base_ccy` for sell                                                                                                                                                     |
|          ccy          |    String     |                                                                                                                                                                                            Margin currency   <br/>Applicable to all `isolated` `MARGIN` orders and `cross` `MARGIN` orders in `Spot and futures mode`.                                                                                                                                                                                             |
|         ordId         |    String     |                                                                                                                                                                                                                                                      Order ID                                                                                                                                                                                                                                                      |
|        clOrdId        |    String     |                                                                                                                                                                                                                                     Client Order ID as assigned by the client                                                                                                                                                                                                                                      |
|          tag          |    String     |                                                                                                                                                                                                                                                     Order tag                                                                                                                                                                                                                                                      |
|          px           |    String     |                                                                                                                                                                                                                             Price   <br/>For options, use coin as unit (e.g. BTC, ETH)                                                                                                                                                                                                                             |
|         pxUsd         |    String     |                                                                                                                                                                                                                Options price in USDOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                                |
|         pxVol         |    String     |                                                                                                                                                                                                      Implied volatility of the options orderOnly applicable to options; return "" for other instrument types                                                                                                                                                                                                       |
|        pxType         |    String     |                                                                                                     Price type of options   <br/>`px`: Place an order based on price, in the unit of coin (the unit for the request parameter px is BTC or ETH)   <br/>`pxVol`: Place an order based on pxVol   <br/>`pxUsd`: Place an order based on pxUsd, in the unit of USD (the unit for the request parameter px is USD)                                                                                                     |
|          sz           |    String     |                                                                                                                                                                                                                                              Quantity to buy or sell                                                                                                                                                                                                                                               |
|        ordType        |    String     |Order type   <br/>`market`: Market order   <br/>`limit`: Limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order  <br/>`mmp`: Market Maker Protection (only applicable to Option in Portfolio Margin mode)  <br/>`mmp_and_post_only`: Market Maker Protection and Post-only order(only applicable to Option in Portfolio Margin mode)   <br/>`op_fok`: Simple options (fok)|
|         side          |    String     |                                                                                                                                                                                                                                                     Order side                                                                                                                                                                                                                                                     |
|        posSide        |    String     |                                                                                                                                                                                                                                                   Position side                                                                                                                                                                                                                                                    |
|        tdMode         |    String     |                                                                                                                                                                                                                                                     Trade mode                                                                                                                                                                                                                                                     |
|       accFillSz       |    String     |                                                                                                                                                                                                                                             Accumulated fill quantity                                                                                                                                                                                                                                              |
|        fillPx         |    String     |                                                                                                                                                                                                                              Last filled price. If none is filled, it will return "".                                                                                                                                                                                                                              |
|        tradeId        |    String     |                                                                                                                                                                                                                                                   Last trade ID                                                                                                                                                                                                                                                    |
|        fillSz         |    String     |                                                                                                                                                                                                                                                Last filled quantity                                                                                                                                                                                                                                                |
|       fillTime        |    String     |                                                                                                                                                                                                                                                  Last filled time                                                                                                                                                                                                                                                  |
|         avgPx         |    String     |                                                                                                                                                                                                                            Average filled price. If none is filled, it will return "".                                                                                                                                                                                                                             |
|         state         |    String     |                                                                                                                                                                                                                           State   <br/>`canceled`   <br/>`filled`   <br/>`mmp_canceled`                                                                                                                                                                                                                            |
|         lever         |    String     |                                                                                                                                                                                                                  Leverage, from `0.01` to `125`.   <br/>Only applicable to `MARGIN/FUTURES/SWAP`                                                                                                                                                                                                                   |
|   attachAlgoClOrdId   |    String     |                                                                                                                                                                                                                            Client-supplied Algo ID when placing order attaching TP/SL.                                                                                                                                                                                                                             |
|      tpTriggerPx      |    String     |                                                                                                                                                                                                                                             Take-profit trigger price.                                                                                                                                                                                                                                             |
|    tpTriggerPxType    |    String     |                                                                                                                                                                                                   Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                    |
|        tpOrdPx        |    String     |                                                                                                                                                                                                                                              Take-profit order price.                                                                                                                                                                                                                                              |
|      slTriggerPx      |    String     |                                                                                                                                                                                                                                              Stop-loss trigger price.                                                                                                                                                                                                                                              |
|    slTriggerPxType    |    String     |                                                                                                                                                                                                    Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                     |
|        slOrdPx        |    String     |                                                                                                                                                                                                                                               Stop-loss order price.                                                                                                                                                                                                                                               |
|    attachAlgoOrds     |Array of object|                                                                                                                                                                                                                                   TP/SL information attached when placing order                                                                                                                                                                                                                                    |
|    \> attachAlgoId    |    String     |                                                                                                                                                       The order ID of attached TP/SL order. It can be used to identity the TP/SL order when amending. It will not be posted to algoId when placing TP/SL order after the general order is filled completely.                                                                                                                                                       |
| \> attachAlgoClOrdId  |    String     |                                                                                                                 Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.                                                                                                                 |
|     \> tpOrdKind      |    String     |                                                                                                                                                                                                                                   TP order kind  <br/>`condition`  <br/>`limit`                                                                                                                                                                                                                                    |
|    \> tpTriggerPx     |    String     |                                                                                                                                                                                                                                             Take-profit trigger price.                                                                                                                                                                                                                                             |
|  \> tpTriggerPxType   |    String     |                                                                                                                                                                                                   Take-profit trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                    |
|      \> tpOrdPx       |    String     |                                                                                                                                                                                                                                              Take-profit order price.                                                                                                                                                                                                                                              |
|    \> slTriggerPx     |    String     |                                                                                                                                                                                                                                              Stop-loss trigger price.                                                                                                                                                                                                                                              |
|  \> slTriggerPxType   |    String     |                                                                                                                                                                                                    Stop-loss trigger price type.   <br/>`last`: last price  <br/>`index`: index price  <br/>`mark`: mark price                                                                                                                                                                                                     |
|      \> slOrdPx       |    String     |                                                                                                                                                                                                                                               Stop-loss order price.                                                                                                                                                                                                                                               |
|         \> sz         |    String     |                                                                                                                                                                                                                                   Size. Only applicable to TP order of split TPs                                                                                                                                                                                                                                   |
|\> amendPxOnTriggerType|    String     |                                                                                                                                                                                        Whether to enable Cost-price SL. Only applicable to SL order of split TPs.   <br/>`0`: disable, the default value   <br/>`1`: Enable                                                                                                                                                                                        |
|      \> failCode      |    String     |                                                                                                                                                                                                               The error code when failing to place TP/SL order, e.g. 51020   <br/>The default is ""                                                                                                                                                                                                                |
|     \> failReason     |    String     |                                                                                                                                                                                                                    The error reason when failing to place TP/SL order.   <br/>The default is ""                                                                                                                                                                                                                    |
|     linkedAlgoOrd     |    Object     |                                                                                                                                                                                     Linked SL order detail, only applicable to the order that is placed by one-cancels-the-other (OCO) order that contains the TP limit order.                                                                                                                                                                                     |
|       \> algoId       |    String     |                                                                                                                                                                                                                                                      Algo ID                                                                                                                                                                                                                                                       |
|         stpId         |    String     |                                                                                                                                                                                                        ~~Self trade prevention ID  <br/>Return "" if self trade prevention is not applicable~~ (deprecated)                                                                                                                                                                                                        |
|        stpMode        |    String     |                                                                                                                                                                                                               Self trade prevention mode   <br/>Return "" if self trade prevention is not applicable                                                                                                                                                                                                               |
|        feeCcy         |    String     |                                                                                                                                                                                                                                                    Fee currency                                                                                                                                                                                                                                                    |
|          fee          |    String     |                                                                                                                                               Fee and rebate  <br/>For spot and margin, it is accumulated fee charged by the platform. It is always negative, e.g. -0.01.   <br/>For Expiry Futures, Perpetual Futures and Options, it is accumulated fee and rebate                                                                                                                                               |
|        source         |    String     |                                                                                            Order source  <br/>`6`: The normal order triggered by the `trigger order`  <br/>`7`:The normal order triggered by the `TP/SL order`   <br/>`13`: The normal order triggered by the algo order  <br/>`25`:The normal order triggered by the `trailing stop order`  <br/>`34`: The normal order triggered by the `chase order`                                                                                            |
|       rebateCcy       |    String     |                                                                                                                                                                                                                                                  Rebate currency                                                                                                                                                                                                                                                   |
|        rebate         |    String     |                                                                                                                                                   Rebate amount, only applicable to spot and margin, the reward of placing orders from the platform (rebate) given to user who has reached the specified trading level. If there is no rebate, this field is "".                                                                                                                                                   |
|          pnl          |    String     |                                                                                                                                                                                               Profit and loss, Applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                                                                                                                                                                               |
|       category        |    String     |                                                                                                                                                                            Category   <br/>`normal`  <br/>`twap`   <br/>`adl`  <br/>`full_liquidation`  <br/>`partial_liquidation`   <br/>`delivery`   <br/>`ddh`: Delta dynamic hedge                                                                                                                                                                             |
|      reduceOnly       |    String     |                                                                                                                                                                                                                 Whether the order can only reduce the position size. Valid options: true or false.                                                                                                                                                                                                                 |
|     cancelSource      |    String     |                                                                                                                                                                                                                                          Code of the cancellation source.                                                                                                                                                                                                                                          |
|  cancelSourceReason   |    String     |                                                                                                                                                                                                                                            Reason for the cancellation.                                                                                                                                                                                                                                            |
|      algoClOrdId      |    String     |                                                                                                                                                                                               Client-supplied Algo ID. There will be a value when algo order attaching `algoClOrdId` is triggered, or it will be "".                                                                                                                                                                                               |
|        algoId         |    String     |                                                                                                                                                                                                                   Algo ID. There will be a value when algo order is triggered, or it will be "".                                                                                                                                                                                                                   |
|       isTpLimit       |    String     |                                                                                                                                                                                                                                    Whether it is TP limit order. true or false                                                                                                                                                                                                                                     |
|         uTime         |    String     |                                                                                                                                                                                                                      Update time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                      |
|         cTime         |    String     |                                                                                                                                                                                                                     Creation time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                     |
|     quickMgnType      |    String     |                                                                                                                                                                                      ~~Quick Margin type, Only applicable to Quick Margin Mode of isolated margin  <br/>`manual`, `auto_borrow`, `auto_repay`~~ (Deprecated)                                                                                                                                                                                       |
This interface does not contain the order data of the `Canceled orders without any fills` type, which can be obtained through the `Get Order History (last 7 days)` interface.   
As far as OPTION orders that are complete, pxVol and pxUsd will update in time for px order, pxVol will update in time for pxUsd order, pxUsd will update in time for pxVol order.

---

### GET / Transaction details (last 3 days) ###

Retrieve recently-filled transaction details in the last 3 day.

#### Rate Limit: 60 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/fills`

>
>
> Request Example
>
>

```
GET /api/v5/trade/fills

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Retrieve recently-filled transaction details
result = tradeAPI.get_fills()
print(result)

```

#### Request Parameters ####

|Parameter | Type |Required|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------|------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instType |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|   uly    |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Underlying  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|instFamily|String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Instrument family  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|  instId  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|  ordId   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| subType  |String|   No   |Transaction type   <br/>`1`: Buy  <br/>`2`: Sell  <br/>`3`: Open long  <br/>`4`: Open short  <br/>`5`: Close long  <br/>`6`: Close short   <br/>`100`: Partial liquidation close long  <br/>`101`: Partial liquidation close short  <br/>`102`: Partial liquidation buy  <br/>`103`: Partial liquidation sell  <br/>`104`: Liquidation long  <br/>`105`: Liquidation short  <br/>`106`: Liquidation buy   <br/>`107`: Liquidation sell   <br/>`110`: Liquidation transfer in  <br/>`111`: Liquidation transfer out   <br/>`118`: System token conversion transfer in  <br/>`119`: System token conversion transfer out   <br/>`125`: ADL close long  <br/>`126`: ADL close short  <br/>`127`: ADL buy  <br/>`128`: ADL sell   <br/>`212`: Auto borrow of quick margin  <br/>`213`: Auto repay of quick margin   <br/>`204`: block trade buy  <br/>`205`: block trade sell  <br/>`206`: block trade open long  <br/>`207`: block trade open short  <br/>`208`: block trade close long  <br/>`209`: block trade close short  <br/>`236`: Easy convert in  <br/>`237`: Easy convert out  <br/>`270`: Spread trading buy  <br/>`271`: Spread trading sell  <br/>`272`: Spread trading open long  <br/>`273`: Spread trading open short  <br/>`274`: Spread trading close long  <br/>`275`: Spread trading close short|
|  after   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Pagination of data to return records earlier than the requested `billId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|  before  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Pagination of data to return records newer than the requested `billId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|  begin   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Filter with a begin timestamp `ts`. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|   end    |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Filter with an end timestamp `ts`. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|  limit   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Number of results per request. The maximum is `100`; The default is `100`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "side": "buy",
            "fillSz": "0.00192834",
            "fillPx": "51858",
            "fillPxVol": "",
            "fillFwdPx": "",
            "fee": "-0.00000192834",
            "fillPnl": "0",
            "ordId": "680800019749904384",
            "feeRate": "-0.001",
            "instType": "SPOT",
            "fillPxUsd": "",
            "instId": "BTC-USDT",
            "clOrdId": "",
            "posSide": "net",
            "billId": "680800019754098688",
            "subType": "1",
            "fillMarkVol": "",
            "tag": "",
            "fillTime": "1708587373361",
            "execType": "T",
            "fillIdxPx": "",
            "tradeId": "744876980",
            "fillMarkPx": "",
            "feeCcy": "BTC",
            "ts": "1708587373362"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                         **Description**                                                                                         |
|-------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  instType   | String |                                                                                         Instrument type                                                                                         |
|   instId    | String |                                                                                          Instrument ID                                                                                          |
|   tradeId   | String |                                                                                          Last trade ID                                                                                          |
|    ordId    | String |                                                                                            Order ID                                                                                             |
|   clOrdId   | String |                                                                            Client Order ID as assigned by the client                                                                            |
|   billId    | String |                                                                                             Bill ID                                                                                             |
|   subType   | String |                                                                                        Transaction type                                                                                         |
|     tag     | String |                                                                                            Order tag                                                                                            |
|   fillPx    | String |                                                              Last filled price. It is the same as the px from "Get bills details".                                                              |
|   fillSz    | String |                                                                                      Last filled quantity                                                                                       |
|  fillIdxPx  | String |Index price at the moment of trade execution   <br/>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.|
|   fillPnl   | String |                               Last filled profit and loss, applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                |
|  fillPxVol  | String |                                             Implied volatility when filled   <br/>Only applicable to options; return "" for other instrument types                                              |
|  fillPxUsd  | String |                                      Options price when filled, in the unit of USD   <br/>Only applicable to options; return "" for other instrument types                                      |
| fillMarkVol | String |                                               Mark volatility when filled   <br/>Only applicable to options; return "" for other instrument types                                               |
|  fillFwdPx  | String |                                                Forward price when filled   <br/>Only applicable to options; return "" for other instrument types                                                |
| fillMarkPx  | String |                                                             Mark price when filled   <br/>Applicable to `FUTURES`, `SWAP`, `OPTION`                                                             |
|    side     | String |                                                                                    Order side, `buy` `sell`                                                                                     |
|   posSide   | String |                                                            Position side   <br/>`long` `short`   <br/>it returns `net` in`net` mode.                                                            |
|  execType   | String |                                  Liquidity taker or maker  <br/>`T`: taker  <br/>`M`: maker  <br/>Not applicable to system orders such as ADL and liquidation                                   |
|   feeCcy    | String |                                                                                 Trading fee or rebate currency                                                                                  |
|     fee     | String |                              The amount of trading fee or rebate. The trading fee deduction is negative, such as '-0.01'; the rebate is positive, such as '0.01'.                               |
|     ts      | String |                                                       Data generation time, Unix timestamp format in milliseconds, e.g. `1597026383085`.                                                        |
|  fillTime   | String |                                                                Trade time which is the same as `fillTime` for the order channel.                                                                |
|   feeRate   | String |                                                                  Fee rate. This field is returned for `SPOT` and `MARGIN` only                                                                  |
tradeId  
For partial\_liquidation, full\_liquidation, or adl, when it comes to fill information, this field will be assigned a negative value to distinguish it from other matching transaction scenarios, when it comes to order information, this field will be 0. ordId  
Order ID, always "" for block trading.  
clOrdId  
Client-supplied order ID, always "" for block trading.

---

### GET / Transaction details (last 3 months) ###

Retrieve recently-filled transaction details in the last 3 months.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/fills-history`

>
>
> Request Example
>
>

```
GET /api/v5/trade/fills-history?instType=SPOT

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Retrieve SPOT transaction details in the last 3 months.
result = tradeAPI.get_fills_history(
    instType="SPOT"
)
print(result)

```

#### Request Parameters ####

|Parameter | Type |Required|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------|------|--------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instType |String|  YES   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Instrument type  <br/>`SPOT`  <br/>`MARGIN`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|   uly    |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Underlying  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|instFamily|String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Instrument family  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|  instId  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Instrument ID, e.g. `BTC-USDT`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|  ordId   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Order ID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| subType  |String|   No   |Transaction type   <br/>`1`: Buy  <br/>`2`: Sell  <br/>`3`: Open long  <br/>`4`: Open short  <br/>`5`: Close long  <br/>`6`: Close short   <br/>`100`: Partial liquidation close long  <br/>`101`: Partial liquidation close short  <br/>`102`: Partial liquidation buy  <br/>`103`: Partial liquidation sell  <br/>`104`: Liquidation long  <br/>`105`: Liquidation short  <br/>`106`: Liquidation buy   <br/>`107`: Liquidation sell   <br/>`110`: Liquidation transfer in  <br/>`111`: Liquidation transfer out   <br/>`118`: System token conversion transfer in  <br/>`119`: System token conversion transfer out   <br/>`125`: ADL close long  <br/>`126`: ADL close short  <br/>`127`: ADL buy  <br/>`128`: ADL sell   <br/>`212`: Auto borrow of quick margin  <br/>`213`: Auto repay of quick margin   <br/>`204`: block trade buy  <br/>`205`: block trade sell  <br/>`206`: block trade open long  <br/>`207`: block trade open short  <br/>`208`: block trade close long  <br/>`209`: block trade close short  <br/>`236`: Easy convert in  <br/>`237`: Easy convert out  <br/>`270`: Spread trading buy  <br/>`271`: Spread trading sell  <br/>`272`: Spread trading open long  <br/>`273`: Spread trading open short  <br/>`274`: Spread trading close long  <br/>`275`: Spread trading close short|
|  after   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Pagination of data to return records earlier than the requested `billId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|  before  |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Pagination of data to return records newer than the requested `billId`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|  begin   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Filter with a begin timestamp `ts`. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|   end    |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Filter with an end timestamp `ts`. Unix timestamp format in milliseconds, e.g. `1597026383085`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|  limit   |String|   No   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Number of results per request. The maximum is `100`; The default is `100`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "side": "buy",
            "fillSz": "0.00192834",
            "fillPx": "51858",
            "fillPxVol": "",
            "fillFwdPx": "",
            "fee": "-0.00000192834",
            "fillPnl": "0",
            "ordId": "680800019749904384",
            "feeRate": "-0.001",
            "instType": "SPOT",
            "fillPxUsd": "",
            "instId": "BTC-USDT",
            "clOrdId": "",
            "posSide": "net",
            "billId": "680800019754098688",
            "subType": "1",
            "fillMarkVol": "",
            "tag": "",
            "fillTime": "1708587373361",
            "execType": "T",
            "fillIdxPx": "",
            "tradeId": "744876980",
            "fillMarkPx": "",
            "feeCcy": "BTC",
            "ts": "1708587373362"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                         **Description**                                                                                         |
|-------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  instType   | String |                                                                                         Instrument type                                                                                         |
|   instId    | String |                                                                                          Instrument ID                                                                                          |
|   tradeId   | String |                                                                                          Last trade ID                                                                                          |
|    ordId    | String |                                                                                            Order ID                                                                                             |
|   clOrdId   | String |                                                                            Client Order ID as assigned by the client                                                                            |
|   billId    | String |                                                                                             Bill ID                                                                                             |
|   subType   | String |                                                                                        Transaction type                                                                                         |
|     tag     | String |                                                                                            Order tag                                                                                            |
|   fillPx    | String |                                                                                        Last filled price                                                                                        |
|   fillSz    | String |                                                                                      Last filled quantity                                                                                       |
|  fillIdxPx  | String |Index price at the moment of trade execution   <br/>For cross currency spot pairs, it returns baseCcy-USDT index price. For example, for LTC-ETH, this field returns the index price of LTC-USDT.|
|   fillPnl   | String |                               Last filled profit and loss, applicable to orders which have a trade and aim to close position. It always is 0 in other conditions                                |
|  fillPxVol  | String |                                             Implied volatility when filled   <br/>Only applicable to options; return "" for other instrument types                                              |
|  fillPxUsd  | String |                                      Options price when filled, in the unit of USD   <br/>Only applicable to options; return "" for other instrument types                                      |
| fillMarkVol | String |                                               Mark volatility when filled   <br/>Only applicable to options; return "" for other instrument types                                               |
|  fillFwdPx  | String |                                                Forward price when filled   <br/>Only applicable to options; return "" for other instrument types                                                |
| fillMarkPx  | String |                                                             Mark price when filled   <br/>Applicable to `FUTURES`, `SWAP`, `OPTION`                                                             |
|    side     | String |                                                                               Order side  <br/>`buy`  <br/>`sell`                                                                               |
|   posSide   | String |                                                          Position side  <br/>`long`  <br/>`short`  <br/>it returns `net` in`net` mode.                                                          |
|  execType   | String |                                  Liquidity taker or maker  <br/>`T`: taker  <br/>`M`: maker  <br/>Not applicable to system orders such as ADL and liquidation                                   |
|   feeCcy    | String |                                                                                 Trading fee or rebate currency                                                                                  |
|     fee     | String |                              The amount of trading fee or rebate. The trading fee deduction is negative, such as '-0.01'; the rebate is positive, such as '0.01'.                               |
|     ts      | String |                                                       Data generation time, Unix timestamp format in milliseconds, e.g. `1597026383085`.                                                        |
|  fillTime   | String |                                                                Trade time which is the same as `fillTime` for the order channel.                                                                |
|   feeRate   | String |                                                                  Fee rate. This field is returned for `SPOT` and `MARGIN` only                                                                  |
tradeId  
When the order category to which the transaction details belong is partial\_liquidation, full\_liquidation, or adl, this field will be assigned a negative value to distinguish it from other matching transaction scenarios.  
ordId  
Order ID, always "" for block trading.  
clOrdId  
Client-supplied order ID, always "" for block trading. We advise you to use Get Transaction details (last 3 days)when you request data for recent 3 days.

---

### GET / Easy convert currency list ###

Get list of small convertibles and mainstream currencies. Only applicable to the crypto balance less than $10.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/easy-convert-currency-list`

>
>
> Request Example
>
>

```
GET /api/v5/trade/easy-convert-currency-list

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Get list of small convertibles and mainstream currencies
result = tradeAPI.get_easy_convert_currency_list()
print(result)

```

#### Request Parameters ####

|Parameters| Type |Required|                                         Description                                          |
|----------|------|--------|----------------------------------------------------------------------------------------------|
|  source  |String|   No   |Funding source  <br/>`1`: Trading account  <br/>`2`: Funding account  <br/>The default is `1`.|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "fromData": [
                {
                    "fromAmt": "6.580712708344864",
                    "fromCcy": "ADA"
                },
                {
                    "fromAmt": "2.9970000013055097",
                    "fromCcy": "USDC"
                }
            ],
            "toCcy": [
                "USDT",
                "BTC",
                "ETH",
                "OKB"
            ]
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|Parameter |      Type      |                      Description                      |
|----------|----------------|-------------------------------------------------------|
| fromData |Array of objects|  Currently owned and convertible small currency list  |
|\> fromCcy|     String     |Type of small payment currency convert from, e.g. `BTC`|
|\> fromAmt|     String     |     Amount of small payment currency convert from     |
|  toCcy   |Array of strings|  Type of mainstream currency convert to, e.g. `USDT`  |

---

### POST / Place easy convert ###

Convert small currencies to mainstream currencies.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/trade/easy-convert`

>
>
> Request Example
>
>

```
POST /api/v5/trade/easy-convert
body
{
    "fromCcy": ["ADA","USDC"], //Seperated by commas
    "toCcy": "OKB"
}

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Convert small currencies to mainstream currencies
result = tradeAPI.easy_convert(
    fromCcy=["ADA", "USDC"],
    toCcy="OKB"
)
print(result)

```

#### Request Parameters ####

|Parameter|     Type      |Required|                                                                            Description                                                                            |
|---------|---------------|--------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| fromCcy |Array of string|  Yes   |Type of small payment currency convert from   <br/>Maximum 5 currencies can be selected in one order. If there are multiple currencies, separate them with commas. |
|  toCcy  |    String     |  Yes   |Type of mainstream currency convert to   <br/>Only one receiving currency type can be selected in one order and cannot be the same as the small payment currencies.|
| source  |    String     |   No   |                                  Funding source  <br/>`1`: Trading account  <br/>`2`: Funding account  <br/>The default is `1`.                                   |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "fillFromSz": "6.5807127",
            "fillToSz": "0.17171580105126",
            "fromCcy": "ADA",
            "status": "running",
            "toCcy": "OKB",
            "uTime": "1661419684687"
        },
        {
            "fillFromSz": "2.997",
            "fillToSz": "0.1683755161661844",
            "fromCcy": "USDC",
            "status": "running",
            "toCcy": "OKB",
            "uTime": "1661419684687"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|Parameter | Type |                                              Description                                               |
|----------|------|--------------------------------------------------------------------------------------------------------|
|  status  |String|Current status of easy convert   <br/>`running`: Running   <br/>`filled`: Filled   <br/>`failed`: Failed|
| fromCcy  |String|                              Type of small payment currency convert from                               |
|  toCcy   |String|                                 Type of mainstream currency convert to                                 |
|fillFromSz|String|                          Filled amount of small payment currency convert from                          |
| fillToSz |String|                            Filled amount of mainstream currency convert to                             |
|  uTime   |String|                 Trade time, Unix timestamp format in milliseconds, e.g. 1597026383085                  |

---

### GET / Easy convert history ###

Get the history and status of easy convert trades in the past 7 days.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/easy-convert-history`

>
>
> Request Example
>
>

```
GET /api/v5/trade/easy-convert-history

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Get the history of easy convert trades
result = tradeAPI.get_easy_convert_history()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                Description                                                                |
|---------|------|--------|-------------------------------------------------------------------------------------------------------------------------------------------|
|  after  |String|   No   |Pagination of data to return records earlier than the requested time (exclude), Unix timestamp format in milliseconds, e.g. `1597026383085`|
| before  |String|   No   | Pagination of data to return records newer than the requested time (exclude), Unix timestamp format in milliseconds, e.g. `1597026383085` |
|  limit  |String|   No   |                                  Number of results per request. The maximum is 100. The default is 100.                                   |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "fillFromSz": "0.1761712511667539",
            "fillToSz": "6.7342205900000000",
            "fromCcy": "OKB",
            "status": "filled",
            "toCcy": "ADA",
            "acct": "18",
            "uTime": "1661313307979"
        },
        {
            "fillFromSz": "0.1722106121112177",
            "fillToSz": "2.9971018300000000",
            "fromCcy": "OKB",
            "status": "filled",
            "toCcy": "USDC",
            "acct": "18",
            "uTime": "1661313307979"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|Parameter | Type |                                                Description                                                 |
|----------|------|------------------------------------------------------------------------------------------------------------|
| fromCcy  |String|                                Type of small payment currency convert from                                 |
|fillFromSz|String|                               Amount of small payment currency convert from                                |
|  toCcy   |String|                                   Type of mainstream currency convert to                                   |
| fillToSz |String|                                  Amount of mainstream currency convert to                                  |
|   acct   |String|The account where the mainstream currency is located  <br/>`6`: Funding account   <br/>`18`: Trading account|
|  status  |String|  Current status of easy convert   <br/>`running`: Running   <br/>`filled`: Filled   <br/>`failed`: Failed  |
|  uTime   |String|                  Trade time, Unix timestamp format in milliseconds, e.g. `1597026383085`                   |

---

### GET / One-click repay currency list ###

Get list of debt currency data and repay currencies. Debt currencies include both cross and isolated debts. Only applicable to `Multi-currency margin`/`Portfolio margin`.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/one-click-repay-currency-list`

>
>
> Request Example
>
>

```
GET /api/v5/trade/one-click-repay-currency-list

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Get list of debt currency data and repay currencies
result = tradeAPI.get_oneclick_repay_list()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                        Description                        |
|---------|------|--------|-----------------------------------------------------------|
|debtType |String|   No   |Debt type   <br/>`cross`: cross   <br/>`isolated`: isolated|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "debtData": [
                {
                    "debtAmt": "29.653478",
                    "debtCcy": "LTC"
                },
                {
                    "debtAmt": "237803.6828295906051002",
                    "debtCcy": "USDT"
                }
            ],
            "debtType": "cross",
            "repayData": [
                {
                    "repayAmt": "0.4978335419825104",
                    "repayCcy": "ETH"
                }
            ]
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter |      Type      |                        Description                         |
|-----------|----------------|------------------------------------------------------------|
| debtData  |Array of objects|                  Debt currency data list                   |
|\> debtCcy |     String     |                       Debt currency                        |
|\> debtAmt |     String     |Debt currency amount   <br/>Including principal and interest|
| debtType  |     String     |Debt type   <br/>`cross`: cross   <br/>`isolated`: isolated |
| repayData |Array of objects|                  Repay currency data list                  |
|\> repayCcy|     String     |                       Repay currency                       |
|\> repayAmt|     String     |         Repay currency's available balance amount          |

---

### POST / Trade one-click repay ###

Trade one-click repay to repay cross debts. Isolated debts are not applicable.
The maximum repayment amount is based on the remaining available balance of funding and trading accounts.
Only applicable to `Multi-currency margin`/`Portfolio margin`.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/trade/one-click-repay`

>
>
> Request Example
>
>

```
POST /api/v5/trade/one-click-repay
body
{
    "debtCcy": ["ETH","BTC"],
    "repayCcy": "USDT"
}

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Trade one-click repay to repay cross debts
result = tradeAPI.oneclick_repay(
    debtCcy=["ETH", "BTC"],
    repayCcy="USDT"
)
print(result)

```

#### Request Parameters ####

|Parameter|     Type      |Required|                                                                  Description                                                                   |
|---------|---------------|--------|------------------------------------------------------------------------------------------------------------------------------------------------|
| debtCcy |Array of string|  Yes   |   Debt currency type   <br/>Maximum 5 currencies can be selected in one order. If there are multiple currencies, separate them with commas.    |
|repayCcy |    String     |  Yes   |Repay currency type   <br/>Only one receiving currency type can be selected in one order and cannot be the same as the small payment currencies.|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "debtCcy": "ETH",
            "fillDebtSz": "0.01023052",
            "fillRepaySz": "30",
            "repayCcy": "USDT",
            "status": "filled",
            "uTime": "1646188520338"
        },
        {
            "debtCcy": "BTC",
            "fillFromSz": "3",
            "fillToSz": "60,221.15910001",
            "repayCcy": "USDT",
            "status": "filled",
            "uTime": "1646188520338"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter | Type |                                                Description                                                |
|-----------|------|-----------------------------------------------------------------------------------------------------------|
|  status   |String|Current status of one-click repay   <br/>`running`: Running   <br/>`filled`: Filled   <br/>`failed`: Failed|
|  debtCcy  |String|                                            Debt currency type                                             |
| repayCcy  |String|                                            Repay currency type                                            |
|fillDebtSz |String|                                      Filled amount of debt currency                                       |
|fillRepaySz|String|                                      Filled amount of repay currency                                      |
|   uTime   |String|                   Trade time, Unix timestamp format in milliseconds, e.g. 1597026383085                   |

---

### GET / One-click repay history ###

Get the history and status of one-click repay trades in the past 7 days. Only applicable to `Multi-currency margin`/`Portfolio margin`.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/one-click-repay-history`

>
>
> Request Example
>
>

```
GET /api/v5/trade/one-click-repay-history

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Get the history of one-click repay trades
result = tradeAPI.oneclick_repay_history()
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                          Description                                                          |
|---------|------|--------|-------------------------------------------------------------------------------------------------------------------------------|
|  after  |String|   No   |Pagination of data to return records earlier than the requested time, Unix timestamp format in milliseconds, e.g. 1597026383085|
| before  |String|   No   | Pagination of data to return records newer than the requested time, Unix timestamp format in milliseconds, e.g. 1597026383085 |
|  limit  |String|   No   |                            Number of results per request. The maximum is 100. The default is 100.                             |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "debtCcy": "USDC",
            "fillDebtSz": "6950.4865447900000000",
            "fillRepaySz": "4.3067975995094930",
            "repayCcy": "ETH",
            "status": "filled",
            "uTime": "1661256148746"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter | Type |                                                Description                                                |
|-----------|------|-----------------------------------------------------------------------------------------------------------|
|  debtCcy  |String|                                            Debt currency type                                             |
|fillDebtSz |String|                                    Amount of debt currency transacted                                     |
| repayCcy  |String|                                            Repay currency type                                            |
|fillRepaySz|String|                                    Amount of repay currency transacted                                    |
|  status   |String|Current status of one-click repay   <br/>`running`: Running   <br/>`filled`: Filled   <br/>`failed`: Failed|
|   uTime   |String|                   Trade time, Unix timestamp format in milliseconds, e.g. 1597026383085                   |

---

### GET / One-click repay currency list (New) ###

Get list of debt currency data and repay currencies. Only applicable to `SPOT mode`.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/one-click-repay-currency-list-v2`

>
>
> Request Example
>
>

```
GET /api/v5/trade/one-click-repay-currency-list-v2

```

```

```

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "debtData": [
                {
                    "debtAmt": "100",
                    "debtCcy": "USDC"
                }
            ],
            "repayData": [
                {
                    "repayAmt": "1.000022977",
                    "repayCcy": "BTC"
                },
                {
                    "repayAmt": "4998.0002397",
                    "repayCcy": "USDT"
                },
                {
                    "repayAmt": "100",
                    "repayCcy": "OKB"
                },
                {
                    "repayAmt": "1",
                    "repayCcy": "ETH"
                },
                {
                    "repayAmt": "100",
                    "repayCcy": "USDC"
                }
            ]
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter |      Type      |                        Description                        |
|-----------|----------------|-----------------------------------------------------------|
| debtData  |Array of objects|                  Debt currency data list                  |
|\> debtCcy |     String     |                       Debt currency                       |
|\> debtAmt |     String     |Debt currency amount  <br/>Including principal and interest|
| repayData |Array of objects|                 Repay currency data list                  |
|\> repayCcy|     String     |                      Repay currency                       |
|\> repayAmt|     String     |         Repay currency's available balance amount         |

---

### POST / Trade one-click repay (New) ###

Trade one-click repay to repay debts. Only applicable to `SPOT mode`.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/trade/one-click-repay-v2`

>
>
> Request Example
>
>

```
POST /api/v5/trade/one-click-repay-v2
body
{
    "debtCcy": "USDC",
    "repayCcyList": ["USDC","BTC"]
}

```

```

```

#### Request Parameters ####

| Parameter  |     Type      |Required|                                                                             Description                                                                             |
|------------|---------------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  debtCcy   |    String     |  Yes   |                                                                            Debt currency                                                                            |
|repayCcyList|Array of string|  Yes   |Repay currency list, e.g. ["USDC","BTC"]  <br/>The priority of currency to repay is consistent with the order in the array. (The first item has the highest priority)|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "debtCcy": "USDC",
            "repayCcyList": [
                "USDC",
                "BTC"
            ],
            "ts": "1742192217514"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter  |     Type      |                               Description                               |
|------------|---------------|-------------------------------------------------------------------------|
|  debtCcy   |    String     |                              Debt currency                              |
|repayCcyList|Array of string|                Repay currency list, e.g. ["USDC","BTC"]                 |
|     ts     |    String     |Request time, Unix timestamp format in milliseconds, e.g. `1597026383085`|

---

### GET / One-click repay history (New) ###

Get the history and status of one-click repay trades in the past 7 days. Only applicable to `SPOT mode`.

#### Rate Limit: 1 request per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/trade/one-click-repay-history-v2`

>
>
> Request Example
>
>

```
GET /api/v5/trade/one-click-repay-history-v2

```

```

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                   Description                                                                    |
|---------|------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------|
|  after  |String|   No   |Pagination of data to return records earlier than (included) the requested time `ts` , Unix timestamp format in milliseconds, e.g. `1597026383085`|
| before  |String|   No   | Pagination of data to return records newer than (included) the requested time `ts`, Unix timestamp format in milliseconds, e.g. `1597026383085`  |
|  limit  |String|   No   |                                      Number of results per request. The maximum is 100. The default is 100.                                      |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "debtCcy": "USDC",
            "fillDebtSz": "9.079631989",
            "ordIdInfo": [
                {
                    "cTime": "1742194485439",
                    "fillPx": "1",
                    "fillSz": "9.088651",
                    "instId": "USDC-USDT",
                    "ordId": "2338478342062235648",
                    "ordType": "ioc",
                    "px": "1.0049",
                    "side": "buy",
                    "state": "filled",
                    "sz": "9.0886514537313433"
                },
                {
                    "cTime": "1742194482326",
                    "fillPx": "83271.9",
                    "fillSz": "0.00010969",
                    "instId": "BTC-USDT",
                    "ordId": "2338478237607288832",
                    "ordType": "ioc",
                    "px": "82856.7",
                    "side": "sell",
                    "state": "filled",
                    "sz": "0.000109696512171"
                }
            ],
            "repayCcyList": [
                "USDC",
                "BTC"
            ],
            "status": "filled",
            "ts": "1742194481852"
        },
        {
            "debtCcy": "USDC",
            "fillDebtSz": "100",
            "ordIdInfo": [],
            "repayCcyList": [
                "USDC",
                "BTC"
            ],
            "status": "filled",
            "ts": "1742192217511"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

| Parameter  |      Type      |                                                Description                                                |
|------------|----------------|-----------------------------------------------------------------------------------------------------------|
|  debtCcy   |     String     |                                               Debt currency                                               |
|repayCcyList|Array of strings|                                 Repay currency list, e.g. ["USDC","BTC"]                                  |
| fillDebtSz |     String     |                                    Amount of debt currency transacted                                     |
|   status   |     String     |Current status of one-click repay   <br/>`running`: Running   <br/>`filled`: Filled   <br/>`failed`: Failed|
| ordIdInfo  |Array of object |                                                Order info                                                 |
|  \> ordId  |     String     |                                                 Order ID                                                  |
| \> instId  |     String     |                                      Instrument ID, e.g. `BTC-USDT`                                       |
| \> ordType |     String     |                             Order type  <br/>`ioc`: Immediate-or-cancel order                             |
|  \> side   |     String     |                                       Side  <br/>`buy`  <br/>`sell`                                       |
|   \> px    |     String     |                                                   Price                                                   |
|   \> sz    |     String     |                                          Quantity to buy or sell                                          |
| \> fillPx  |     String     |                      Last filled price.  <br/>If none is filled, it will return "".                       |
| \> fillSz  |     String     |                                           Last filled quantity                                            |
|  \> state  |     String     |                                   State  <br/>`filled`  <br/>`canceled`                                   |
|  \> cTime  |     String     |           Creation time for order, Unix timestamp format in milliseconds, e.g. `1597026383085`            |
|     ts     |     String     |                 Request time, Unix timestamp format in milliseconds, e.g. `1597026383085`                 |

---

### POST / Mass cancel order ###

Cancel all the MMP pending orders of an instrument family.  

Only applicable to Option in Portfolio Margin mode, and MMP privilege is required.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/trade/mass-cancel`

>
>
> Request Example
>
>

```
POST /api/v5/trade/mass-cancel
body
{
    "instType":"OPTION",
    "instFamily":"BTC-USD"
}

```

#### Request Parameters ####

| Parameter  | Type |Required|                                                                                                                                       Description                                                                                                                                        |
|------------|------|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  instType  |String|  Yes   |                                                                                                                              Instrument type  <br/>`OPTION`                                                                                                                              |
| instFamily |String|  Yes   |                                                                                                                                    Instrument family                                                                                                                                     |
|lockInterval|String|   No   |Lock interval(ms)  <br/> The range should be [0, 10 000]  <br/> The default is 0. You can set it as "0" if you want to unlock it immediately.  <br/> Error 54008 will be thorwn when placing order duiring lock interval, it is different from 51034 which is thrown when MMP is triggered|

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
            "result":true
        }
    ]
}

```

#### Response Parameters ####

|Parameter| Type  |             Description             |
|---------|-------|-------------------------------------|
| result  |Boolean|Result of the request `true`, `false`|

---

### POST / Cancel All After ###

Cancel all pending orders after the countdown timeout. Applicable to all trading symbols through order book (except Spread trading)  

#### Rate Limit: 1 request per second ####

#### Rate limit rule: User ID + tag ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/trade/cancel-all-after`

>
>
> Request Example
>
>

```
POST /api/v5/trade/cancel-all-after
{
   "timeOut":"60"
}

```

```
import okx.Trade as Trade

# API initialization
apikey = "YOUR_API_KEY"
secretkey = "YOUR_SECRET_KEY"
passphrase = "YOUR_PASSPHRASE"

flag = "1"  # Production trading: 0, Demo trading: 1

tradeAPI = Trade.TradeAPI(apikey, secretkey, passphrase, False, flag)

# Set cancel all after
result = tradeAPI.cancel_all_after(
    timeOut="10"
)

print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                          Description                                                                          |
|---------|------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| timeOut |String|  Yes   |The countdown for order cancellation, with second as the unit.  <br/>Range of value can be 0, [10, 120].   <br/>Setting timeOut to 0 disables Cancel All After.|
|   tag   |String|   No   |                    CAA order tag   <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 16 characters.                    |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
        {
            "triggerTime":"1587971460",
            "tag":"",
            "ts":"1587971400"
        }
    ]
}

```

#### Response Parameters ####

| Parameter | Type |                                          Description                                          |
|-----------|------|-----------------------------------------------------------------------------------------------|
|triggerTime|String|The time the cancellation is triggered.  <br/>triggerTime=0 means Cancel All After is disabled.|
|    tag    |String|                                         CAA order tag                                         |
|    ts     |String|                               The time the request is received.                               |
Users are recommended to send heartbeat to the exchange every second. When the cancel all after is triggered, the trading engine will cancel orders on behalf of the client one by one and this operation may take up to a few seconds. This feature is intended as a protection mechanism for clients only and clients should not use this feature as part of their trading strategies.   
To use tag level CAA, first, users need to set tags for their orders using the `tag` request parameter in the placing orders endpoint. When calling the CAA endpoint, if the `tag` request parameter is not provided, the default will be to set CAA at the account level. In this case, all pending orders for all order book trading symbols under that sub-account will be cancelled when CAA triggers, consistent with the existing logic. If the `tag` request parameter is provided, CAA will be set at the order tag level. When triggered, only pending orders of order book trading symbols with the specified tag will be canceled, while orders with other tags or no tags will remain unaffected.  

Users can run a maximum of 20 tag level CAAs simultaneously under the same sub-account. The system will only count live tag level CAAs. CAAs that have been triggered or revoked by the user will not be counted. The user will receive error code 51071 when exceeding the limit.

---

### GET / Account rate limit ###

Get account rate limit related information.   

Only new order requests and amendment order requests will be counted towards this limit. For batch order requests consisting of multiple orders, each order will be counted individually.   

For details, please refer to [Fill ratio based sub-account rate limit](/docs-v5/en/#overview-rate-limits-fill-ratio-based-sub-account-rate-limit)

#### Rate Limit: 1 request per second ####

#### Rate limit rule: User ID ####

#### HTTP Requests ####

`GET /api/v5/trade/account-rate-limit`

>
>
> Request Example
>
>

```
# Get the account rate limit
GET /api/v5/trade/account-rate-limit

```

#### Request Parameters ####

None

>
>
> Response Example
>
>

```
{
   "code":"0",
   "data":[
      {
         "accRateLimit":"2000",
         "fillRatio":"0.1234",
         "mainFillRatio":"0.1234",
         "nextAccRateLimit":"2000",
         "ts":"123456789000"
      }
   ],
   "msg":""
}

```

#### Response Parameters ####

|   Parameter    | Type |                                                                                                                                                        Description                                                                                                                                                         |
|----------------|------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|   fillRatio    |String|Sub account fill ratio during the monitoring period   <br/>Applicable for users with trading fee level \>= VIP 5 and return "" for others   <br/>For accounts with no trading volume during the monitoring period, return "0". For accounts with trading volume but no order count due to our counting logic, return "9999".|
| mainFillRatio  |String|                                        Master account aggregated fill ratio during the monitoring period   <br/>Applicable for users with trading fee level \>= VIP 5 and return "" for others   <br/>For accounts with no trading volume during the monitoring period, return "0"                                         |
|  accRateLimit  |String|                                                                                                                                       Current sub-account rate limit per two seconds                                                                                                                                       |
|nextAccRateLimit|String|                                                                                 Expected sub-account rate limit (per two seconds) in the next period   <br/>Applicable for users with trading fee level \>= VIP 5 and return "" for others                                                                                 |
|       ts       |String|                                                              Data update time   <br/>For users with trading fee level \>= VIP 5, the data will be generated at 08:00 am (UTC)   <br/>For users with trading fee level \< VIP 5, return the current timestamp                                                               |

---

### POST / Order precheck ###

This endpoint is used to precheck the account information before and after placing the order.   
Only applicable to `Multi-currency margin mode`, and `Portfolio margin mode`.

#### Rate Limit: 5 requests per 2 seconds ####

#### Rate limit rule: User ID ####

#### Permission: Trade ####

#### HTTP Request ####

`POST /api/v5/trade/order-precheck`

>
>
> Request Example
>
>

```
# place order for SPOT
POST /api/v5/trade/order-precheck
 body
 {
    "instId":"BTC-USDT",
    "tdMode":"cash",
    "clOrdId":"b15",
    "side":"buy",
    "ordType":"limit",
    "px":"2.15",
    "sz":"2"
}

```

#### Request Parameters ####

|     Parameter      |     Type      | Required  |                                                                                                                                                               Description                                                                                                                                                                |
|--------------------|---------------|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|       instId       |    String     |    Yes    |                                                                                                                                                      Instrument ID, e.g. `BTC-USDT`                                                                                                                                                      |
|       tdMode       |    String     |    Yes    |                                                                  Trade mode  <br/>Margin mode `cross` `isolated`  <br/>Non-Margin mode `cash`  <br/>`spot_isolated` (only applicable to SPOT lead trading, `tdMode` should be `spot_isolated` for `SPOT` lead trading.)                                                                  |
|        side        |    String     |    Yes    |                                                                                                                                                         Order side, `buy` `sell`                                                                                                                                                         |
|      posSide       |    String     |Conditional|                                                                        Position side   <br/>The default is `net` in the `net` mode   <br/>It is required in the `long/short` mode, and can only be `long` or `short`.   <br/>Only applicable to `FUTURES`/`SWAP`.                                                                        |
|      ordType       |    String     |    Yes    |           Order type   <br/>`market`: Market order   <br/>`limit`: Limit order   <br/>`post_only`: Post-only order   <br/>`fok`: Fill-or-kill order   <br/>`ioc`: Immediate-or-cancel order   <br/>`optimal_limit_ioc`: Market order with immediate-or-cancel order (applicable only to Expiry Futures and Perpetual Futures).           |
|         sz         |    String     |    Yes    |                                                                                                                                                         Quantity to buy or sell                                                                                                                                                          |
|         px         |    String     |Conditional|                                                                                                                     Order price. Only applicable to `limit`,`post_only`,`fok`,`ioc`,`mmp`,`mmp_and_post_only` order.                                                                                                                     |
|     reduceOnly     |    Boolean    |    No     |                        Whether orders can only reduce in position size.   <br/>Valid options: `true` or `false`. The default value is `false`.  <br/>Only applicable to `MARGIN` orders, and `FUTURES`/`SWAP` orders in `net` mode   <br/>Only applicable to `Spot and futures mode` and `Multi-currency margin`                         |
|       tgtCcy       |    String     |    No     |                                                    Whether the target currency uses the quote or base currency.  <br/>`base_ccy`: Base currency ,`quote_ccy`: Quote currency   <br/>Only applicable to `SPOT` Market Orders  <br/>Default is `quote_ccy` for buy, `base_ccy` for sell                                                    |
|   attachAlgoOrds   |Array of object|    No     |                                                                                                                                              TP/SL information attached when placing order                                                                                                                                               |
|\> attachAlgoClOrdId|    String     |    No     |                            Client-supplied Algo ID when placing order attaching TP/SL  <br/>A combination of case-sensitive alphanumerics, all numbers, or all letters of up to 32 characters.  <br/>It will be posted to `algoClOrdId` when placing TP/SL order once the general order is filled completely.                            |
|   \> tpTriggerPx   |    String     |Conditional|                                                                                              Take-profit trigger price  <br/>For condition TP order, if you fill in this parameter, you should fill in the take-profit order price as well.                                                                                              |
|     \> tpOrdPx     |    String     |Conditional|Take-profit order price   <br/><br/>For condition TP order, if you fill in this parameter, you should fill in the take-profit trigger price as well.   <br/>For limit TP order, you need to fill in this parameter, take-profit trigger needn‘t to be filled.   <br/>If the price is -1, take-profit will be executed at the market price.|
|    \> tpOrdKind    |    String     |    No     |                                                                                                                             TP order kind  <br/>`condition`  <br/>`limit`  <br/> The default is `condition`                                                                                                                              |
|   \> slTriggerPx   |    String     |Conditional|                                                                                                                Stop-loss trigger price  <br/>If you fill in this parameter, you should fill in the stop-loss order price.                                                                                                                |
|     \> slOrdPx     |    String     |Conditional|                                                                           Stop-loss order price  <br/>If you fill in this parameter, you should fill in the stop-loss trigger price.  <br/>If the price is -1, stop-loss will be executed at the market price.                                                                           |
| \> tpTriggerPxType |    String     |    No     |                                                                                                 Take-profit trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price   <br/>The default is last                                                                                                 |
| \> slTriggerPxType |    String     |    No     |                                                                                                  Stop-loss trigger price type  <br/>`last`: last price   <br/>`index`: index price   <br/>`mark`: mark price   <br/>The default is last                                                                                                  |
|       \> sz        |    String     |Conditional|                                                                                                                       Size. Only applicable to TP order of split TPs, and it is required for TP order of split TPs                                                                                                                       |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "adjEq": "41.94347460746277",
            "adjEqChg": "-226.05616481626",
            "availBal": "0",
            "availBalChg": "0",
            "imr": "0",
            "imrChg": "57.74709688430927",
            "liab": "0",
            "liabChg": "0",
            "liabChgCcy": "",
            "liqPx": "6764.8556232031115",
            "liqPxDiff": "-57693.044376796888536773622035980224609375",
            "liqPxDiffRatio": "-0.8950500152315991",
            "mgnRatio": "0",
            "mgnRatioChg": "0",
            "mmr": "0",
            "mmrChg": "0",
            "posBal": "",
            "posBalChg": "",
            "type": ""
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|**Parameter** |**Type**|                                                                                                                                                                                                **Description**                                                                                                                                                                                                |
|--------------|--------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    adjEq     | String |                                                                                                                                                                                 Current adjusted / Effective equity in `USD`                                                                                                                                                                                  |
|   adjEqChg   | String |                                                                                                                                                                 After placing order, changed quantity of adjusted / Effective equity in `USD`                                                                                                                                                                 |
|     imr      | String |                                                                                                                                                                                  Current initial margin requirement in `USD`                                                                                                                                                                                  |
|    imrChg    | String |                                                                                                                                                                 After placing order, changed quantity of initial margin requirement in `USD`                                                                                                                                                                  |
|     mmr      | String |                                                                                                                                                                                Current Maintenance margin requirement in `USD`                                                                                                                                                                                |
|    mmrChg    | String |                                                                                                                                                               After placing order, changed quantity of maintenance margin requirement in `USD`                                                                                                                                                                |
|   mgnRatio   | String |                                                                                                                                                                                         Current margin ratio in `USD`                                                                                                                                                                                         |
| mgnRatioChg  | String |                                                                                                                                                                        After placing order, changed quantity of margin ratio in `USD`                                                                                                                                                                         |
|   availBal   | String |                                                                                                                                                          Current available balance in margin coin currency, only applicable to turn auto borrow off                                                                                                                                                           |
| availBalChg  | String |                                                                                                                                            After placing order, changed quantity of available balance after placing order, only applicable to turn auto borrow off                                                                                                                                            |
|    liqPx     | String |                                                                                                                                                                                      Current estimated liquidation price                                                                                                                                                                                      |
|  liqPxDiff   | String |                                                                                                                                                             After placing order, the distance between estimated liquidation price and mark price                                                                                                                                                              |
|liqPxDiffRatio| String |                                                                                                                                                           After placing order, the distance rate between estimated liquidation price and mark price                                                                                                                                                           |
|    posBal    | String |                                                                                                                                                                      Current positive asset, only applicable to margin isolated position                                                                                                                                                                      |
|  posBalChg   | String |                                                                                                                                                      After placing order, positive asset of margin isolated, only applicable to margin isolated position                                                                                                                                                      |
|     liab     | String |                                                                                                                                       Current liabilities of currency  <br/> For cross, it is cross liabilities  <br/>For isolated position, it is isolated liabilities                                                                                                                                       |
|   liabChg    | String |                                                                                                                            After placing order, changed quantity of liabilities  <br/> For cross, it is cross liabilities  <br/>For isolated position, it is isolated liabilities                                                                                                                             |
|  liabChgCcy  | String |                                                                                                                                                 After placing order, the unit of changed liabilities quantity  <br/> only applicable cross and in auto borrow                                                                                                                                                 |
|     type     | String |Unit type of positive asset, only applicable to margin isolated position  <br/>`1`: it is both base currency before and after placing order   <br/>`2`: before plaing order, it is base currency. after placing order, it is quota currency.  <br/>`3`: before plaing order, it is quota currency. after placing order, it is base currency  <br/>`4`: it is both quota currency before and after placing order|

---

### GET / Tickers ###

Retrieve the latest price snapshot, best bid/ask price, and trading volume in the last 24 hours.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/tickers`

>
>
> Request Example
>
>

```
GET /api/v5/market/tickers?instType=SWAP

```

```
import okx.MarketData as MarketData

flag = "0"  # Production trading:0 , demo trading:1

marketDataAPI =  MarketData.MarketAPI(flag=flag)

# Retrieve the latest price snapshot, best bid/ask price, and trading volume in the last 24 hours
result = marketDataAPI.get_tickers(
    instType="SWAP"
)
print(result)

```

#### Request Parameters ####

|Parameter | Type |Required|                               Description                               |
|----------|------|--------|-------------------------------------------------------------------------|
| instType |String|  Yes   |Instrument type  <br/>`SPOT`  <br/>`SWAP`  <br/>`FUTURES`  <br/>`OPTION` |
|   uly    |String|   No   |Underlying, e.g. `BTC-USD`   <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`|
|instFamily|String|   No   |     Instrument family  <br/>Applicable to `FUTURES`/`SWAP`/`OPTION`     |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
     {
        "instType":"SWAP",
        "instId":"LTC-USD-SWAP",
        "last":"9999.99",
        "lastSz":"1",
        "askPx":"9999.99",
        "askSz":"11",
        "bidPx":"8888.88",
        "bidSz":"5",
        "open24h":"9000",
        "high24h":"10000",
        "low24h":"8888.88",
        "volCcy24h":"2222",
        "vol24h":"2222",
        "sodUtc0":"0.1",
        "sodUtc8":"0.1",
        "ts":"1597026383085"
     },
     {
        "instType":"SWAP",
        "instId":"BTC-USD-SWAP",
        "last":"9999.99",
        "lastSz":"1",
        "askPx":"9999.99",
        "askSz":"11",
        "bidPx":"8888.88",
        "bidSz":"5",
        "open24h":"9000",
        "high24h":"10000",
        "low24h":"8888.88",
        "volCcy24h":"2222",
        "vol24h":"2222",
        "sodUtc0":"0.1",
        "sodUtc8":"0.1",
        "ts":"1597026383085"
    }
  ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                                **Description**                                                                                                 |
|-------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  instType   | String |                                                                                                Instrument type                                                                                                 |
|   instId    | String |                                                                                                 Instrument ID                                                                                                  |
|    last     | String |                                                                                               Last traded price                                                                                                |
|   lastSz    | String |                                                                           Last traded size. 0 represents there is no trading volume                                                                            |
|    askPx    | String |                                                                                                 Best ask price                                                                                                 |
|    askSz    | String |                                                                                                 Best ask size                                                                                                  |
|    bidPx    | String |                                                                                                 Best bid price                                                                                                 |
|    bidSz    | String |                                                                                                 Best bid size                                                                                                  |
|   open24h   | String |                                                                                        Open price in the past 24 hours                                                                                         |
|   high24h   | String |                                                                                       Highest price in the past 24 hours                                                                                       |
|   low24h    | String |                                                                                       Lowest price in the past 24 hours                                                                                        |
|  volCcy24h  | String |24h trading volume, with a unit of `currency`.   <br/>If it is a `derivatives` contract, the value is the number of base currency.   <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in quote currency.|
|   vol24h    | String |  24h trading volume, with a unit of `contract`.   <br/>If it is a `derivatives` contract, the value is the number of contracts.   <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in base currency.   |
|   sodUtc0   | String |                                                                                            Open price in the UTC 0                                                                                             |
|   sodUtc8   | String |                                                                                            Open price in the UTC 8                                                                                             |
|     ts      | String |                                                            Ticker data generation time, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                            |

---

### GET / Ticker ###

Retrieve the latest price snapshot, best bid/ask price, and trading volume in the last 24 hours.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/ticker`

>
>
> Request Example
>
>

```
GET /api/v5/market/ticker?instId=BTC-USD-SWAP

```

```
import okx.MarketData as MarketData

flag = "0"  # Production trading:0 , demo trading:1

marketDataAPI =  MarketData.MarketAPI(flag=flag)

# Retrieve the latest price snapshot, best bid/ask price, and trading volume in the last 24 hours
result = marketDataAPI.get_ticker(
    instId="BTC-USD-SWAP"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|           Description            |
|---------|------|--------|----------------------------------|
| instId  |String|  Yes   |Instrument ID, e.g. `BTC-USD-SWAP`|

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
     {
        "instType":"SWAP",
        "instId":"BTC-USD-SWAP",
        "last":"9999.99",
        "lastSz":"0.1",
        "askPx":"9999.99",
        "askSz":"11",
        "bidPx":"8888.88",
        "bidSz":"5",
        "open24h":"9000",
        "high24h":"10000",
        "low24h":"8888.88",
        "volCcy24h":"2222",
        "vol24h":"2222",
        "sodUtc0":"2222",
        "sodUtc8":"2222",
        "ts":"1597026383085"
    }
  ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                                **Description**                                                                                                 |
|-------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  instType   | String |                                                                                                Instrument type                                                                                                 |
|   instId    | String |                                                                                                 Instrument ID                                                                                                  |
|    last     | String |                                                                                               Last traded price                                                                                                |
|   lastSz    | String |                                                                           Last traded size. 0 represents there is no trading volume                                                                            |
|    askPx    | String |                                                                                                 Best ask price                                                                                                 |
|    askSz    | String |                                                                                                 Best ask size                                                                                                  |
|    bidPx    | String |                                                                                                 Best bid price                                                                                                 |
|    bidSz    | String |                                                                                                 Best bid size                                                                                                  |
|   open24h   | String |                                                                                        Open price in the past 24 hours                                                                                         |
|   high24h   | String |                                                                                       Highest price in the past 24 hours                                                                                       |
|   low24h    | String |                                                                                       Lowest price in the past 24 hours                                                                                        |
|  volCcy24h  | String |24h trading volume, with a unit of `currency`.   <br/>If it is a `derivatives` contract, the value is the number of base currency.   <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in quote currency.|
|   vol24h    | String |  24h trading volume, with a unit of `contract`.   <br/>If it is a `derivatives` contract, the value is the number of contracts.   <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in base currency.   |
|   sodUtc0   | String |                                                                                            Open price in the UTC 0                                                                                             |
|   sodUtc8   | String |                                                                                            Open price in the UTC 8                                                                                             |
|     ts      | String |                                                           Ticker data generation time, Unix timestamp format in milliseconds, e.g. `1597026383085`.                                                            |

---

### GET / Order book ###

Retrieve order book of the instrument.

#### Rate Limit: 40 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/books`

>
>
> Request Example
>
>

```
GET /api/v5/market/books?instId=BTC-USDT

```

```
import okx.MarketData as MarketData

flag = "0"  # Production trading:0 , demo trading:1

marketDataAPI =  MarketData.MarketAPI(flag=flag)

# Retrieve order book of the instrument
result = marketDataAPI.get_orderbook(
    instId="BTC-USDT"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                               Description                                               |
|---------|------|--------|---------------------------------------------------------------------------------------------------------|
| instId  |String|  Yes   |                                     Instrument ID, e.g. `BTC-USDT`                                      |
|   sz    |String|   No   |Order book depth per side. Maximum 400, e.g. 400 bids + 400 asks   <br/>Default returns to `1` depth data|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [
        {
            "asks": [
                [
                    "41006.8",
                    "0.60038921",
                    "0",
                    "1"
                ]
            ],
            "bids": [
                [
                    "41006.3",
                    "0.30178218",
                    "0",
                    "2"
                ]
            ],
            "ts": "1629966436396"
        }
    ]
}

```

#### Response Parameters ####

|**Parameter**|   **Type**    |     **Description**      |
|-------------|---------------|--------------------------|
|    asks     |Array of Arrays| Order book on sell side  |
|    bids     |Array of Arrays|  Order book on buy side  |
|     ts      |    String     |Order book generation time|
An example of the array of asks and bids values: ["411.8", "10", "0", "4"]  
\- "411.8" is the depth price  
\- "10" is the quantity at the price (number of contracts for derivatives, quantity in base currency for Spot and Spot Margin)  
\- "0" is part of a deprecated feature and it is always "0"  
\- "4" is the number of orders at the price.  
The order book data will be updated around once a second during the call auction.

---

### GET / Full order book ###

Retrieve order book of the instrument. The data will be updated once a second.

#### Rate Limit: 10 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/books-full`

>
>
> Request Example
>
>

```
GET /api/v5/market/books-full?instId=BTC-USDT&sz=1

```

#### Request Parameters ####

|Parameter| Type |Required|                                                 Description                                                  |
|---------|------|--------|--------------------------------------------------------------------------------------------------------------|
| instId  |String|  Yes   |                                        Instrument ID, e.g. `BTC-USDT`                                        |
|   sz    |String|   No   |Order book depth per side. Maximum 5000, e.g. 5000 bids + 5000 asks   <br/> Default returns to `1` depth data.|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [
        {
            "asks": [
                [
                    "41006.8",
                    "0.60038921",
                    "1"
                ]
            ],
            "bids": [
                [
                    "41006.3",
                    "0.30178218",
                    "2"
                ]
            ],
            "ts": "1629966436396"
        }
    ]
}

```

#### Response Parameters ####

|**Parameter**|   **Type**    |     **Description**      |
|-------------|---------------|--------------------------|
|    asks     |Array of Arrays| Order book on sell side  |
|    bids     |Array of Arrays|  Order book on buy side  |
|     ts      |    String     |Order book generation time|
An example of the array of asks and bids values: ["411.8", "10", "4"]  
\- "411.8" is the depth price  
\- "10" is the quantity at the price (number of contracts for derivatives, quantity in base currency for Spot and Spot Margin)  
\- "4" is the number of orders at the price.  
The order book data will be updated around once a second during the call auction.

---

### GET / Candlesticks ###

Retrieve the candlestick charts. This endpoint can retrieve the latest 1,440 data entries. Charts are returned in groups based on the requested bar.

#### Rate Limit: 40 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/candles`

>
>
> Request Example
>
>

```
GET /api/v5/market/candles?instId=BTC-USDT

```

```
import okx.MarketData as MarketData

flag = "0"  # Production trading:0 , demo trading:1

marketDataAPI =  MarketData.MarketAPI(flag=flag)

# Retrieve the candlestick charts
result = marketDataAPI.get_candlesticks(
    instId="BTC-USDT"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                                                            Description                                                                                                             |
|---------|------|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instId  |String|  Yes   |                                                                                                   Instrument ID, e.g. `BTC-USDT`                                                                                                   |
|   bar   |String|   No   |Bar size, the default is `1m`  <br/>e.g. [1m/3m/5m/15m/30m/1H/2H/4H]   <br/>Hong Kong time opening price k-line: [6H/12H/1D/2D/3D/1W/1M/3M]  <br/>UTC time opening price k-line: [/6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/1Wutc/1Mutc/3Mutc]|
|  after  |String|   No   |                                                                                Pagination of data to return records earlier than the requested `ts`                                                                                |
| before  |String|   No   |                                               Pagination of data to return records newer than the requested `ts`. The latest data will be returned when using `before` individually                                                |
|  limit  |String|   No   |                                                                             Number of results per request. The maximum is `300`. The default is `100`.                                                                             |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
     [
        "1597026383085",
        "3.721",
        "3.743",
        "3.677",
        "3.708",
        "8422410",
        "22698348.04828491",
        "12698348.04828491",
        "0"
    ],
    [
        "1597026383085",
        "3.731",
        "3.799",
        "3.494",
        "3.72",
        "24912403",
        "67632347.24399722",
        "37632347.24399722",
        "1"
    ]
    ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                              **Description**                                                                                               |
|-------------|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     ts      | String |                                                        Opening time of the candlestick, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                        |
|      o      | String |                                                                                                 Open price                                                                                                 |
|      h      | String |                                                                                               highest price                                                                                                |
|      l      | String |                                                                                                Lowest price                                                                                                |
|      c      | String |                                                                                                Close price                                                                                                 |
|     vol     | String |  Trading volume, with a unit of `contract`.   <br/>If it is a `derivatives` contract, the value is the number of contracts.   <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in base currency.   |
|   volCcy    | String |Trading volume, with a unit of `currency`.   <br/>If it is a `derivatives` contract, the value is the number of base currency.   <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in quote currency.|
| volCcyQuote | String |                      Trading volume, the value is the quantity in quote currency   <br/>e.g. The unit is USDT for BTC-USDT and BTC-USDT-SWAP;  <br/>The unit is USD for BTC-USD-SWAP                       |
|   confirm   | String |                                                         The state of candlesticks.  <br/>`0`: K line is uncompleted  <br/>`1`: K line is completed                                                         |

 The first candlestick data may be incomplete, and should not be polled repeatedly.

The data returned will be arranged in an array like this: [ts,o,h,l,c,vol,volCcy,volCcyQuote,confirm].

 For the current cycle of k-line data, when there is no transaction, the opening high and closing low default take the closing price of the previous cycle.

---

### GET / Candlesticks history ###

Retrieve history candlestick charts from recent years(It is last 3 months supported for 1s candlestick).

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/history-candles`

>
>
> Request Example
>
>

```
GET /api/v5/market/history-candles?instId=BTC-USDT

```

```
import okx.MarketData as MarketData

flag = "0"  # Production trading:0 , demo trading:1

marketDataAPI =  MarketData.MarketAPI(flag=flag)

# Retrieve history candlestick charts from recent years
result = marketDataAPI.get_history_candlesticks(
    instId="BTC-USDT"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                                                             Description                                                                                                              |
|---------|------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instId  |String|  Yes   |                                                                                                    Instrument ID, e.g. `BTC-USDT`                                                                                                    |
|  after  |String|   No   |                                                                                 Pagination of data to return records earlier than the requested `ts`                                                                                 |
| before  |String|   No   |                                                Pagination of data to return records newer than the requested `ts`. The latest data will be returned when using `before` individually                                                 |
|   bar   |String|   No   |Bar size, the default is `1m`  <br/>e.g. [1s/1m/3m/5m/15m/30m/1H/2H/4H]   <br/>Hong Kong time opening price k-line: [6H/12H/1D/2D/3D/1W/1M/3M]  <br/>UTC time opening price k-line: [6Hutc/12Hutc/1Dutc/2Dutc/3Dutc/1Wutc/1Mutc/3Mutc]|
|  limit  |String|   No   |                                                                              Number of results per request. The maximum is `100`. The default is `100`.                                                                              |

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
     [
        "1597026383085",
        "3.721",
        "3.743",
        "3.677",
        "3.708",
        "8422410",
        "22698348.04828491",
        "12698348.04828491",
        "1"
    ],
    [
        "1597026383085",
        "3.731",
        "3.799",
        "3.494",
        "3.72",
        "24912403",
        "67632347.24399722",
        "37632347.24399722",
        "1"
    ]
    ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                                                              **Description**                                                                                               |
|-------------|--------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|     ts      | String |                                                        Opening time of the candlestick, Unix timestamp format in milliseconds, e.g. `1597026383085`                                                        |
|      o      | String |                                                                                                 Open price                                                                                                 |
|      h      | String |                                                                                               Highest price                                                                                                |
|      l      | String |                                                                                                Lowest price                                                                                                |
|      c      | String |                                                                                                Close price                                                                                                 |
|     vol     | String |  Trading volume, with a unit of `contract`.   <br/>If it is a `derivatives` contract, the value is the number of contracts.   <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in base currency.   |
|   volCcy    | String |Trading volume, with a unit of `currency`.   <br/>If it is a `derivatives` contract, the value is the number of base currency.   <br/>If it is `SPOT`/`MARGIN`, the value is the quantity in quote currency.|
| volCcyQuote | String |                       Trading volume, the value is the quantity in quote currency  <br/>e.g. The unit is USDT for BTC-USDT and BTC-USDT-SWAP;  <br/>The unit is USD for BTC-USD-SWAP                       |
|   confirm   | String |                                                         The state of candlesticks  <br/>`0`: K line is uncompleted  <br/>`1`: K line is completed                                                          |

 The data returned will be arranged in an array like this: [ts,o,h,l,c,vol,volCcy,volCcyQuote,confirm]

1s candle is not supported by OPTION, but it is supported by other business lines (SPOT, MARGIN, FUTURES and SWAP)

---

### GET / Trades ###

Retrieve the recent transactions of an instrument.

#### Rate Limit: 100 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/trades`

>
>
> Request Example
>
>

```
GET /api/v5/market/trades?instId=BTC-USDT

```

```
import okx.MarketData as MarketData

flag = "0"  # Production trading:0 , demo trading:1

marketDataAPI =  MarketData.MarketAPI(flag=flag)

# Retrieve the recent transactions of an instrument
result = marketDataAPI.get_trades(
    instId="BTC-USDT"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                               Description                               |
|---------|------|--------|-------------------------------------------------------------------------|
| instId  |String|  Yes   |                     Instrument ID, e.g. `BTC-USDT`                      |
|  limit  |String|   No   |Number of results per request. The maximum is `500`; The default is `100`|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [
        {
            "instId": "BTC-USDT",
            "side": "sell",
            "sz": "0.00001",
            "px": "29963.2",
            "tradeId": "242720720",
            "ts": "1654161646974"
        },
        {
            "instId": "BTC-USDT",
            "side": "sell",
            "sz": "0.00001",
            "px": "29964.1",
            "tradeId": "242720719",
            "ts": "1654161641568"
        }
    ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                      **Description**                                                       |
|-------------|--------|----------------------------------------------------------------------------------------------------------------------------|
|   instId    | String |                                                       Instrument ID                                                        |
|   tradeId   | String |                                                          Trade ID                                                          |
|     px      | String |                                                        Trade price                                                         |
|     sz      | String |Trade quantity   <br/>For spot trading, the unit is base currency  <br/>For `FUTURES`/`SWAP`/`OPTION`, the unit is contract.|
|    side     | String |                                           Trade side   <br/>`buy`   <br/>`sell`                                            |
|     ts      | String |                          Trade time, Unix timestamp format in milliseconds, e.g. `1597026383085`.                          |
Up to 500 most recent historical public transaction data can be retrieved.

---

### GET / Trades history ###

Retrieve the recent transactions of an instrument from the last 3 months with pagination.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/history-trades`

>
>
> Request Example
>
>

```
GET /api/v5/market/history-trades?instId=BTC-USDT

```

```
import okx.MarketData as MarketData

flag = "0"  # Production trading:0 , demo trading:1

marketDataAPI =  MarketData.MarketAPI(flag=flag)

# Retrieve the recent transactions of an instrument from the last 3 months with pagination
result = marketDataAPI.get_history_trades(
    instId="BTC-USD-SWAP"
)
print(result)

```

#### Request Parameters ####

|Parameter| Type |Required|                                                                                      Description                                                                                       |
|---------|------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| instId  |String|  Yes   |                                                                             Instrument ID, e.g. `BTC-USDT`                                                                             |
|  type   |String|   No   |                                                      Pagination Type   <br/>`1`: tradeId `2`: timestamp  <br/>The default is `1`                                                       |
|  after  |String|   No   |                                                     Pagination of data to return records earlier than the requested tradeId or ts.                                                     |
| before  |String|   No   |Pagination of data to return records newer than the requested tradeId.   <br/>Do not support timestamp for pagination. The latest data will be returned when using `before` individually|
|  limit  |String|   No   |                                                         Number of results per request. The maximum and default both are `100`                                                          |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [
        {
            "instId": "BTC-USDT",
            "side": "sell",
            "sz": "0.00001",
            "px": "29963.2",
            "tradeId": "242720720",
            "ts": "1654161646974"
        },
        {
            "instId": "BTC-USDT",
            "side": "sell",
            "sz": "0.00001",
            "px": "29964.1",
            "tradeId": "242720719",
            "ts": "1654161641568"
        }
    ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                                                      **Description**                                                       |
|-------------|--------|----------------------------------------------------------------------------------------------------------------------------|
|   instId    | String |                                                       Instrument ID                                                        |
|   tradeId   | String |                                                          Trade ID                                                          |
|     px      | String |                                                        Trade price                                                         |
|     sz      | String |Trade quantity   <br/>For spot trading, the unit is base currency  <br/>For `FUTURES`/`SWAP`/`OPTION`, the unit is contract.|
|    side     | String |                                           Trade side   <br/>`buy`   <br/>`sell`                                            |
|     ts      | String |                          Trade time, Unix timestamp format in milliseconds, e.g. `1597026383085`.                          |

---

### GET / Option trades by instrument family ###

Retrieve the recent transactions of an instrument under same instFamily. The maximum is 100.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/option/instrument-family-trades`

>
>
> Request Example
>
>

```
GET /api/v5/market/option/instrument-family-trades?instFamily=BTC-USD

```

#### Request Parameters ####

|Parameter | Type |Required|                        Description                         |
|----------|------|--------|------------------------------------------------------------|
|instFamily|String|  Yes   |Instrument family, e.g. BTC-USD  <br/>Applicable to `OPTION`|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [
        {
            "vol24h": "103381",
            "tradeInfo": [
                {
                    "instId": "BTC-USD-221111-17750-C",
                    "side": "sell",
                    "sz": "1",
                    "px": "0.0075",
                    "tradeId": "20",
                    "ts": "1668090715058"
                },
                {
                    "instId": "BTC-USD-221111-17750-C",
                    "side": "sell",
                    "sz": "91",
                    "px": "0.01",
                    "tradeId": "19",
                    "ts": "1668090421062"
                }
            ],
            "optType": "C"
        },
        {
            "vol24h": "144499",
            "tradeInfo": [
                {
                    "instId": "BTC-USD-230127-10000-P",
                    "side": "sell",
                    "sz": "82",
                    "px": "0.019",
                    "tradeId": "23",
                    "ts": "1668090967057"
                },
                {
                    "instId": "BTC-USD-221111-16250-P",
                    "side": "sell",
                    "sz": "102",
                    "px": "0.0045",
                    "tradeId": "24",
                    "ts": "1668090885050"
                }
            ],
            "optType": "P"
        }
    ]
}

```

#### Response Parameters ####

|**Parameter**|    **Type**    |                           **Description**                            |
|-------------|----------------|----------------------------------------------------------------------|
|   vol24h    |     String     |             24h trading volume, with a unit of contract.             |
|   optType   |     String     |                     Option type, C: Call P: Put                      |
|  tradeInfo  |Array of objects|                         The list trade data                          |
|  \> instId  |     String     |                          The Instrument ID                           |
| \> tradeId  |     String     |                               Trade ID                               |
|    \> px    |     String     |                             Trade price                              |
|    \> sz    |     String     |                Trade quantity. The unit is contract.                 |
|   \> side   |     String     |                 Trade side  <br/>`buy`  <br/>`sell`                  |
|    \> ts    |     String     |Trade time, Unix timestamp format in milliseconds, e.g. 1597026383085.|

---

### GET / Option trades ###

The maximum is 100.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/public/option-trades`

>
>
> Request Example
>
>

```
GET /api/v5/public/option-trades?instFamily=BTC-USD

```

#### Request Parameters ####

|Parameter | Type | Required  |                                                           Description                                                            |
|----------|------|-----------|----------------------------------------------------------------------------------------------------------------------------------|
|  instId  |String|Conditional|Instrument ID, e.g. BTC-USD-221230-4000-C, Either `instId` or `instFamily` is required. If both are passed, `instId` will be used.|
|instFamily|String|Conditional|                                                 Instrument family, e.g. BTC-USD                                                  |
| optType  |String|    No     |                                                 Option type, `C`: Call `P`: put                                                  |

>
>
> Response Example
>
>

```
{
    "code": "0",
    "data": [
        {
            "fillVol": "0.24415013671875",
            "fwdPx": "16676.907614127158",
            "idxPx": "16667",
            "instFamily": "BTC-USD",
            "instId": "BTC-USD-221230-16600-P",
            "markPx": "0.006308943261227884",
            "optType": "P",
            "px": "0.005",
            "side": "sell",
            "sz": "30",
            "tradeId": "65",
            "ts": "1672225112048"
        }
    ],
    "msg": ""
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                            **Description**                             |
|-------------|--------|------------------------------------------------------------------------|
|   instId    | String |                             Instrument ID                              |
| instFamily  | String |                           Instrument family                            |
|   tradeId   | String |                                Trade ID                                |
|     px      | String |                              Trade price                               |
|    \> sz    | String |                 Trade quantity. The unit is contract.                  |
|    side     | String |                 Trade side   <br/>`buy`   <br/>`sell`                  |
|   optType   | String |                      Option type, C: Call P: Put                       |
|   fillVol   | String |      Implied volatility while trading (Correspond to trade price)      |
|    fwdPx    | String |                      Forward price while trading                       |
|    idxPx    | String |                       Index price while trading                        |
|   markPx    | String |                        Mark price while trading                        |
|     ts      | String |Trade time, Unix timestamp format in milliseconds, e.g. `1597026383085`.|

---

### GET / 24H total volume ###

The 24-hour trading volume is calculated on a rolling basis.

#### Rate Limit: 2 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/platform-24-volume`

>
>
> Request Example
>
>

```
GET /api/v5/market/platform-24-volume

```

```
import okx.MarketData as MarketData

flag = "0"  # Production trading:0 , demo trading:1

marketDataAPI =  MarketData.MarketAPI(flag=flag)

# Retrieve 24 total volume
result = marketDataAPI.get_volume()
print(result)

```

>
>
> Response Example
>
>

```
{
    "code":"0",
    "msg":"",
    "data":[
     {
         "volCny": "230900886396766",
         "volUsd": "34462818865189",
         "ts": "1657856040389"
     }
  ]
}

```

#### Response Parameters ####

|**Parameter**|**Type**|                               **Description**                               |
|-------------|--------|-----------------------------------------------------------------------------|
|   volUsd    | String |      24-hour total trading volume from the order book trading in "USD"      |
|   volCny    | String |      24-hour total trading volume from the order book trading in "CNY"      |
|     ts      | String |Data return time, Unix timestamp format in milliseconds, e.g. `1597026383085`|

---

### GET / Call auction details ###

Retrieve call auction details.

#### Rate Limit: 20 requests per 2 seconds ####

#### Rate limit rule: IP ####

#### Permission: Read ####

#### HTTP Request ####

`GET /api/v5/market/call-auction-details`

>
>
> Request Example
>
>

```
GET /api/v5/market/call-auction-details?instId=ONDO-USDC

```

#### Request Parameters ####

|Parameter| Type |Required|         Description          |
|---------|------|--------|------------------------------|
| instId  |String|  Yes   |Instrument ID, e.g. `BTC-USDT`|

>
>
> Response Example
>
>

```
{
    "code": "0",
    "msg": "",
    "data": [
        {
            "instId": "ONDO-USDC",
            "unmatchedSz": "9988764",
            "eqPx": "0.6",
            "matchedSz": "44978",
            "state": "continuous_trading",
            "auctionEndTime": "1726542000000",
            "ts": "1726542000007"
        }
    ]
}

```

#### Response Parameters ####

|  Parameter   | Type |                                Description                                |
|--------------|------|---------------------------------------------------------------------------|
|    instId    |String|                               Instrument ID                               |
|     eqPx     |String|                             Equilibrium price                             |
|  matchedSz   |String|   Matched size for both buy and sell  <br/>The unit is in base currency   |
| unmatchedSz  |String|                              Unmatched size                               |
|auctionEndTime|String|          Call auction end time. Unix timestamp in milliseconds.           |
|    state     |String|Trading state of the symbol  <br/>`call_auction`  <br/>`continuous_trading`|
|      ts      |String|          Data generation time. Unix timestamp in millieseconds.           |
During call auction, users can get the updates of equilibrium price, matched size, unmatched size, and auction end time. The data will be updated around once a second. The endpoint returns the actual open price, matched size, and unmatched size when the call auction ends.  
For symbols that never go through call auction, the endpoint will also return results but with state always as `continuous\_trading` and other fields as 0 or empty.

---

