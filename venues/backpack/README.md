# Backpack Exchange Documentation Extraction

This folder contains scripts for extracting and converting Backpack Exchange API
documentation into LLM-friendly markdown format.

## Documentation Source

- **Source URL**: https://docs.backpack.exchange
- **Documentation Type**: Redocly-based OpenAPI documentation
- **API Base URL**: https://api.backpack.exchange/
- **WebSocket URL**: wss://ws.backpack.exchange/

## Features

The Backpack Exchange API documentation includes:

- REST API endpoints (public and authenticated)
- WebSocket streams (public and private)
- ED25519 keypair authentication
- Spot trading, futures, borrow/lend, and more

## Scripts

### Extract General Documentation

Extracts core documentation files:

```bash
pnpm run extract:general
```

This creates:

- `docs/backpack/authentication.md` - API authentication and request signing
- `docs/backpack/network_connectivity.md` - API endpoints and connection info
- `docs/backpack/change_log.md` - API version history
- `docs/backpack/rate_limits.md` - Rate limiting information
- `docs/backpack/error_codes.md` - Error code definitions
- `docs/backpack/response_formats.md` - Response format specifications

### Extract Endpoint Documentation

Extracts individual endpoint documentation:

```bash
pnpm run extract:endpoints
```

This creates individual markdown files in:

- `docs/backpack/endpoints/public/` - Public API endpoints
- `docs/backpack/endpoints/private/` - Authenticated API endpoints

### Extract All

Run all extraction scripts:

```bash
pnpm run extract:all
```

## Installation

```bash
cd venues/backpack
pnpm install
```

## Technical Notes

### Authentication

Backpack uses ED25519 keypair signature authentication for all authenticated
endpoints. The signature is generated by:

1. Ordering request parameters alphabetically
2. Converting to query string format
3. Appending timestamp and window parameters
4. Prefixing with the appropriate instruction type
5. Signing with the ED25519 private key

### Documentation Structure

The Backpack documentation is built with Redocly, which renders OpenAPI
specifications. The extraction scripts:

- Use Puppeteer to navigate and render the documentation
- Extract content by DOM traversal and pattern matching
- Convert HTML to markdown using Turndown
- Organize endpoints into public/private categories

### Endpoint Categories

**Public Endpoints**:

- Assets
- Borrow Lend Markets
- Markets
- System
- Trades

**Authenticated Endpoints**:

- Account
- Borrow Lend
- Capital
- Futures
- History
- Order
- Request For Quote (RFQ)

**WebSocket Streams**:

- Public: Book ticker, Depth, K-Line, Liquidation, Mark price, Ticker, Open
  interest, Trade
- Private: Order updates, Position updates, RFQ updates

## Maintenance

The extraction scripts are run automatically via GitHub Actions on a weekly
schedule (Sunday midnight UTC). When changes are detected, a pull request is
automatically created for review.

## Last Updated

Generated: 2025-11-02
