<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Gate API v4 | Gate API v4</title>
    <meta name="generator" content="VuePress 1.8.3">
    
    <meta name="description" content="gate.io api">
    
    <link rel="preload" href="/docs/developers/assets/css/0.styles.36e18134.css" as="style"><link rel="preload" href="/docs/developers/assets/js/app.66c6dd1a.js" as="script"><link rel="preload" href="/docs/developers/assets/js/2.3ee83fe4.js" as="script"><link rel="preload" href="/docs/developers/assets/js/9.13400a70.js" as="script">
    <link rel="stylesheet" href="/docs/developers/assets/css/0.styles.36e18134.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme__container"><div class="pageHeader pageHeader"><a href="/" class="logolink"></a> <ul class="pageNav"><li class="navItem">
      Spot &amp; Margin
      <div class="navPopup"><!----></div></li><li class="navItem">
      Perpetual Futures
      <div class="navPopup"><!----></div></li><li class="navItem">
      Delivery Futures
      <div class="navPopup"><!----></div></li><li class="navItem">
      Options
      <div class="navPopup"><!----></div></li><li class="navItem">
      Unified
      <div class="navPopup"><!----></div></li><li class="navItem">
      Announcements
      <div class="navPopup"><!----></div></li></ul> <div class="sidebar__lang"><div class="select select__container"><select value="/en/" class="select__item"><option value="/en/" class="select__option">
      English
    </option><option value="/zh_CN/" class="select__option">
      简体中文
    </option></select></div></div></div> <div class="row"><div class="col-md-3 col-lg-2 sidebar__container"><div class="menu menu__container"><div class="menu__box"><a class="menu__btn"><div class="hamburger"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></a></div></div> <div class="sidebar" style="position:sticky;display:none;"><div class="group search-group"><div class="group__title">Search</div> <div class="group__body"><div class="search search__container"><div class="search__heading"><input type="text" value="" class="search__ipt"></div> <div class="search__body"><ul class="search__list" style="display:none;"><li class="search__item"><a href="/docs/developers/apiv4/en/#gate-api-v4-v4-94-1">Gate API v4 v4.94.1</a></li><li class="search__item"><a href="/docs/developers/apiv4/en/#access-url">Access URL</a></li><li class="search__item"><a href="/docs/developers/apiv4/en/#sdk">SDK</a></li><li class="search__item"><a href="/docs/developers/apiv4/en/#about-apiv4-key-improvement">About APIv4 key improvement</a></li><li class="search__item"><a href="/docs/developers/apiv4/en/#comparison-with-apiv2">Comparison with APIv2</a></li></ul></div></div></div></div> <div class="group"><div class="group__title">
      apiv4
    </div> <div class="group__body"><!----> <!----> <div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#gate-api-v4-v4-94-1" class="category__link sidebar-link">Gate API V4 V4.94.1</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#gate-api-v4-v4-94-1"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#access-url" class="category__link sidebar-link">Access Url</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#gate-api-v4-v4-94-1"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#sdk" class="category__link sidebar-link">Sdk</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#gate-api-v4-v4-94-1"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#about-apiv4-key-improvement" class="category__link sidebar-link">About Apiv4 Key Improvement</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#gate-api-v4-v4-94-1"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#comparison-with-apiv2" class="category__link sidebar-link">Comparison With Apiv2</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#gate-api-v4-v4-94-1"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#application-for-marketers" class="category__link sidebar-link">Application For Marketers</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#gate-api-v4-v4-94-1"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#technical-support" class="category__link sidebar-link">Technical Support</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#changelog" class="category__link sidebar-link">Changelog</a></div> <!----></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#general" class="category__link sidebar-link">General</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#general"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#matching-mechanism" class="category__link sidebar-link">Matching Mechanism</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#general"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#data-center" class="category__link sidebar-link">Data Center</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#general"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#api-overview" class="category__link sidebar-link">API Overview</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#general"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#margin-migration-instructions" class="category__link sidebar-link">Margin Migration Instructions</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#api" class="category__link sidebar-link">API</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#http-convention" class="category__link sidebar-link">HTTP Convention</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#time" class="category__link sidebar-link">Time</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#api-gateway-in-out-time" class="category__link sidebar-link">API Gateway In/Out Time</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#pagination" class="category__link sidebar-link">Pagination</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#frequency-limit-rule" class="category__link sidebar-link">Frequency Limit Rule</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#rate-limit-based-on-fill-ratio" class="category__link sidebar-link">Rate Limit Based On Fill Ratio</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#return-format" class="category__link sidebar-link">Return Format</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#data-type" class="category__link sidebar-link">Data Type</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#portfolio-margin-account" class="category__link sidebar-link">Portfolio Margin Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#trace-id" class="category__link sidebar-link">Trace Id</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#self-trade-prevention-stp" class="category__link sidebar-link">Self-Trade Prevention (Stp)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#unified-account" class="category__link sidebar-link">Unified Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#accountbook-type" class="category__link sidebar-link">Accountbook Type</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#error-handling" class="category__link sidebar-link">Error Handling</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#api"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#label-list" class="category__link sidebar-link">Label List</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#authentication" class="category__link sidebar-link">Authentication</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#authentication"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#generate-api-key" class="category__link sidebar-link">Generate API Key</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#authentication"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#apiv4-permissions" class="category__link sidebar-link">Apiv4 Permissions</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#authentication"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#apiv4-signed-request-requirements" class="category__link sidebar-link">Apiv4 Signed Request Requirements</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#authentication"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#api-signature-string-generation" class="category__link sidebar-link">API Signature String Generation</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#faq" class="category__link sidebar-link">Faq</a></div> <!----></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#withdrawal" class="category__link sidebar-link">Withdrawal</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#withdrawal"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#withdraw" class="category__link sidebar-link">Withdraw</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#withdrawal"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#uid-transfer" class="category__link sidebar-link">Uid Transfer</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#withdrawal"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-withdrawal-with-specified-id" class="category__link sidebar-link">Cancel Withdrawal With Specified Id</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#wallet" class="category__link sidebar-link">Wallet</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-chains-supported-for-specified-currency" class="category__link sidebar-link">List Chains Supported For Specified Currency</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#generate-currency-deposit-address" class="category__link sidebar-link">Generate Currency Deposit Address</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-withdrawal-records" class="category__link sidebar-link">Retrieve Withdrawal Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-deposit-records" class="category__link sidebar-link">Retrieve Deposit Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#transfer-between-trading-accounts" class="category__link sidebar-link">Transfer Between Trading Accounts</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#transfer-between-main-and-sub-accounts" class="category__link sidebar-link">Transfer Between Main And Sub Accounts</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-transfer-records-between-main-and-sub-accounts" class="category__link sidebar-link">Retrieve Transfer Records Between Main And Sub Accounts</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#sub-account-transfers-to-sub-account" class="category__link sidebar-link">Sub-Account Transfers To Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#transfer-status-query" class="category__link sidebar-link">Transfer Status Query</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-withdrawal-status" class="category__link sidebar-link">Retrieve Withdrawal Status</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-sub-account-balances" class="category__link sidebar-link">Retrieve Sub Account Balances</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-sub-accounts-margin-balances" class="category__link sidebar-link">Query Sub Accounts' Margin Balances</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-sub-accounts-futures-account-balances" class="category__link sidebar-link">Query Sub Accounts' Futures Account Balances</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-subaccount-s-cross-margin-account-info" class="category__link sidebar-link">Query Subaccount's Cross_margin Account Info</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-saved-address" class="category__link sidebar-link">Query Saved Address</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-personal-trading-fee" class="category__link sidebar-link">Retrieve Personal Trading Fee</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-user-s-total-balances" class="category__link sidebar-link">Retrieve User's Total Balances</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-small-balance" class="category__link sidebar-link">List Small Balance</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#convert-small-balance" class="category__link sidebar-link">Convert Small Balance</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-small-balance-history" class="category__link sidebar-link">List Small Balance History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#wallet"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-the-uid-transfer-history" class="category__link sidebar-link">Retrieve The Uid Transfer History</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#subaccount" class="category__link sidebar-link">Subaccount</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-new-sub-account" class="category__link sidebar-link">Create A New Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-sub-accounts" class="category__link sidebar-link">List Sub-Accounts</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-the-sub-account" class="category__link sidebar-link">Get The Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-api-key-of-the-sub-account" class="category__link sidebar-link">Create API Key Of The Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-api-key-of-the-sub-account" class="category__link sidebar-link">List All API Key Of The Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-api-key-of-the-sub-account" class="category__link sidebar-link">Update API Key Of The Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#delete-api-key-of-the-sub-account" class="category__link sidebar-link">Delete API Key Of The Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-the-api-key-of-the-sub-account" class="category__link sidebar-link">Get The API Key Of The Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#lock-the-sub-account" class="category__link sidebar-link">Lock The Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#unlock-the-sub-account" class="category__link sidebar-link">Unlock The Sub-Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#subaccount"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-sub-account-mode" class="category__link sidebar-link">Get Sub-Account Mode</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#unified" class="category__link sidebar-link">Unified</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-unified-account-information" class="category__link sidebar-link">Get Unified Account Information</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-about-the-maximum-borrowing-for-the-unified-account" class="category__link sidebar-link">Query About The Maximum Borrowing For The Unified Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-about-the-maximum-transferable-for-the-unified-account" class="category__link sidebar-link">Query About The Maximum Transferable For The Unified Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#borrow-or-repay" class="category__link sidebar-link">Borrow Or Repay</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-loans" class="category__link sidebar-link">List Loans</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-load-records" class="category__link sidebar-link">Get Load Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-interest-records" class="category__link sidebar-link">List Interest Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-user-risk-unit-details" class="category__link sidebar-link">Get User Risk Unit Details</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#set-mode-of-the-unified-account" class="category__link sidebar-link">Set Mode Of The Unified Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-mode-of-the-unified-account" class="category__link sidebar-link">Query Mode Of The Unified Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-unified-estimate-rate" class="category__link sidebar-link">Get Unified Estimate Rate</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-currency-discount-tiers" class="category__link sidebar-link">List Currency Discount Tiers</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-loan-margin-tiers" class="category__link sidebar-link">List Loan Margin Tiers</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#portfolio-margin-calculator" class="category__link sidebar-link">Portfolio Margin Calculator</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#minimum-currency-leverage-that-can-be-set" class="category__link sidebar-link">Minimum Currency Leverage That Can Be Set</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-the-leverage-multiple-of-the-user-currency" class="category__link sidebar-link">Get The Leverage Multiple Of The User Currency</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#set-the-loan-currency-leverage" class="category__link sidebar-link">Set The Loan Currency Leverage</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-of-loan-currencies-supported-by-unified-account" class="category__link sidebar-link">List Of Loan Currencies Supported By Unified Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#unified"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-historical-lending-rates" class="category__link sidebar-link">Get Historical Lending Rates</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#spot" class="category__link sidebar-link">Spot</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-currencies-details" class="category__link sidebar-link">List All Currencies' Details</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-details-of-a-specific-currency" class="category__link sidebar-link">Get Details Of A Specific Currency</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-currency-pairs-supported" class="category__link sidebar-link">List All Currency Pairs Supported</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-details-of-a-specifc-currency-pair" class="category__link sidebar-link">Get Details Of A Specifc Currency Pair</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-ticker-information" class="category__link sidebar-link">Retrieve Ticker Information</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-order-book" class="category__link sidebar-link">Retrieve Order Book</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-market-trades" class="category__link sidebar-link">Retrieve Market Trades</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#market-candlesticks" class="category__link sidebar-link">Market Candlesticks</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-user-trading-fee-rates" class="category__link sidebar-link">Query User Trading Fee Rates</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-a-batch-of-user-trading-fee-rates" class="category__link sidebar-link">Query A Batch Of User Trading Fee Rates</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-spot-accounts" class="category__link sidebar-link">List Spot Accounts</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-account-book" class="category__link sidebar-link">Query Account Book</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-batch-of-orders" class="category__link sidebar-link">Create A Batch Of Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-open-orders" class="category__link sidebar-link">List All Open Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#close-position-when-cross-currency-is-disabled" class="category__link sidebar-link">Close Position When Cross-Currency Is Disabled</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-an-order" class="category__link sidebar-link">Create An Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-orders" class="category__link sidebar-link">List Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-all-open-orders-in-specified-currency-pair" class="category__link sidebar-link">Cancel All Open Orders In Specified Currency Pair</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-batch-of-orders-with-an-id-list" class="category__link sidebar-link">Cancel A Batch Of Orders With An Id List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-single-order" class="category__link sidebar-link">Get A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#amend-an-order" class="category__link sidebar-link">Amend An Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-single-order" class="category__link sidebar-link">Cancel A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-personal-trading-history" class="category__link sidebar-link">List Personal Trading History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-server-current-time" class="category__link sidebar-link">Get Server Current Time</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#countdown-cancel-orders" class="category__link sidebar-link">Countdown Cancel Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#batch-modification-of-orders" class="category__link sidebar-link">Batch Modification Of Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-spot-insurance-fund-historical-data" class="category__link sidebar-link">Query Spot Insurance Fund Historical Data</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-price-triggered-order" class="category__link sidebar-link">Create A Price-Triggered Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-running-auto-order-list" class="category__link sidebar-link">Retrieve Running Auto Order List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-all-price-triggered-orders" class="category__link sidebar-link">Cancel All Price-Triggered Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-price-triggered-order" class="category__link sidebar-link">Get A Price-Triggered Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#spot"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-price-triggered-order" class="category__link sidebar-link">Cancel A Price-Triggered Order</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#margin" class="category__link sidebar-link">Margin</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#margin-account-list" class="category__link sidebar-link">Margin Account List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-margin-account-balance-change-history" class="category__link sidebar-link">List Margin Account Balance Change History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#funding-account-list" class="category__link sidebar-link">Funding Account List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-user-s-auto-repayment-setting" class="category__link sidebar-link">Update User's Auto Repayment Setting</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-user-auto-repayment-setting" class="category__link sidebar-link">Retrieve User Auto Repayment Setting</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-the-max-transferable-amount-for-a-specific-margin-currency" class="category__link sidebar-link">Get The Max Transferable Amount For A Specific Margin Currency</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#currencies-supported-by-cross-margin-deprecated" class="category__link sidebar-link">Currencies Supported By Cross Margin.(Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-detail-of-one-single-currency-supported-by-cross-margin-deprecated" class="category__link sidebar-link">Retrieve Detail Of One Single Currency Supported By Cross Margin. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-cross-margin-account-deprecated" class="category__link sidebar-link">Retrieve Cross Margin Account. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-cross-margin-account-change-history-deprecated" class="category__link sidebar-link">Retrieve Cross Margin Account Change History. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-cross-margin-borrow-loan-deprecated" class="category__link sidebar-link">Create A Cross Margin Borrow Loan. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-cross-margin-borrow-history-deprecated" class="category__link sidebar-link">List Cross Margin Borrow History. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-single-borrow-loan-detail-deprecated" class="category__link sidebar-link">Retrieve Single Borrow Loan Detail. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cross-margin-repayments-deprecated" class="category__link sidebar-link">Cross Margin Repayments. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-cross-margin-repayments-deprecated" class="category__link sidebar-link">Retrieve Cross Margin Repayments. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#interest-records-for-the-cross-margin-account-deprecated" class="category__link sidebar-link">Interest Records For The Cross Margin Account. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-the-max-transferable-amount-for-a-specific-cross-margin-currency-deprecated" class="category__link sidebar-link">Get The Max Transferable Amount For A Specific Cross Margin Currency. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#estimated-interest-rates-deprecated" class="category__link sidebar-link">Estimated Interest Rates. (Deprecated)</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#margin"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-the-max-borrowable-amount-for-a-specific-cross-margin-currency-deprecated" class="category__link sidebar-link">Get The Max Borrowable Amount For A Specific Cross Margin Currency. (Deprecated)</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#marginuni" class="category__link sidebar-link">Marginuni</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#marginuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-lending-markets" class="category__link sidebar-link">List Lending Markets</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#marginuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-detail-of-lending-market" class="category__link sidebar-link">Get Detail Of Lending Market</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#marginuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#estimate-interest-rate" class="category__link sidebar-link">Estimate Interest Rate</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#marginuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#borrow-or-repay-2" class="category__link sidebar-link">Borrow Or Repay</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#marginuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-loans-2" class="category__link sidebar-link">List Loans</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#marginuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-load-records-2" class="category__link sidebar-link">Get Load Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#marginuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-interest-records-2" class="category__link sidebar-link">List Interest Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#marginuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-maximum-borrowable" class="category__link sidebar-link">Get Maximum Borrowable</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#flash-swap" class="category__link sidebar-link">Flash_swap</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#flash-swap"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-supported-currency-pairs-in-flash-swap" class="category__link sidebar-link">List All Supported Currency Pairs In Flash Swap</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#flash-swap"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-flash-swap-order" class="category__link sidebar-link">Create A Flash Swap Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#flash-swap"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-flash-swap-orders" class="category__link sidebar-link">List All Flash Swap Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#flash-swap"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-single-flash-swap-order-s-detail" class="category__link sidebar-link">Get A Single Flash Swap Order's Detail</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#flash-swap"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#initiate-a-flash-swap-order-preview" class="category__link sidebar-link">Initiate A Flash Swap Order Preview</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#futures" class="category__link sidebar-link">Futures</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-futures-contracts" class="category__link sidebar-link">List All Futures Contracts</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-single-contract" class="category__link sidebar-link">Get A Single Contract</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futures-order-book" class="category__link sidebar-link">Futures Order Book</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futures-trading-history" class="category__link sidebar-link">Futures Trading History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-futures-candlesticks" class="category__link sidebar-link">Get Futures Candlesticks</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#premium-index-k-line" class="category__link sidebar-link">Premium Index K-Line</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-futures-tickers" class="category__link sidebar-link">List Futures Tickers</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#funding-rate-history" class="category__link sidebar-link">Funding Rate History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futures-insurance-balance-history" class="category__link sidebar-link">Futures Insurance Balance History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futures-stats" class="category__link sidebar-link">Futures Stats</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-index-constituents" class="category__link sidebar-link">Get Index Constituents</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-liquidation-history" class="category__link sidebar-link">Retrieve Liquidation History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-risk-limit-tiers" class="category__link sidebar-link">List Risk Limit Tiers</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-futures-account" class="category__link sidebar-link">Query Futures Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-account-book-2" class="category__link sidebar-link">Query Account Book</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-positions-of-a-user" class="category__link sidebar-link">List All Positions Of A User</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-single-position" class="category__link sidebar-link">Get Single Position</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-margin" class="category__link sidebar-link">Update Position Margin</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-leverage" class="category__link sidebar-link">Update Position Leverage</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-risk-limit" class="category__link sidebar-link">Update Position Risk Limit</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#enable-or-disable-dual-mode" class="category__link sidebar-link">Enable Or Disable Dual Mode</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#retrieve-position-detail-in-dual-mode" class="category__link sidebar-link">Retrieve Position Detail In Dual Mode</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-margin-in-dual-mode" class="category__link sidebar-link">Update Position Margin In Dual Mode</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-leverage-in-dual-mode" class="category__link sidebar-link">Update Position Leverage In Dual Mode</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-risk-limit-in-dual-mode" class="category__link sidebar-link">Update Position Risk Limit In Dual Mode</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-futures-order" class="category__link sidebar-link">Create A Futures Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-futures-orders" class="category__link sidebar-link">List Futures Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-all-open-orders-matched" class="category__link sidebar-link">Cancel All Open Orders Matched</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-futures-orders-by-time-range" class="category__link sidebar-link">List Futures Orders By Time Range</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-batch-of-futures-orders" class="category__link sidebar-link">Create A Batch Of Futures Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-single-order-2" class="category__link sidebar-link">Get A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-single-order-2" class="category__link sidebar-link">Cancel A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#amend-an-order-2" class="category__link sidebar-link">Amend An Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-personal-trading-history-2" class="category__link sidebar-link">List Personal Trading History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-personal-trading-history-by-time-range" class="category__link sidebar-link">List Personal Trading History By Time Range</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-position-close-history" class="category__link sidebar-link">List Position Close History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-liquidation-history" class="category__link sidebar-link">List Liquidation History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-auto-deleveraging-history" class="category__link sidebar-link">List Auto-Deleveraging History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#countdown-cancel-orders-2" class="category__link sidebar-link">Countdown Cancel Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-user-trading-fee-rates-2" class="category__link sidebar-link">Query User Trading Fee Rates</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-batch-of-orders-with-an-id-list-2" class="category__link sidebar-link">Cancel A Batch Of Orders With An Id List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#batch-modify-orders-with-specified-ids" class="category__link sidebar-link">Batch Modify Orders With Specified Ids</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-price-triggered-order-2" class="category__link sidebar-link">Create A Price-Triggered Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-price-triggered-orders" class="category__link sidebar-link">List All Price-Triggered Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-all-price-triggered-orders-2" class="category__link sidebar-link">Cancel All Price-Triggered Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-price-triggered-order-2" class="category__link sidebar-link">Get A Price-Triggered Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#futures"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-price-triggered-order-2" class="category__link sidebar-link">Cancel A Price-Triggered Order</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#delivery" class="category__link sidebar-link">Delivery</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-futures-contracts-2" class="category__link sidebar-link">List All Futures Contracts</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-single-contract-2" class="category__link sidebar-link">Get A Single Contract</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futures-order-book-2" class="category__link sidebar-link">Futures Order Book</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futures-trading-history-2" class="category__link sidebar-link">Futures Trading History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-futures-candlesticks-2" class="category__link sidebar-link">Get Futures Candlesticks</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-futures-tickers-2" class="category__link sidebar-link">List Futures Tickers</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futures-insurance-balance-history-2" class="category__link sidebar-link">Futures Insurance Balance History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-futures-account-2" class="category__link sidebar-link">Query Futures Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-account-book-3" class="category__link sidebar-link">Query Account Book</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-positions-of-a-user-2" class="category__link sidebar-link">List All Positions Of A User</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-single-position-2" class="category__link sidebar-link">Get Single Position</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-margin-2" class="category__link sidebar-link">Update Position Margin</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-leverage-2" class="category__link sidebar-link">Update Position Leverage</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#update-position-risk-limit-2" class="category__link sidebar-link">Update Position Risk Limit</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-futures-order-2" class="category__link sidebar-link">Create A Futures Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-futures-orders-2" class="category__link sidebar-link">List Futures Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-all-open-orders-matched-2" class="category__link sidebar-link">Cancel All Open Orders Matched</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-single-order-3" class="category__link sidebar-link">Get A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-single-order-3" class="category__link sidebar-link">Cancel A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-personal-trading-history-3" class="category__link sidebar-link">List Personal Trading History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-position-close-history-2" class="category__link sidebar-link">List Position Close History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-liquidation-history-2" class="category__link sidebar-link">List Liquidation History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-settlement-history" class="category__link sidebar-link">List Settlement History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-risk-limit-tiers-2" class="category__link sidebar-link">List Risk Limit Tiers</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-a-price-triggered-order-3" class="category__link sidebar-link">Create A Price-Triggered Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-price-triggered-orders-2" class="category__link sidebar-link">List All Price-Triggered Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-all-price-triggered-orders-3" class="category__link sidebar-link">Cancel All Price-Triggered Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-price-triggered-order-3" class="category__link sidebar-link">Get A Price-Triggered Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#delivery"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-price-triggered-order-3" class="category__link sidebar-link">Cancel A Price-Triggered Order</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#options" class="category__link sidebar-link">Options</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-underlyings" class="category__link sidebar-link">List All Underlyings</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-expiration-times" class="category__link sidebar-link">List All Expiration Times</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-all-the-contracts-with-specified-underlying-and-expiration-time" class="category__link sidebar-link">List All The Contracts With Specified Underlying And Expiration Time</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-specified-contract-detail" class="category__link sidebar-link">Query Specified Contract Detail</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-settlement-history-2" class="category__link sidebar-link">List Settlement History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-specified-contract-s-settlement" class="category__link sidebar-link">Get Specified Contract's Settlement</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-my-options-settlements" class="category__link sidebar-link">List My Options Settlements</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#options-order-book" class="category__link sidebar-link">Options Order Book</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-tickers-of-options-contracts" class="category__link sidebar-link">List Tickers Of Options Contracts</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-underlying-ticker" class="category__link sidebar-link">Get Underlying Ticker</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-options-candlesticks" class="category__link sidebar-link">Get Options Candlesticks</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#mark-price-candlesticks-of-an-underlying" class="category__link sidebar-link">Mark Price Candlesticks Of An Underlying</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#options-trade-history" class="category__link sidebar-link">Options Trade History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-options-account" class="category__link sidebar-link">List Options Account</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-account-changing-history" class="category__link sidebar-link">List Account Changing History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-user-s-positions-of-specified-underlying" class="category__link sidebar-link">List User's Positions Of Specified Underlying</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-specified-contract-position" class="category__link sidebar-link">Get Specified Contract Position</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-user-s-liquidation-history-of-specified-underlying" class="category__link sidebar-link">List User's Liquidation History Of Specified Underlying</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-an-options-order" class="category__link sidebar-link">Create An Options Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-options-orders" class="category__link sidebar-link">List Options Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-all-open-orders-matched-3" class="category__link sidebar-link">Cancel All Open Orders Matched</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-single-order-4" class="category__link sidebar-link">Get A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancel-a-single-order-4" class="category__link sidebar-link">Cancel A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#countdown-cancel-orders-3" class="category__link sidebar-link">Countdown Cancel Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-personal-trading-history-4" class="category__link sidebar-link">List Personal Trading History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#mmp-settings" class="category__link sidebar-link">Mmp Settings</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#mmp-query" class="category__link sidebar-link">Mmp Query</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#options"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#mmp-reset" class="category__link sidebar-link">Mmp Reset</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#earnuni" class="category__link sidebar-link">Earnuni</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-currencies-for-lending" class="category__link sidebar-link">List Currencies For Lending</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-currency-detail-for-lending" class="category__link sidebar-link">Get Currency Detail For Lending</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#lend-or-redeem" class="category__link sidebar-link">Lend Or Redeem</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-user-s-lending-orders" class="category__link sidebar-link">List User's Lending Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#amend-lending-order" class="category__link sidebar-link">Amend Lending Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-records-of-lending" class="category__link sidebar-link">List Records Of Lending</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-the-user-s-total-interest-income-of-specified-currency" class="category__link sidebar-link">Get The User's Total Interest Income Of Specified Currency</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-interest-records-3" class="category__link sidebar-link">List Interest Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#set-interest-reinvestment-toggle" class="category__link sidebar-link">Set Interest Reinvestment Toggle</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earnuni"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-currency-interest-compounding-status" class="category__link sidebar-link">Query Currency Interest Compounding Status</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#collateral-loan" class="category__link sidebar-link">Collateral-Loan</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#place-order" class="category__link sidebar-link">Place Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-orders-2" class="category__link sidebar-link">List Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-a-single-order-5" class="category__link sidebar-link">Get A Single Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#repayment" class="category__link sidebar-link">Repayment</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#repayment-history" class="category__link sidebar-link">Repayment History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#increase-or-redeem-collateral" class="category__link sidebar-link">Increase Or Redeem Collateral</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-collateral-adjustment-records" class="category__link sidebar-link">Query Collateral Adjustment Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-the-total-borrowing-and-collateral-amount-for-the-user" class="category__link sidebar-link">Query The Total Borrowing And Collateral Amount For The User</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-user-s-collateralization-ratio" class="category__link sidebar-link">Query User's Collateralization Ratio</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-supported-borrowing-and-collateral-currencies" class="category__link sidebar-link">Query Supported Borrowing And Collateral Currencies</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#multi-collateral-loan" class="category__link sidebar-link">Multi-Collateral-Loan</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-multi-collateral-order" class="category__link sidebar-link">Create Multi-Collateral Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-multi-collateral-orders" class="category__link sidebar-link">List Multi-Collateral Orders</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-multi-collateral-order-detail" class="category__link sidebar-link">Get Multi-Collateral Order Detail</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#repay-multi-collateral-loan" class="category__link sidebar-link">Repay Multi-Collateral Loan</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-multi-collateral-repay-records" class="category__link sidebar-link">List Multi-Collateral Repay Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#operate-multi-collateral" class="category__link sidebar-link">Operate Multi-Collateral</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-collateral-adjustment-records-2" class="category__link sidebar-link">Query Collateral Adjustment Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-user-currency-quota" class="category__link sidebar-link">List User Currency Quota</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-supported-borrowing-and-collateral-currencies-in-multi-collateral" class="category__link sidebar-link">Query Supported Borrowing And Collateral Currencies In Multi-Collateral</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-multi-collateral-ratio" class="category__link sidebar-link">Get Multi-Collateral Ratio</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-fixed-interest-rates-for-the-currency-for-7-days-and-30-days" class="category__link sidebar-link">Query Fixed Interest Rates For The Currency For 7 Days And 30 Days</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#multi-collateral-loan"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-the-current-interest-rate-of-the-currency" class="category__link sidebar-link">Query The Current Interest Rate Of The Currency</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#earn" class="category__link sidebar-link">Earn</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#earn"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#eth2-swap" class="category__link sidebar-link">Eth2 Swap</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earn"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#eth2-historical-rate-of-return-query" class="category__link sidebar-link">Eth2 Historical Rate Of Return Query</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earn"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#dual-investment-product-list" class="category__link sidebar-link">Dual Investment Product List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earn"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#dual-investment-order-list" class="category__link sidebar-link">Dual Investment Order List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earn"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#place-dual-investment-order" class="category__link sidebar-link">Place Dual Investment Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earn"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#structured-product-list" class="category__link sidebar-link">Structured Product List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earn"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#structured-product-order-list" class="category__link sidebar-link">Structured Product Order List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#earn"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#place-structured-product-order" class="category__link sidebar-link">Place Structured Product Order</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#account" class="category__link sidebar-link">Account</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-account-detail" class="category__link sidebar-link">Get Account Detail</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#get-user-transaction-rate-limit-information" class="category__link sidebar-link">Get User Transaction Rate Limit Information</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#create-stp-group" class="category__link sidebar-link">Create Stp Group</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-stp-groups" class="category__link sidebar-link">List Stp Groups</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#list-users-of-the-stp-group" class="category__link sidebar-link">List Users Of The Stp Group</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#add-users-to-the-stp-group" class="category__link sidebar-link">Add Users To The Stp Group</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#delete-the-user-in-the-stp-group" class="category__link sidebar-link">Delete The User In The Stp Group</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#set-gt-deduction" class="category__link sidebar-link">Set Gt Deduction.</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#account"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#query-gt-deduction-configuration" class="category__link sidebar-link">Query Gt Deduction Configuration.</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#rebate-2" class="category__link sidebar-link">Rebate</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#the-agency-obtains-the-transaction-history-of-the-recommended-user" class="category__link sidebar-link">The Agency Obtains The Transaction History Of The Recommended User</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#the-agency-obtains-the-commission-history-of-the-recommended-user" class="category__link sidebar-link">The Agency Obtains The Commission History Of The Recommended User</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#partner-obtains-transaction-records-of-recommended-users" class="category__link sidebar-link">Partner Obtains Transaction Records Of Recommended Users</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#partner-obtains-commission-records-of-recommended-users" class="category__link sidebar-link">Partner Obtains Commission Records Of Recommended Users</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#partner-subordinate-list" class="category__link sidebar-link">Partner Subordinate List</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#the-broker-obtains-the-user-s-commission-rebate-records" class="category__link sidebar-link">The Broker Obtains The User's Commission Rebate Records</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#the-broker-obtains-the-user-s-trading-history" class="category__link sidebar-link">The Broker Obtains The User's Trading History</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#user-retrieves-rebate-information" class="category__link sidebar-link">User Retrieves Rebate Information</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#rebate-2"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#user-subordinate-relationship" class="category__link sidebar-link">User-Subordinate Relationship</a></div></div></div></div><div class="group__category category"><div class="category__label"><a href="/docs/developers/apiv4/en/#schemas" class="category__link sidebar-link">Schemas</a></div> <div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#subaccountkey" class="category__link sidebar-link">Subaccountkey</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#estimaterate" class="category__link sidebar-link">Estimaterate</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#currencypair" class="category__link sidebar-link">Currencypair</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#order-2" class="category__link sidebar-link">Order</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#cancelbatchorder" class="category__link sidebar-link">Cancelbatchorder</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#batchamenditem" class="category__link sidebar-link">Batchamenditem</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#spotpricetriggeredorder" class="category__link sidebar-link">Spotpricetriggeredorder</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#contract" class="category__link sidebar-link">Contract</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#position" class="category__link sidebar-link">Position</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futuresorder" class="category__link sidebar-link">Futuresorder</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#batchamendorderreq" class="category__link sidebar-link">Batchamendorderreq</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#futurespricetriggeredorder" class="category__link sidebar-link">Futurespricetriggeredorder</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#deliverycontract" class="category__link sidebar-link">Deliverycontract</a></div></div><div class="category__headers /apiv4/en/ /apiv4/en/#schemas"><div class="category__header-item"><a href="/docs/developers/apiv4/en/#debitfee" class="category__link sidebar-link">Debitfee</a></div></div></div></div></div></div></div></div></div> <div class="col-md-9 col-lg-10 content__container"><ul class="code_lang"></ul> <div class="page__container"><div custom="" class="content__default"><div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="gate-api-v4-v4-94-1"><a href="#gate-api-v4-v4-94-1" class="header-anchor">#</a> Gate API v4 v4.94.1</h1> <div type="example" class="examples"><p>Scroll down for code samples, example requests and responses. Select a language for code samples from the tabs above or the mobile navigation menu.</p></div> <p>Welcome to Gate.io API</p> <p>APIv4 provides spot, margin and futures trading operations. There are public APIs to retrieve the real-time market statistics, and private APIs which needs authentication to trade on user's behalf.
</p></div> <div class="content-block__examples"></div></div></div></div><p></p> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="access-url"><a href="#access-url" class="header-anchor">#</a> Access URL</h2> <p><strong>REST API BaseURL:</strong></p> <ul><li>Live trading: <code>https://api.gateio.ws/api/v4</code></li> <li>Futures TestNet trading: <code>https://fx-api-testnet.gateio.ws/api/v4</code></li> <li>Futures live trading alternative (futures only): <code>https://fx-api.gateio.ws/api/v4</code></li></ul> <h2 id="sdk"><a href="#sdk" class="header-anchor">#</a> SDK</h2> <p>Available SDK:</p> <ul><li><a href="https://github.com/gateio/gateapi-python" target="_blank" rel="noopener noreferrer">Python<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-java" target="_blank" rel="noopener noreferrer">Java<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-php" target="_blank" rel="noopener noreferrer">PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-go" target="_blank" rel="noopener noreferrer">Go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-csharp" target="_blank" rel="noopener noreferrer">C#<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-nodejs" target="_blank" rel="noopener noreferrer">NodeJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-js" target="_blank" rel="noopener noreferrer">Javascript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Besides API examples, some SDK provides an additional demo application.
The demo application is a relatively complete example demonstrating how to use the SDK.
It can be built and run separately. Refer to corresponding repository for details.</p> <ul><li><a href="https://github.com/gateio/gateapi-python/tree/master/example" target="_blank" rel="noopener noreferrer">Python<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-java/tree/master/example" target="_blank" rel="noopener noreferrer">Java<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-csharp/tree/master/example" target="_blank" rel="noopener noreferrer">C#<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/gateio/gateapi-go/tree/master/_example" target="_blank" rel="noopener noreferrer">Go<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="about-apiv4-key-improvement"><a href="#about-apiv4-key-improvement" class="header-anchor">#</a> About APIv4 key improvement</h2> <p>Previously(before April 2020) futures APIv4 key are separated from spot one, but this is
no longer the case anymore. You can create multiple keys with each key having multiple
permissions now. e.g. you can create one key with spot read/write and futures read/write
permission which can be used in both spot and futures trading.</p> <p>History API keys will not be affected by this improvement. Previous spot key and futures key
are now one key with only spot permissions enabled, another only futures permission enabled.
You can reconfigure their permissions after migration.</p> <h2 id="comparison-with-apiv2"><a href="#comparison-with-apiv2" class="header-anchor">#</a> Comparison with APIv2</h2> <p>APIv4 is a standalone brand-new HTTP REST API, currently used in parallel with APIv2.
APIv4 provides complete trading operations, with more highly secured authentication method.
What's more, APIv4 specification is written following
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.2.md" target="_blank" rel="noopener noreferrer">OpenAPI Specification<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.
SDKs and documents are all generated from the same spec, which ensures consistency between
documents and implementation.</p> <p>The ways APIv4 and APIv2 differ are:</p> <ol><li>Their API keys are separated from each other. Once logged into the web console,
v2 API keys are generated on <em>&quot;APIKeys&quot;</em> page, while v4 <em>&quot;APIv4Keys&quot;</em>
page.</li> <li>APIv2 supports only spot trading, while v4 supports all trading operations in spot, margin and futures.</li></ol> <p>Which one to choose:</p> <ol><li>If margin or futures trading are needed, choose APIv4.</li> <li>If only spot trading or wallet operation is required, choose on your own.</li></ol> <h2 id="application-for-marketers"><a href="#application-for-marketers" class="header-anchor">#</a> Application for Marketers</h2> <p>In order to further improve the platform's opening depth and trading liquidity,
we will recruit institutional market makers in an open and transparent way,
and provide a professional market maker's service rate scheme for professional institutional market makers
according to their contribution to the platform's liquidity.</p> <ol><li>Provide Gateio UID</li> <li>Provide other transaction volume screenshot or VIP level</li> <li>Brief introduction of market making method and scale</li></ol> <p>Provide the above content and submit to <a href="mailto:mm@gate.io">mm@gate.io</a> , we will accept within 3
working days.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Vip11 and above need to open GT deduction in the personal center to enjoy the professional
market rate.</p></div> <h2 id="technical-support"><a href="#technical-support" class="header-anchor">#</a> Technical Support</h2> <p>If you have any questions or suggestions during the use, you can contact us in any of the following ways:</p> <ul><li>Submit Work Order Feedback</li> <li>Online Work Order Feedback</li> <li>Send your contact information and questions to <a href="mailto:mm@gate.io">mm@gate.io</a> We will assign
technical specialists to serve you.</li></ul> <p>If you encounter API errors, it is recommended that you sort out the following content, so that we can quickly analyze the problem for you:</p> <ol><li>Problem Description</li> <li>Gateio UID</li> <li>Request URI and parameters</li> <li>Error Code</li> <li>Responses</li></ol> <div class="custom-block danger"><p class="custom-block-title">DANGER</p> <p>Even if you submit a problem, you should not submit the API key information to customer service or others, otherwise there will be serious asset risk. If it has been accidentally leaked, please delete the existing API and rebuild it.</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="changelog"><a href="#changelog" class="header-anchor">#</a> Changelog</h1> <p><strong>v4.94.0</strong></p> <ul><li>New feature <code>GET /unified/currencies</code> endpoint, List of loan currencies supported by unified account</li> <li>Add <code>sub_uid</code> field in <code>GET /unified/accounts</code> query</li></ul> <p><strong>v4.93.0</strong></p> <ul><li>Add <code>plan_id</code> field in <code>GET /earn/dual/investment_plan</code> query</li> <li>Add <code>from</code>、<code>to</code>、<code>page</code>、<code>limit</code> field in <code>GET /earn/dual/orders</code> query</li> <li>Add <code>text</code> field in <code>GET /earn/dual/orders</code> response</li> <li>Add <code>text</code> field in <code>POST /earn/dual/orders</code> response</li> <li>New feature <code>GET /earn/staking/eth2/rate_records</code> endpoint, Query historical rate of ETH2</li></ul> <p><strong>v4.92.0</strong></p> <p>2025-02-24</p> <ul><li>Add <code>name</code> field in <code>GET /spot/currencies</code> query</li> <li>Add <code>base_name</code>、<code>quote_name</code> field in <code>GET /spot/currency_pairs</code> response</li> <li>Add <code>unified</code> field in <code>GET /spot/price_orders</code> query</li> <li>Add <code>sub_uid</code> field in <code>GET /unified/accounts</code> query</li></ul> <p><strong>v4.91.0</strong></p> <p>2025-02-10</p> <p><code>2025-04-01</code> After that, we will remove the following interface, please migrate to the new interface as soon as possible</p> <ul><li><code>GET /margin/cross/borrowable</code> endpoint, deprecated</li> <li><code>GET /margin/cross/estimate_rate</code> endpoint, deprecated</li> <li><code>GET /margin/cross/transferable</code> endpoint, deprecated</li> <li><code>GET /margin/cross/interest_records</code> endpoint, deprecated</li> <li><code>GET /margin/cross/repayments</code> endpoint, deprecated</li> <li><code>POST /margin/cross/repayments</code> endpoint, deprecated</li> <li><code>GET /margin/cross/loans/{loan_id}</code> endpoint, deprecated</li> <li><code>POST /margin/cross/loans</code> endpoint, deprecated</li> <li><code>GET /margin/cross/account_book</code> endpoint, deprecated</li> <li><code>GET /margin/cross/accounts</code> endpoint, deprecated</li> <li><code>GET /margin/cross/currencies/{currency}</code> endpoint, deprecated</li> <li><code>GET /margin/cross/currencies</code> endpoint, deprecated</li></ul> <p><strong>v4.90.0</strong></p> <p>2025-01-20</p> <ul><li>Add <code>transaction_type</code> field in <code>GET /wallet/push</code> query</li> <li>New feature <code>GET /rebate/user/sub_relation</code> endpoint, Query whether the specified user is in the system</li> <li>Add <code>order_size</code> field in<code>GET /futures/{settle}/liq_orders</code> response</li> <li>Add <code>type</code> field in <code>GET /spot/currency_pairs</code> response</li></ul> <p><strong>v4.89.0</strong></p> <p>2025-01-08</p> <ul><li>Add <code>text</code> field in <code>DELETE /futures/{settle}/close_all_positions</code> query string</li></ul> <p><strong>v4.88.0</strong></p> <p>2024-12-24</p> <ul><li>New feature <code>GET /spot/insurance_history</code> endpoint, Query spot insurance fund historical data</li> <li>Add <code>cross_balance</code>、<code>iso_balance</code>、<code>im</code>、<code>mm</code>、<code>imr</code>、<code>mmr</code>、<code>margin_balance</code>、<code>available_margin</code> field in <code>GET /unified/accounts</code> response</li> <li><code>PUT /unified/unified_mode</code> endpoint，Added single-currency margin mode</li></ul> <p><strong>v4.87.0</strong></p> <ul><li>New feature <code>GET /unified/history_loan_rate</code> endpoint, Get historical lending rates</li></ul> <p><strong>v4.86.0</strong></p> <p>2024-12-02</p> <ul><li>New feature <code>GET /wallet/order_status</code> endpoint. Transfer status query</li> <li>Add <code>update_id</code> field in <code>GET /futures/{settle}/positions</code> response</li></ul> <p><strong>v4.85.0</strong></p> <p>2024-11-11</p> <ul><li>Add <code>x-gate-exptime</code> field in <code>POST /futures/{settle}/orders</code>、<code>POST /spot/batch_order</code> header.</li> <li>Add <code>cross_order_margin</code>、<code>cross_initial_margin</code>、<code>cross_maintenance_margin</code>、<code>cross_unrealised_pnl</code>、<code>cross_available</code>、<code>isolated_position_margin</code> field in <code>POST /futures/{settle}/dual_mode</code> response.</li></ul> <p><strong>v4.84.0</strong></p> <p>2024-11-04</p> <ul><li>New feature <code>GET /loan/multi_collateral/current_rate</code> endpoint, Query the current interest rate of the currency</li> <li>Add <code>lowest_size</code>、<code>highest_size</code> field in <code>GET /spot/tickers</code> response</li> <li>Add  <code>amount</code> field in <code>POST /earn/dual/orders</code> request body</li></ul> <p><strong>v4.83.0</strong></p> <p>2024-10-28</p> <ul><li>New feature <code>GET /unified/leverage/user_currency_config</code> endpoint, Query the maximum and minimum leverage multiples
that users can set for a currency</li> <li>New feature <code>GET /unified/leverage/user_currency_setting</code> endpoint, Get the user's currency leverage</li> <li>New feature <code>POST /unified/leverage/user_currency_setting</code> endpoint, Set the currency leverage ratio</li> <li>Add <code>id</code> field in <code>GET /futures/{settle}/account_book</code> response</li> <li>Add <code>leverage</code> field in <code>GET /unified/currency_discount_tiers</code> response</li></ul> <p><strong>v4.82.0</strong></p> <p>2024-10-14</p> <ul><li>New feature <code>GET /account/rate_limit</code> endpoint, Get user flow limit information. For details, please refer
to <a href="#trade-ratio-rate-limiting">Trade Ratio Rate Limiting</a></li> <li><code>GET /account/detail</code> 接口, 返回值增加 <code>copy_trading_role</code> 字段</li></ul> <p><strong>v4.81.0</strong></p> <p>2024-09-30</p> <ul><li>New feature <code>POST /options/countdown_cancel_all</code> endpoint, Countdown to cancel order</li> <li>Add <code>message</code> field in <code>GET /wallet/push</code> response</li> <li>Add <code>lowest_size</code>、<code>highest_size</code> in <code>GET /futures/{settle}/tickers</code> response</li> <li>Add <code>from</code>、<code>to</code> in <code>GET /futures/{settle}/funding_rate</code> query</li> <li>Add <code>is_max</code> field in <code>POST /earn/dual/orders</code> response</li></ul> <p><strong>v4.80.0</strong></p> <p>2024-09-09</p> <ul><li>New feature <code>GET /options/mmp</code> endpoint, MMP Query</li> <li>New feature <code>POST /options/mmp</code> endpoint, MMP Settings</li> <li>New feature <code>POST /options/mmp/reset</code> endpoint, MMP Reset</li> <li>Add  <code>block_number</code> field in <code>GET /wallet/withdrawals</code> response</li></ul> <p><strong>v4.79.0</strong></p> <p>2024-09-02</p> <ul><li>Add <code>from</code>、<code>to</code> field in <code>GET /unified/interest_records</code> query</li> <li>Add <code>options</code> field in <code>GET /unified/unified_mode</code> response</li> <li>Add <code>options</code> field in <code>PUT /unified/unified_mode</code> request body</li></ul> <p><strong>v4.78.0</strong></p> <p>2024-08-19</p> <ul><li>New feature <code>GET /wallet/push</code> endpoint, Get Records</li> <li>New feature <code>POST /withdrawals/push</code> endpoint, Transfer between spot main accounts. Both parties cannot be
sub-accounts.</li> <li>New feature <code>GET /futures/{settle}/batch_amend_orders</code> endpoint, Batch modify orders with specified IDs</li> <li>Add <code>close_size</code> field in <code>GET /futures/{settle}/my_trades</code> response</li> <li>Add <code>tx_id</code> field in <code>POST /wallet/transfers</code> response</li></ul> <p><strong>v4.77.0</strong></p> <p>2024-08-05</p> <ul><li>New feature: add <code>GET /sub_accounts/unified_mode</code> endpoint，Get sub-account mode</li> <li>Add <code>from</code>、<code>to</code> field in <code>GET /rebate/broker/commission_history</code> query</li> <li>Add <code>from</code>、<code>to</code> field in <code>GET /rebate/broker/transaction_history</code> query</li></ul> <p><strong>v4.76.0</strong></p> <p>2024-07-22</p> <ul><li>New feature: add <code>GET /rebate/partner/sub_list</code> endpoint，Partner subordinate list</li> <li>Add <code>page</code>、<code>limit</code> field in <code>GET /flash_swap/currency_pairs</code> query</li> <li>Add <code>order_id</code>、<code>currency_pair</code>、<code>account</code> field in <code>PATCH /spot/orders/{order_id}</code></li> <li>Add <code>order_id</code>、<code>currency_pair</code>、<code>account</code> field in <code>DELETE /spot/orders/{order_id}</code></li></ul> <p><strong>v4.75.1</strong></p> <p>2024-07-08</p> <ul><li>New feature: add <code>GET /delivery/{settle}/risk_limit_tiers</code> endpoint，querying risk limit levels</li> <li>New feature: add <code>GET /rebate/partner/transaction_history</code> endpoint，partners to get the transaction history of
recommended users</li> <li>Add <code>borrow_type</code> field in <code>GET /unified/loan_records</code> response</li> <li>Add <code>accum_size</code> field in <code>GET /futures/{settle}/position_close</code> response</li></ul> <p><strong>v4.75.0</strong></p> <p>2024-06-24</p> <ul><li>New feature: add <code>GET /account/debit_fee</code> endpoint，query GT deduction configuration.</li> <li>New feature: add <code>POST /account/debit_fee</code> endpoint, to enable or disable GT deduction for the current account.</li></ul> <p><strong>v4.74.1</strong></p> <p>2024-06-11</p> <ul><li>Optimization of DOM for the visible area on mobile devices</li></ul> <p><strong>v4.74.0</strong></p> <p>2024-05-29</p> <ul><li>New feature: add <code>GET /unified/loan_margin_tiers</code> endpoint, list loan margin tiers</li></ul> <p><strong>v4.73.0</strong></p> <p>2024-05-27</p> <ul><li>Add <code>is_all</code> parameter in <code>POST /wallet/small_balance</code> endpoint</li> <li>Add <code>text</code> field in <code>POST /spot/cancel_batch_orders</code> response</li> <li>Add <code>funding</code>、<code>funding_version</code>、<code>use_funding</code> field in <code>GET /unified/accounts</code> response</li></ul> <p><strong>v4.72.0</strong></p> <p>2024-05-13</p> <ul><li>Add <code>last_access</code> field in <code>GET /sub_accounts/{user_id}/keys</code> response</li> <li>Add <code>contract</code> field in <code>GET /futures/{settle}/risk_limit_tiers</code> response</li></ul> <p><strong>v4.71.0</strong></p> <p>2024-04-23</p> <ul><li>Add <code>page</code> parameter in <code>GET /wallet/saved_address</code> endpoint</li> <li>New feature: add <code>GET /api/v4/rebate/user/info</code> endpoint, retrieve user rebate information</li> <li>New feature: add <code>POST /unified/portfolio_calculator</code> endpoint, portfolio margin calculator</li> <li>New feature: add <code>GET /unified/risk_units</code> endpoint, retrieve user risk unit</li> <li>New feature: add <code>PUT /unified/unified_mode</code> endpoint, set unified account mode</li> <li>New feature: add <code>GET /unified/unified_mode</code> endpoint, retrieve unified account mode</li></ul> <p><strong>v4.70.0</strong></p> <p>2024-04-08</p> <ul><li>Add <code>pnl_pnl</code>、<code>pnl_fund</code>、<code>pnl_fee</code> field in <code>GET /futures/{settle}/positions</code> response</li> <li>Add <code>pnl_pnl</code>、<code>pnl_fund</code>、<code>pnl_fee</code> field in <code>GET /futures/{settle}/position_close</code> response</li></ul> <p><strong>v4.69.0</strong></p> <p>2024-03-25</p> <ul><li>Add <code>text</code> field in <code>POST /delivery/{settle}/price_orders</code> response</li></ul> <p><strong>v4.68.0</strong></p> <p>2024-03-18</p> <ul><li>New feature: add <code>GET /unified/currency_discount_tiers</code> endpoint, list currency discount tiers</li> <li>Add <code>type</code> parameter in <code>GET /unified/loans</code> endpoint</li> <li>Add <code>type</code> parameter in <code>GET /unified/interest_records</code> endpoint</li></ul> <p><strong>v4.67.0</strong></p> <p>2024-03-11</p> <ul><li>Add <code>filled_amount</code> field in <code>POST /spot/orders</code>,<code>POST /spot/batch_orders</code> response</li> <li>In frequency limit rule for the wallet withdrawal interface, the speed limit description has been corrected
from <code>10r/10s</code> to <code>1r/3s</code>(No modification to the original rate limiting behavior)</li></ul> <p><strong>v4.66.1</strong></p> <p>2024-02-19</p> <ul><li>New feature: add <code>GET /wallet/small_balance</code> endpoint, list small balance.</li> <li>New feature: add <code>GET /wallet/small_balance_history</code> endpoint, list small balance history.</li> <li>New feature: add <code>GET /unified/estimate_rate</code> endpoint, get unified estimate rate.</li></ul> <p><strong>v4.65.0</strong></p> <p>2024-01-29</p> <ul><li>Add <code>debit_fee</code> field in <code>GET /spot/batch_fee</code> response</li> <li>Add <code>user_id</code> parameter in <code>DELETE /account/stp_groups/{stp_id}/users</code> endpoint</li> <li>Spot API introduces asynchronous support modes for create orders: <code>ACK</code>, <code>RESULT</code>, <code>FULL</code>. For details, please refer
to <a href="#create-an-order">SPOT API</a></li></ul> <p><strong>v4.64.0</strong></p> <p>2024-01-22</p> <ul><li>Add <code>order_type</code> parameter in <code>GET /loan/multi_collateral/orders</code> endpoint</li> <li>Add <code>order_type</code>,<code>fixed_type</code>,<code>fixed_rate</code>,<code>expire_time</code>,<code>auto_renew</code>,<code>auto_repay</code> field
in <code>GET /loan/multi_collateral/orders</code> response</li> <li>Add <code>before_ltv</code>,<code>after_ltv</code> field in <code>GET /loan/multi_collateral/repay</code> response</li> <li>New feature: add <code>GET /loan/multi_collateral/fixed_rate</code> endpoint, query multi-collateral fix rate.</li> <li>Add <code>unrealised_pnl</code>,<code>borrowed</code> field in <code>GET /wallet/total_balance</code> response</li></ul> <p><strong>v4.63.0</strong></p> <p>2024-01-15</p> <ul><li>Add <code>decimal</code> field in <code>GET /wallet/currency_chains</code> response</li> <li>New feature: add <code>GET /futures/{settle}/risk_limit_tiers</code> endpoint, list risk limit tiers.</li></ul> <p><strong>v4.62.0</strong></p> <p>2024-01-02</p> <ul><li>New feature: add <code>POST /futures/{settle}/batch_cancel_orders</code> endpoint, users have the ability to batch cancel orders.</li> <li>New feature: add multi-collateral-loan api. (<code>/loan/multi_collateral/**</code>)</li></ul> <p><strong>v4.61.0</strong></p> <p>2023-12-18</p> <ul><li>New features: The broker obtains the user's commission rebate records in <code>GET /rebate/broker/commission_history</code>
and <code>GET /rebate/broker/commission_history</code> endpoints</li></ul> <p><strong>v4.60.0</strong></p> <p>2023-12-01</p> <ul><li>Breaking change: New <a href="#unified-account">Unified API</a> is online. The old <code>/portfoli/*</code> endpoints are deprecated.</li> <li>New features: add earn product api. (<code>/earn/**</code>)</li> <li>Add <code>trade_id</code> field in <code>GET /futures/{settle}/account_book</code> response</li></ul> <p><strong>v4.59.0</strong></p> <p>2023-11-22</p> <ul><li>Add <code>funding_cap_ratio</code> field in <code>GET /futures/{settle}/contracts</code> response</li> <li>Add <code>contract</code> field in <code>GET /delivery/{settle}/account_book</code> response</li> <li>Add <code>withdraw_percent_on_chains</code> field in <code>GET /wallet/withdraw_status</code> response</li> <li>Add <code>leverage</code> field in <code>GET /portfolio/accounts</code> response</li></ul> <p><strong>v4.58.0</strong></p> <p>2023-11-03</p> <ul><li>Add <code>loanable</code> field in <code>GET /margin/cross/currencies</code> response</li> <li>Add <code>biz_info</code> field in <code>GET /futures/{settle}/orders/{order_id}</code> response</li> <li>Add <code>tier</code> field in <code>GET /account/detail</code> response</li> <li>Add <code>max_base_amount</code>、<code>max_quote_amount</code> field in <code>GET /spot/currency_pairs</code> response</li></ul> <p><strong>v4.57.0</strong></p> <p>2023-10-20</p> <ul><li>New feature: API Gateway inbound &amp; outbound time, For more details, please refer to
the <a href="#api-gateway-in-out-time">API Gateway in/out time</a></li> <li>New feature: support portfolio account in <code>POST /spot/orders</code> endpoint</li> <li>New feature: add <code>PUT /earn/uni/interest_reinvest</code> endpoint, users have the option to enable or disable interest
reinvestment.</li> <li>New feature: add <code>POST /spot/amend_batch_orders</code> endpoint, users have the ability to batch modify orders.</li> <li>Add <code>sequence_id</code> field in <code>GET /spot/trades</code> response</li> <li>Add <code>text</code> field in <code>GET /spot/account_book</code> response</li> <li>Add <code>text</code> field in <code>GET /spot/my_trades</code> response</li> <li><code>GET /portfolio/spot/orders</code>、 <code>GET /portfolio/spot/orders</code>、<code>GET /portfolio/spot/orders/{order_id}</code>、<code>DELETE /portfolio/spot/orders/{order_id}</code>
and <code>PATCH /portfolio/spot/orders/{order_id}</code> have been deprecated. We will remove the endpoints by the end of October
2023. Please use <code>/spot/orders</code> instead.</li></ul> <p><strong>v4.56.0</strong></p> <p>2023-09-25</p> <ul><li>Add <code>repayment_type</code> field in <code>GET /margin/cross/repayments</code> and <code>GET /portfolio/loan_records</code> endpoints.</li> <li>Add request parameter <code>holding</code> in <code>GET /futures/{settle}/positions</code> endpoint</li> <li>Add request parameter <code>role</code> in <code>GET /futures/{settle}/my_trades_timerange</code> endpoint</li> <li>Add request parameter <code>side</code> and <code>pnl</code> in <code>GET /futures/{settle}/position_close</code> endpoint</li></ul> <p><strong>v4.55.0</strong></p> <p>2023-09-12</p> <ul><li>Add new <code>POST /portfolio/account_mode</code> endpoint, allow to change the mode.</li></ul> <p><strong>v4.54.0</strong></p> <p>2023-08-28</p> <ul><li>Add <code>contract_address</code> field in <code>GET /wallet/currency_chains</code> endpoint.</li> <li>Add <code>GET /portfolio/spot/currency_pairs</code> and <code>GET /portfolio/spot/currency_pairs/{currency_pair}</code> endpoints, list
portfolio spot's currency pairs.</li></ul> <p><strong>v4.53.0</strong></p> <p>2023-08-14</p> <ul><li>New feature: delete user in STP group in <code>DELETE /account/stp_groups/{stp_id}/users</code> endpoint</li></ul> <p><strong>v4.52.0</strong></p> <p>2023-08-07</p> <ul><li>New feature: add collateral loan api</li></ul> <p><strong>v4.51.0</strong></p> <p>2023-07-29</p> <ul><li>Adjusted and optimized the <a href="#accountbook-type">account book types</a></li> <li>Add <code>mode</code> field in <code>GET /account/detail</code> edpoint.</li></ul> <p><strong>v4.50.0</strong></p> <p>2023-07-14</p> <ul><li>New feature: New <a href="#portfolio-account">Portfolio API</a>. Currently, these services are only available to whitelisted
users. If you are interested in accessing these APIs, please contact our institutional department for further
information.</li> <li>Add new endpoint <code>GET /flash_swap/currency_pairs</code>, list all flash swap currency pair</li></ul> <p><strong>v4.49.0</strong></p> <p>2023-07-03</p> <ul><li>Add new <a href="#frequency-limit-rule">frequency limit rule</a>，the new rule is expected to take effect on 2023-07-10 (UTC+8)</li> <li>In the <code>GET /futures/{settle}/orders</code> API endpoint, the request field <code>contract</code> has been modified to be optional
instead of mandatory.</li></ul> <p><strong>v4.48.0</strong></p> <p>2023-06-16</p> <ul><li>Add <code>client_order_id</code> fields in <code>GET /wallet/sub_account_transfers</code> edpoint.</li></ul> <p><strong>v4.47.0</strong></p> <p>2023-05-23</p> <ul><li>New feature: add STP group admin api</li> <li>New feature: query estimated interest rates of margin and cross margin in <code>GET /margin/uni/estimate_rate</code>
and <code>GET /margin/cross/estimate_rate</code> endpoints.</li> <li>New feature: list futures order by time range in <code>GET /futures/{settle}/orders_timerange</code> endpoint</li> <li>Add <code>underlying</code>、<code>underlying_price</code>、<code>mark_iv</code>、<code>delta</code>、<code>gamma</code>、<code>vega</code>、<code>theta</code> fields
in <code>GET /options/positions/{contract}</code> endpoint.</li></ul> <p><strong>v4.46.0</strong></p> <p>2023-05-08</p> <ul><li>New feature: query spot account book in <code>GET /spot/account_book</code> endpoint</li> <li>New feature: query user futures trading fee in <code>GET /futures/{settle}/fee</code> endpoint</li> <li>Add <code>is_internal</code> field in <code>GET /futures/{settle}/trades</code> endpoint</li></ul> <p><strong>v4.45.0</strong></p> <p>2023-04-21</p> <ul><li>The margin loan has been migrated to the <code>Lend &amp; Earn</code>. For more information, please refer to
the <a href="#margin-migration-instructions">Margin Migration Instructions</a></li> <li>New feature: Get interest records for the cross margin account in <code>GET /margin/cross/interest_records</code> endpoint.</li> <li>New feature: Add <code>Self-Trade Prevention</code> feature in the <code>POST /futures/{settle}/batch_orders</code> endpoint.</li> <li>Add <code>futures_in</code>、<code>futures_out</code> two fields in <code>GET /margin/cross/account_book</code> endpoint.</li></ul> <p><strong>v4.44.0</strong></p> <p>2023-04-07</p> <ul><li>Add <code>ORDER_BOOK_NOT_FOUND</code> and <code>FAILED_RETRIEVE_ASSETS</code> error messages.</li></ul> <p><strong>v4.43.0</strong></p> <p>2023-03-27</p> <ul><li>New feature: Add <code>Self-Trade Prevention</code> feature in the <code>POST /spot/orders</code> endpoint. Fore more detail, please refer
to <a href="#self-trade-prevention-stp">STP overview</a></li> <li>New feature: Get API key's ip whitelist in <code>GET /account/detail</code> endpoint.</li> <li>Add <code>amend_text</code> in <code>PATCH /spot/orders/{order_id}</code> endpoint.</li> <li>Add <code>lowest_ask</code> and <code>highest_bid</code> fields in <code>GET /futures/{settle}/tickers</code> endpoint</li></ul> <p><strong>v4.42.0</strong></p> <p>2023-03-13</p> <ul><li>New feature: add <code>Lend &amp; Earn</code> API</li> <li>New feature: Add <code>Self-Trade Prevention</code> feature in the <code>POST /futures/{settle}/orders</code> endpoint. Fore more detail,
please refer to <a href="#self-trade-prevention-stp">STP overview</a></li> <li>Add <code>delivery</code> account type in <code>POST /wallet/sub_account_transfers</code> endpoint</li> <li>Add <code>amend_text</code> field in <code>PUT /futures/{settle}/orders/{order_id}</code> endpoint</li></ul> <p><strong>v4.41.0</strong></p> <p>2023-03-03</p> <ul><li></li></ul> <p>Add <code>negative_liab</code>, <code>futures_pos_liab</code>, <code>equity</code>, <code>total_freeze</code>, <code>total_liab</code>, <code>portfolio_margin_total_liab</code>, <code>portfolio_margin_total_equity</code>
fields in <code>GET /margin/cross/accounts</code> endpoint</p> <p><strong>v4.40.0</strong></p> <p>2023-02-24</p> <ul><li>New feature: List Auto-Deleveraging history endpoint <code>Get /futures/{settle}/auto_deleverages</code></li> <li>Add <code>sum</code> field in <code>GET /futures/{settle}/candlesticks</code> endpoint</li></ul> <p><strong>v4.39.0</strong></p> <p>2023-02-09</p> <ul><li>New feature: Query a batch of user trading fee rate endpoint <code>GET /spot/batch_fee</code></li> <li>Add <code>enable_bonus</code>、<code>enable_credit</code> fields in <code>GET /futures/{settle}/contracts</code> endpoint</li></ul> <p><strong>v4.38.0</strong></p> <p>2023-02-04</p> <ul><li>New feature: time range query for my futures trade endpoint <code>GET /futures/{settle}/my_trades_timerange</code></li> <li>Add <code>withdraw_order_id</code> field in <code>POST /withdrawals</code> endpoint</li></ul> <p><strong>v4.37.0</strong></p> <p>2023-01-20</p> <ul><li>Add new rebate API endpoints.</li></ul> <p><strong>v4.36.0</strong></p> <p>2022-12-23</p> <ul><li>Hiding all amount is not supported any more when using <code>iceberg</code> in <code>POST /spot/orders</code> and <code>POST /spot/batch_orders</code>
endpoints</li></ul> <p><strong>v4.35.0</strong></p> <p>2022-12-09</p> <ul><li>New feature: amend order endpoint <code>/spot/orders/{order_id}</code></li> <li>Add <code>avg_deal_price</code> field in <code>GET /spot/orders</code> response</li> <li>Add <code>portfolio_margin_total</code> field in ``GET /margin/cross/accounts` response</li> <li>Support market order in <code>POST /spot/batch_orders</code> endpoint</li></ul> <p><strong>v4.34.0</strong></p> <p>2022-11-25</p> <ul><li>Support market order in <code>POST /spot/orders</code> endpoint</li></ul> <p><strong>v4.33.0</strong></p> <p>2022-11-11</p> <ul><li>New feature: Futures Premium Index endpoint <code>GET /futures/{settle}/premium_index</code></li> <li>Allow to specify password and email when creating a sub-account.</li></ul> <p><strong>v4.32.0</strong></p> <p>2022-10-28</p> <ul><li>Improve options api document</li></ul> <p><strong>v4.31.0</strong></p> <p>2022-10-14</p> <ul><li>Allow to transfer futures and cross_margin funds between two sub-accounts in <code>POST /wallet/sub_account_to_sub_account</code>
endpoint</li></ul> <p><strong>v4.30.0</strong></p> <p>2022-09-23</p> <ul><li>New feature: manage sub-accounts API Key</li> <li>New feature: lock and unlock sub-account endpoint</li> <li>Allow to transfer between two sub-accounts in <code>POST /wallet/sub_account_to_sub_account</code> endpoint</li></ul> <p><strong>v4.29.0</strong></p> <p>2022-09-09</p> <ul><li>New feature: create and list sub-accounts</li> <li>Add <code>settle</code> parameter in <code>GET /wallet/fee</code> endpoint</li> <li>Add <code>refr</code> field in option order</li> <li>The maximum number of API Keys changes to 20</li></ul> <p><strong>v4.28.0</strong></p> <p>2022-08-12</p> <ul><li>Add <code>offset</code> parameter in <code>GET /futures/{settle}/trades</code></li> <li>new countdown cancel orders endpoint for spot and futures.</li></ul> <p><strong>v4.27.0</strong></p> <p>2022-07-29</p> <ul><li>Add <code>basis_rate</code>、<code>basis_value</code> fields in <code>GET /delivery/{settle}/tickers</code> response</li> <li>Add <code>X-Client-Request-Id</code> http header for tracking request</li> <li>new create a batch of futures order endpoint <code>POST /futures/{settle}/batch_orders</code></li> <li>new <code>FOK</code> tif type for futures order</li></ul> <p><strong>v4.26.0</strong></p> <p>2022-07-15</p> <ul><li>Spot Price-Trigger order supports portfolio margin account</li> <li>Add <code>GET /wallet/saved_address</code> to list saved address</li> <li><code>POST /wallet/transfers</code> returns <code>tx_id</code> field</li> <li>Add <code>GET /wallet/sub_account_cross_margin_balances</code> to query subaccount's <code>cross_margin</code> account</li> <li>Add <code>status</code> field in <code>GET /margin/currency_pairs</code> response</li></ul> <p><strong>v4.25.1</strong></p> <p>2022-07-06</p> <ul><li>New <code>GET /spot/time</code> endpoint which get system's time info.</li> <li>New <code>GET /options/my_settlements</code> endpoint which list my selttlements.</li> <li>Add <code>change_utc0</code>, <code>change_utc8</code> fields in <code>GET /spot/tickers</code> endpoint</li></ul> <p><strong>v4.25.0</strong></p> <p>2022-06-24</p> <ul><li>Support portfolio margin account API</li> <li>Cross-margin add more fields. Please refer to endpoint document for more details.</li> <li>Add <code>status</code> field in <code>GET /margin/cross/currencies</code> endpoint, determine whether the cross
currency is disabled <code>0</code>-disable <code>1</code>-enable</li> <li>New <code>POST /spot/cross_liquidate_orders</code> spot trading endpoint that close position when the
cross-currency is disabled</li> <li>Add <code>bouns</code> and <code>history</code> fields in <code>GET /futures/{settle}/accounts</code> endpoint</li> <li>Add <code>text</code>、<code>fee</code> and <code>point_fee</code> fields in <code>GET /futures/{settle}/my_trades</code> endpoint</li> <li>Fix typo for <code>cancel a price-triggered order</code> endpoints</li> <li><code>POST /wallet/sub_account_transfers</code> supports transferring to <code>cross_margin</code></li></ul> <p><strong>v4.24.0</strong></p> <p>2022-05-20</p> <ul><li>Support flash swap operations with new API group <code>/flash_swap</code>. Spot operation permission is
required.</li> <li>New wallet APIs <code>GET /wallet/sub_account_margin_balances</code>
and <code>GET /wallet/sub_account_futures_balances</code> to help main account retrieving sub accounts'
margin and perpetual contract balances</li> <li>New perpetual contract API <code>GET /futures/{settle}/index_constituents/{index}</code> to retrieve index
price constituents</li> <li>Fix missing fields like <code>order_type</code> in <code>FuturesPriceTriggeredOrder</code></li></ul> <p><strong>v4.23.4</strong></p> <p>2022-04-25</p> <ul><li>Add <code>PUT /futures/{settle}/orders/{order_id}</code> to amend perpetual futures orders</li> <li>Spot candlesticks supports <code>30d</code> interval</li></ul> <p><strong>v4.23.3</strong></p> <p>2022-04-01</p> <ol><li>Spot candlestick API returns base currency amount</li> <li>Spot currency detail add <code>chain</code> field.</li> <li>Add withdrawal and deposit status in <code>GET /wallet/currency_chains</code> response</li> <li>Add missing <code>cross_leverage_limit</code> in perpetual contract's dual mode position leverage update API</li> <li>Support more intervals in perpetual and delivery contract candlesticks</li></ol> <p><strong>v4.23.2</strong></p> <p>2022-01-21</p> <ol><li>Add <code>fee</code> in withdrawal and deposit history</li> <li>Add fix fee rate in spot <code>Currency</code></li></ol> <p><strong>v4.23.1</strong></p> <p>2021-12-23</p> <ol><li>Spot orders support new <code>time_in_force</code> <code>FOK</code></li> <li>New <code>FOK_NOT_FILL</code> error label</li></ol> <p><strong>v4.23.0</strong></p> <p>2021-12-09</p> <ol><li>Add options API</li> <li>Add detailed rate limiting rules</li> <li>Add <code>GET /wallet/currency_chains</code> to retrieve chains supported by currency</li> <li>Add additional status for deposit and withdrawal history</li></ol> <p><strong>v4.22.4</strong></p> <p>2021-11-01</p> <ol><li>Data type of <code>ctime</code> and <code>ftime</code> in <code>SpotPriceTriggeredOrder</code> should be <code>int64</code></li></ol> <p><strong>v4.22.3</strong></p> <p>2021-10-27</p> <ol><li><code>GET /spot/trades</code> supports time range based query using <code>from</code> and <code>to</code>.</li></ol> <p><strong>v4.22.2</strong></p> <p>2021-09-29</p> <ol><li>Add more status in withdrawal or deposit record model</li> <li>Add new write only field <code>auto_size</code> in <code>FuturesOrder</code> to support closing dual mode position.</li></ol> <p><strong>v4.22.1</strong></p> <p>2021-09-07</p> <ol><li>New wallet API <code>GET /wallet/total_balance</code> to retrieve all user's estimate balance.</li> <li>Add <code>locked</code> and <code>risk</code> in margin account response</li> <li>Margin and cross margin loans support custom text input.</li></ol> <p><strong>v4.22.0</strong></p> <p>2021-08-13</p> <ol><li>Delivery contract API supports BTC settled</li> <li>Spot API <code>GET /spot/orders</code> and <code>GET /spot/my_trades</code> supports query by time range</li> <li>Add margin and cross margin max borrowable API</li> <li>Multiple document enhancements.</li></ol> <p><strong>v4.21.6</strong></p> <p>2021-08-12</p> <ol><li>Fix incorrect address field name in <code>GET /wallet/deposit_address</code></li></ol> <p><strong>v4.21.5</strong></p> <p>2021-06-30</p> <ul><li><code>GET /spot/orders</code>, <code>GET /spot/orders/{order_id}</code> and <code>GET /spot/my_trades</code> allow empty
<code>currency_pair</code> if operated against finished orders</li> <li>Add fixed withdrawal fee on multiple chains in <code>GET /wallet/withdraw_status</code> response</li> <li>Add <code>GET /margin/transferable</code> and <code>GET /margin/cross/transferable</code> to retrieve
maximum transferable amount from margin and cross margin account</li> <li>Add <code>from</code> and <code>to</code> parameter to specify time range for futures position closes history API</li></ul> <p><strong>v4.21.4</strong></p> <p>2021-06-23</p> <ul><li>Add cross margin account change history API <code>GET /margin/cross/account_book</code></li> <li>Add millisecond timestamp in <code>GET /margin/account_book</code> response</li></ul> <p><strong>v4.21.3</strong></p> <p>2021-06-17</p> <ul><li>Add order book timestamp for both spot and futures trading</li></ul> <p><strong>v4.21.2</strong></p> <p>2021-06-07</p> <ul><li>Futures API support cross margin leverage modification</li> <li>Add new spot cross margin API  <code>/margin/cross</code></li> <li>Add spot order operations using spot cross margin account</li> <li>Add unpaid interests in spot margin account query</li> <li>Add new millisecond fields <code>create_time_ms</code> and <code>update_time_ms</code> in spot orders.</li> <li>Add <code>DELETE /withdrawals/{withdrawal_id}</code> to cancel withdrawal operation</li></ul> <p><strong>v4.20.1</strong></p> <p>2021-04-14</p> <ul><li>Update document links</li></ul> <p><strong>v4.20.0</strong></p> <p>2021-03-25</p> <ul><li>Support spot auto orders with API group <code>/spot/price_orders</code></li></ul> <p><strong>v4.19.6</strong></p> <p>2021-03-22</p> <ul><li>Add trading timestamp in spot currency pair</li></ul> <p><strong>v4.19.5</strong></p> <p>2021-03-18</p> <ul><li>Spot and Futures operations based on order ID also accept user custom ID(but only for 30 minutes
since creation)</li></ul> <p><strong>v4.19.4</strong></p> <p>2021-03-10</p> <ul><li><code>/wallet/sub_account_transfers</code> supports transferals with sub user's perpetual contract account</li></ul> <p><strong>v4.19.3</strong></p> <p>2021-03-04</p> <ul><li>Add margin loans auto repay API <code>/margin/auto_repay</code></li> <li>Add <code>multichain_address</code> in <code>/wallet/deposit_address</code> for currencies with multiple deposit
addresses</li> <li>Optimize documentation</li></ul> <p><strong>v4.19.2</strong></p> <p>2021-03-01</p> <ul><li>Add <code>/wallet/fee</code> API to retrieve trading fee. Previous <code>/spot/fee</code> is deprecated in favour of
this one.</li> <li>Add new field <code>chain</code> in withdrawal operation.</li> <li>Add new field <code>with_id</code> in <code>/futures/{settle}/order_book</code> API and <code>id</code> field in its response</li> <li>Add new <code>offset</code> in API <code>/futures/{settle}/position_close</code> to retrieve position close history with
pagination.</li> <li>Add contract value calculation. Refer to <code>Contract</code> model for details.</li> <li>Fix incorrect field type in futures stats API</li></ul> <p><strong>v4.18.4</strong></p> <p>2021-01-22</p> <ul><li>Add field <code>create_time_ms</code> in spot <code>Trade</code> model</li> <li>ETF currency pairs' ticker add net value related info</li></ul> <p><strong>v4.18.1</strong></p> <p>2021-01-07</p> <ul><li>Add iceberg order support for spot orders</li> <li>Fix incorrect field types in <code>/futures/{settle}/contract_stats</code></li></ul> <p><strong>v4.18.0</strong></p> <p>2020-12-21</p> <ul><li>Add new spot API<code>/spot/currencies</code> and <code>/spot/currencies/{currency}</code> to retrieve currency info</li> <li>Add more fields, e.g., <code>top_lsr_account</code>, <code>top_lsr_size</code>, in futures <code>ContractStat</code> model.</li></ul> <p><strong>v4.17.1</strong></p> <p>2020-12-16</p> <ul><li>Increase maximum of <code>limit</code> in <code>/spot/order_book</code> to 100</li></ul> <p><strong>v4.17.0</strong></p> <p>2020-12-15</p> <ul><li>Add <code>/wallet/sub_account_balances</code> to retrieve sub accounts' balances.</li></ul> <p><strong>v4.16.1</strong></p> <p>2020-12-10</p> <ul><li>Fix mistaken field name <code>dual_mode</code> in futures position model which should be <code>mode</code> instead.</li></ul> <p><strong>v4.16.0</strong></p> <p>2020-12-09</p> <p><em>Spot</em></p> <ul><li>Increase order number limit each currency pair to 10 in <code>POST /spot/batch_orders</code></li> <li>Add new query parameter <code>reverse</code> in <code>GET /spot/trades</code> to trace back trading history</li></ul> <p><em>Futures</em></p> <ul><li>Add perpetual contract dual mode position support. Use <code>/futures/{settle}/dual_mode</code> to set
position's dual mode. For dual mode position operations, refer
to <code>/futures/{settle}/dual_comp/positions</code> API group</li> <li>Add perpetual contract new field <code>in_dual_mode</code> in futures account response model;
<code>dual_mode</code> in position response model.</li> <li>Add new perpetual contract public API <code>/futures/{settle}/liq_orders</code> to query liquidated orders in
markets</li></ul> <p><strong>v4.15.5</strong></p> <p>2020-11-04</p> <ul><li>Add <code>/futures/{settle}/contract_stats</code> API to retrieve contract stats</li> <li>Add <code>/margin/{currency_pair}</code> to retrieve single margin currency pair detail</li></ul> <p><strong>v4.15.4</strong></p> <p>2020-09-01</p> <ul><li>Add <code>point_type</code> in <code>GET /spot/fee</code> response</li> <li>Add <code>GET /wallet/withdraw_status</code> API</li> <li>Add C# SDK entry</li></ul> <p><strong>v4.15.2</strong></p> <p>2020-08-12</p> <ul><li>Add <code>GET /spot/fee</code> to retrieve spot order trading fee rates</li></ul> <p><strong>v4.15.1</strong></p> <p>2020-08-04</p> <ul><li>Add <code>GET /spot/open_orders</code> to retrieve all open orders in spot trading</li> <li>Add <code>GET /margin/account_book</code> to retrieve margin account balance history</li></ul> <p><strong>v4.14.1</strong></p> <p>2020-07-08</p> <ul><li>maximum length of <code>text</code> field in order extends to 28(prefix excluded)</li></ul> <p><strong>v4.14.0</strong></p> <p>2020-07-06</p> <ul><li>New Delivery contract APIs <code>/delivery</code></li></ul> <p><strong>v4.13.1</strong></p> <p>2020-06-28</p> <ul><li>Add <code>GET /wallet/sub_account_transfers</code> to list sub account transfer records</li></ul> <p><strong>v4.13.0</strong></p> <p>2020-05-20</p> <ul><li>APIv4 now supports withdraw API. Refer to <code>POST /withdrawals</code> and &quot;Authentication&quot;
section for details.</li> <li><code>POST /wallet/transfers</code> supports transferring between spot and futures account</li> <li>Wallet API supports retrieving deposits and withdrawals history</li> <li>Futures orders and personal trades retrieving now supports <code>offset</code> field</li> <li>Futures <code>Contract</code> model add new field <code>in_delisting</code></li></ul> <p><strong>v4.12.0</strong></p> <p>2020-04-08</p> <ul><li>APIv4 Key management improved. Keys are no longer separated with different trading types.
Every key can now have multiple operation permissions. Refer to <em>&quot;About APIv4 key improvement&quot;</em>
for details.</li> <li>Add <code>POST /wallet/sub_account_transfers</code> to support transferring between main and sub account</li> <li><code>GET /spot/candlesticks</code> adds query parameters <code>from</code> and <code>to</code> to support retrieving history data
points</li></ul> <p><strong>v4.11.2</strong></p> <p>2020-03-29</p> <ul><li>Add <code>filled_total</code> in <code>Order</code> to replace <code>fill_price</code> (the latter is badly named)</li> <li>Add new error label <code>POC_FILL_IMMEDIATELY</code></li></ul> <p><strong>v4.11.1</strong></p> <p>2020-03-23</p> <ul><li>Add <code>role</code> in <code>GET /spot/my_trades</code> response</li> <li>Fix missing currency account in <code>GET /margin/funding_accounts</code></li></ul> <p><strong>v4.11.0</strong></p> <p>2020-03-20</p> <ul><li>Spot order supports GT fee discount</li> <li>Spot order time in force supports <code>poc</code></li></ul> <p><strong>v4.10.1</strong></p> <p>2020-02-24</p> <ul><li>Add <code>trade_status</code> in spot currency pair</li></ul> <p><strong>v4.10.0</strong></p> <p>2020-02-17</p> <ul><li>Margin order creation adds new field <code>auto_borrow</code>(write only) to borrow
the insufficient part by the system if balance is not enough</li> <li>Add new API <code>POST /spot/cancel_batch_orders</code> to support batch cancellation
with specified order IDs</li> <li>Add new document section &quot;Error handling&quot; and &quot;Which one to choose, APIv4 or APIv2?&quot;</li></ul> <p><strong>v4.9.1</strong></p> <p>2020-01-07</p> <ul><li>Add fee and recent modification time in <code>Order</code> and <code>BatchOrder</code></li> <li>Add fee in <code>GET /spot/my_trades</code> response</li></ul> <p><strong>v4.9.0</strong></p> <p>2019-12-17</p> <ul><li><code>last_id</code> in <code>GET /futures/{settle}/trades</code> is deprecated. Use <code>from</code> and <code>to</code> to retrieve trading
history</li></ul> <p><strong>v4.8.2</strong></p> <p>2019-12-02</p> <ul><li>Add <code>/spot/batch_orders</code> to support creating a bundle of spot or margin orders</li> <li>Fee rate of margin loan repayment enjoys VIP discount</li> <li><code>Loan</code> add new fields <code>fee_rate</code>(fee rate of lending loan)
and <code>orig_id</code>(original loan ID if loan is auto renewed)</li></ul> <p><strong>v4.8.1</strong></p> <p>2019-11-27</p> <ul><li>Fix missing <code>settle</code> in <code>GET /futures/{settle}/positions</code> docs and code snippet</li></ul> <p><strong>v4.8.0</strong></p> <p>2019-11-07</p> <ul><li>Futures API now supports settling in USDT.</li> <li>Change <code>/futures</code> to <code>/futures/{settle}</code> in ALL futures API to support
futures operations in different settle currency.</li> <li><code>currency</code> field in <code>/futures/{settle}/accounts</code> response adds new value: <code>USDT</code></li> <li>Add <code>volume_24h_base</code>, <code>volume_24h_quote</code> and <code>volume_24h_settle</code> in <code>/futures/{setttle}/tickers</code>
response to replace <code>volume_24h_btc</code> and <code>volume_24h_usd</code>. The latter two are still
preserved for compatibility usage, but are NOT recommended for any futures operations.</li></ul> <p>To use USDT futures, just replace <code>/futures</code> with <code>/futures/usdt</code>, e.g.
use <code>GET /futures/usdt/accounts</code> to retrieve futures accounts settled in USDT,
while <code>GET /futures/btc/accounts</code> returns accounts in BTC.</p> <p>For compatibility, <code>GET /futures/xxx</code> defaults to <code>GET /futures/btc/xxx</code>, e.g.
<code>GET /futures/accounts</code> will be treated as <code>GET /futures/btc/accounts</code></p> <p><strong>v4.7.3</strong></p> <p>2019-07-18</p> <ul><li>Add <code>text</code> in <code>/spot/orders</code> and <code>/futures/orders</code> to support user defined order information</li></ul> <p><strong>v4.6.3</strong></p> <p>2019-06-11</p> <ul><li>Add point information in Futures account and position</li></ul> <p><strong>v4.7.2</strong></p> <p>2019-05-29</p> <ul><li>Change <code>rate</code> in <code>Loan</code> as non-required for lending side.</li></ul> <p><strong>v4.7.1</strong></p> <p>2019-04-17</p> <ul><li>Add wallet v4 API. Support transfers between spot and margin account for now.</li> <li><code>GET /margin/loans</code> can sort by <code>rate</code> and support an optional parameter <code>currency_pair</code></li> <li>Fix miscellaneous document issues</li></ul> <p><strong>v4.6.2</strong></p> <p>2019-04-24</p> <ul><li>Fix price-triggered futures order's docs incorrect override docs for
<code>GET /futures/orders/{order_id}</code> and <code>DELETE /futures/orders/{order_id}</code></li></ul> <p><strong>v4.6.1</strong></p> <p>2019-04-02</p> <ul><li>Add <code>high_24h</code>, <code>low_24h</code> and <code>funding_rate_indicative</code> in futures ticker</li></ul> <p><strong>v4.6.0</strong></p> <p>2019-03-21</p> <p><em>SDK related only</em></p> <ul><li>Rename futures order related function name in SDKs to avoid duplication
with spot order API in Go</li> <li>Fix query parameter not decoded while generating authentication signature</li></ul> <p><strong>v4.5.2</strong></p> <p>2019-03-14</p> <ul><li><code>currency_pair</code> in <code>/spot/order_book</code> should be a required parameter</li> <li>Optimize document code samples</li></ul> <p><strong>v4.5.1</strong></p> <p>2019-03-11</p> <ul><li>Fix missing URL parameter description</li></ul> <p><strong>v4.5.0</strong></p> <p>2019-03-05</p> <p>To avoid version confusion, all versions in APIv4 (documents and SDKs are both included) will start
with <code>4</code> from now on</p> <ul><li>Add Spot v4 API to provide improved API capability</li> <li>Add Margin v4 API to provide support for margin loans and trading</li> <li>Add Futures price triggered auto order API support. Refer to <code>/futures/price_orders</code> for details</li> <li>Base URL of all Gate API v4 real trading changed to <code>https://api.gateio.ws/api/v4</code></li></ul> <p><strong>v1.3.0</strong></p> <p>2019-02-13</p> <p><em>Important update</em></p> <ul><li>Domain of base URLs are changed to <code>fx-api.gateio.ws</code> and <code>fx-api-testnet.gateio.ws</code>
respectively, <code>*.gateio.io</code> is deprecated and will soon be out of service.</li></ul> <p><strong>v1.2.1</strong></p> <p>2019-02-13</p> <ul><li>Add <code>volumn_24h_usd</code> and <code>volume_24h_btc</code> in <code>GET /futures/tickers</code> response</li></ul> <p><strong>v1.2.0</strong></p> <p>2019-01-17</p> <ul><li>Add <code>GET /futures/contracts/{contract}</code> to get one single contract</li> <li>Add <code>GET /futures/positions/{contract}</code> to get one single position</li> <li>Add <code>GET /futures/account_book</code> to retrieve user account balance history</li> <li>Add <code>config_change_time</code> in <code>Contract</code> model</li> <li>fix miscellaneous document issues</li></ul> <p><strong>v1.1.0</strong></p> <p>2019-01-08</p> <ul><li>Add more fields to <code>Contract</code>, <code>Position</code>, <code>FuturesOrder</code></li> <li>Add API <code>GET /futures/position_close</code> to retrieve position close history</li> <li>Add optional <code>order_id</code> support for API <code>GET /futures/my_trades</code></li> <li>Change the status code of <code>DELETE /futures/orders</code> and <code>DELETE /futures/orders/{order_id}</code> from
204 to 200,
with cancelled order details returned on success.</li> <li>Request <code>DELETE /futures/orders/{order_id}</code> with invalid order ID or order
that has been finished will return 404 instead of ignoring the error</li> <li><code>POST /futures/orders</code> now supports POC, iceberg</li></ul> <p><strong>v1.0.0</strong></p> <p>2018-12-30</p> <ul><li>Initial release</li></ul></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="general"><a href="#general" class="header-anchor">#</a> General</h1> <h2 id="matching-mechanism"><a href="#matching-mechanism" class="header-anchor">#</a> Matching mechanism</h2> <h3 id="matching-priority"><a href="#matching-priority" class="header-anchor">#</a> Matching priority</h3> <p>Gate.io Order matching follows Price Priority &gt; Time priority principle.</p> <p>Suppose that the order book is as follows：</p> <table><thead><tr><th>Order</th> <th>Order time</th> <th>Ask/Selling price</th></tr></thead> <tbody><tr><td>A</td> <td>10:00</td> <td>100</td></tr> <tr><td>B</td> <td>10:00</td> <td>102</td></tr> <tr><td>C</td> <td>10:01</td> <td>100</td></tr></tbody></table> <p>If the current price of 10:02 pays 102, the final transaction order is: A, C, B</p> <h3 id="order-life-cycle"><a href="#order-life-cycle" class="header-anchor">#</a> Order life cycle</h3> <p>A valid order sent to the matching engine is immediately confirmed and executed with existing
orders, with the executing result sent back to the client.</p> <p>If an order is fully executed, then it is closed. If any part of the order is not executed
immediately, orders with TimeInForce set to <code>IOC</code> will be cancelled, while others will be appended
to the price list, waiting for subsequent filling or being cancelled.</p> <h2 id="data-center"><a href="#data-center" class="header-anchor">#</a> Data Center</h2> <p>Gate.io data center is located in AWS Japan's ap-northeast-1 region.</p> <h2 id="api-overview"><a href="#api-overview" class="header-anchor">#</a> API Overview</h2> <table><thead><tr><th>API Classification</th> <th>Category Links</th> <th>Overview</th></tr></thead> <tbody><tr><td>host + <code>/api/v4/spot/*</code></td> <td>Spot Trading</td> <td>Including currency status, market information, order, transaction records and other functions</td></tr> <tr><td>host + <code>/api/v4/margin/*</code></td> <td>Margin Trading</td> <td>Margin account management, lending, repayment, etc</td></tr> <tr><td>host + <code>/api/v4/wallet/*</code></td> <td>Wallet Management</td> <td>Charge and withdrawal records, balance inquiries, fund transfers, etc.</td></tr> <tr><td>host + <code>/api/v4/withdrawals/*</code></td> <td>Withdrawal</td> <td>Withdrawal of digital currency</td></tr></tbody></table> <h2 id="margin-migration-instructions"><a href="#margin-migration-instructions" class="header-anchor">#</a> Margin Migration Instructions</h2> <p>Between 14:00 (UTC+8) on April 13, 2023 and 14:00 (UTC+8) on April 23, 2023, the platform will gradually migrate the assets that have not been borrowed in the lending market to the <code>Lend &amp; Earn</code> through an automated system process. At the same time, assets that have already been borrowed will be cancelled for automatic lending. After the migration is complete, you can check your investment details in the <code>Lend &amp; Earn</code>. During this period, borrowing funds through the lending market will be temporarily suspended. You can also manually transfer your assets from the lending market to the <code>Lend &amp; Earn</code> to obtain investment returns in advance.</p> <p>After the automatic migration, the old version of the borrowing and lending endpoint will be deprecated, and the new version of the endpoint can be found in the /margin/uni endpoint group. For detailed endpoint migration, please refer to the following table:&quot;</p> <p>Margin account related endpoints：</p> <table><thead><tr><th>Name</th> <th>Path</th> <th>Deprecated</th> <th>New Path</th></tr></thead> <tbody><tr><td>Margin account list</td> <td>GET /margin/accounts</td> <td>No</td> <td><code>-</code></td></tr> <tr><td>List margin account balance change history</td> <td>GET /margin/account_book</td> <td>No</td> <td><code>-</code></td></tr> <tr><td>Funding account list</td> <td>GET /margin/funding_accounts</td> <td>No</td> <td><code>-</code></td></tr> <tr><td>Update user's auto repayment setting</td> <td>POST /margin/auto_repay</td> <td>No</td> <td><code>-</code></td></tr> <tr><td>Querying user's automatic repayment settings</td> <td>GET /margin/auto_repay</td> <td>No</td> <td><code>-</code></td></tr> <tr><td>Get the max transferable amount for a specific margin currency</td> <td>GET /margin/transferable</td> <td>No</td> <td><code>-</code></td></tr></tbody></table> <p>The margin lending and borrowing related APIs have been migrated to the <code>/margin/uni</code> API group：</p> <table><thead><tr><th>Name</th> <th>Old Path</th> <th>Deprecated</th> <th>New Path</th></tr></thead> <tbody><tr><td>List all supported currency pairs supported in margin trading</td> <td>GET /margin/currency_pairs</td> <td>Yes</td> <td>GET /margin/uni/currency_pairs</td></tr> <tr><td>Query one single margin currency pair</td> <td>GET /margin/currency_pairs/{currency_pair}</td> <td>Yes</td> <td>GET /margin/uni/currency_pairs/{currency_pair}</td></tr> <tr><td>Lend or borrow</td> <td>POST /margin/loans</td> <td>Yes</td> <td>POST /margin/uni/loans</td></tr> <tr><td>Retrieve one single loan detail</td> <td>GET /margin/loans/{loan_id}</td> <td>Yes</td> <td><code>-</code></td></tr> <tr><td>List all loans</td> <td>GET /margin/loans</td> <td>Yes</td> <td>GET /margin/uni/loans</td></tr> <tr><td>Repay a loan</td> <td>POST /margin/loans/{loan_id}/repayment</td> <td>Yes</td> <td>POST /margin/uni/loans</td></tr> <tr><td>List loan repayment records</td> <td>GET /margin/loans/{loan_id}/repayment</td> <td>Yes</td> <td>GET /margin/uni/loan_records</td></tr> <tr><td>Get the max borrowable amount for a specific margin currency</td> <td>GET /margin/borrowable</td> <td>Yes</td> <td>GET /margin/uni/borrowable</td></tr> <tr><td>List interest records</td> <td><code>-</code></td> <td><code>-</code></td> <td>GET /margin/uni/interest_records</td></tr></tbody></table> <p>The earn related APIs have been migrated to the <code>/earn/uni</code> API group):</p> <table><thead><tr><th>Name</th> <th>Old Path</th> <th>Deprecated</th> <th>New Path</th></tr></thead> <tbody><tr><td>List all supported currency pairs supported in margin trading</td> <td>GET /margin/currency_pairs</td> <td>Yes</td> <td>GET /earn/uni/currencies</td></tr> <tr><td>Query one single margin currency pair</td> <td>GET /margin/currency_pairs/{currency_pair}</td> <td>Yes</td> <td>GET /earn/uni/currencies/{currency}</td></tr> <tr><td>Lend or borrow</td> <td>POST /margin/loans</td> <td>Yes</td> <td>POST /earn/uni/lends</td></tr> <tr><td>List all loans</td> <td>GET /margin/loans</td> <td>Yes</td> <td>GET /earn/uni/lends</td></tr> <tr><td>Order book of lending loans</td> <td>GET /margin/funding_book</td> <td>Yes</td> <td>-</td></tr> <tr><td>Merge multiple lending loans</td> <td>POST /margin/merged_loans</td> <td>Yes</td> <td>-</td></tr> <tr><td>Modify a loan</td> <td>PATCH /margin/loans/{loan_id}</td> <td>Yes</td> <td>PATCH /earn/uni/lends</td></tr> <tr><td>Cancel lending loan</td> <td>DELETE /margin/loans/{loan_id}</td> <td>Yes</td> <td>POST /earn/uni/lends</td></tr> <tr><td>List repayment records of a specific loan</td> <td>GET /margin/loan_records</td> <td>Yes</td> <td>GET /earn/uni/lend_records</td></tr> <tr><td>Get one single loan record</td> <td>GET /margin/loan_records/{loan_record_id}</td> <td>Yes</td> <td><code>-</code></td></tr> <tr><td>Modify a loan record</td> <td>PATCH /margin/loan_records/{loan_record_id}</td> <td>Yes</td> <td><code>-</code></td></tr> <tr><td>List interest records</td> <td><code>-</code></td> <td><code>-</code></td> <td>GET /earn/uni/interest_records</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="api"><a href="#api" class="header-anchor">#</a> API</h1> <h2 id="http-convention"><a href="#http-convention" class="header-anchor">#</a> HTTP convention</h2> <ul><li>All read endpoints use <code>GET</code> method. They accept only request parameters. No request body will be
read.</li> <li><code>DELETE</code> methods remove resources(like orders), but not all removing operation using <code>DELETE</code>,
as <code>DELETE</code>s don't read request body either. For complex removing operations, <code>POST</code> method is
used with parameters filled in request body.</li> <li>Updating is done using <code>POST</code>, <code>PUT</code> or <code>PATCH</code> method. Their parameters are either in body or
request parameters for different endpoints. Refer to endpoint detail for how to send the request.</li> <li>All endpoints return HTTP status code <code>2xx</code> on success. <code>401</code> is returned on authentication
failure. Other <code>4xx</code> codes mean the request is malformed. <code>5xx</code> means the server encounter some
critical error on processing the request. Commit issues if <code>5xx</code> is met.</li></ul> <h2 id="time"><a href="#time" class="header-anchor">#</a> Time</h2> <p>All time related fields are unix timestamp in <strong>seconds</strong> if no extra note, but they may differ
in formats(int64, number or string). Possible values like the following may be returned:</p> <ul><li>1596531048</li> <li>&quot;1596531048&quot;</li> <li>1596531048.285</li> <li>&quot;1596531048.285&quot;</li></ul> <p>The best way to handle time fields is parsing them as a number with decimal places.
If higher precision is not needed, you can safely cast them to integer(or long). Our SDKs listed
above has already taken proper deserialization to handle them</p> <h2 id="api-gateway-in-out-time"><a href="#api-gateway-in-out-time" class="header-anchor">#</a> API Gateway in/out time</h2> <p>In every API request, the response header will always include the following fields:</p> <ul><li><p><code>X-In-Time</code>:  The timestamp when the API gateway receives a request, in Unix timestamp format, measured in microseconds.</p></li> <li><p><code>X-Out-Time</code>: The timestamp when the API gateway returns a response, in Unix timestamp format, measured in microseconds.</p></li></ul> <p>For example:</p> <div class="language- extra-class"><pre class="language-text"><code>X-In-Time: 1695715091540163
X-Out-Time: 1695715091551905
</code></pre></div><h2 id="pagination"><a href="#pagination" class="header-anchor">#</a> Pagination</h2> <p>Pagination is achieved using one of the following method</p> <ul><li><code>page-limit</code></li> <li><code>limit-offset</code></li></ul> <p>In both method, <code>limit</code> limits the maximum number of records returned in one request. If no
additional explanation, it defaults to <code>100</code> if not provided and its maximum value is limited
to <code>1000</code>.</p> <p><code>page</code> starts from <code>1</code>, mimicking common paging used in web pages. To iterate the whole list, use
the same <code>limit</code> and increment <code>page</code> by <code>1</code> until the records' length is shorter than the
<code>limit</code></p> <p><code>offset</code> starts from <code>0</code>, behaving like common DB search. To iterate the whole list, increment
<code>offset</code> by <code>limit</code> until the records' length is shorter than the <code>limit</code>.</p> <p>For example, if the total number of orders is 201. Using page-limit method, send request parameters
like the following:</p> <ol><li><code>page=1&amp;limit=100</code></li> <li><code>page=2&amp;limit=100</code></li> <li><code>page=3&amp;limit=100</code></li></ol> <p>Using limit-offset method, send request parameters like:</p> <ol><li><code>limit=100&amp;offset=0</code></li> <li><code>limit=100&amp;offset=100</code></li> <li><code>limit=100&amp;offset=200</code></li></ol> <p>Some endpoints may return additional pagination metadata. If present, they are sent back through the
response header. Take <code>GET /futures/{settle}/orders</code> as an example, following headers will be
returned</p> <ul><li><code>X-Pagination-Limit</code>: request limit</li> <li><code>X-Pagination-Offset</code>: request offset</li> <li><code>X-Pagination-Total</code>: total record number satisfying the request</li></ul> <h2 id="frequency-limit-rule"><a href="#frequency-limit-rule" class="header-anchor">#</a> Frequency limit rule</h2> <table><thead><tr><th>Markets</th> <th>Endpoints</th> <th>Limits</th> <th>Based On</th> <th>Include</th></tr></thead> <tbody><tr><td>All public endpoints</td> <td>Public endpoints</td> <td>200r/10s per endpoint </td> <td>IP</td> <td>Orderbook, Candlestick, Ticker, etc.</td></tr> <tr><td>Wallet</td> <td>Private endpoints</td> <td>
                Withdrawal(POST /withdrawals) : 1r/3s<br>
                Transfer between trading accounts (POST /wallet/transfers) 80r/10s<br>
                Transfer between main and sub accounts (POST /wallet/sub_account_transfers) 80r/10s<br>
                Transfer from a sub-account to another sub-account (POST /wallet/sub_account_to_sub_account) 80r/10s<br>
                Retrieve user's total balances (GET /wallet/total_balance) 80r/10s<br>
                Retrieve sub account balances (GET /wallet/sub_account_balances) 80r/10s<br>
                Query sub accounts' margin balances (GET /wallet/sub_account_margin_balances) 80r/10s<br>
                Query sub accounts' futures account balances (GET /wallet/sub_account_futures_balances) 80r/10s<br>
                Query subaccount's cross_margin account info(GET /wallet/sub_account_cross_margin_balances) 80r/10s<br>
                The Others: 200r/10s per endpoint<br></td> <td>UID</td> <td>
              Withdrawal.<br>
              Query personal account balance.<br>
              Query subaccount balance.<br></td></tr> <tr><td>Spot</td> <td>Private endpoints</td> <td>
              The rate limit for batch/single order placement and amend an order are total of 10r/s (UID+Market)<br>
              The rate limit for batch/single order cancellation is total of 200r/s<br>
              The Others: 200r/10s per endpoint<br></td> <td>UID</td> <td>
              Spot order placement and cancellation.<br>
              Trade history and fee rates.<br></td></tr> <tr><td>Perpetual Futures</td> <td>Private endpoints</td> <td>
              The rate limit for batch/single order placement and amend an order are total of  100r/s<br> 
              The maximum rate limit for the order cancellation (bulk/single) is 200r/s<br> 
              The Others: 200r/10s per endpoint<br></td> <td>UID</td> <td>
                Futures order placement and cancellation<br>
                Trade history and fee rates<br></td></tr> <tr><td>Delivery</td> <td>Private endpoints</td> <td>
              The maximum rate limit for the order placement (bulk/single) is 500r/10s<br> 
              The maximum rate limit for the order cancellation (bulk/single) is 500r/10s<br> 
              The Others: 200r/10s per endpoint<br></td> <td>UID</td> <td>
                Order placement and cancellation<br></td></tr> <tr><td>Options</td> <td>Private endpoints</td> <td>
              The maximum rate limit for the order placement (bulk/single) is 200r/s<br> 
              The maximum rate limit for the order cancellation (bulk/single) is 200r/s<br> 
              The Others: 200r/10s per endpoint<br></td> <td>UID</td> <td>
                Order placement and cancellation<br></td></tr> <tr><td>Subaccount</td> <td>Private endpoints</td> <td>
              80r/10s per endpoint
            </td> <td>UID</td> <td>
              Create a sub-account.<br>
              Retrieve the list of sub-accounts.<br>
              Disable or enable API key for a sub-account.<br></td></tr> <tr><td>Unified</td> <td>Private endpoints</td> <td>
              Borrow or repay 15/10s
            </td> <td>UID</td> <td>
              Borrow or repay(POST /unified/loans)<br></td></tr> <tr><td>Other Private endpoints</td> <td>Private endpoints</td> <td>
              150r/10s per endpoint
            </td> <td>UID</td> <td>
              Earning, collateral etc
            </td></tr></tbody></table> <blockquote><p>The rate limit is counted against each sub-account or main account.</p></blockquote> <p><strong>Rate Limit</strong></p> <p>Each request to the API response header will contain the following fields:：</p> <ul><li>X-Gate-RateLimit-Requests-Remain  -  your remaining requests for current endpoint</li> <li>X-Gate-RateLimit-Limit - your current limit for current endpoint</li> <li>X-Gate-RateLimit-Reset-Timestamp -  the timestamp indicating when your request limit resets if you have exceeded your rate_limit. Otherwise, this is just the current timestamp (it may not exactly match timeNow).</li></ul> <p>WebSocket:</p> <ul><li>Spot: Bulk order/single order/single order modification, a total of 10 requests per second (10r/s).</li> <li>Futures: Bulk order/single order/single order modification/single order cancellation/bulk cancellation, a total of 100 requests per second (100r/s).</li> <li>Others: No limit.</li></ul> <h2 id="rate-limit-based-on-fill-ratio"><a href="#rate-limit-based-on-fill-ratio" class="header-anchor">#</a> Rate Limit Based On Fill Ratio</h2> <p>In order to enhance trading efficiency, we have decided to implement more favorable sub-account rate limits for clients with a higher fill ratio. This assessment will be based on trading data from the past seven days and will be calculated daily at 00:00 UTC. Please note that this rule applies only to clients at <strong>VIP level 14 and above</strong>.</p> <h3 id="_1-introduction-of-terminology"><a href="#_1-introduction-of-terminology" class="header-anchor">#</a> 1. Introduction of Terminology</h3> <h4 id="_1-1-symbol-multiplier"><a href="#_1-1-symbol-multiplier" class="header-anchor">#</a> 1.1 Symbol Multiplier</h4> <p>To facilitate a more refined management of the impact of different trading products on the fill ratio, we have introduced the concept of the symbol multiplier. This multiplier allows us to adjust the influence of each product on the overall trading volume based on its characteristics. For products with a multiplier of less than 1, they typically involve smaller contract sizes and therefore require more trading orders to achieve the same trading volume. Generally, all trading products come with a default multiplier; however, certain products are assigned independent multipliers based on their specific characteristics. For detailed information regarding the multipliers of relevant products, please refer to the provided table.</p> <table><tr><th>Product Typee</th> <th>Based On</th> <th>Independnet Symbol Multiplier</th> <th>Default Symbol Multiplier</th></tr> <tr><td>USDT-Margined Perpetural Futures</td> <td>Contract Symbol</td> <td>
            1<br>
            Contract Symbol:<br>
            BTC-USDT<br>
            ETH-USDT
        </td> <td>0.4</td></tr> <tr><td>Spot</td> <td>Currency Pairst</td> <td>
            1<br>
            Currency Pairs:<br>
            BTC-USDT<br>
            ETH-USDT
        </td> <td>0.4</td></tr></table> <blockquote><p>Please note: The spot trading rate limits will not be launched this time.</p></blockquote> <h4 id="_1-2-definition-of-trading-volume-weight"><a href="#_1-2-definition-of-trading-volume-weight" class="header-anchor">#</a> 1.2 Definition of Trading Volume Weight</h4> <p>We will assess the behavior patterns of makers and takers based on market fluctuations and design the trading volume weight ratios accordingly. Additionally, we will regularly evaluate these weights and make synchronized adjustments when necessary.</p> <p><strong>Current weight of the maker trading volume: 100%, current weight of the taker trading volume: 90%.</strong></p> <h4 id="_1-3-calculation-formula"><a href="#_1-3-calculation-formula" class="header-anchor">#</a> 1.3 Calculation Formula</h4> <p>The system will take a snapshot of the data at 00:00 UTC daily and, based on this information, will select the higher value between the fill ratio of the sub-account and the overall fill ratio of the main account to determine the future trading rate limit for the sub-account. For exchange brokers, the system will only consider the fill ratio of their sub-accounts. It is important to note that the main account is also considered a &quot;sub-account.&quot;</p> <ol><li>Sub-account Fill Ratio: This ratio is calculated as follows: (Sub-account Taker's USDT trading volume × 0.9 + Maker's USDT trading volume × 1) / (The sum of (Number of new and modified requests for each contract × symbol multipliers) for each subaccount).</li> <li>Main-account Aggregated Fill Ratio: This ratio is calculated as follows: (main account's Taker USDT trading volume × 0.9 + Maker USDT trading volume × 1) / (The sum of (Number of new and modified requests for each contract × symbol multipliers) for all subaccounts).</li></ol> <h3 id="_2-future-rate-limit-rule"><a href="#_2-future-rate-limit-rule" class="header-anchor">#</a> 2. Future Rate Limit Rule</h3> <table><thead><tr><th colspan="3">Contract Frequency Limitation Rules</th></tr></thead> <tbody><tr><th>Tier</th> <th>Ratio</th> <th>Rate Limit (uid)</th></tr> <tr><td>Tier 1</td> <td>[0,1)</td> <td>100r/s</td></tr> <tr><td>Tier 2</td> <td>[1,3)</td> <td>150r/s</td></tr> <tr><td>Tier 3</td> <td>[3,5)</td> <td>200r/s</td></tr> <tr><td>Tier 4</td> <td>[5,10)</td> <td>250r/s</td></tr> <tr><td>Tier 5</td> <td>[10,20)</td> <td>300r/s</td></tr> <tr><td>Tier 6</td> <td>[20,50)</td> <td>350r/s</td></tr> <tr><td>Tier 7</td> <td>&gt;= 50</td> <td>400r/s</td></tr></tbody></table> <blockquote><blockquote><p>Please stay tuned for the rate limits for spot trading.</p></blockquote></blockquote> <h3 id="_3-detailed-rules-for-fill-ratio"><a href="#_3-detailed-rules-for-fill-ratio" class="header-anchor">#</a> 3. Detailed Rules for Fill Ratio</h3> <ol><li>Target Client Group: VIP ≥ 14</li> <li>Calculation Period: 7 days</li> <li>Update Time: Daily at 08:00 (UTC). The system will update the fill ratio data based on the data from 00:00 UTC.
<ol><li>If the fill ratio and the pre-set rate limit improve, the increase will take effect immediately at 08:00 (UTC).</li> <li>However, if the fill ratio declines, the rate limit will be reduced immediately.</li> <li>If a client's VIP level drops below VIP 14, their rate limit will be lowered to the minimum tier, taking effect immediately.</li> <li>If a client's VIP level rises above VIP 14, their rate limit will be adjusted immediately based on their current level.</li> <li>If a sub-account's trading volume over the past 7 days is below 1,000,000 USDT, the rate limit will be implemented based on the main-account aggregated fill ratio.</li> <li>For newly created sub-accounts, the minimum tier rate limit will be applied at the time of creation, and the aforementioned rate limit rules will begin to apply at T+1 08:00 (UTC).</li> <li>Both WebSocket and REST APIs are subject to these rules.</li></ol></li></ol> <h3 id="_4-example"><a href="#_4-example" class="header-anchor">#</a> 4. Example</h3> <p>Assuming the client has three accounts, with the symbol multipliers for trading perpetual contract products BTC-USDT and SOL-USDT being 1 and 0.4, respectively.</p> <ol><li>Account A (Main Account):
<ul><li>BTC-USDT perpetual futures Maker trading volume: 100 USDT, number of order requests: 10; Perpetual futures Taker trading volume: 200 USDT, number of order requests: 20.</li> <li>SOL-USDT perpetual futures Maker trading volume: 20 USDT, number of order requests: 15; Perpetual futures Taker trading volume: 20 USDT, number of order requests: 20.</li> <li>Sub-account Fill Ratio = ((100 + 20) * 1 + (200 + 20) * 0.9) / ((10 + 20) * 1 + (15 + 20) * 0.4) = 7.23</li></ul></li> <li>Account B (Sub-account):
<ul><li>BTC-USDT perpetual futures Maker trading volume: 200 USDT, number of order requests: 20; Perpetual futures Taker trading volume: 200 USDT, number of order requests: 30.</li> <li>SOL-USDT perpetual futures Maker trading volume: 20 USDT, number of order requests: 5; Perpetual futures Taker trading volume: 30 USDT, number of order requests: 5.</li> <li>Sub-account Fill Ratio = ((200 + 20) * 1 + (200 + 30) * 0.9) / ((20 + 30) * 1 + (5 + 5) * 0.4) = 7.91</li></ul></li> <li>Account C (Sub-account):
<ul><li>BTC-USDT perpetual futures Maker trading volume: 50 USDT, number of order requests: 5; Perpetual futures Taker trading volume: 60 USDT, number of order requests: 8.</li> <li>SOL-USDT perpetual futures Maker trading volume: 100 USDT, number of order requests: 20; Perpetual futures Taker trading volume: 120 USDT, number of order requests: 25.</li> <li>Sub-account Fill Ratio = ((50 + 100) * 1 + (60 + 120) * 0.9) / ((5 + 8) * 1 + (20 + 25) * 0.4) = 10.06</li></ul></li> <li>Main Account Aggregated Fill Ratio = ((100 + 20 + 200 + 20 + 50 + 100) * 1 + (200 + 20 + 200 + 30 + 60 + 120) * 0.9) / ((10 + 20 + 20 + 30 + 5 + 8) * 1 + (15 + 20 + 5 + 5 + 20 + 25) * 0.4) = 8.19</li> <li>Account Rate Limits:
<ul><li>Account A = max(7.23, 8.19) = 8.19 -&gt; 250 r/s</li> <li>Account B = max(7.91, 8.19) = 8.19 -&gt; 250 r/s</li> <li>Account C = max(10.06, 8.19) = 10.06 -&gt; 300 r/s</li></ul></li></ol> <h3 id="_5-remarks"><a href="#_5-remarks" class="header-anchor">#</a> 5. Remarks</h3> <ol><li>The release date for the rate limit of perpetual contracts based on fill ratio will be announced later. Please stay tuned.</li> <li>The existing abuse rate limit rules for perpetual contracts will still apply, namely:
<ol><li>Fill Ratio = USDT Training Amount / (Total Number of Order, Cancellation, and Modification Requests)</li> <li>If the number of requests exceeds 86,400 within 24 hours, with no order fill in the same period. Then the order placement rate limit will be restricted to 10r/10s for the next hour.</li> <li>If the number of requests exceeds 86,400 within 24 hours, with the fill ratio below 1%. Then the order placement rate limit will be restricted to 20r/10s for the next hour.</li></ol></li> <li>Please stay tuned for the fill ratio rate limit for spot trading.</li></ol> <h2 id="return-format"><a href="#return-format" class="header-anchor">#</a> Return Format</h2> <p>All API responses are in JSON format, and users need to transform and extract data by themselves.</p> <p>The HTTP status code 2XX will be returned when all operations are successful. 401 indicates that
there is a problem with the certification. Other 4xx status codes indicate that the request is
invalid. If it is a 5xx error, the server has encountered an unknown serious error when processing
the request. Please give feedback as soon as possible。</p> <p><strong>Return Status</strong></p> <table><thead><tr><th>Status Code</th> <th>Description</th></tr></thead> <tbody><tr><td>200/201</td> <td>Request succeeded</td></tr> <tr><td>202</td> <td>Request accepted by the server, but processing is not done yet</td></tr> <tr><td>204</td> <td>Request succeeded, but the server doesn't return body</td></tr> <tr><td>400</td> <td>Invalid request</td></tr> <tr><td>401</td> <td>Authentication failed</td></tr> <tr><td>404</td> <td>Not found</td></tr> <tr><td>429</td> <td>Too many requests</td></tr> <tr><td>5xx</td> <td>Server error</td></tr></tbody></table> <h2 id="data-type"><a href="#data-type" class="header-anchor">#</a> Data Type</h2> <table><thead><tr><th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><code>string</code></td> <td>String type, in double quotation marks. Price and amount are also formatted in string format</td></tr> <tr><td><code>integer</code></td> <td>32-bit integer，Mainly related to status codes, size, times, etc.</td></tr> <tr><td><code>integer(int64)</code></td> <td>64-bit integer，Mainly involves ID and higher precision timestamp</td></tr> <tr><td><code>float</code></td> <td>Floating point number. Some time and stat fields use float.</td></tr> <tr><td><code>object</code></td> <td>Object，Contains a child object{}</td></tr> <tr><td><code>array</code></td> <td>List，Includes multiple groups of content</td></tr> <tr><td><code>boolean</code></td> <td>true is true，false is false</td></tr></tbody></table> <h2 id="portfolio-margin-account"><a href="#portfolio-margin-account" class="header-anchor">#</a> Portfolio Margin Account</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>The Portfolio Margin Account is no longer maintained, please refer to the new version of the <a href="#unified-account">Unified Account</a></p></div> <p>Since version <code>4.25.0</code>, we start supporting portfolio margin account. Gate.io's Portfolio Margin
Account is a new feature of Gate.io's trading system. Its main function is to break the capital
isolation between cross-margin leverage account and USD cross-margin perpetual contract account
inside a Classic Account and achieve the multi-currency margin sharing among multi-product lines.
Thanks to the margin sharing, users don't need to transfer funds between the two accounts, and the
profit and loss of positions among different trading products can offset each other and effectively
improve the capital utilization rate. See more details in the
<a href="/help/trade/leveraged/26421/introductions-to-gate.io-s-portfolio-margin-account" target="_blank">
Help Center</a></p> <p>Before using the portfolio margin account's API key, you should create the API key on the API
management page.
The API key supports spot and perpetual contracts trading only.</p> <blockquote><p>If permissions of the API key can't be checked, ensure your cross-margin account has available
balance first.</p></blockquote> <h3 id="transfer"><a href="#transfer" class="header-anchor">#</a> Transfer</h3> <p>The classic account and portfolio margin account are two different capital isolation accounts. If
you want to achieve multi-currency margin sharing among multi-product lines, use
the portfolio margin account please.</p> <p>The funds of the portfolio margin account come from the classic account. Due to the change of funds
in the classic account, the transfer of funds can only be performed using the API Key of the classic
account.</p> <p>The portfolio margin account is upgraded based on the cross-margin account of the original classic
account, so the classic account only needs to transfer its spot funds to the cross-margin account to
deposit the portfolio margin account. Similarly, withdrawals from portfolio margin account can be
achieved by the classic account performing transferals from the cross margin to its spot account.</p> <p>The API Key of the portfolio margin account can only perform transferals among its own multiple
accounts.
Due to the sharing of margin, the portfolio margin account does not need to transfer funds
to its futures account (we also restrict doing so).
If the futures account has PNL funds that need to be withdrawn, it must be transferred by the
portfolio margin account's API key to its cross-margin account first, so that the classic
account can perform withdrawals from portfolio margin account.</p> <h3 id="spot-trading"><a href="#spot-trading" class="header-anchor">#</a> Spot trading</h3> <p>The spot trading of the portfolio margin account is almost the same as the classic account, except
that <code>cross_margin</code> must be specified in the <code>account</code> parameter when placing orders. For example,
if you want to place a buy order for the <code>BTC_USDT</code> currency pair, the order request will be similar
to</p> <div class="language- extra-class"><pre class="language-text"><code>POST /spot/orders

{
  &quot;currency_pair&quot;: &quot;BTC_USDT&quot;,
  &quot;account&quot;: &quot;cross_margin&quot;,
  &quot;side&quot;: &quot;buy&quot;,
  ...
}
</code></pre></div><p>For other related restrictions, please refer to the document of the API endpoint directly.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>It should be noted that the portfolio margin account is upgraded from the classic account's
cross-margin account. The API Key of the classic account originally supports the operation of the
cross-margin account. In order not to affect the existing operations of the classic account, we
still retain this function of the classic account. So whether it is the API Key of the classic
account or the portfolio margin account, both can operate the same the cross margin account (note
that the futures accounts are separate)</p></div> <h3 id="futures-trading"><a href="#futures-trading" class="header-anchor">#</a> Futures trading</h3> <p>The API operation of the perpetual contract of the portfolio margin account is exactly the same as
that of the classic account, but currently only supports USD settlement</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>In the futures trading, it should be noted that there is no compatibility for cross-margin accounts
like using the API Key of the classic account in spot trading. Therefore, when using the API Key of
the classic account for futures trading, assets are kept under <code>classic account-futures</code>, and when
using portfolio margin account API Key for futures trading, assets are kept
under <code>portfolio margin account-futures</code>. These two are different futures accounts. In addition,
funds under <code>classic account-spot</code> cannot share margin with <code>classic account-futures</code>.</p></div> <h2 id="trace-id"><a href="#trace-id" class="header-anchor">#</a> Trace ID</h2> <p>The API response will carry the header: X-Gate-Trace-ID . This header is used for tracking.</p> <h2 id="self-trade-prevention-stp"><a href="#self-trade-prevention-stp" class="header-anchor">#</a> Self-Trade Prevention (STP)</h2> <h3 id="concepts"><a href="#concepts" class="header-anchor">#</a> Concepts</h3> <p><strong>Self-Trade Prevention</strong>: STP will prevent any user's orders from being matched with each other.</p> <p><strong>CN</strong>: Cancel new, Cancel new orders and keep old ones.</p> <p><strong>CO</strong>: Cancel old, Cancel old orders and keep new ones.</p> <p><strong>CB</strong>: Cancel both, Both old and new orders will be cancelled.</p> <h3 id="stp-strategies"><a href="#stp-strategies" class="header-anchor">#</a> STP Strategies</h3> <p>We support three STP strategies, which are <code>CN</code> , <code>CO</code> and <code>CB</code>.</p> <p>STP is achieved by adding users to one STP trading group.
When a user in a STP group place orders, and trading could happen with existing orders of users in the same group, orders will be cancelled.
The prevention strategy depends on the <code>stp_act</code> parameter specified when placing the order as taker.
If not specified, the <code>CN</code> strategy will be used by default.</p> <p>A user has to be added to a STP trading group before using STP.
When a user does not belong to any STP trading group, and place orders with the <code>stp_act</code> parameter, the orders will be rejected.</p> <h3 id="api-parameter-adjustment"><a href="#api-parameter-adjustment" class="header-anchor">#</a> API Parameter Adjustment</h3> <p>Take placing futures order as an example:</p> <div class="language- extra-class"><pre class="language-text"><code>POST /futures/{settle}/orders
</code></pre></div><p>New request body parameter:</p> <table><thead><tr><th>Name</th> <th>Position</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>stp_act</td> <td>body</td> <td>string</td> <td>No</td> <td>STP Strategies, including: <br>- cn<br>- co<br>- cb</td></tr></tbody></table> <p>New response fields:</p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restriction</th> <th>Description</th></tr></thead> <tbody><tr><td>stp_act</td> <td>string</td> <td>No</td> <td>none</td> <td>STP Strategies, including：<br>- cn<br>- co<br>- cb</td></tr> <tr><td>stp_id</td> <td>integer(int64)</td> <td>No</td> <td>readonly</td> <td>The ID of the STP trading group to which user belongs.</td></tr> <tr><td>finish_as</td> <td>string</td> <td>No</td> <td>readonly</td> <td>order finish type: <br>- <strong>stp: The order has been canceled due to the <code>STP</code></strong></td></tr></tbody></table> <h3 id="user-case"><a href="#user-case" class="header-anchor">#</a> User case</h3> <p>There are multiple accounts under <code>Organization A</code>, and the IDs of several accounts are <code>101</code>, <code>102</code>, and <code>103</code></p> <p>In order to prevent self-trading of orders placed by internal accounts of the organization, the administrator created a STP trading group with group ID <code>100</code>,
and added accounts <code>101</code> and <code>102</code> to the STP trading group.
In this case, the members in the group are <code>[101,102]</code>.</p> <p>T1: The <code>STP</code> strategy version released.</p> <p>T2: After the <code>organization A</code> account <code>101</code> places a short order, there is no matching order in the market order book to match the transaction.
At this time, the role of the order is <code>maker</code>, and the order status is <code>open</code>.
The key response fields returned are:</p> <div class="language- extra-class"><pre class="language-text"><code>{
	&quot;status&quot;:&quot;open&quot;,
	&quot;stp_act&quot;:&quot;cn&quot;,
	&quot;stp_id&quot;:100
}
</code></pre></div><p>T3: <code>Organization A</code> account <code>101</code>/<code>102</code> places a long order, and it can reach a trade with account 101’s short order.
The match engine finds both two orders' stp_id are 100, so it applies the STP strategy of the taker order, which defaults to <code>cn</code> , and cancels the long order.
Order's <code>finish_as</code> will be set to <code>stp</code>.
The key response fields returned are:</p> <div class="language- extra-class"><pre class="language-text"><code>{
	&quot;status&quot;:&quot;finished&quot;,
	&quot;stp_act&quot;:&quot;cn&quot;,
	&quot;stp_id&quot;:100,
	&quot;finish_as&quot;:&quot;stp&quot;
}
</code></pre></div><ul><li><p>If <code>stp_act</code> is <code>co</code> , the order placed by <code>taker</code> will be retained, the order status will be <code>open</code>,
and the system will cancel the order of <code>maker</code>.</p></li> <li><p>If <code>stp_act</code> is <code>cb</code>, both the long and short orders will be cancelled. Orders' <code>finish_as</code> will be set to <code>stp</code>.
The key response fields returned are:</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
	&quot;status&quot;:&quot;finished&quot;,
	&quot;stp_act&quot;:&quot;cb&quot;,
	&quot;stp_id&quot;:100,
	&quot;finish_as&quot;:&quot;stp&quot;
}
</code></pre></div><p>T3': If account 103 places a long order, and it can reach a trade with account 101’s short order,
the transaction will be made since account 103 has not been added to account 101’s STP group.
The key response fields returned are:</p> <div class="language- extra-class"><pre class="language-text"><code>{
	&quot;status&quot;:&quot;finished&quot;,
	&quot;stp_id&quot;:0,
	&quot;finish_as&quot;:&quot;filled&quot;
}
</code></pre></div><h2 id="unified-account"><a href="#unified-account" class="header-anchor">#</a> Unified Account</h2> <h3 id="description"><a href="#description" class="header-anchor">#</a> Description</h3> <p>Once a user upgrades their account to the unified account, they can utilize the assets from their spot account as collateral for trading. The assets in the account, denominated in various currencies, will be adjusted based on their liquidity and converted to USD for consistent calculation of the account's assets and position value.</p> <p>The maximum borrowing limit for margin trading represents the maximum amount that a user can borrow for a given trading market. The platform calculates the user's maximum borrowing limit based on factors such as available margin and platform risk control rules. Once the margin trading generates automatic borrowing, the platform immediately starts accruing interest on the borrowed digital assets.</p> <p>Currently, the ability to switch to <code>cross_margin</code> or<code>usdt_futures</code> mode is available. In the future, we will gradually introduce support for various combination margin accounts, including <code>Futures</code>, <code>Delivery</code>, <code>Options</code> and more. Stay tuned for further updates.</p> <p>Please refer to the documentation for unified API. Once you have upgraded your account, you will be able to make use of these endpoints.</p> <p>Related endpoint can be found in the Unified Account API doc. After enabling the Unified Account, you can proceed to call them. For more detailed information, please refer to <a href="https://www.gate.io/unified-trading-account" target="_blank">here</a></p> <h3 id="api-integration-process"><a href="#api-integration-process" class="header-anchor">#</a> API Integration Process</h3> <ul><li>Create a new <code>API KEY</code> or update the permissions of an existing <code>API KEY</code>, checking the <code>unified</code> permission</li> <li>Use the classic account's <code>API KEY</code> to call the <code>POST /api/v4/unified/account_mode</code> endpoint, or upgrade from the WEB page to the Unified Account</li> <li>Use the <code>/api/v4/spot/**</code> API for spot-related operations (ordering, modifying orders, querying orders), with the <code>account=unified</code> option</li> <li>Use the <code>/api/v4/futures/**</code> API for perpetual futures-related operations (ordering, modifying orders, querying orders)</li> <li>Use the <code>/api/v4/unified/**</code> API for Unified Account-related operations (account querying, loan querying)</li></ul> <h3 id="spot-trading-2"><a href="#spot-trading-2" class="header-anchor">#</a> SPOT Trading</h3> <p>The spot trading in the Unified Account is consistent with that in the classical account. In order operations, specify <code>account=unified</code>, or specify <code>account=spot</code> and the system will automatically handle the order as a unified account order when detecting the account as a unified account. For example, to place a buy order for the <code>BTC_USDT</code> currency pair, the order creation request would be similar to</p> <div class="language- extra-class"><pre class="language-text"><code>POST /spot/orders

{
  &quot;currency_pair&quot;: &quot;BTC_USDT&quot;,
  &quot;account&quot;: &quot;unified&quot;,
  &quot;side&quot;: &quot;buy&quot;,
  ...
}
</code></pre></div><p>For other related restrictions, please refer to the document of the API endpoint directly.</p> <h3 id="formula"><a href="#formula" class="header-anchor">#</a> Formula</h3> <table><thead><tr><th>Name</th> <th>Cross Margin</th></tr></thead> <tbody><tr><td>portfolio_margin_total_equity</td> <td>Account Equity =  ∑(Equity * Index Price）</td></tr> <tr><td>total_margin_balance</td> <td>Account Margin Balance = ∑(Positive Equity x Index Price x Adjustment Factor) + ∑(Negative Equity x Index Price) - Haircut Loss</td></tr> <tr><td>total_initial_margin_rate</td> <td>Account Initial Margin Level = Account Margin Balance / Account Initial Margin</td></tr> <tr><td>total_maintenance_margin_rate</td> <td>Account Maintenance Margin Level = Account Margin Balance / Account Maintenance Margin</td></tr> <tr><td>total_initial_margin</td> <td>Account Initial Margin = Total Liabilities x Spot Initial Margin Rate</td></tr> <tr><td>total_maintenance_margin</td> <td>Account Maintenance Margin = Total Liabilities x Spot Maintenance Margin Rate</td></tr> <tr><td>equity</td> <td>Equity = Coin Balance - Borrowed</td></tr> <tr><td>available</td> <td>Available Balance = Principal + Borrowed</td></tr> <tr><td>freeze</td> <td>Occupied = Assets Occupied by Spot Open Orders</td></tr></tbody></table> <h2 id="accountbook-type"><a href="#accountbook-type" class="header-anchor">#</a> AccountBook type</h2> <h3 id="general-2"><a href="#general-2" class="header-anchor">#</a> General</h3> <ul><li>unknown: Unknown</li> <li>login: Log In</li> <li>withdraw: Withdrawals</li> <li>ch_pass: Change Password</li> <li>ch_fund_pass: Change Fund Pass</li> <li>login_failed: Login Failed</li> <li>axs_account: Access Account</li> <li>req_pass_ch: Request Password Change</li> <li>req_fund_pass_ch: Request Fund Pass Change</li> <li>fund_pass_ent: Fund Pass Entered</li> <li>bank_card_add: Bank Card Added</li> <li>frw: Face Recognition For Withdrawal</li></ul> <h3 id="order"><a href="#order" class="header-anchor">#</a> Order</h3> <ul><li>new_order: Order Placed</li> <li>cancel_order: Order Cancelled</li> <li>order_fill: Order Filled</li> <li>order_rej: Order Rejected</li> <li>order_fee: Trading Fees</li> <li>system_fee: Trading Fee System Account</li></ul> <h3 id="withdraw-deposit"><a href="#withdraw-deposit" class="header-anchor">#</a> Withdraw-Deposit</h3> <ul><li>withdraw: Withdrawals</li> <li>deposit: Deposits</li> <li>deposit_rej: Deposit Rejected</li> <li>withdraw_rej: Withdrawal Rejected</li> <li>cancel_withdraw: Cancel Withdrawal</li> <li>withdraw_gatecode: GateCode Withdrawals</li> <li>withdraw_fireblock: Fireblocks Withdrawals</li> <li>withdraw_copper: Copper Withdrawals</li> <li>startup_withdraw: Token Withdrawal From Startup</li> <li>deposit_gatecode: GateCode Deposits</li> <li>deposit_fireblock: Fireblocks Deposits</li> <li>deposit_copper: Copper Deposits</li> <li>buy_cl: Buy Crypto Legend</li> <li>buy_cc: Buy Crypto Cabital</li> <li>deposit_finmo: Gate connect Finmo Deposit</li></ul> <h3 id="startup"><a href="#startup" class="header-anchor">#</a> Startup</h3> <ul><li>startup_prtcp: Startup Sale Participation</li> <li>startup_refund: Startup Sale Refund</li> <li>startup_sale: Startup Sale</li> <li>startup_sale_rb: Startup Sale Rolled Back</li></ul> <h3 id="rebate"><a href="#rebate" class="header-anchor">#</a> Rebate</h3> <ul><li>referral_rebate: Referral Superior Rebate</li> <li>sec_rebate_out: Secondary Rebate Financial Account Transfer Out</li> <li>sec_rebate_in: Affiliate Indirect Superior Rebate Income</li> <li>ab_rebate: API Broker Rebate Income</li> <li>eb_rebate: Exchange Broker Rebate Income</li> <li>u_rebate: Referral Rebate Income</li> <li>ads_rebate: Affiliate Direct Superior Rebate Income</li> <li>au_rebate: Affiliate User Rebate Income</li> <li>pis_rebate: Partner Indirect Superior Rebate Income</li> <li>pds_rebate: Partner Direct Superior Rebate Income</li> <li>pu_rebate: Partner User  Rebate Income</li></ul> <h3 id="convert"><a href="#convert" class="header-anchor">#</a> Convert</h3> <ul><li>eth_swap: ETH Swap</li> <li>dust_swap_dctd: Dust Swap-Small Balances Deducted</li> <li>dust_swap_gt_add: Dust Swap-GT Added</li> <li>dust_swap_fee: Dust Swap-Fees Deducted</li> <li>cv_buy: Quick Buy-Bought</li> <li>cv_sell: Quick Sell-Sold</li></ul> <h3 id="c2c"><a href="#c2c" class="header-anchor">#</a> C2C</h3> <ul><li>c2c_mop: C2C Merchant Order Placed</li> <li>c2c_moc: C2C Merchant Order Canceled</li> <li>c2c_rop: C2C Retail Order Placed</li> <li>c2c_roc: C2C Retail Order Canceled</li> <li>c2c_om: C2C Order Matched</li> <li>c2c_or: C2C Order Rejected</li> <li>c2c_fee: C2C Fees</li></ul> <h3 id="reward"><a href="#reward" class="header-anchor">#</a> Reward</h3> <ul><li>deposit_bonus: Deposit Bonus</li> <li>trading_rewards: Trading Rewards</li> <li>purchase_bonus: Purchase Bonus</li> <li>airdrop: Airdrop</li> <li>award: Award</li> <li>mining_rewards: Mining Rewards</li></ul> <h3 id="account-transfer-in-out"><a href="#account-transfer-in-out" class="header-anchor">#</a> Account Transfer In-Out</h3> <ul><li>margin_in: Isolated Margin-Transferred In</li> <li>margin_out: Isolated Margin- Transferred Out</li> <li>spot_settle_out: Spot Settlement Transfer Out</li> <li>spot_settle_in: Spot Settlement Transfer Out</li> <li>lending_in: Lending-Transferred In</li> <li>lending_out: Lending-Transferred Out</li> <li>cross_in: PortfolioMarginAccountTransferIn</li> <li>cross_out: PortfolioMarginAccountTransferOut</li> <li>perp_in: Perps- Transferred In</li> <li>perp_out: Perps- Transferred Out</li> <li>perp_settle_in: Perpetual Multi-currency Settlement Transfer In</li> <li>perp_settle_out: Perpetual Multi-currency Settlement Transfer Out</li> <li>delivery_in: Delivery- Transferred In</li> <li>delivery_out: Delivery- Transferred Out</li> <li>ai_in: Auto-Invest-Transferred In</li> <li>ai_out: Auto-Invest-Transferred Out</li> <li>e_options_in: Easy Options- Transferred In</li> <li>e_options_out: Easy Options- Transferred Out</li> <li>options_in: Options- Transferred In</li> <li>options_out: Options- Transferred Out</li> <li>cbbc_in: CBBC- Transferred In</li> <li>cbbc_out: CBBC- Transferred Out</li> <li>warrant_in: Warrant- Transferred In</li> <li>warrant_out: Warrant- Transferred Out</li> <li>subaccount_trf: Subaccount Transfer</li> <li>quant_in: Quant- Transferred In</li> <li>quant_out: Quant- Transferred Out</li> <li>pay_in: Payment Account- Transferred In</li> <li>pay_out: Payment Account- Transferred Out</li> <li>fct_in: Futures Copy Trading - Funds Transfer In</li> <li>fct_out: Futures Copy Trading - Funds Transfer Out</li></ul> <h3 id="points"><a href="#points" class="header-anchor">#</a> Points</h3> <ul><li>points_purchase: Points Purchase</li> <li>points_expiration: Points With Expiration</li> <li>points_trf: Points Transfer</li> <li>points_trf_rej: Points Transfer Rejected</li></ul> <h3 id="finance"><a href="#finance" class="header-anchor">#</a> Finance</h3> <ul><li>lending_lent: Lending-Lent</li> <li>collected: Collected</li> <li>interest_in: Interest Income</li> <li>lending_fee: Lending-Fees Deducted</li> <li>hodl_int: HODL Interest</li> <li>redeem: Redeem</li> <li>lend: Lend</li> <li>dual_purchased: Dual C-Purchased</li> <li>dual_settled: Dual C-Settled</li> <li>liq_add: Liquidity Added</li> <li>liq_rm: Liquidity Removed</li> <li>liq_rebalanced: Liquidity Rebalanced</li> <li>slot_int_in: Slot Auction Staking Interest Income</li> <li>str_int_in: Structured Products Staking Interest Income</li></ul> <h3 id="loan"><a href="#loan" class="header-anchor">#</a> Loan</h3> <ul><li>borrow: Borrow</li> <li>repay: Repay</li> <li>margin_borrow: Isolated Margin-Transferred In</li> <li>margin_repay: Isolated Margin- Transferred Out</li> <li>margin_interest_out: Isolated Margin-Interest Deduction</li> <li>cl_borrow: Cryptoloan- Borrowed</li> <li>cl_repay: Cryptoloan- Repaid</li> <li>cl_dctd: Cryptoloan- Collateral Deducted</li> <li>cl_rtd: Cryptoloan- Collateral Returned</li> <li>cross_borrow: PortfolioMarginAccountBorrowIn</li> <li>cross_repay: PortfolioMarginAccountRepay</li> <li>interest_out: Interest</li></ul> <h3 id="moments"><a href="#moments" class="header-anchor">#</a> Moments</h3> <ul><li>donation: Donation</li> <li>rp_sent: Red Packet Sent</li> <li>rp_rcvd: Red Packet Received</li> <li>rp_rej: Red Packet Rejected</li> <li>ls_offered: Live Stream-Reward Offered</li> <li>ls_rcvd: Live Stream- Reward Received</li> <li>pt_offered: Posts- Reward Offered</li> <li>pt_rcvd: Posts- Reward Received</li> <li>subs_deduct: Subscription-Fees Deducted</li> <li>subs_in: Subscription-Fees Received</li> <li>subs_refund: Subscription- Refund</li> <li>subs_in_rcvd: Subscription- Refunds Received</li></ul> <h3 id="push-trading"><a href="#push-trading" class="header-anchor">#</a> PUSH Trading</h3> <ul><li>push_dctd: Push- Deduction</li> <li>push_rcvd_dctd: Push- Received-Deducted</li> <li>push_canceled: Push Canceled</li> <li>push_rej: Push Rejected</li> <li>push_sent: Push Sent</li> <li>push_rcvd: Push Received</li></ul> <h3 id="copy-trading"><a href="#copy-trading" class="header-anchor">#</a> Copy Trading</h3> <ul><li>quant_return: Quant- Transaction Returned</li> <li>quant_cmn_in: Quant-Commission Transferred In</li> <li>quant_cmn_out: Quant-Commission Transferred Out</li> <li>quant_cmn_rtd: Quant-Commission Returned</li> <li>fct_refund: Futures Copy Trading - Funds Auto Transfer Out</li> <li>fct_rcvd: Futures Lead Trading - Performance Fee Received</li> <li>fct_fee: Futures Copy Trading - Performance Fee Paid</li> <li>fct_fee_refund: Futures Copy Trading - Performance Fee Refund</li></ul> <h3 id="nft"><a href="#nft" class="header-anchor">#</a> NFT</h3> <ul><li>nft_mp: NFT Auction-Margin Paid</li> <li>nft_bm: NFT Auction-Bid Made</li> <li>nft_om: NFT Auction-Offer Made</li> <li>ntf_mr: NFT Auction-Margin Returned</li> <li>nft_amr: NFT Auction-Aborted-Margin rcvd</li> <li>nft_ocb: NFT Auction-Order Canceled-Back</li> <li>nft_fb: Fixed Price-Bought</li> <li>nft_fs: Fixed Price-For Sale</li> <li>nft_ob: NFT Make-Offer Bought</li> <li>nft_os: NFT Make-Offer Sale</li> <li>nft_cr: Cancel offer refund</li> <li>nft_ir: Refund for invalid offer</li> <li>nft_wf: Withdrawal service fee</li> <li>nft_wfr: Withdrawal service fee</li> <li>ntf_mf: Multi-copy creation service fee</li> <li>ntf_mfr: Multi-copy creation service fee refund</li> <li>ntf_royalty: Royalties</li> <li>nft_cd: NFT Auction-Order Canceled-Deducted</li> <li>nft_crd: NFT Auction-Order Canceled-Rotalty-Deducted</li> <li>nft_cf: crowdfunding</li> <li>nft_cfr: crowdfunding refund</li> <li>nft_ammf: Nft-Amm Frozen</li> <li>nft_ammw: Nft-Amm Withdraw</li> <li>nft_ammdf: Nft-Amm Deal Fee</li> <li>nft_ammd: Nft-Amm Deal</li></ul></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="error-handling"><a href="#error-handling" class="header-anchor">#</a> Error Handling</h2> <p>For all abnormal requests, APIv4 will return non-2xx status code, with a response body in JSON
format to
explain the error.</p> <p>The error response body follows a format like:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INVALID_PARAM_VALUE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid parameter `text` with value: abc&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>label</code>: denotes error type in <code>string</code> format. Its value are chosen from a certain list(see
below).
Programs can use <code>label</code> to identify and catch a specific error.</li> <li><code>message</code>(or <code>detail</code>): detailed error message. A longer explanation showing why the error is
generated
or how to avoid it. Its purpose is helping to better understand the API. Error handling
mechanism with this field is highly <strong>NOT</strong> recommended.</li></ul> <p>Take Python <a href="https://requests.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">requests<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for example,
error handling can be written like:</p> <blockquote><p>Following examples only deal with business-related errors. Network timeout or other
common errors need to be handled separately:</p></blockquote> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> requests

r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&quot;https://api.gateio.ws/api/v4/futures/btc/contracts/BTC_USD&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    r<span class="token punctuation">.</span>raise_for_status<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> requests<span class="token punctuation">.</span>HTTPError<span class="token punctuation">:</span>
    <span class="token comment"># catch 2xx errors, parse error message in body, and do something based on `label`</span>
    <span class="token keyword">if</span> r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'xxx'</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>or with <a href="https://github.com/gateio/gateapi-python" target="_blank" rel="noopener noreferrer">Python SDK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>:</p> <div class="language-python extra-class"><pre class="language-python"><code><span class="token keyword">import</span> json
<span class="token keyword">from</span> gate_api <span class="token keyword">import</span> FuturesApi
<span class="token keyword">from</span> gate_api<span class="token punctuation">.</span>rest <span class="token keyword">import</span> ApiException

api <span class="token operator">=</span> FuturesApi<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    api<span class="token punctuation">.</span>get_futures_contract<span class="token punctuation">(</span>settle<span class="token operator">=</span><span class="token string">'btc'</span><span class="token punctuation">,</span> contract<span class="token operator">=</span><span class="token string">&quot;BTC_USD&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">except</span> ApiException <span class="token keyword">as</span> e<span class="token punctuation">:</span>  <span class="token comment"># ApiException wraps whole error information, see implementation for details</span>
    detail <span class="token operator">=</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>e<span class="token punctuation">.</span>value<span class="token punctuation">.</span>body<span class="token punctuation">)</span>
    <span class="token keyword">if</span> detail<span class="token punctuation">[</span><span class="token string">'label'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'xxx'</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>detail<span class="token punctuation">)</span>
</code></pre></div><h2 id="label-list"><a href="#label-list" class="header-anchor">#</a> <code>label</code> list</h2> <ul><li>Request parameter or format related</li></ul> <table><thead><tr><th><code>label</code></th> <th>Meaning</th></tr></thead> <tbody><tr><td>INVALID_PARAM_VALUE</td> <td>Invalid parameter value</td></tr> <tr><td>INVALID_PROTOCOL</td> <td>Invalid parameter value</td></tr> <tr><td>INVALID_ARGUMENT</td> <td>Invalid argument</td></tr> <tr><td>INVALID_REQUEST_BODY</td> <td>Invalid request body</td></tr> <tr><td>MISSING_REQUIRED_PARAM</td> <td>Missing required parameter</td></tr> <tr><td>BAD_REQUEST</td> <td>Invalid request</td></tr> <tr><td>INVALID_CONTENT_TYPE</td> <td>Invalid <code>Content-Type</code> header</td></tr> <tr><td>NOT_ACCEPTABLE</td> <td>Invalid <code>Accept-</code> Header</td></tr> <tr><td>METHOD_NOT_ALLOWED</td> <td>Request method is not allowed</td></tr> <tr><td>NOT_FOUND</td> <td>Request URL not exists</td></tr></tbody></table> <ul><li>Authentication related</li></ul> <table><thead><tr><th><code>label</code></th> <th>Meaning</th></tr></thead> <tbody><tr><td>INVALID_CREDENTIALS</td> <td>Invalid credentials provided</td></tr> <tr><td>INVALID_KEY</td> <td>Invalid API Key</td></tr> <tr><td>IP_FORBIDDEN</td> <td>Request IP not in whitelist</td></tr> <tr><td>READ_ONLY</td> <td>API key is read-only</td></tr> <tr><td>INVALID_SIGNATURE</td> <td>Invalid signature</td></tr> <tr><td>MISSING_REQUIRED_HEADER</td> <td>Missing required authentication header</td></tr> <tr><td>REQUEST_EXPIRED</td> <td>Request <code>Timestamp</code> is far from the server time</td></tr> <tr><td>ACCOUNT_LOCKED</td> <td>Account is locked</td></tr> <tr><td>FORBIDDEN</td> <td>Account has no permission to request operation</td></tr></tbody></table> <ul><li>Wallet related</li></ul> <table><thead><tr><th><code>label</code></th> <th>Meaning</th></tr></thead> <tbody><tr><td>SUB_ACCOUNT_NOT_FOUND</td> <td>Sub account not found</td></tr> <tr><td>SUB_ACCOUNT_LOCKED</td> <td>Sub account is locked</td></tr> <tr><td>MARGIN_BALANCE_EXCEPTION</td> <td>Abnormal margin account</td></tr> <tr><td>MARGIN_TRANSFER_FAILED</td> <td>Failed to transfer with margin account</td></tr> <tr><td>TOO_MUCH_FUTURES_AVAILABLE</td> <td>Futures balance exceeds max allowed</td></tr> <tr><td>FUTURES_BALANCE_NOT_ENOUGH</td> <td>Futures balance not enough</td></tr> <tr><td>ACCOUNT_EXCEPTION</td> <td>Abnormal account</td></tr> <tr><td>SUB_ACCOUNT_TRANSFER_FAILED</td> <td>Failed to transfer with sub account</td></tr> <tr><td>ADDRESS_NOT_USED</td> <td>Address never being used in web console</td></tr> <tr><td>TOO_FAST</td> <td>Withdrawing request exceeds frequency limit</td></tr> <tr><td>WITHDRAWAL_OVER_LIMIT</td> <td>Withdrawal limit exceeded</td></tr> <tr><td>API_WITHDRAW_DISABLED</td> <td>API withdrawal operation is disabled temporarily</td></tr> <tr><td>INVALID_WITHDRAW_ID</td> <td>Invalid withdraw ID</td></tr> <tr><td>INVALID_WITHDRAW_CANCEL_STATUS</td> <td>Cancelling withdrawal not allowed with current status</td></tr> <tr><td>DUPLICATE_REQUEST</td> <td>Duplicate request</td></tr> <tr><td>ORDER_EXISTS</td> <td>Order already exists, do not resubmit</td></tr> <tr><td>INVALID_CLIENT_ORDER_ID</td> <td>The client_order_id is invalid</td></tr></tbody></table> <ul><li>Spot and margin trading related</li></ul> <table><thead><tr><th><code>label</code></th> <th>Meaning</th></tr></thead> <tbody><tr><td>INVALID_PRECISION</td> <td>Invalid precision</td></tr> <tr><td>INVALID_CURRENCY</td> <td>Invalid currency</td></tr> <tr><td>INVALID_CURRENCY_PAIR</td> <td>Invalid currency pair</td></tr> <tr><td>POC_FILL_IMMEDIATELY</td> <td>Order would match and take immediately so it's cancelled</td></tr> <tr><td>ORDER_NOT_FOUND</td> <td>Order not found</td></tr> <tr><td>ORDER_CLOSED</td> <td>Order already closed</td></tr> <tr><td>ORDER_CANCELLED</td> <td>Order already cancelled</td></tr> <tr><td>QUANTITY_NOT_ENOUGH</td> <td>Amount is not enough</td></tr> <tr><td>BALANCE_NOT_ENOUGH</td> <td>Balance is not enough</td></tr> <tr><td>MARGIN_NOT_SUPPORTED</td> <td>Request currency pair doesn't provide margin trading</td></tr> <tr><td>MARGIN_BALANCE_NOT_ENOUGH</td> <td>Margin balance is not enough</td></tr> <tr><td>AMOUNT_TOO_LITTLE</td> <td>Amount does not reach minimum required</td></tr> <tr><td>AMOUNT_TOO_MUCH</td> <td>Amount exceeds maximum allowed</td></tr> <tr><td>REPEATED_CREATION</td> <td>Repeated creation</td></tr> <tr><td>LOAN_NOT_FOUND</td> <td>Margin loan is not found</td></tr> <tr><td>LOAN_RECORD_NOT_FOUND</td> <td>Margin loan record is not found</td></tr> <tr><td>NO_MATCHED_LOAN</td> <td>No loan can match request borrow requirement</td></tr> <tr><td>NOT_MERGEABLE</td> <td>Request loans cannot be merged</td></tr> <tr><td>NO_CHANGE</td> <td>No change is made</td></tr> <tr><td>REPAY_TOO_MUCH</td> <td>Repay more than required</td></tr> <tr><td>TOO_MANY_CURRENCY_PAIRS</td> <td>Too many currency pairs in batch orders creation</td></tr> <tr><td>TOO_MANY_ORDERS</td> <td>Too many orders in one currency pair in batch orders creation</td></tr> <tr><td>MIXED_ACCOUNT_TYPE</td> <td>More than one account type is used in batch orders creation</td></tr> <tr><td>AUTO_BORROW_TOO_MUCH</td> <td>Auto borrow exceeds maximum allowed</td></tr> <tr><td>TRADE_RESTRICTED</td> <td>Trading is restricted due to high debt ratio</td></tr> <tr><td>FOK_NOT_FILL</td> <td>FOK order cannot be filled completely</td></tr> <tr><td>INITIAL_MARGIN_TOO_LOW</td> <td>User's total initial margin rate is too low</td></tr> <tr><td>NO_MERGEABLE_ORDERS</td> <td>Orders can be merged not found</td></tr> <tr><td>ORDER_BOOK_NOT_FOUND</td> <td>Insufficient liquidity</td></tr> <tr><td>FAILED_RETRIEVE_ASSETS</td> <td>Failed to retrieve account assets</td></tr> <tr><td>CANCEL_FAIL</td> <td>Order cancel failed</td></tr></tbody></table> <ul><li>Futures related</li></ul> <table><thead><tr><th><code>label</code></th> <th>Meaning</th></tr></thead> <tbody><tr><td>USER_NOT_FOUND</td> <td>User has no futures account</td></tr> <tr><td>CONTRACT_NO_COUNTER</td> <td>No counter order found</td></tr> <tr><td>CONTRACT_NOT_FOUND</td> <td>Contract not found</td></tr> <tr><td>RISK_LIMIT_EXCEEDED</td> <td>Risk limit exceeded</td></tr> <tr><td>INSUFFICIENT_AVAILABLE</td> <td>Balance is not enough</td></tr> <tr><td>LIQUIDATE_IMMEDIATELY</td> <td>Operation may cause liquidation</td></tr> <tr><td>LEVERAGE_TOO_HIGH</td> <td>leverage too high</td></tr> <tr><td>LEVERAGE_TOO_LOW</td> <td>leverage too low</td></tr> <tr><td>ORDER_NOT_FOUND</td> <td>Order not found</td></tr> <tr><td>ORDER_NOT_OWNED</td> <td>Order not owned</td></tr> <tr><td>ORDER_FINISHED</td> <td>Order already finished</td></tr> <tr><td>TOO_MANY_ORDERS</td> <td>Too many open orders</td></tr> <tr><td>POSITION_CROSS_MARGIN</td> <td>margin updating is not allowed in cross margin</td></tr> <tr><td>POSITION_IN_LIQUIDATION</td> <td>Position is being liquidated</td></tr> <tr><td>POSITION_IN_CLOSE</td> <td>Position is closing</td></tr> <tr><td>POSITION_EMPTY</td> <td>Position is empty</td></tr> <tr><td>REMOVE_TOO_MUCH</td> <td>Changed margin exceeds allowed</td></tr> <tr><td>RISK_LIMIT_NOT_MULTIPLE</td> <td>Risk limit is not a multiple of step</td></tr> <tr><td>RISK_LIMIT_TOO_HIGH</td> <td>Risk limit too high</td></tr> <tr><td>RISK_LIMIT_TOO_lOW</td> <td>Risk limit too low</td></tr> <tr><td>PRICE_TOO_DEVIATED</td> <td>Order price deviates too much from mark price</td></tr> <tr><td>SIZE_TOO_LARGE</td> <td>Order size exceeds maximum</td></tr> <tr><td>SIZE_TOO_SMALL</td> <td>Order size does not reach minimum</td></tr> <tr><td>PRICE_OVER_LIQUIDATION</td> <td>Price to increase position can not exceeds liquidation price</td></tr> <tr><td>PRICE_OVER_BANKRUPT</td> <td>Price to decrease position cannot exceeds bankrupting price</td></tr> <tr><td>ORDER_POC_IMMEDIATE</td> <td>POC order will be finished immediately</td></tr> <tr><td>INCREASE_POSITION</td> <td>POC order will increase position</td></tr> <tr><td>CONTRACT_IN_DELISTING</td> <td>Contract is delisting, only reduce-only order or close order is allowed</td></tr> <tr><td>POSITION_NOT_FOUND</td> <td>Position not found</td></tr> <tr><td>POSITION_DUAL_MODE</td> <td>Operation forbidden in dual-mode</td></tr> <tr><td>ORDER_PENDING</td> <td>Operation forbidden with pending orders</td></tr> <tr><td>POSITION_HOLDING</td> <td>Operation forbidden with holding position</td></tr> <tr><td>REDUCE_EXCEEDED</td> <td>Reduce order would exceed position in dual-mode</td></tr> <tr><td>NO_CHANGE</td> <td>No change is made</td></tr> <tr><td>AMEND_WITH_STOP</td> <td>Amend forbidden with stop order</td></tr> <tr><td>ORDER_FOK</td> <td>Killed for FOK</td></tr></tbody></table> <ul><li>Collateral Loan related</li></ul> <table><thead><tr><th><code>label</code></th> <th>Meaning</th></tr></thead> <tbody><tr><td>COL_NOT_ENOUGH</td> <td>Collateral balance not enough</td></tr> <tr><td>COL_TOO_MUCH</td> <td>Exceed collateral currency quota</td></tr> <tr><td>INIT_LTV_TOO_HIGH</td> <td>Init ltv too high</td></tr> <tr><td>REDEEMED_LTV_TOO_HIGH</td> <td>Ltv too high after redeem</td></tr> <tr><td>BORROWABLE_NOT_ENOUGH</td> <td>Left borrowable not enough</td></tr> <tr><td>ORDER_TOO_MANY_TOTAL</td> <td>Exceed platform order count one day</td></tr> <tr><td>ORDER_TOO_MANY_DAILY</td> <td>Exceed single user order count one day</td></tr> <tr><td>ORDER_TOO_MANY_USER</td> <td>Exceed single user order count total</td></tr> <tr><td>ORDER_NOT_EXIST</td> <td>Order id not exist</td></tr> <tr><td>ORDER_FINISHED</td> <td>Order id finished</td></tr> <tr><td>ORDER_NO_PAY</td> <td>Order unpaid amount is zero</td></tr> <tr><td>ORDER_EXIST</td> <td>Order exist</td></tr> <tr><td>ORDER_HISTORY_EXIST</td> <td>Order history exist</td></tr> <tr><td>ORDER_REPAYING</td> <td>Order is repaying</td></tr> <tr><td>ORDER_LIQUIDATING</td> <td>Order is liquidating</td></tr> <tr><td>BORROW_TOO_LITTLE</td> <td>Less than currency min borrow amount</td></tr> <tr><td>BORROW_TOO_LARGE</td> <td>Greater than total max borrow amount quantity</td></tr> <tr><td>REPAY_AMOUNT_INVALID</td> <td>Repay request amount invalid</td></tr> <tr><td>REPAY_GREATER_THAN_AVAILABLE</td> <td>Repay greater than available</td></tr> <tr><td>POOL_BALANCE_NOT_ENOUGH</td> <td>Pool balance not enough</td></tr> <tr><td>CURRENCY_SETTLING</td> <td>Currency settlement in progress</td></tr> <tr><td>RISK_REJECT</td> <td>Risk reject, please try again later</td></tr> <tr><td>LOAN_FAILED</td> <td>Loan failed, you can borrow again</td></tr></tbody></table> <ul><li>Portfolio related</li></ul> <table><thead><tr><th><code>label</code></th> <th>Meaning</th></tr></thead> <tbody><tr><td>USER_LIAB</td> <td>User has liab</td></tr> <tr><td>USER_PENDING_ORDERS</td> <td>User has pending orders</td></tr> <tr><td>MODE_SET</td> <td>already set portfolio_margin mode</td></tr></tbody></table> <ul><li>Earn related</li></ul> <table><thead><tr><th><code>label</code></th> <th>含义</th></tr></thead> <tbody><tr><td>ERR_BALANCE_NOT_ENOUGH</td> <td>balance not enough</td></tr> <tr><td>ERR_PRODUCT_SELL_OUT</td> <td>Target quota reached</td></tr> <tr><td>ERR_PRODUCT_BUY</td> <td>The project is not yet open for purchase</td></tr> <tr><td>ERR_CREATE_ORDER</td> <td>Put order fail</td></tr> <tr><td>ERR_QUOTA_LOWER_LIMIT</td> <td>Not meeting the minimum order amount</td></tr> <tr><td>ERR_QUOTA_SUPERIOR_LIMIT</td> <td>The maximum order limit has been reached</td></tr> <tr><td>ERR_ORDER_NUMBER_LIMIT</td> <td>The maximum order quantity has been reached</td></tr> <tr><td>ERR_PRODUCT_CLOSE</td> <td>Project closed</td></tr> <tr><td>COPIES_NOT_ENOUGH</td> <td>Not enough shares available to subscribe</td></tr> <tr><td>COPIES_TOO_SMALL</td> <td>Investment share is too small</td></tr> <tr><td>COPIES_TOO_BIG</td> <td>The number of investment shares exceeds the upper limit</td></tr> <tr><td>TOTAL_AMOUNT_24</td> <td>The total amount of pledge and redemption within 24 hours exceeds the limit</td></tr> <tr><td>TOTAL_BUYCOUNT_24</td> <td>Pledge and redemption times exceeding the limit within 24 hours</td></tr> <tr><td>REDEEM_24_LIMIT</td> <td>Redemption are allowed 24 hours after the last staking</td></tr></tbody></table> <ul><li>Server errors</li></ul> <table><thead><tr><th><code>label</code></th> <th>Meaning</th></tr></thead> <tbody><tr><td>INTERNAL</td> <td>Internal server error</td></tr> <tr><td>SERVER_ERROR</td> <td>Internal server error</td></tr> <tr><td>TOO_BUSY</td> <td>Server is too busy at the moment</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="authentication"><a href="#authentication" class="header-anchor">#</a> Authentication</h1> <h2 id="generate-api-key"><a href="#generate-api-key" class="header-anchor">#</a> Generate API key</h2> <p>Before calling the private API interface, the API key of the account needs to be generated to verify
the identity. You can log in on the website and generate it in
[account management] - &gt; [APIv4 keys], or click <a href="/myaccount/apiv4keys" target="_blank">
here</a>
to generate API keys.</p> <p>Each account can create 20 API keys, and the permission configuration of each key is independent of
each other. It is recommended to set a note name for each key to indicate its purpose.</p> <p><strong><code>Key</code></strong> Access Key
<strong><code>Secret Key</code></strong> The key used for signature authentication encryption</p> <p>Besides, you can attach an IP whitelist, which requires the server only accept requests from
specified IPs. Each key can have at most 20 IPs formatted in IPv4(not supporting IP range though).
If IP whitelist is not set, the server will skip client IP validation.</p> <p>Each user can create at most 5 keys with separate permissions. It is recommended to set a name for
key denoting how the key will be used.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Note: If the key is named with <code>spot</code> or <code>futures</code>, then it could be the default name after
APIv4 migration. For details refer to <em>About APIv4 key improvement</em> section</p></div> <p>Created key can also be updated or deleted, but any modification(s) can take up to 5 minutes to take
effect.</p> <p>Please note that futures TestNet trading is a separate environment from futures real trading. Real
trading API keys cannot be used in TestNet. If you want to test futures API with TestNet, you need
to log into the console to generate TestNet API keys(in <em>&quot;Futures TestNet APIKeys&quot;</em> tab on <em>&quot;
APIv4Keys&quot;</em> page). Making futures requests are identical between real and TestNet trading, with the
only exceptions are different base URLs and different API keys.</p> <h2 id="apiv4-permissions"><a href="#apiv4-permissions" class="header-anchor">#</a> APIv4 Permissions</h2> <p>When creating a Key, you can configure whether to enable spot, margin, contract, wallet, or
withdrawal permissions for the Key, and whether to enable read-write or read-only permissions.</p> <table><thead><tr><th>Products</th> <th>Permissions</th></tr></thead> <tbody><tr><td><code>spot/margin</code></td> <td><code>Read-only</code> query orders <code>Read-write</code> query orders &amp; place orders</td></tr> <tr><td><code>perpetual contract</code></td> <td><code>Read-only</code> query orders <code>Read-write</code> query orders &amp; place orders</td></tr> <tr><td><code>delivery contract</code></td> <td><code>Read-only</code> query orders <code>Read-write</code> query orders &amp; place orders</td></tr> <tr><td><code>wallet</code></td> <td><code>Read-only</code> Query for withdrawal transfer records <code>Read-write</code> Query for account records &amp; fund transfers</td></tr> <tr><td><code>withdrawal</code></td> <td><code>Read-only</code> Query cash withdrawal records <code>Read-write</code> Query cash withdrawal records &amp; withdrawals</td></tr></tbody></table> <p>All <code>GET</code> operations are read requests, while others are write requests. Each permission group can
be set to disabled, read-only or read-write.</p> <p>Please note that even though withdrawal API has only one operation(i.e.
<code>POST /withdrawals</code>), for general concern, it is still separated from wallet API into a standalone
permission group, while withdrawal history retrieving API stays inside wallet operations(
i.e., <code>GET /wallet/withdrawals</code>).</p> <h2 id="apiv4-signed-request-requirements"><a href="#apiv4-signed-request-requirements" class="header-anchor">#</a> APIv4 signed request requirements</h2> <ol><li>Generate APIv4 Key pairs in web console, and make sure it has the right permissions.</li> <li>Set request header <code>KEY</code> to the key.</li> <li>Set request header <code>Timestamp</code> to current time formatted in Unix time in seconds. Pay
attention that the gap between its value and current time cannot exceed 60 seconds.</li> <li>Set request header <code>SIGN</code> to encrypted request signature. Refer to next section for how signature
string is generated. Signature generation method is
<code>HexEncode(HMAC_SHA512(secret, signature_string))</code>, i.e., the hexadecimal digest output of
HMAC-SHA512 with APIv4 secret as secret and signature string as message,</li> <li>Make sure request client's IP is in your APIv4 Key's IP whitelist.</li></ol> <h2 id="api-signature-string-generation"><a href="#api-signature-string-generation" class="header-anchor">#</a> API Signature string generation</h2> <p>In APIv4, signature string is concatenated as the following way:</p> <p><code>Request Method + &quot;\n&quot; 	+ Request URL + &quot;\n&quot; 	+ Query String + &quot;\n&quot; 	+ HexEncode(SHA512(Request Payload)) + &quot;\n&quot; 	+ Timestamp</code></p> <h3 id="request-method"><a href="#request-method" class="header-anchor">#</a> Request Method</h3> <p>Request method in UPPERCASE, e.g. <code>POST</code>, <code>GET</code></p> <h3 id="request-url"><a href="#request-url" class="header-anchor">#</a> Request URL</h3> <p>Request url. Protocol, host and port are not included, e.g. <code>/api/v4/futures/orders</code></p> <h3 id="query-string"><a href="#query-string" class="header-anchor">#</a> Query String</h3> <p>Request query string without URL encode. query parameters order should be the
same as how they are concatenated in the request URL, e.g. <code>status=finished&amp;limit=50</code>. Use empty string(&quot;&quot;) if no query parameters.</p> <h3 id="hexencode-sha512-request-payload"><a href="#hexencode-sha512-request-payload" class="header-anchor">#</a> HexEncode(SHA512(Request Payload))</h3> <p>Hash the request body with SHA512 and output its Hex encoded form. If no request body, use empty string's hashed result, i.e.
<code>cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e</code></p> <h3 id="timestamp"><a href="#timestamp" class="header-anchor">#</a> Timestamp</h3> <p><code>Timestamp</code> request header value.</p> <div type="example" class="examples"><p>Examples</p> <p>Note: all example signature string are broken into multiple lines for displaying purpose only.
Only the <code>\n</code> character in signature string is reserved in reality.</p> <p>Suppose the key we used is <code>key</code>, while the secret is <code>secret</code>.</p> <ol><li>List all orders</li></ol> <div class="language-http extra-class"><pre class="language-http"><code>	GET /api/v4/futures/orders?contract=BTC_USD&amp;status=finished&amp;limit=50 HTTP/1.1
</code></pre></div><p>Signature string：</p> <div class="language- extra-class"><pre class="language-text"><code>	GET\n
	/api/v4/futures/orders\n
	contract=BTC_USD&amp;status=finished&amp;limit=50\n
	cf83e1357eefb8bdf1542850d66d8007d620e4050b5715dc83f4a921d36ce9ce47d0d13c5d85f2b0ff8318d2877eec2f63b931bd47417a81a538327af927da3e\n
	1541993715
</code></pre></div><p>Explanation：</p> <ul><li><code>/api/v4/futures/orders</code>: request url</li> <li><code>contract=BTC_USD&amp;status=finished&amp;limit=50</code>: keep the query string as it is in the request url</li> <li>request body use empty string's hashed result</li> <li><code>1541993715</code>: Unix timestamp in seconds</li></ul> <p>Signature generated</p> <p><code>55f84ea195d6fe57ce62464daaa7c3c02fa9d1dde954e4c898289c9a2407a3d6fb3faf24deff16790d726b66ac9f74526668b13bd01029199cc4fcc522418b8a</code></p> <ol start="2"><li>Create an order</li></ol> <div class="language-http extra-class"><pre class="language-http"><code>	POST /api/v4/futures/orders HTTP/1.1

	{&quot;contract&quot;:&quot;BTC_USD&quot;,&quot;type&quot;:&quot;limit&quot;,&quot;size&quot;:100,&quot;price&quot;:6800,&quot;time_in_force&quot;:&quot;gtc&quot;}
</code></pre></div><p>Signature string：</p> <div class="language- extra-class"><pre class="language-text"><code>	POST\n
	/api/v4/futures/orders\n
	\n
	ad3c169203dc3026558f01b4df307641fa1fa361f086b2306658886d5708767b1854797c68d9e62fef2f991645aa82673622ebf417e091d0bd22bafe5d956cca\n
	1541993715
</code></pre></div><p>Explanation：</p> <ul><li>request query string is empty, use plain empty string</li> <li>use the hashed result of the json-string-formatted request body</li></ul> <p>Signature generated</p> <p><code>eae42da914a590ddf727473aff25fc87d50b64783941061f47a3fdb92742541fc4c2c14017581b4199a1418d54471c269c03a38d788d802e2c306c37636389f0</code></p> <div class="language-python extra-class"><pre class="language-python"><code>
<span class="token comment"># example authentication implementation in Python</span>

<span class="token triple-quoted-string string">&quot;&quot;&quot;
Python SDK is recommended as it has already implemented the authentication process for every API:
&quot;&quot;&quot;</span>

<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> json

<span class="token keyword">def</span> <span class="token function">gen_sign</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> query_string<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> payload_string<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    key <span class="token operator">=</span> <span class="token string">''</span>        <span class="token comment"># api_key</span>
    secret <span class="token operator">=</span> <span class="token string">''</span>     <span class="token comment"># api_secret</span>

    t <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>
    m <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>sha512<span class="token punctuation">(</span><span class="token punctuation">)</span>
    m<span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">(</span>payload_string <span class="token keyword">or</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    hashed_payload <span class="token operator">=</span> m<span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>
    s <span class="token operator">=</span> <span class="token string">'%s\n%s\n%s\n%s\n%s'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> query_string <span class="token keyword">or</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> hashed_payload<span class="token punctuation">,</span> t<span class="token punctuation">)</span>
    sign <span class="token operator">=</span> hmac<span class="token punctuation">.</span>new<span class="token punctuation">(</span>secret<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> hashlib<span class="token punctuation">.</span>sha512<span class="token punctuation">)</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string">'KEY'</span><span class="token punctuation">:</span> key<span class="token punctuation">,</span> <span class="token string">'Timestamp'</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'SIGN'</span><span class="token punctuation">:</span> sign<span class="token punctuation">}</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
    prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
    common_headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

    url <span class="token operator">=</span> <span class="token string">'/futures/orders'</span>
    body <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;contract&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;BTC_USD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;size&quot;</span><span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">&quot;price&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tif&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">}</span>
    request_content <span class="token operator">=</span> json<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>body<span class="token punctuation">)</span>
    sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> request_content<span class="token punctuation">)</span>
    sign_headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>common_headers<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'signature headers: %s'</span> <span class="token operator">%</span> sign_headers<span class="token punctuation">)</span>
    res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>sign_headers<span class="token punctuation">,</span> data<span class="token operator">=</span>request_content<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">)</span>
</code></pre></div></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="faq"><a href="#faq" class="header-anchor">#</a> FAQ</h1> <ul><li><p>How to retrieve <code>POST /wallet/transfers</code> history?</p> <p>Records of transfers generated through <code>POST /wallet/transfers</code> has multiple methods to be
retrieved based on account, including:</p> <ul><li><code>GET /margin/account_book</code> to retrieve transferals from or to margin account.</li> <li><code>GET /futures/{settle}/account_book?type=dnw</code> to retrieve perpetual contract account history</li> <li><code>GET /delivery/{settle}/account_book?type=dnw</code> to retrieve delivery contract account history</li></ul></li> <li><p>How to create margin orders?</p> <p>Margin order creation has been merged into spot order APIs. In <code>POST /spot/orders</code> or
<code>POST /spot/batch_orders</code>, set <code>account</code> to <code>margin</code> to create margin orders.</p></li> <li><p>Futures operation returns error <code>USER_NOT_FOUND</code></p> <p>Futures account is not initialized yet. Making a deposit to your futures account will help. Note
that each settle currency is associated with an independent futures account.</p></li> <li><p>Futures operation returns error <code>CONTRACT_NOT_FOUND</code></p> <p>Every settle currency has its own contract list. Make sure the contract you specified is supported
by the settle currency. You can query the list with</p> <p><code>GET /futures/{settle}/contracts</code> or <code>GET /delivery/{settle}/contracts</code></p></li> <li><p>Difference between sub account and main account</p> <ul><li>Sub account API Key cannot operate transferals between main and sub account,
i.e., <code>POST /wallet/sub_account_transfers</code></li> <li>Sub account API Key cannot operate withdrawal, i.e., <code>POST /withdrawals</code></li> <li>If sub account does not have some business permission, even if its API key has the permission,
the operations will be rejected too.</li></ul></li> <li><p>I have other question(s) not covered above</p> <p>Contact support for the issue. If the problem is related to one of the SDKs, you can also open an
issue in the corresponding GitHub repository.</p> <p>When submitting an issue, please include the following information to help identify the problem:</p> <ul><li>User ID
<ul><li>Original request URL, request parameters and request body</li> <li>What API key was used and where was it used, TestNet or real trading(API secret is not needed)</li> <li>Programming language. Providing a code snippet will be better</li> <li>Whether SDK was used. If so, which method caused the problem</li></ul></li></ul></li></ul></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="withdrawal"><a href="#withdrawal" class="header-anchor">#</a> Withdrawal</h1> <p>Withdrawal operations</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="withdraw"><a href="#withdraw" class="header-anchor">#</a> Withdraw</h2> <p><a id="opIdwithdraw"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/withdrawals'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;withdraw_order_id&quot;:&quot;order_123456&quot;,&quot;currency&quot;:&quot;USDT&quot;,&quot;address&quot;:&quot;1HkxtBAMrA3tP5ENnYY2CZortjZvFDH5Cs&quot;,&quot;amount&quot;:&quot;222.61&quot;,&quot;memo&quot;:&quot;&quot;,&quot;chain&quot;:&quot;TRX&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/withdrawals&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;withdraw_order_id&quot;:&quot;order_123456&quot;,&quot;currency&quot;:&quot;USDT&quot;,&quot;address&quot;:&quot;1HkxtBAMrA3tP5ENnYY2CZortjZvFDH5Cs&quot;,&quot;amount&quot;:&quot;222.61&quot;,&quot;memo&quot;:&quot;&quot;,&quot;chain&quot;:&quot;TRX&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /withdrawals</code></p> <p><em>Withdraw</em></p> <p>Withdrawals to Gate addresses do not incur transaction fees.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;withdraw_order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;order_123456&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1HkxtBAMrA3tP5ENnYY2CZortjZvFDH5Cs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;222.61&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;memo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TRX&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="withdraw-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» withdraw_order_id</td> <td>body</td> <td>string</td> <td>false</td> <td>Client order id, up to 32 length and can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency amount</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency name</td></tr> <tr><td>» address</td> <td>body</td> <td>string</td> <td>false</td> <td>Withdrawal address. Required for withdrawals</td></tr> <tr><td>» memo</td> <td>body</td> <td>string</td> <td>false</td> <td>Additional remarks with regards to the withdrawal</td></tr> <tr><td>» chain</td> <td>body</td> <td>string</td> <td>true</td> <td>Name of the chain used in withdrawals</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;210496&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1542000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;withdraw_order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;order_123456&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1HkxtBAMrA3tP5ENnYY2CZortjZvFDH5Cs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;txid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;128988928203223323290&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;222.61&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;memo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DONE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TRX&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="withdraw-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Withdraw request is accepted. Refer to withdrawal records for status</td> <td>Inline</td></tr></tbody></table> <h3 id="withdraw-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Record ID</td></tr> <tr><td>» txid</td> <td>string</td> <td>Hash record of the withdrawal</td></tr> <tr><td>» withdraw_order_id</td> <td>string</td> <td>Client order id, up to 32 length and can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</td></tr> <tr><td>» timestamp</td> <td>string</td> <td>Operation time</td></tr> <tr><td>» amount</td> <td>string</td> <td>Currency amount</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» address</td> <td>string</td> <td>Withdrawal address. Required for withdrawals</td></tr> <tr><td>» memo</td> <td>string</td> <td>Additional remarks with regards to the withdrawal</td></tr> <tr><td>» status</td> <td>string</td> <td>Record status.<br><br>- DONE: done<br>- CANCEL: cancelled<br>- REQUEST: requesting<br>- MANUAL: pending manual approval<br>- BCODE: GateCode operation<br>- EXTPEND: pending confirm after sending<br>- FAIL: pending confirm when fail<br>- INVALID: invalid order<br>- VERIFY: verifying<br>- PROCES: processing<br>- PEND: pending<br>- DMOVE: required manual approval</td></tr> <tr><td>» chain</td> <td>string</td> <td>Name of the chain used in withdrawals</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="uid-transfer"><a href="#uid-transfer" class="header-anchor">#</a> UID transfer</h2> <p><a id="opIdwithdrawPushOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/withdrawals/push'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;receive_uid&quot;:12233,&quot;currency&quot;:&quot;USDT&quot;,&quot;amount&quot;:&quot;1.1&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/withdrawals/push&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;receive_uid&quot;:12233,&quot;currency&quot;:&quot;USDT&quot;,&quot;amount&quot;:&quot;1.1&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /withdrawals/push</code></p> <p><em>UID transfer</em></p> <p>Transfers between main spot accounts are allowed; however, both parties cannot be sub-accounts</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;receive_uid&quot;</span><span class="token operator">:</span> <span class="token number">12233</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="withdrawpushorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» receive_uid</td> <td>body</td> <td>integer(int64)</td> <td>true</td> <td>Recipient UID</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency name</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer amount</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">111</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="withdrawpushorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>The request has been accepted. Check the withdrawal record status for the processing result.</td> <td>Inline</td></tr></tbody></table> <h3 id="withdrawpushorder-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Order ID</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-withdrawal-with-specified-id"><a href="#cancel-withdrawal-with-specified-id" class="header-anchor">#</a> Cancel withdrawal with specified ID</h2> <p><a id="opIdcancelWithdrawal"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/withdrawals/210496'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/withdrawals/210496&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /withdrawals/{withdrawal_id}</code></p> <p><em>Cancel withdrawal with specified ID</em></p> <h3 id="cancelwithdrawal-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>withdrawal_id</td> <td>path</td> <td>string</td> <td>true</td> <td>none</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>202 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;210496&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1542000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;withdraw_order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;order_123456&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1HkxtBAMrA3tP5ENnYY2CZortjZvFDH5Cs&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;txid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;128988928203223323290&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;222.61&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;memo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DONE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TRX&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="cancelwithdrawal-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>202</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.3" target="_blank" rel="noopener noreferrer">Accepted<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Cancellation accepted. Refer to record status for the cancellation result</td> <td>Inline</td></tr></tbody></table> <h3 id="cancelwithdrawal-responseschema">Response Schema</h3> <p>Status Code <strong>202</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Record ID</td></tr> <tr><td>» txid</td> <td>string</td> <td>Hash record of the withdrawal</td></tr> <tr><td>» withdraw_order_id</td> <td>string</td> <td>Client order id, up to 32 length and can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</td></tr> <tr><td>» timestamp</td> <td>string</td> <td>Operation time</td></tr> <tr><td>» amount</td> <td>string</td> <td>Currency amount</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» address</td> <td>string</td> <td>Withdrawal address. Required for withdrawals</td></tr> <tr><td>» memo</td> <td>string</td> <td>Additional remarks with regards to the withdrawal</td></tr> <tr><td>» status</td> <td>string</td> <td>Record status.<br><br>- DONE: done<br>- CANCEL: cancelled<br>- REQUEST: requesting<br>- MANUAL: pending manual approval<br>- BCODE: GateCode operation<br>- EXTPEND: pending confirm after sending<br>- FAIL: pending confirm when fail<br>- INVALID: invalid order<br>- VERIFY: verifying<br>- PROCES: processing<br>- PEND: pending<br>- DMOVE: required manual approval</td></tr> <tr><td>» chain</td> <td>string</td> <td>Name of the chain used in withdrawals</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="wallet"><a href="#wallet" class="header-anchor">#</a> Wallet</h1> <p>Wallet</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-chains-supported-for-specified-currency"><a href="#list-chains-supported-for-specified-currency" class="header-anchor">#</a> List chains supported for specified currency</h2> <p><a id="opIdlistCurrencyChains"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/currency_chains'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=GT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/wallet/currency_chains?currency<span class="token operator">=</span>GT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /wallet/currency_chains</code></p> <p><em>List chains supported for specified currency</em></p> <h3 id="listcurrencychains-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency name</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name_cn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;以太坊ERC20&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name_en&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH/ERC20&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract_address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_disabled&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcurrencychains-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcurrencychains-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» chain</td> <td>string</td> <td>Chain name</td></tr> <tr><td>» name_cn</td> <td>string</td> <td>Chain name in Chinese</td></tr> <tr><td>» name_en</td> <td>string</td> <td>Chain name in English</td></tr> <tr><td>» contract_address</td> <td>string</td> <td>Smart contract address for the currency; if no address is available, it will be an empty string</td></tr> <tr><td>» is_disabled</td> <td>integer(int32)</td> <td>If it is disabled. 0 means NOT being disabled</td></tr> <tr><td>» is_deposit_disabled</td> <td>integer(int32)</td> <td>Is deposit disabled. 0 means not</td></tr> <tr><td>» is_withdraw_disabled</td> <td>integer(int32)</td> <td>Is withdrawal disabled. 0 means not</td></tr> <tr><td>» decimal</td> <td>string</td> <td>Withdrawal precision</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="generate-currency-deposit-address"><a href="#generate-currency-deposit-address" class="header-anchor">#</a> Generate currency deposit address</h2> <p><a id="opIdgetDepositAddress"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/deposit_address'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/deposit_address&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/deposit_address</code></p> <p><em>Generate currency deposit address</em></p> <h3 id="getdepositaddress-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency name</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LPXtk1kWHioP62SzfqwKbYE3Z7Wt2ujYEc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;multichain_addresses&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TRX&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;LPXtk1kWHioP62SzfqwKbYE3Z7Wt2ujYEc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;payment_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;payment_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;obtain_failed&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getdepositaddress-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Address successfully generated</td> <td>Inline</td></tr></tbody></table> <h3 id="getdepositaddress-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency detail</td></tr> <tr><td>» address</td> <td>string</td> <td>Deposit address</td></tr> <tr><td>» multichain_addresses</td> <td>array</td> <td>none</td></tr> <tr><td>»» MultiChainAddressItem</td> <td>object</td> <td>none</td></tr> <tr><td>»»» chain</td> <td>string</td> <td>Name of the chain</td></tr> <tr><td>»»» address</td> <td>string</td> <td>Deposit address</td></tr> <tr><td>»»» payment_id</td> <td>string</td> <td>Notes that some currencies required(e.g., Tag, Memo) when depositing</td></tr> <tr><td>»»» payment_name</td> <td>string</td> <td>Note type, <code>Tag</code> or <code>Memo</code></td></tr> <tr><td>»»» obtain_failed</td> <td>integer</td> <td>The obtain failed status- 0: address successfully obtained- 1: failed to obtain address</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-withdrawal-records"><a href="#retrieve-withdrawal-records" class="header-anchor">#</a> Retrieve withdrawal records</h2> <p><a id="opIdlistWithdrawals"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/withdrawals'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/withdrawals&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/withdrawals</code></p> <p><em>Retrieve withdrawal records</em></p> <p>Record time range cannot exceed 30 days</p> <h3 id="listwithdrawals-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Filter by currency. Return all currency records if not specified</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range beginning, default to 7 days before current time</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;210496&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1542000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;order_123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1HkxtBAMrA3tP5ENnYY2CZortjZvFDH5Cs&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;txid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;128988928203223323290&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;block_number&quot;</span><span class="token operator">:</span> <span class="token string">&quot;41575382&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;222.61&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;memo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DONE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TRX&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listwithdrawals-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listwithdrawals-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Record ID</td></tr> <tr><td>» txid</td> <td>string</td> <td>Hash record of the withdrawal</td></tr> <tr><td>» block_number</td> <td>string</td> <td>区块编号</td></tr> <tr><td>» withdraw_order_id</td> <td>string</td> <td>Client order id, up to 32 length and can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</td></tr> <tr><td>» timestamp</td> <td>string</td> <td>Operation time</td></tr> <tr><td>» amount</td> <td>string</td> <td>Currency amount</td></tr> <tr><td>» fee</td> <td>string</td> <td>fee</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» address</td> <td>string</td> <td>Withdrawal address. Required for withdrawals</td></tr> <tr><td>» memo</td> <td>string</td> <td>Additional remarks with regards to the withdrawal</td></tr> <tr><td>» status</td> <td>string</td> <td>Transaction status<br><br>- DONE: Completed (block_number &gt; 0 is considered to be truly completed)<br>- CANCEL: Canceled<br>- REQUEST: Requesting<br>- MANUAL: Pending manual review<br>- BCODE: Recharge code operation<br>- EXTPEND: Sent awaiting confirmation<br>- FAIL: Failure on the chain awaiting confirmation<br>- INVALID: Invalid order<br>- VERIFY: Verifying<br>- PROCES: Processing<br>- PEND: Processing<br>- DMOVE: pending manual review</td></tr> <tr><td>» chain</td> <td>string</td> <td>Name of the chain used in withdrawals</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-deposit-records"><a href="#retrieve-deposit-records" class="header-anchor">#</a> Retrieve deposit records</h2> <p><a id="opIdlistDeposits"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/deposits'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/deposits&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/deposits</code></p> <p><em>Retrieve deposit records</em></p> <p>Record time range cannot exceed 30 days</p> <h3 id="listdeposits-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Filter by currency. Return all currency records if not specified</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range beginning, default to 7 days before current time</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>The maximum number of entries returned in the list is limited to 500 transactions.</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;210496&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timestamp&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1542000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;order_123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1HkxtBAMrA3tP5ENnYY2CZortjZvFDH5Cs&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;txid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;128988928203223323290&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;222.61&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;memo&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DONE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TRX&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeposits-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeposits-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>string</td> <td>Record ID</td></tr> <tr><td>» txid</td> <td>string</td> <td>Hash record of the withdrawal</td></tr> <tr><td>» withdraw_order_id</td> <td>string</td> <td>Client order id, up to 32 length and can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</td></tr> <tr><td>» timestamp</td> <td>string</td> <td>Operation time</td></tr> <tr><td>» amount</td> <td>string</td> <td>Currency amount</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» address</td> <td>string</td> <td>Withdrawal address. Required for withdrawals</td></tr> <tr><td>» memo</td> <td>string</td> <td>Additional remarks with regards to the withdrawal</td></tr> <tr><td>» status</td> <td>string</td> <td>Record status.<br><br>- DONE: done<br>- CANCEL: cancelled<br>- REQUEST: requesting<br>- MANUAL: pending manual approval<br>- BCODE: GateCode operation<br>- EXTPEND: pending confirm after sending<br>- FAIL: pending confirm when fail<br>- INVALID: invalid order<br>- VERIFY: verifying<br>- PROCES: processing<br>- PEND: pending<br>- DMOVE: required manual approval</td></tr> <tr><td>» chain</td> <td>string</td> <td>Name of the chain used in withdrawals</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="transfer-between-trading-accounts"><a href="#transfer-between-trading-accounts" class="header-anchor">#</a> Transfer between trading accounts</h2> <p><a id="opIdtransfer"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/transfers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;from&quot;:&quot;spot&quot;,&quot;to&quot;:&quot;margin&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;settle&quot;:&quot;&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/transfers&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;from&quot;:&quot;spot&quot;,&quot;to&quot;:&quot;margin&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;settle&quot;:&quot;&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /wallet/transfers</code></p> <p><em>Transfer between trading accounts</em></p> <p>Transfer between different accounts. Currently support transfers between the following:</p> <ol><li>spot - margin</li> <li>spot - futures(perpetual)</li> <li>spot - delivery</li> <li>spot - options</li></ol> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;margin&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="transfer-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer currency. For futures account, <code>currency</code> can be set to <code>POINT</code> or settle currency</td></tr> <tr><td>» from</td> <td>body</td> <td>string</td> <td>true</td> <td>Account to transfer from</td></tr> <tr><td>» to</td> <td>body</td> <td>string</td> <td>true</td> <td>Account to transfer to</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer amount</td></tr> <tr><td>» currency_pair</td> <td>body</td> <td>string</td> <td>false</td> <td>Margin currency pair. Required if transfer from or to margin account</td></tr> <tr><td>» settle</td> <td>body</td> <td>string</td> <td>false</td> <td>Futures settle currency. Required if transferring from or to futures account</td></tr></tbody></table> <h4 id="enumerated-values"><a href="#enumerated-values" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>» from</td> <td>spot</td></tr> <tr><td>» from</td> <td>margin</td></tr> <tr><td>» from</td> <td>futures</td></tr> <tr><td>» from</td> <td>delivery</td></tr> <tr><td>» from</td> <td>options</td></tr> <tr><td>» to</td> <td>spot</td></tr> <tr><td>» to</td> <td>margin</td></tr> <tr><td>» to</td> <td>futures</td></tr> <tr><td>» to</td> <td>delivery</td></tr> <tr><td>» to</td> <td>options</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;tx_id&quot;</span><span class="token operator">:</span> <span class="token number">59636381286</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="transfer-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Balance transferred</td> <td>Inline</td></tr></tbody></table> <h3 id="transfer-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>TransactionID</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» tx_id</td> <td>integer(int64)</td> <td>Order id</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="transfer-between-main-and-sub-accounts"><a href="#transfer-between-main-and-sub-accounts" class="header-anchor">#</a> Transfer between main and sub accounts</h2> <p><a id="opIdtransferWithSubAccount"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/sub_account_transfers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;client_order_id&quot;:&quot;da3ce7a088c8b0372b741419c7829033&quot;,&quot;currency&quot;:&quot;BTC&quot;,&quot;sub_account&quot;:&quot;10002&quot;,&quot;direction&quot;:&quot;to&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;sub_account_type&quot;:&quot;spot&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/sub_account_transfers&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;client_order_id&quot;:&quot;da3ce7a088c8b0372b741419c7829033&quot;,&quot;currency&quot;:&quot;BTC&quot;,&quot;sub_account&quot;:&quot;10002&quot;,&quot;direction&quot;:&quot;to&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;sub_account_type&quot;:&quot;spot&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /wallet/sub_account_transfers</code></p> <p><em>Transfer between main and sub accounts</em></p> <p>Support transferring with sub user's spot or futures account. Note that only main user's spot account is used no matter which sub user's account is operated.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;client_order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;da3ce7a088c8b0372b741419c7829033&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sub_account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;direction&quot;</span><span class="token operator">:</span> <span class="token string">&quot;to&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sub_account_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="transferwithsubaccount-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer currency name</td></tr> <tr><td>» sub_account</td> <td>body</td> <td>string</td> <td>true</td> <td>Sub account user ID</td></tr> <tr><td>» direction</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer direction. to - transfer into sub account; from - transfer out from sub account</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer amount</td></tr> <tr><td>» client_order_id</td> <td>body</td> <td>string</td> <td>false</td> <td>The custom ID provided by the customer serves as a safeguard against duplicate transfers. It can be a combination of letters (case-sensitive), numbers, hyphens '-', and underscores '_', with a length ranging from 1 to 64 characters.</td></tr> <tr><td>» sub_account_type</td> <td>body</td> <td>string</td> <td>false</td> <td>Target sub user's account. <code>spot</code> - spot account, <code>futures</code> - perpetual contract account, <code>delivery</code> - delivery account</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;tx_id&quot;</span><span class="token operator">:</span> <span class="token number">59636381286</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="transferwithsubaccount-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Balance transferred</td> <td>Inline</td></tr></tbody></table> <h3 id="transferwithsubaccount-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>TransactionID</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» tx_id</td> <td>integer(int64)</td> <td>Order id</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-transfer-records-between-main-and-sub-accounts"><a href="#retrieve-transfer-records-between-main-and-sub-accounts" class="header-anchor">#</a> Retrieve transfer records between main and sub accounts</h2> <p><a id="opIdlistSubAccountTransfers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/sub_account_transfers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/sub_account_transfers&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/sub_account_transfers</code></p> <p><em>Retrieve transfer records between main and sub accounts</em></p> <p>Record time range cannot exceed 30 days</p> <blockquote><p>Note: only records after 2020-04-10 can be retrieved</p></blockquote> <h3 id="listsubaccounttransfers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>sub_uid</td> <td>query</td> <td>string</td> <td>false</td> <td>User ID of sub-account, you can query multiple records separated by <code>,</code>. If not specified, it will return the records of all sub accounts</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range beginning, default to 7 days before current time</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;timest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1592809000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;client_order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;da3ce7a088c8b0372b741419c7829033&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sub_account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10002&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;direction&quot;</span><span class="token operator">:</span> <span class="token string">&quot;to&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sub_account_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsubaccounttransfers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsubaccounttransfers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» currency</td> <td>string</td> <td>Transfer currency name</td></tr> <tr><td>» sub_account</td> <td>string</td> <td>Sub account user ID</td></tr> <tr><td>» direction</td> <td>string</td> <td>Transfer direction. to - transfer into sub account; from - transfer out from sub account</td></tr> <tr><td>» amount</td> <td>string</td> <td>Transfer amount</td></tr> <tr><td>» uid</td> <td>string</td> <td>Main account user ID</td></tr> <tr><td>» client_order_id</td> <td>string</td> <td>The custom ID provided by the customer serves as a safeguard against duplicate transfers. It can be a combination of letters (case-sensitive), numbers, hyphens '-', and underscores '_', with a length ranging from 1 to 64 characters.</td></tr> <tr><td>» timest</td> <td>string</td> <td>Transfer timestamp</td></tr> <tr><td>» source</td> <td>string</td> <td>Where the operation is initiated from</td></tr> <tr><td>» sub_account_type</td> <td>string</td> <td>Target sub user's account. <code>spot</code> - spot account, <code>futures</code> - perpetual contract account, <code>delivery</code> - delivery account</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="sub-account-transfers-to-sub-account"><a href="#sub-account-transfers-to-sub-account" class="header-anchor">#</a> Sub-account transfers to sub-account</h2> <p><a id="opIdsubAccountToSubAccount"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/sub_account_to_sub_account'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;usdt&quot;,&quot;sub_account_from&quot;:&quot;10001&quot;,&quot;sub_account_from_type&quot;:&quot;spot&quot;,&quot;sub_account_to&quot;:&quot;10002&quot;,&quot;sub_account_to_type&quot;:&quot;spot&quot;,&quot;amount&quot;:&quot;1&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/sub_account_to_sub_account&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;usdt&quot;,&quot;sub_account_from&quot;:&quot;10001&quot;,&quot;sub_account_from_type&quot;:&quot;spot&quot;,&quot;sub_account_to&quot;:&quot;10002&quot;,&quot;sub_account_to_type&quot;:&quot;spot&quot;,&quot;amount&quot;:&quot;1&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /wallet/sub_account_to_sub_account</code></p> <p><em>Sub-account transfers to sub-account</em></p> <p>It is possible to perform balance transfers between two sub-accounts under the same main account. You can use either the API Key of the main account or the API Key of the sub-account to initiate the transfer.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usdt&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sub_account_from&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sub_account_from_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sub_account_to&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sub_account_to_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="subaccounttosubaccount-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer currency name</td></tr> <tr><td>» sub_account_type</td> <td>body</td> <td>string</td> <td>false</td> <td>Transfer from the account. (deprecate, use <code>sub_account_from_type</code> and <code>sub_account_to_type</code> instead)</td></tr> <tr><td>» sub_account_from</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer from the user id of the sub-account</td></tr> <tr><td>» sub_account_from_type</td> <td>body</td> <td>string</td> <td>true</td> <td>The sub-account's outgoing trading account, spot - spot account, futures - perpetual contract account, delivery - delivery contract account.</td></tr> <tr><td>» sub_account_to</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer to the user id of the sub-account</td></tr> <tr><td>» sub_account_to_type</td> <td>body</td> <td>string</td> <td>true</td> <td>The sub-account's incoming trading account, spot - spot account, futures - perpetual contract account, delivery - delivery contract account</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Transfer amount</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;tx_id&quot;</span><span class="token operator">:</span> <span class="token number">59636381286</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="subaccounttosubaccount-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Balance transferred</td> <td>Inline</td></tr></tbody></table> <h3 id="subaccounttosubaccount-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>TransactionID</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» tx_id</td> <td>integer(int64)</td> <td>Order id</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="transfer-status-query"><a href="#transfer-status-query" class="header-anchor">#</a> Transfer status query</h2> <p><a id="opIdgetTransferOrderStatus"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/order_status'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/order_status&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/order_status</code></p> <p><em>Transfer status query</em></p> <p>Support querying transfer status based on user-defined client_order_id or tx_id returned by the transfer interface</p> <h3 id="gettransferorderstatus-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>client_order_id</td> <td>query</td> <td>string</td> <td>false</td> <td>The custom ID provided by the customer serves as a safeguard against duplicate transfers. It can be a combination of letters (case-sensitive), numbers, hyphens '-', and underscores '_', with a length ranging from 1 to 64 characters.</td></tr> <tr><td>tx_id</td> <td>query</td> <td>string</td> <td>false</td> <td>The transfer operation number and client_order_id cannot be empty at the same time</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;tx_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;59636381286&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="gettransferorderstatus-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Transfer status obtained successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="gettransferorderstatus-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>TransferOrderStatus</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» tx_id</td> <td>string</td> <td>Order id</td></tr> <tr><td>» status</td> <td>string</td> <td>Transfer status, PENDING - in process, SUCCESS - successful transfer, FAIL - failed transfer, PARTIAL_SUCCESS - Partially successful (this status will appear when transferring between sub-subs)</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-withdrawal-status"><a href="#retrieve-withdrawal-status" class="header-anchor">#</a> Retrieve withdrawal status</h2> <p><a id="opIdlistWithdrawStatus"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/withdraw_status'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/withdraw_status&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/withdraw_status</code></p> <p><em>Retrieve withdrawal status</em></p> <h3 id="listwithdrawstatus-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GateToken&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name_cn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GateToken&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;deposit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_percent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0%&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_fix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_day_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_day_limit_remain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_amount_mini&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.11&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_eachtime_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_fix_on_chains&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;BTC&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ETH&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;TRX&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;EOS&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.5&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_percent_on_chains&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;ETH&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0%&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;GTEVM&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0%&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listwithdrawstatus-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listwithdrawstatus-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>» name</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» name_cn</td> <td>string</td> <td>Currency Chinese name</td></tr> <tr><td>» deposit</td> <td>string</td> <td>Deposits fee</td></tr> <tr><td>» withdraw_percent</td> <td>string</td> <td>Withdrawal fee rate percentage</td></tr> <tr><td>» withdraw_fix</td> <td>string</td> <td>Fixed withdrawal fee</td></tr> <tr><td>» withdraw_day_limit</td> <td>string</td> <td>Daily allowed withdrawal amount</td></tr> <tr><td>» withdraw_amount_mini</td> <td>string</td> <td>Minimum withdrawal amount</td></tr> <tr><td>» withdraw_day_limit_remain</td> <td>string</td> <td>Daily withdrawal amount left</td></tr> <tr><td>» withdraw_eachtime_limit</td> <td>string</td> <td>Maximum amount for each withdrawal</td></tr> <tr><td>» withdraw_fix_on_chains</td> <td>object</td> <td>Fixed withdrawal fee on multiple chains</td></tr> <tr><td>»» <strong>additionalProperties</strong></td> <td>string</td> <td>none</td></tr> <tr><td>» withdraw_percent_on_chains</td> <td>object</td> <td>Percentage withdrawal fee on multiple chains</td></tr> <tr><td>»» <strong>additionalProperties</strong></td> <td>string</td> <td>none</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-sub-account-balances"><a href="#retrieve-sub-account-balances" class="header-anchor">#</a> Retrieve sub account balances</h2> <p><a id="opIdlistSubAccountBalances"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/sub_account_balances'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/sub_account_balances&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/sub_account_balances</code></p> <p><em>Retrieve sub account balances</em></p> <h3 id="listsubaccountbalances-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>sub_uid</td> <td>query</td> <td>string</td> <td>false</td> <td>User ID of sub-account, you can query multiple records separated by <code>,</code>. If not specified, it will return the records of all sub accounts</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10003&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;BTC&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;GT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;USDT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsubaccountbalances-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsubaccountbalances-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» uid</td> <td>string</td> <td>User ID</td></tr> <tr><td>» available</td> <td>object</td> <td>Available balances of currencies</td></tr> <tr><td>»» <strong>additionalProperties</strong></td> <td>string</td> <td>none</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-sub-accounts-margin-balances"><a href="#query-sub-accounts-margin-balances" class="header-anchor">#</a> Query sub accounts' margin balances</h2> <p><a id="opIdlistSubAccountMarginBalances"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/sub_account_margin_balances'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/sub_account_margin_balances&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/sub_account_margin_balances</code></p> <p><em>Query sub accounts' margin balances</em></p> <h3 id="listsubaccountmarginbalances-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>sub_uid</td> <td>query</td> <td>string</td> <td>false</td> <td>User ID of sub-account, you can query multiple records separated by <code>,</code>. If not specified, it will return the records of all sub accounts</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;risk&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9999.99&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;base&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;quote&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsubaccountmarginbalances-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsubaccountmarginbalances-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» uid</td> <td>string</td> <td>User ID</td></tr> <tr><td>» available</td> <td>array</td> <td>Margin account balances</td></tr> <tr><td>»» <em>None</em></td> <td>object</td> <td>Margin account detail. <code>base</code> refers to base currency, while `quotes to quote currency</td></tr> <tr><td>»»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»»» locked</td> <td>boolean</td> <td>Whether account is locked</td></tr> <tr><td>»»» risk</td> <td>string</td> <td>Current risk rate of margin account</td></tr> <tr><td>»»» base</td> <td>object</td> <td>Account currency details</td></tr> <tr><td>»»»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»»»» available</td> <td>string</td> <td>Amount suitable for margin trading.</td></tr> <tr><td>»»»» locked</td> <td>string</td> <td>Locked amount, used in margin trading</td></tr> <tr><td>»»»» borrowed</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>»»»» interest</td> <td>string</td> <td>Unpaid interests</td></tr> <tr><td>»»» quote</td> <td>object</td> <td>Account currency details</td></tr> <tr><td>»»»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»»»» available</td> <td>string</td> <td>Amount suitable for margin trading.</td></tr> <tr><td>»»»» locked</td> <td>string</td> <td>Locked amount, used in margin trading</td></tr> <tr><td>»»»» borrowed</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>»»»» interest</td> <td>string</td> <td>Unpaid interests</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-sub-accounts-futures-account-balances"><a href="#query-sub-accounts-futures-account-balances" class="header-anchor">#</a> Query sub accounts' futures account balances</h2> <p><a id="opIdlistSubAccountFuturesBalances"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/sub_account_futures_balances'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/sub_account_futures_balances&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/sub_account_futures_balances</code></p> <p><em>Query sub accounts' futures account balances</em></p> <h3 id="listsubaccountfuturesbalances-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>sub_uid</td> <td>query</td> <td>string</td> <td>false</td> <td>User ID of sub-account, you can query multiple records separated by <code>,</code>. If not specified, it will return the records of all sub accounts</td></tr> <tr><td>settle</td> <td>query</td> <td>string</td> <td>false</td> <td>Query only balances of specified settle currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10003&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;BTC&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;GT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;USDT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsubaccountfuturesbalances-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsubaccountfuturesbalances-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» uid</td> <td>string</td> <td>User ID</td></tr> <tr><td>» available</td> <td>object</td> <td>Futures account balances</td></tr> <tr><td>»» <strong>additionalProperties</strong></td> <td>object</td> <td>none</td></tr> <tr><td>»»» total</td> <td>string</td> <td>total is the balance after the user's accumulated deposit, withdraw, profit and loss (including realized profit and loss, fund, fee and referral rebate), excluding unrealized profit and loss. <br>total = SUM(history_dnw, history_pnl, history_fee, history_refr, history_fund)</td></tr> <tr><td>»»» unrealised_pnl</td> <td>string</td> <td>Unrealized PNL</td></tr> <tr><td>»»» position_margin</td> <td>string</td> <td>Position margin</td></tr> <tr><td>»»» order_margin</td> <td>string</td> <td>Order margin of unfinished orders</td></tr> <tr><td>»»» available</td> <td>string</td> <td>The available balance for transferring or trading(including bonus.  Bonus can't be be withdrawn. The transfer amount needs to deduct the bonus)</td></tr> <tr><td>»»» point</td> <td>string</td> <td>POINT amount</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Settle currency</td></tr> <tr><td>»»» in_dual_mode</td> <td>boolean</td> <td>Whether dual mode is enabled</td></tr> <tr><td>»»» enable_credit</td> <td>boolean</td> <td>Whether portfolio margin account mode is enabled</td></tr> <tr><td>»»» position_initial_margin</td> <td>string</td> <td>Initial margin position, applicable to the portfolio margin account model</td></tr> <tr><td>»»» maintenance_margin</td> <td>string</td> <td>The maintenance deposit occupied by the position is suitable for the new classic account margin model and unified account model</td></tr> <tr><td>»»» bonus</td> <td>string</td> <td>Perpetual Contract Bonus</td></tr> <tr><td>»»» enable_evolved_classic</td> <td>boolean</td> <td>Classic account margin mode, true-new mode, false-old mode</td></tr> <tr><td>»»» cross_order_margin</td> <td>string</td> <td>Full -warehouse hanging order deposit, suitable for the new classic account margin model</td></tr> <tr><td>»»» cross_initial_margin</td> <td>string</td> <td>The initial security deposit of the full warehouse is suitable for the new classic account margin model</td></tr> <tr><td>»»» cross_maintenance_margin</td> <td>string</td> <td>Maintain deposit in full warehouse, suitable for new classic account margin models</td></tr> <tr><td>»»» cross_unrealised_pnl</td> <td>string</td> <td>The full warehouse does not achieve profit and loss, suitable for the new classic account margin model</td></tr> <tr><td>»»» cross_available</td> <td>string</td> <td>Full warehouse available amount, suitable for the new classic account margin model</td></tr> <tr><td>»»» isolated_position_margin</td> <td>string</td> <td>Ware -position margin, suitable for the new classic account margin model</td></tr> <tr><td>»»» enable_new_dual_mode</td> <td>boolean</td> <td>Whether to open a new two-way position mode</td></tr> <tr><td>»»» margin_mode</td> <td>integer</td> <td>Margin mode, 0-classic margin mode, 1-cross-currency margin mode, 2-combined margin mode</td></tr> <tr><td>»»» history</td> <td>object</td> <td>Statistical data</td></tr> <tr><td>»»»» dnw</td> <td>string</td> <td>total amount of deposit and withdraw</td></tr> <tr><td>»»»» pnl</td> <td>string</td> <td>total amount of trading profit and loss</td></tr> <tr><td>»»»» fee</td> <td>string</td> <td>total amount of fee</td></tr> <tr><td>»»»» refr</td> <td>string</td> <td>total amount of referrer rebates</td></tr> <tr><td>»»»» fund</td> <td>string</td> <td>total amount of funding costs</td></tr> <tr><td>»»»» point_dnw</td> <td>string</td> <td>total amount of point deposit and withdraw</td></tr> <tr><td>»»»» point_fee</td> <td>string</td> <td>total amount of point fee</td></tr> <tr><td>»»»» point_refr</td> <td>string</td> <td>total amount of referrer rebates of point fee</td></tr> <tr><td>»»»» bonus_dnw</td> <td>string</td> <td>total amount of perpetual contract bonus transfer</td></tr> <tr><td>»»»» bonus_offset</td> <td>string</td> <td>total amount of perpetual contract bonus deduction</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-subaccount-s-cross-margin-account-info"><a href="#query-subaccount-s-cross-margin-account-info" class="header-anchor">#</a> Query subaccount's cross_margin account info</h2> <p><a id="opIdlistSubAccountCrossMarginBalances"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/sub_account_cross_margin_balances'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/sub_account_cross_margin_balances&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/sub_account_cross_margin_balances</code></p> <p><em>Query subaccount's cross_margin account info</em></p> <h3 id="listsubaccountcrossmarginbalances-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>sub_uid</td> <td>query</td> <td>string</td> <td>false</td> <td>User ID of sub-account, you can query multiple records separated by <code>,</code>. If not specified, it will return the records of all sub accounts</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">100003</span><span class="token punctuation">,</span>
      <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed_net&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;net&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;risk&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9999.99&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_margin_balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.00&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_maintenance_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_initial_margin_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9999.9900&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_maintenance_margin_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9999.9900&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_available_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.00&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;balances&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;USDT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsubaccountcrossmarginbalances-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsubaccountcrossmarginbalances-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» uid</td> <td>string</td> <td>User ID</td></tr> <tr><td>» available</td> <td>object</td> <td>none</td></tr> <tr><td>»» user_id</td> <td>integer(int64)</td> <td>User ID of the cross margin account. 0 means that the subaccount has not yet opened a cross margin account</td></tr> <tr><td>»» locked</td> <td>boolean</td> <td>Whether account is locked</td></tr> <tr><td>»» balances</td> <td>object</td> <td>none</td></tr> <tr><td>»»» CrossMarginBalance</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» available</td> <td>string</td> <td>Available amount</td></tr> <tr><td>»»»» freeze</td> <td>string</td> <td>Locked amount</td></tr> <tr><td>»»»» borrowed</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>»»»» interest</td> <td>string</td> <td>Unpaid interests</td></tr> <tr><td>»»» total</td> <td>string</td> <td>Total account value in USDT, i.e., the sum of all currencies' <code>(available+freeze)*price*discount</code></td></tr> <tr><td>»»» borrowed</td> <td>string</td> <td>Total borrowed value in USDT, i.e., the sum of all currencies' <code>borrowed*price*discount</code></td></tr> <tr><td>»»» borrowed_net</td> <td>string</td> <td>Total borrowed value in USDT * borrowed factor</td></tr> <tr><td>»»» net</td> <td>string</td> <td>Total net assets in USDT</td></tr> <tr><td>»»» leverage</td> <td>string</td> <td>Position leverage</td></tr> <tr><td>»»» interest</td> <td>string</td> <td>Total unpaid interests in USDT, i.e., the sum of all currencies' <code>interest*price*discount</code></td></tr> <tr><td>»»» risk</td> <td>string</td> <td>Risk rate. When it belows 110%, liquidation will be triggered. Calculation formula: <code>total / (borrowed+interest)</code></td></tr> <tr><td>»»» total_initial_margin</td> <td>string</td> <td>Total initial margin</td></tr> <tr><td>»»» total_margin_balance</td> <td>string</td> <td>Total margin balance</td></tr> <tr><td>»»» total_maintenance_margin</td> <td>string</td> <td>Total maintenance margin</td></tr> <tr><td>»»» total_initial_margin_rate</td> <td>string</td> <td>Total initial margin rate</td></tr> <tr><td>»»» total_maintenance_margin_rate</td> <td>string</td> <td>Total maintenance margin rate</td></tr> <tr><td>»»» total_available_margin</td> <td>string</td> <td>Total available margin</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-saved-address"><a href="#query-saved-address" class="header-anchor">#</a> Query saved address</h2> <p><a id="opIdlistSavedAddress"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/saved_address'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/saved_address&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/saved_address</code></p> <p><em>Query saved address</em></p> <h3 id="listsavedaddress-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency</td></tr> <tr><td>chain</td> <td>query</td> <td>string</td> <td>false</td> <td>Chain name</td></tr> <tr><td>limit</td> <td>query</td> <td>string</td> <td>false</td> <td>Maximum number returned, 100 at most</td></tr> <tr><td>page</td> <td>query</td> <td>integer</td> <td>false</td> <td>Page number</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usdt&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TRX&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TWYirLzw2RARB2jfeFcfRPmeuU3rC7rakT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gate&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;verified&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsavedaddress-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsavedaddress-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>» chain</td> <td>string</td> <td>Chain name</td></tr> <tr><td>» address</td> <td>string</td> <td>Address</td></tr> <tr><td>» name</td> <td>string</td> <td>Name</td></tr> <tr><td>» tag</td> <td>string</td> <td>Tag</td></tr> <tr><td>» verified</td> <td>string</td> <td>Whether to pass the verification 0-unverified, 1-verified</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-personal-trading-fee"><a href="#retrieve-personal-trading-fee" class="header-anchor">#</a> Retrieve personal trading fee</h2> <p><a id="opIdgetTradeFee"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/fee'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/fee&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/fee</code></p> <p><em>Retrieve personal trading fee</em></p> <h3 id="gettradefee-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify a currency pair to retrieve precise fee rate</td></tr> <tr><td>settle</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify the settlement currency of the contract to get more accurate rate settings</td></tr></tbody></table> <h4 id="detailed-descriptions"><a href="#detailed-descriptions" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>currency_pair</strong>: Specify a currency pair to retrieve precise fee rate</p> <p>This field is optional. In most cases, the fee rate is identical among all currency pairs</p> <p><strong>settle</strong>: Specify the settlement currency of the contract to get more accurate rate settings</p> <p>This field is optional. Generally, the rate settings for all settlement currencies are the same.</p> <h4 id="enumerated-values-2"><a href="#enumerated-values-2" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>BTC</td></tr> <tr><td>settle</td> <td>USDT</td></tr> <tr><td>settle</td> <td>USD</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;futures_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;futures_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;loan_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.18&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;delivery_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00016&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;delivery_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00015&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;debit_fee&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="gettradefee-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="gettradefee-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» taker_fee</td> <td>string</td> <td>taker fee rate</td></tr> <tr><td>» maker_fee</td> <td>string</td> <td>maker fee rate</td></tr> <tr><td>» gt_discount</td> <td>boolean</td> <td>If GT deduction is enabled</td></tr> <tr><td>» gt_taker_fee</td> <td>string</td> <td>Taker fee rate if using GT deduction. It will be 0 if GT deduction is disabled</td></tr> <tr><td>» gt_maker_fee</td> <td>string</td> <td>Maker fee rate if using GT deduction. It will be 0 if GT deduction is disabled</td></tr> <tr><td>» loan_fee</td> <td>string</td> <td>Loan fee rate of margin lending</td></tr> <tr><td>» point_type</td> <td>string</td> <td>Point type. 0 - Initial version. 1 - new version since 202009</td></tr> <tr><td>» futures_taker_fee</td> <td>string</td> <td>Futures trading taker fee</td></tr> <tr><td>» futures_maker_fee</td> <td>string</td> <td>Future trading maker fee</td></tr> <tr><td>» delivery_taker_fee</td> <td>string</td> <td>Delivery trading taker fee</td></tr> <tr><td>» delivery_maker_fee</td> <td>string</td> <td>Delivery trading maker fee</td></tr> <tr><td>» debit_fee</td> <td>integer</td> <td>Deduction types for rates, 1 - GT deduction, 2 - Point card deduction, 3 - VIP rates</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-user-s-total-balances"><a href="#retrieve-user-s-total-balances" class="header-anchor">#</a> Retrieve user's total balances</h2> <p><a id="opIdgetTotalBalance"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/total_balance'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/total_balance&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/total_balance</code></p> <p><em>Retrieve user's total balances</em></p> <p>This endpoint returns an approximate sum of exchanged amount from all currencies to input currency for each account.The exchange rate and account balance could have been cached for at most 1 minute. It is not recommended to use its result for any trading calculation.</p> <p>For trading calculation, use the corresponding account query endpoint for each account type. For example:</p> <ul><li><code>GET /spot/accounts</code> to query spot account balance</li> <li><code>GET /margin/accounts</code> to query margin account balance</li> <li><code>GET /futures/{settle}/accounts</code> to query futures account balance</li></ul> <h3 id="gettotalbalance-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency unit used to calculate the balance amount. BTC, CNY, USD and USDT are allowed. USDT is the default.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;cross_margin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;spot&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;42264489969935775.5160259954878034182418&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finance&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;662714381.70310327810191647181&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1259175.664137668554329559&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quant&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;591702859674467879.6488202650892478553852&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;futures&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2384175.5606114082065&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;delivery&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1519804.9756702&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;warrant&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cbbc&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;633967350312281193.068368815439797304437&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="gettotalbalance-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Request is valid and is successfully responded</td> <td>Inline</td></tr></tbody></table> <h3 id="gettotalbalance-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>User's balance in all accounts</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>object</td> <td>Total balances calculated with specified currency unit</td></tr> <tr><td>»» amount</td> <td>string</td> <td>Account total balance amount</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» unrealised_pnl</td> <td>string</td> <td>Unrealised_pnl, this field will only appear in futures, options, delivery, and total accounts</td></tr> <tr><td>»» borrowed</td> <td>string</td> <td>Borrowed，this field will only appear in margin and cross_margin accounts</td></tr> <tr><td>» details</td> <td>object</td> <td>Total balances in different accounts<br><br>- cross_margin: cross margin account<br>- spot: spot account<br>- finance: finance account<br>- margin: margin account<br>- quant: quant account<br>- futures: futures account<br>- delivery: delivery account<br>- warrant: warrant account<br>- cbbc: cbbc account</td></tr> <tr><td>»» <strong>additionalProperties</strong></td> <td>object</td> <td>Total balances calculated with specified currency unit</td></tr> <tr><td>»»» amount</td> <td>string</td> <td>Account total balance amount</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»» unrealised_pnl</td> <td>string</td> <td>Unrealised_pnl, this field will only appear in futures, options, delivery, and total accounts</td></tr> <tr><td>»»» borrowed</td> <td>string</td> <td>Borrowed，this field will only appear in margin and cross_margin accounts</td></tr></tbody></table> <h4 id="enumerated-values-3"><a href="#enumerated-values-3" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>currency</td> <td>BTC</td></tr> <tr><td>currency</td> <td>CNY</td></tr> <tr><td>currency</td> <td>USD</td></tr> <tr><td>currency</td> <td>USDT</td></tr> <tr><td>currency</td> <td>BTC</td></tr> <tr><td>currency</td> <td>CNY</td></tr> <tr><td>currency</td> <td>USD</td></tr> <tr><td>currency</td> <td>USDT</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-small-balance"><a href="#list-small-balance" class="header-anchor">#</a> List small balance</h2> <p><a id="opIdlistSmallBalance"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/small_balance'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/small_balance&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/small_balance</code></p> <p><em>List small balance</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FLOKI&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;available_balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;182.29400000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;estimated_as_btc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000012&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;convertible_to_gt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001080&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MBLK&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;available_balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.91723337&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;estimated_as_btc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000102&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;convertible_to_gt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.009188&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsmallbalance-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsmallbalance-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Convert Small Balance</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» available_balance</td> <td>string</td> <td>Available balance</td></tr> <tr><td>»» estimated_as_btc</td> <td>string</td> <td>Estimated as BTC</td></tr> <tr><td>»» convertible_to_gt</td> <td>string</td> <td>Estimated conversion to GT</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="convert-small-balance"><a href="#convert-small-balance" class="header-anchor">#</a> Convert small balance</h2> <p><a id="opIdconvertSmallBalance"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/small_balance'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:[&quot;FLOKI&quot;,&quot;MBLK&quot;],&quot;is_all&quot;:true}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/small_balance&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:[&quot;FLOKI&quot;,&quot;MBLK&quot;],&quot;is_all&quot;:true}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /wallet/small_balance</code></p> <p><em>Convert small balance</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;FLOKI&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;MBLK&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_all&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="convertsmallbalance-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>array</td> <td>false</td> <td>Currency</td></tr> <tr><td>» is_all</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Whether to exchange all</td></tr></tbody></table> <h3 id="convertsmallbalance-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-small-balance-history"><a href="#list-small-balance-history" class="header-anchor">#</a> List small balance history</h2> <p><a id="opIdlistSmallBalanceHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/small_balance_history'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/small_balance_history&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/small_balance_history</code></p> <p><em>List small balance history</em></p> <h3 id="listsmallbalancehistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;28583810&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1706670777</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;FLOKI&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;182.29400000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;gt_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001079&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsmallbalancehistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsmallbalancehistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Convert Small Balance</td></tr> <tr><td>»» id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» amount</td> <td>string</td> <td>amount</td></tr> <tr><td>»» gt_amount</td> <td>string</td> <td>GT amount</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Exchange time (in seconds)</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-the-uid-transfer-history"><a href="#retrieve-the-uid-transfer-history" class="header-anchor">#</a> Retrieve the UID transfer history</h2> <p><a id="opIdlistPushOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/wallet/push'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/wallet/push&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /wallet/push</code></p> <p><em>Retrieve the UID transfer history</em></p> <h3 id="listpushorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Order ID</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>The start time of the query record. If not specified, it defaults to 7 days forward from the current time, in seconds Unix timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>The end time of the query record. If not specified, the default is the current time, which is a Unix timestamp in seconds.</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>The maximum number of items returned in the list, the default value is 100</td></tr> <tr><td>offset</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>transaction_type</td> <td>query</td> <td>string</td> <td>false</td> <td>The list returns the order type <code>withdraw</code>, <code>deposit</code>, the default is <code>withdraw</code>.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">,</span>
    <span class="token property">&quot;push_uid&quot;</span><span class="token operator">:</span> <span class="token number">1132</span><span class="token punctuation">,</span>
    <span class="token property">&quot;receive_uid&quot;</span><span class="token operator">:</span> <span class="token number">12324</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;PENDING&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1706670777</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;The other party has not completed KYC,There is a security risk in your account, please contact customer service&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;transaction_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;withdraw&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listpushorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listpushorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>» push_uid</td> <td>integer(int64)</td> <td>Initiator User ID</td></tr> <tr><td>» receive_uid</td> <td>integer(int64)</td> <td>Recipient User ID</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» amount</td> <td>string</td> <td>Transfer amount</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation time</td></tr> <tr><td>» status</td> <td>string</td> <td>Withdrawal Status<br><br>- CREATING: Creating<br>- PENDING: Waiting for receiving(Please contact the other party to accept the transfer on the Gate official website)<br>- CANCELLING: Cancelling<br>- CANCELLED: Revoked<br>- REFUSING: Rejection<br>- REFUSED: Rejected<br>- RECEIVING: Receiving<br>- RECEIVED: Success</td></tr> <tr><td>» message</td> <td>string</td> <td>PENDING Reason Tips</td></tr> <tr><td>» transaction_type</td> <td>string</td> <td>Order Type</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="subaccount"><a href="#subaccount" class="header-anchor">#</a> SubAccount</h1> <p>Sub-accounts management</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-new-sub-account"><a href="#create-a-new-sub-account" class="header-anchor">#</a> Create a new sub-account</h2> <p><a id="opIdcreateSubAccounts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;remark&quot;:&quot;remark&quot;,&quot;login_name&quot;:&quot;sub_account_for_trades&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;remark&quot;:&quot;remark&quot;,&quot;login_name&quot;:&quot;sub_account_for_trades&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /sub_accounts</code></p> <p><em>Create a new sub-account</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;remark&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;login_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sub_account_for_trades&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createsubaccounts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» remark</td> <td>body</td> <td>string</td> <td>false</td> <td>custom text</td></tr> <tr><td>» login_name</td> <td>body</td> <td>string</td> <td>true</td> <td>Sub-account login name: Only letters, numbers and underscores are supported, and cannot contain other illegal characters</td></tr> <tr><td>» password</td> <td>body</td> <td>string</td> <td>false</td> <td>The sub-account's password. (Default: the same as main account's password)</td></tr> <tr><td>» email</td> <td>body</td> <td>string</td> <td>false</td> <td>The sub-account's email address. (Default: the same as main account's email address)</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;remark&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;login_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sub_account_for_trades&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">168888888</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createsubaccounts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Created Successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="createsubaccounts-responseschema">Response Schema</h3> <p>Status Code <strong>201</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» remark</td> <td>string</td> <td>custom text</td></tr> <tr><td>» login_name</td> <td>string</td> <td>Sub-account login name: Only letters, numbers and underscores are supported, and cannot contain other illegal characters</td></tr> <tr><td>» password</td> <td>string</td> <td>The sub-account's password. (Default: the same as main account's password)</td></tr> <tr><td>» email</td> <td>string</td> <td>The sub-account's email address. (Default: the same as main account's email address)</td></tr> <tr><td>» state</td> <td>integer(int32)</td> <td>State: 1-normal, 2-locked&quot;</td></tr> <tr><td>» type</td> <td>integer(int32)</td> <td>&quot;Sub-account type: 1 - sub-account, 3 - cross margin account</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>The user id of the sub-account</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-sub-accounts"><a href="#list-sub-accounts" class="header-anchor">#</a> List sub-accounts</h2> <p><a id="opIdlistSubAccounts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /sub_accounts</code></p> <p><em>List sub-accounts</em></p> <h3 id="listsubaccounts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td><code>0</code> to list all types of sub-accounts (currently supporting cross margin accounts and sub-accounts).</td></tr></tbody></table> <h4 id="detailed-descriptions-2"><a href="#detailed-descriptions-2" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>type</strong>: <code>0</code> to list all types of sub-accounts (currently supporting cross margin accounts and sub-accounts).
<code>1</code> to list sub-accounts only. If no parameter is passed, only sub-accounts will be listed by default.</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;remark&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;login_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sub_account_for_trades&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
    <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">168888888</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsubaccounts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listsubaccounts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» remark</td> <td>string</td> <td>custom text</td></tr> <tr><td>» login_name</td> <td>string</td> <td>Sub-account login name: Only letters, numbers and underscores are supported, and cannot contain other illegal characters</td></tr> <tr><td>» password</td> <td>string</td> <td>The sub-account's password. (Default: the same as main account's password)</td></tr> <tr><td>» email</td> <td>string</td> <td>The sub-account's email address. (Default: the same as main account's email address)</td></tr> <tr><td>» state</td> <td>integer(int32)</td> <td>State: 1-normal, 2-locked&quot;</td></tr> <tr><td>» type</td> <td>integer(int32)</td> <td>&quot;Sub-account type: 1 - sub-account, 3 - cross margin account</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>The user id of the sub-account</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-the-sub-account"><a href="#get-the-sub-account" class="header-anchor">#</a> Get the sub-account</h2> <p><a id="opIdgetSubAccount"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/0'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/0&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /sub_accounts/{user_id}</code></p> <p><em>Get the sub-account</em></p> <h3 id="getsubaccount-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>Sub-account user id</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;remark&quot;</span><span class="token operator">:</span> <span class="token string">&quot;remark&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;login_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sub_account_for_trades&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">168888888</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getsubaccount-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td>Inline</td></tr></tbody></table> <h3 id="getsubaccount-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» remark</td> <td>string</td> <td>custom text</td></tr> <tr><td>» login_name</td> <td>string</td> <td>Sub-account login name: Only letters, numbers and underscores are supported, and cannot contain other illegal characters</td></tr> <tr><td>» password</td> <td>string</td> <td>The sub-account's password. (Default: the same as main account's password)</td></tr> <tr><td>» email</td> <td>string</td> <td>The sub-account's email address. (Default: the same as main account's email address)</td></tr> <tr><td>» state</td> <td>integer(int32)</td> <td>State: 1-normal, 2-locked&quot;</td></tr> <tr><td>» type</td> <td>integer(int32)</td> <td>&quot;Sub-account type: 1 - sub-account, 3 - cross margin account</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>The user id of the sub-account</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-api-key-of-the-sub-account"><a href="#create-api-key-of-the-sub-account" class="header-anchor">#</a> Create API Key of the sub-account</h2> <p><a id="opIdcreateSubAccountKeys"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/0/keys'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;mode&quot;:1,&quot;name&quot;:&quot;spot&quot;,&quot;perms&quot;:[{&quot;read_only&quot;:false,&quot;name&quot;:&quot;options&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;spot&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;delivery&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;wallet&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;futures&quot;}],&quot;ip_whitelist&quot;:[&quot;127.0.0.1&quot;,&quot;127.0.0.2&quot;]}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/0/keys&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;mode&quot;:1,&quot;name&quot;:&quot;spot&quot;,&quot;perms&quot;:[{&quot;read_only&quot;:false,&quot;name&quot;:&quot;options&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;spot&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;delivery&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;wallet&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;futures&quot;}],&quot;ip_whitelist&quot;:[&quot;127.0.0.1&quot;,&quot;127.0.0.2&quot;]}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /sub_accounts/{user_id}/keys</code></p> <p><em>Create API Key of the sub-account</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;perms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;options&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;delivery&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wallet&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;futures&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ip_whitelist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;127.0.0.2&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createsubaccountkeys-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>Sub-account user id</td></tr> <tr><td>body</td> <td>body</td> <td><a href="#schemasubaccountkey">SubAccountKey</a></td> <td>true</td> <td>none</td></tr> <tr><td>» mode</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>Mode: 1 - classic 2 - portfolio account</td></tr> <tr><td>» name</td> <td>body</td> <td>string</td> <td>false</td> <td>API key name</td></tr> <tr><td>» perms</td> <td>body</td> <td>array</td> <td>false</td> <td>none</td></tr> <tr><td>»» name</td> <td>body</td> <td>string</td> <td>false</td> <td>Permission function name (no value will be cleared)</td></tr> <tr><td>»» read_only</td> <td>body</td> <td>boolean</td> <td>false</td> <td>read only</td></tr> <tr><td>» ip_whitelist</td> <td>body</td> <td>array</td> <td>false</td> <td>ip white list (list will be removed if no value is passed)</td></tr></tbody></table> <h4 id="detailed-descriptions-3"><a href="#detailed-descriptions-3" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>»» name</strong>: Permission function name (no value will be cleared)</p> <ul><li>wallet: wallet</li> <li>spot: spot/leverage</li> <li>futures: perpetual contract</li> <li>delivery: delivery contract</li> <li>earn: financial management</li> <li>custody: custody</li> <li>options: options</li> <li>account: account information</li> <li>loan: loan</li> <li>margin: leverage</li> <li>unified: unified account</li> <li>copy: copy</li></ul> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;perms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;options&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;delivery&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wallet&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;futures&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ip_whitelist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;127.0.0.2&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cddcc6e5e78060e013860bdbe5e737830b96821c027664586fb38b411808f4fd&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eb8815bf99d7bb5f8ad6497bdc4774a8&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1663683330</span><span class="token punctuation">,</span>
  <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token number">1663683330</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createsubaccountkeys-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Created Successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="createsubaccountkeys-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user_id</td> <td>string</td> <td>User ID</td></tr> <tr><td>» mode</td> <td>integer(int32)</td> <td>Mode: 1 - classic 2 - portfolio account</td></tr> <tr><td>» name</td> <td>string</td> <td>API key name</td></tr> <tr><td>» perms</td> <td>array</td> <td>none</td></tr> <tr><td>»» name</td> <td>string</td> <td>Permission function name (no value will be cleared)<br>- wallet: wallet<br>- spot: spot/leverage<br>- futures: perpetual contract<br>- delivery: delivery contract<br>- earn: financial management<br>- custody: custody<br>- options: options<br>- account: account information<br>- loan: loan<br>- margin: leverage<br>- unified: unified account<br>- copy: copy</td></tr> <tr><td>»» read_only</td> <td>boolean</td> <td>read only</td></tr> <tr><td>» ip_whitelist</td> <td>array</td> <td>ip white list (list will be removed if no value is passed)</td></tr> <tr><td>» key</td> <td>string</td> <td>API Key</td></tr> <tr><td>» state</td> <td>integer(int32)</td> <td>State 1 - normal 2 - locked 3 - frozen</td></tr> <tr><td>» created_at</td> <td>integer(int64)</td> <td>Creation time</td></tr> <tr><td>» updated_at</td> <td>integer(int64)</td> <td>Last update time</td></tr> <tr><td>» last_access</td> <td>integer(int64)</td> <td>Last access time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-api-key-of-the-sub-account"><a href="#list-all-api-key-of-the-sub-account" class="header-anchor">#</a> List all API Key of the sub-account</h2> <p><a id="opIdlistSubAccountKeys"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/0/keys'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/0/keys&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /sub_accounts/{user_id}/keys</code></p> <p><em>List all API Key of the sub-account</em></p> <h3 id="listsubaccountkeys-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>path</td> <td>integer</td> <td>true</td> <td>Sub-account user id</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">1000000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;perms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;futures&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wallet&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;delivery&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;options&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ip_whitelist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;127.0.0.2&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;75c3264105b74693d8cb5c7f1a8e2420&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1663642892</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_access&quot;</span><span class="token operator">:</span> <span class="token number">1663642892</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_at&quot;</span><span class="token operator">:</span> <span class="token number">1663642892</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listsubaccountkeys-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemasubaccountkey">SubAccountKey</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-api-key-of-the-sub-account"><a href="#update-api-key-of-the-sub-account" class="header-anchor">#</a> Update API key of the sub-account</h2> <p><a id="opIdupdateSubAccountKeys"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/0/keys/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;mode&quot;:1,&quot;name&quot;:&quot;spot&quot;,&quot;perms&quot;:[{&quot;read_only&quot;:false,&quot;name&quot;:&quot;options&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;spot&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;delivery&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;wallet&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;futures&quot;}],&quot;ip_whitelist&quot;:[&quot;127.0.0.1&quot;,&quot;127.0.0.2&quot;]}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;PUT&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/0/keys/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;mode&quot;:1,&quot;name&quot;:&quot;spot&quot;,&quot;perms&quot;:[{&quot;read_only&quot;:false,&quot;name&quot;:&quot;options&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;spot&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;delivery&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;wallet&quot;},{&quot;read_only&quot;:false,&quot;name&quot;:&quot;futures&quot;}],&quot;ip_whitelist&quot;:[&quot;127.0.0.1&quot;,&quot;127.0.0.2&quot;]}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>PUT /sub_accounts/{user_id}/keys/{key}</code></p> <p><em>Update API key of the sub-account</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;perms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;options&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;delivery&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wallet&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;futures&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ip_whitelist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;127.0.0.2&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="updatesubaccountkeys-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>path</td> <td>integer</td> <td>true</td> <td>Sub-account user id</td></tr> <tr><td>key</td> <td>path</td> <td>string</td> <td>true</td> <td>The API Key of the sub-account</td></tr> <tr><td>body</td> <td>body</td> <td><a href="#schemasubaccountkey">SubAccountKey</a></td> <td>true</td> <td>none</td></tr> <tr><td>» mode</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>Mode: 1 - classic 2 - portfolio account</td></tr> <tr><td>» name</td> <td>body</td> <td>string</td> <td>false</td> <td>API key name</td></tr> <tr><td>» perms</td> <td>body</td> <td>array</td> <td>false</td> <td>none</td></tr> <tr><td>»» name</td> <td>body</td> <td>string</td> <td>false</td> <td>Permission function name (no value will be cleared)</td></tr> <tr><td>»» read_only</td> <td>body</td> <td>boolean</td> <td>false</td> <td>read only</td></tr> <tr><td>» ip_whitelist</td> <td>body</td> <td>array</td> <td>false</td> <td>ip white list (list will be removed if no value is passed)</td></tr></tbody></table> <h4 id="detailed-descriptions-4"><a href="#detailed-descriptions-4" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>»» name</strong>: Permission function name (no value will be cleared)</p> <ul><li>wallet: wallet</li> <li>spot: spot/leverage</li> <li>futures: perpetual contract</li> <li>delivery: delivery contract</li> <li>earn: financial management</li> <li>custody: custody</li> <li>options: options</li> <li>account: account information</li> <li>loan: loan</li> <li>margin: leverage</li> <li>unified: unified account</li> <li>copy: copy</li></ul> <h3 id="updatesubaccountkeys-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Updated</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="delete-api-key-of-the-sub-account"><a href="#delete-api-key-of-the-sub-account" class="header-anchor">#</a> Delete API key of the sub-account</h2> <p><a id="opIddeleteSubAccountKeys"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/0/keys/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/0/keys/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /sub_accounts/{user_id}/keys/{key}</code></p> <p><em>Delete API key of the sub-account</em></p> <h3 id="deletesubaccountkeys-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>path</td> <td>integer</td> <td>true</td> <td>Sub-account user id</td></tr> <tr><td>key</td> <td>path</td> <td>string</td> <td>true</td> <td>The API Key of the sub-account</td></tr></tbody></table> <h3 id="deletesubaccountkeys-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Delete successfully</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-the-api-key-of-the-sub-account"><a href="#get-the-api-key-of-the-sub-account" class="header-anchor">#</a> Get the API Key of the sub-account</h2> <p><a id="opIdgetSubAccountKey"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/0/keys/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/0/keys/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /sub_accounts/{user_id}/keys/{key}</code></p> <p><em>Get the API Key of the sub-account</em></p> <h3 id="getsubaccountkey-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>path</td> <td>integer</td> <td>true</td> <td>Sub-account user id</td></tr> <tr><td>key</td> <td>path</td> <td>string</td> <td>true</td> <td>The API Key of the sub-account</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">1000000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;perms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;futures&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wallet&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;delivery&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;options&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ip_whitelist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;127.0.0.2&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;75c3264105b74693d8cb5c7f1a8e2420&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">1663642892</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_access&quot;</span><span class="token operator">:</span> <span class="token number">1663642892</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_at&quot;</span><span class="token operator">:</span> <span class="token number">1663642892</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getsubaccountkey-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td><a href="#schemasubaccountkey">SubAccountKey</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="lock-the-sub-account"><a href="#lock-the-sub-account" class="header-anchor">#</a> Lock the sub-account</h2> <p><a id="opIdlockSubAccount"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/0/lock'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/0/lock&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /sub_accounts/{user_id}/lock</code></p> <p><em>Lock the sub-account</em></p> <h3 id="locksubaccount-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>The user id of the sub-account</td></tr></tbody></table> <h3 id="locksubaccount-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Lock successfully</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="unlock-the-sub-account"><a href="#unlock-the-sub-account" class="header-anchor">#</a> Unlock the sub-account</h2> <p><a id="opIdunlockSubAccount"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/0/unlock'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/0/unlock&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /sub_accounts/{user_id}/unlock</code></p> <p><em>Unlock the sub-account</em></p> <h3 id="unlocksubaccount-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>The user id of the sub-account</td></tr></tbody></table> <h3 id="unlocksubaccount-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Unlock successfully</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-sub-account-mode"><a href="#get-sub-account-mode" class="header-anchor">#</a> Get sub-account mode</h2> <p><a id="opIdlistUnifiedMode"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/sub_accounts/unified_mode'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/sub_accounts/unified_mode&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /sub_accounts/unified_mode</code></p> <p><em>Get sub-account mode</em></p> <p>Unified account mode：</p> <ul><li><code>classic</code>: Classic account mode</li> <li><code>multi_currency</code>: Multi-currency margin mode</li> <li><code>portfolio</code>: Portfolio margin mode</li></ul> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">110285555</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_unified&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;multi_currency&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listunifiedmode-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listunifiedmode-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» is_unified</td> <td>boolean</td> <td>Is it a unified account?</td></tr> <tr><td>» mode</td> <td>string</td> <td>Unified account mode：<br>- <code>classic</code>: Classic account mode<br>- <code>multi_currency</code>: Multi-currency margin mode<br>- <code>portfolio</code>: Portfolio margin mode</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="unified"><a href="#unified" class="header-anchor">#</a> Unified</h1> <p>Unified account</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-unified-account-information"><a href="#get-unified-account-information" class="header-anchor">#</a> Get unified account information</h2> <p><a id="opIdlistUnifiedAccounts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/accounts</code></p> <p><em>Get unified account information</em></p> <p>The assets of each currency in the account will be adjusted according to their liquidity, defined by corresponding adjustment coefficients, and then uniformly converted to USD to calculate the total asset value and position value of the account.</p> <p>You can refer to the <a href="#portfolio-account">Formula</a> in the documentation</p> <h3 id="listunifiedaccounts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>sub_uid</td> <td>query</td> <td>string</td> <td>false</td> <td>Sub account user ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;balances&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;ETH&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.075393666654&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;negative_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;futures_pos_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1016.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;spot_in_use&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.111&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;POINT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9999999999.017023138734&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;negative_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;futures_pos_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12016.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;spot_in_use&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;USDT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000062023&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;negative_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;futures_pos_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;spot_in_use&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;230.94621713&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;161.66395521&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1025.0524665088&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_margin_balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3382495.944473949183&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_maintenance_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;205.01049330176&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_initial_margin_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3299.827135672679&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_maintenance_margin_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16499.135678363399&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_available_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3381470.892007440383&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unified_account_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3381470.892007440383&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unified_account_total_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unified_account_total_equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100016.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;spot_order_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;spot_hedge&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listunifiedaccounts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listunifiedaccounts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» refresh_time</td> <td>integer(int64)</td> <td>Time of the most recent refresh</td></tr> <tr><td>» locked</td> <td>boolean</td> <td>Whether the account is locked, valid in cross-currency margin/combined margin mode, false in other modes such as single-currency margin mode</td></tr> <tr><td>» balances</td> <td>object</td> <td>none</td></tr> <tr><td>»» UnifiedBalance</td> <td>object</td> <td>none</td></tr> <tr><td>»»» available</td> <td>string</td> <td>Available amount is valid in single currency margin/cross-currency margin/combined margin mode, and the calculation is different in different modes</td></tr> <tr><td>»»» freeze</td> <td>string</td> <td>The locked amount is valid in single currency margin/cross-currency margin/combined margin mode</td></tr> <tr><td>»»» borrowed</td> <td>string</td> <td>Borrow limit, valid in cross-currency margin/combined margin mode, 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»»» negative_liab</td> <td>string</td> <td>Negative balance loan is valid in cross-currency margin/combined margin mode, and is 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»»» futures_pos_liab</td> <td>string</td> <td>Contract opening position borrowing currency (abandoned, to be offline field)</td></tr> <tr><td>»»» equity</td> <td>string</td> <td>Equity, valid in single currency margin/cross currency margin/combined margin mode</td></tr> <tr><td>»»» total_freeze</td> <td>string</td> <td>Total occupancy (discarded, to be offline field)</td></tr> <tr><td>»»» total_liab</td> <td>string</td> <td>Total borrowing, valid in cross-currency margin/combined margin mode, 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»»» spot_in_use</td> <td>string</td> <td>The amount of spot hedging is valid in the combined margin mode, and is 0 in other margin modes such as single currency and cross-currency margin modes</td></tr> <tr><td>»»» funding</td> <td>string</td> <td>Uniloan financial management amount, effective when Uniloan financial management is turned on as a unified account margin switch</td></tr> <tr><td>»»» funding_version</td> <td>string</td> <td>Funding version</td></tr> <tr><td>»»» cross_balance</td> <td>string</td> <td>Full margin balance is valid in single currency margin mode, and is 0 in other modes such as cross currency margin/combined margin mode</td></tr> <tr><td>»»» iso_balance</td> <td>string</td> <td>Isolated margin balance is valid in single-currency margin mode and is 0 in other modes such as cross-currency margin/combined margin mode</td></tr> <tr><td>»»» im</td> <td>string</td> <td>Full-position initial margin is valid in single-currency margin mode and is 0 in other modes such as cross-currency margin/combined margin mode</td></tr> <tr><td>»»» mm</td> <td>string</td> <td>The full position maintains margin, which is valid in the single currency margin mode, and other cross-currency margin combination margin mode is 0.</td></tr> <tr><td>»»» imr</td> <td>string</td> <td>Full-position initial margin rate is valid in single-currency margin mode and is 0 in other modes such as cross-currency margin/combined margin mode</td></tr> <tr><td>»»» mmr</td> <td>string</td> <td>Full-position maintenance margin rate is valid in single-currency margin mode and is 0 in other modes such as cross-currency margin/combined margin mode</td></tr> <tr><td>»»» margin_balance</td> <td>string</td> <td>Full margin balance is valid in single currency margin mode and is 0 in other modes such as cross currency margin/combined margin mode</td></tr> <tr><td>»»» available_margin</td> <td>string</td> <td>Full margin available for full position is valid in single currency margin mode, and is 0 in other modes such as cross-currency margin/combined margin mode</td></tr> <tr><td>»» total</td> <td>string</td> <td>Total account assets converted to USD, i.e. the sum of <code>(available + freeze) * price</code>  in all currencies (deprecated, to be deprecated, replaced by unified_account_total)</td></tr> <tr><td>»» borrowed</td> <td>string</td> <td>The total borrowed amount of the account converted into USD, i.e. the sum of <code>borrowed * price</code> of all currencies (excluding Point Cards). It is valid in cross-currency margin/combined margin mode, and is 0 in other modes such as single-currency margin mode.</td></tr> <tr><td>»» total_initial_margin</td> <td>string</td> <td>Total initial margin, valid in cross-currency margin/combined margin mode, 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»» total_margin_balance</td> <td>string</td> <td>Total margin balance, valid in cross-currency margin/combined margin mode, 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»» total_maintenance_margin</td> <td>string</td> <td>Total maintenance margin is valid in cross-currency margin/combined margin mode, and is 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»» total_initial_margin_rate</td> <td>string</td> <td>Total initial margin rate, valid in cross-currency margin/combined margin mode, 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»» total_maintenance_margin_rate</td> <td>string</td> <td>Total maintenance margin rate, valid in cross-currency margin/combined margin mode, 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»» total_available_margin</td> <td>string</td> <td>Available margin amount, valid in cross-currency margin/combined margin mode, 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»» unified_account_total</td> <td>string</td> <td>Unify the total account assets, valid in single currency margin/cross-currency margin/combined margin mode</td></tr> <tr><td>»» unified_account_total_liab</td> <td>string</td> <td>Unify the total loan of the account, valid in the cross-currency margin/combined margin mode, and 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»» unified_account_total_equity</td> <td>string</td> <td>Unify the total account equity, valid in single currency margin/cross-currency margin/combined margin mode</td></tr> <tr><td>»» leverage</td> <td>string</td> <td>Actual leverage, valid in cross-currency margin/combined margin mode</td></tr> <tr><td>»» spot_order_loss</td> <td>string</td> <td>Total pending order loss, in USDT, valid in cross-currency margin/combined margin mode, 0 in other modes such as single-currency margin mode</td></tr> <tr><td>»» spot_hedge</td> <td>boolean</td> <td>Spot hedging status, true - enabled, false - not enabled.</td></tr> <tr><td>»» use_funding</td> <td>boolean</td> <td>Whether to use funds as margin</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-about-the-maximum-borrowing-for-the-unified-account"><a href="#query-about-the-maximum-borrowing-for-the-unified-account" class="header-anchor">#</a> Query about the maximum borrowing for the unified account</h2> <p><a id="opIdgetUnifiedBorrowable"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/borrowable'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=BTC'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/borrowable&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=BTC&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/borrowable</code></p> <p><em>Query about the maximum borrowing for the unified account</em></p> <h3 id="getunifiedborrowable-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Retrieve data of the specified currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getunifiedborrowable-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getunifiedborrowable-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>UnifiedBorrowable</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency detail</td></tr> <tr><td>» amount</td> <td>string</td> <td>Max borrowable amount</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-about-the-maximum-transferable-for-the-unified-account"><a href="#query-about-the-maximum-transferable-for-the-unified-account" class="header-anchor">#</a> Query about the maximum transferable for the unified account</h2> <p><a id="opIdgetUnifiedTransferable"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/transferable'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=BTC'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/transferable&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=BTC&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/transferable</code></p> <p><em>Query about the maximum transferable for the unified account</em></p> <h3 id="getunifiedtransferable-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Retrieve data of the specified currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getunifiedtransferable-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getunifiedtransferable-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>UnifiedTransferable</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency detail</td></tr> <tr><td>» amount</td> <td>string</td> <td>The maximum amount that can be transferred out</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="borrow-or-repay"><a href="#borrow-or-repay" class="header-anchor">#</a> Borrow or repay</h2> <p><a id="opIdcreateUnifiedLoan"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/loans'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;amount&quot;:&quot;0.1&quot;,&quot;type&quot;:&quot;borrow&quot;,&quot;repaid_all&quot;:false,&quot;text&quot;:&quot;t-test&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/loans&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;amount&quot;:&quot;0.1&quot;,&quot;type&quot;:&quot;borrow&quot;,&quot;repaid_all&quot;:false,&quot;text&quot;:&quot;t-test&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /unified/loans</code></p> <p><em>Borrow or repay</em></p> <p>When borrowing, it is essential to ensure that the borrowed amount is not below the minimum borrowing threshold for the specific cryptocurrency and does not exceed the maximum borrowing limit set by the platform and the user.</p> <p>The interest on the loan will be automatically deducted from the account at regular intervals. It is the user's responsibility to manage the repayment of the borrowed amount.</p> <p>For repayment, the option to repay the entire borrowed amount is available by setting the parameter <code>repaid_all=true</code></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;borrow&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_all&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-test&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createunifiedloan-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency</td></tr> <tr><td>» type</td> <td>body</td> <td>string</td> <td>true</td> <td>type: borrow - borrow, repay - repay</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>The amount of lending or repaying</td></tr> <tr><td>» repaid_all</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Full repayment is solely for repayment operations. When set to 'true,' it overrides the 'amount,' allowing for direct full repayment.</td></tr> <tr><td>» text</td> <td>body</td> <td>string</td> <td>false</td> <td>User defined custom ID</td></tr></tbody></table> <h4 id="enumerated-values-4"><a href="#enumerated-values-4" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>» type</td> <td>borrow</td></tr> <tr><td>» type</td> <td>repay</td></tr></tbody></table> <h3 id="createunifiedloan-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Operated successfully</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-loans"><a href="#list-loans" class="header-anchor">#</a> List loans</h2> <p><a id="opIdlistUnifiedLoans"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/loans'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/loans&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/loans</code></p> <p><em>List loans</em></p> <h3 id="listunifiedloans-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Loan type, platform - platform, margin - margin</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pari&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;margin&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listunifiedloans-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listunifiedloans-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Loan]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Loan</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» amount</td> <td>string</td> <td>amount</td></tr> <tr><td>»» type</td> <td>string</td> <td>Loan type, platform - platform, margin - margin</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr> <tr><td>»» update_time</td> <td>integer(int64)</td> <td>Updated time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-load-records"><a href="#get-load-records" class="header-anchor">#</a> Get load records</h2> <p><a id="opIdlistUnifiedLoanRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/loan_records'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/loan_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/loan_records</code></p> <p><em>Get load records</em></p> <h3 id="listunifiedloanrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>The types of lending records, borrow - indicates the action of borrowing funds, repay - indicates the action of repaying the borrowed funds</td></tr> <tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">16442</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;borrow&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cross&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repayment_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;auto_repay&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listunifiedloanrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listunifiedloanrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Loan records</td></tr> <tr><td>»» id</td> <td>integer(int64)</td> <td>id</td></tr> <tr><td>»» type</td> <td>string</td> <td>type: borrow - borrow, repay - repay</td></tr> <tr><td>»» repayment_type</td> <td>string</td> <td>Repayment type: none - no repayment type, manual_repay - manual repayment, auto_repay - automatic repayment, cancel_auto_repay - automatic repayment after cancellation</td></tr> <tr><td>»» borrow_type</td> <td>string</td> <td>Loan type, returned when querying loan records. manual_borrow - Manual repayment , auto_borrow - Automatic repayment</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» amount</td> <td>string</td> <td>The amount of lending or repaying</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-interest-records"><a href="#list-interest-records" class="header-anchor">#</a> List interest records</h2> <p><a id="opIdlistUnifiedLoanInterestRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/interest_records'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/interest_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/interest_records</code></p> <p><em>List interest records</em></p> <h3 id="listunifiedloaninterestrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Loan type, platform loan - platform, leverage loan - margin, if not passed, defaults to margin</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;actual_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000236&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00006136&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;platform&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listunifiedloaninterestrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listunifiedloaninterestrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Interest record]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Interest record</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» actual_rate</td> <td>string</td> <td>Actual rate</td></tr> <tr><td>»» interest</td> <td>string</td> <td>Interest</td></tr> <tr><td>»» status</td> <td>integer</td> <td>Status: 0 - fail, 1 - success</td></tr> <tr><td>»» type</td> <td>string</td> <td>Type, platform - platform，margin - margin</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-user-risk-unit-details"><a href="#get-user-risk-unit-details" class="header-anchor">#</a> Get user risk unit details</h2> <p><a id="opIdgetUnifiedRiskUnits"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/risk_units'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/risk_units&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/risk_units</code></p> <p><em>Get user risk unit details</em></p> <p>Retrieve user risk unit details, only valid in portfolio margin mode</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;spot_hedge&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_units&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;symbol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;spot_in_use&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-13500.000001223&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;maintain_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2334.002&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2334.002&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;delta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.22&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;gamma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.42&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;theta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.29&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;vega&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.22&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getunifiedriskunits-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getunifiedriskunits-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» spot_hedge</td> <td>boolean</td> <td>Spot hedging status, true - enabled, false - not enabled.</td></tr> <tr><td>» risk_units</td> <td>array</td> <td>Risk unit</td></tr> <tr><td>»» RiskUnits</td> <td>object</td> <td>none</td></tr> <tr><td>»»» symbol</td> <td>string</td> <td>Risk unit flag</td></tr> <tr><td>»»» spot_in_use</td> <td>string</td> <td>Spot hedging utilization</td></tr> <tr><td>»»» maintain_margin</td> <td>string</td> <td>Maintenance margin for risk unit</td></tr> <tr><td>»»» initial_margin</td> <td>string</td> <td>Initial margin for risk unit</td></tr> <tr><td>»»» delta</td> <td>string</td> <td>Total Delta of risk unit</td></tr> <tr><td>»»» gamma</td> <td>string</td> <td>Total Gamma of risk unit</td></tr> <tr><td>»»» theta</td> <td>string</td> <td>Total Theta of risk unit</td></tr> <tr><td>»»» vega</td> <td>string</td> <td>Total Vega of risk unit</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="set-mode-of-the-unified-account"><a href="#set-mode-of-the-unified-account" class="header-anchor">#</a> Set mode of the unified account</h2> <p><a id="opIdsetUnifiedMode"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/unified_mode'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;mode&quot;:&quot;portfolio&quot;,&quot;settings&quot;:{&quot;spot_hedge&quot;:true,&quot;usdt_futures&quot;:true,&quot;options&quot;:true}}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;PUT&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/unified_mode&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;mode&quot;:&quot;portfolio&quot;,&quot;settings&quot;:{&quot;spot_hedge&quot;:true,&quot;usdt_futures&quot;:true,&quot;options&quot;:true}}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>PUT /unified/unified_mode</code></p> <p><em>Set mode of the unified account</em></p> <p>Switching each account mode only requires passing the parameters of the corresponding account mode, and supports turning on or off the configuration switch in the corresponding account mode when switching the account mode</p> <ul><li>When opening the classic account mode, mode=classic</li></ul> <div class="language- extra-class"><pre class="language-text"><code> PUT /unified/unified_mode
 {
 &quot;mode&quot;: &quot;classic&quot;
 }
</code></pre></div><ul><li>Open the cross-currency margin mode, mode=multi_currency</li></ul> <div class="language- extra-class"><pre class="language-text"><code> PUT /unified/unified_mode
 {
 &quot;mode&quot;: &quot;multi_currency&quot;,
 &quot;settings&quot;: {
 &quot;usdt_futures&quot;: true
 }
 }
</code></pre></div><ul><li>When the portfolio margin mode is enabled, mode=portfolio</li></ul> <div class="language- extra-class"><pre class="language-text"><code> PUT /unified/unified_mode
 {
 &quot;mode&quot;: &quot;portfolio&quot;,
 &quot;settings&quot;: {
 &quot;spot_hedge&quot;: true
 }
 }
</code></pre></div><ul><li>When opening a single currency margin mode, mode=single_currency</li></ul> <div class="language- extra-class"><pre class="language-text"><code> PUT /unified/unified_mode
 {
 &quot;mode&quot;: &quot;single_currency&quot;
 }
</code></pre></div><div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;portfolio&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;spot_hedge&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;usdt_futures&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="setunifiedmode-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» mode</td> <td>body</td> <td>string</td> <td>true</td> <td>Unified account mode:</td></tr> <tr><td>» settings</td> <td>body</td> <td>object</td> <td>false</td> <td>none</td></tr> <tr><td>»» usdt_futures</td> <td>body</td> <td>boolean</td> <td>false</td> <td>USDT contract switch. In cross-currency margin mode, it can only be turned on and not off</td></tr> <tr><td>»» spot_hedge</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Spot hedging switch.</td></tr> <tr><td>»» use_funding</td> <td>body</td> <td>boolean</td> <td>false</td> <td>switch, when the mode is cross-currency margin mode, whether to use Uniloan financial funds as margin</td></tr> <tr><td>»» options</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Option switch. In cross-currency margin mode, it can only be turned on and not off</td></tr></tbody></table> <h4 id="detailed-descriptions-5"><a href="#detailed-descriptions-5" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» mode</strong>: Unified account mode:</p> <ul><li><code>classic</code>: Classic account mode</li> <li><code>multi_currency</code>: Multi-currency margin mode</li> <li><code>portfolio</code>: Portfolio margin mode</li> <li><code>single_currency</code>: Single Currency Margin Model</li></ul> <h3 id="setunifiedmode-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-mode-of-the-unified-account"><a href="#query-mode-of-the-unified-account" class="header-anchor">#</a> Query mode of the unified account</h2> <p><a id="opIdgetUnifiedMode"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/unified_mode'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/unified_mode&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/unified_mode</code></p> <p><em>Query mode of the unified account</em></p> <p>Unified account mode:</p> <ul><li><code>classic</code>: Classic account mode</li> <li><code>multi_currency</code>: Cross-currency margin mode</li> <li><code>portfolio</code>: Portfolio margin mode</li> <li><code>single_currency</code>: Single-currency margin mode</li></ul> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;portfolio&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;spot_hedge&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;usdt_futures&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getunifiedmode-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getunifiedmode-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» mode</td> <td>string</td> <td>Unified account mode: <br>- <code>classic</code>: Classic account mode<br>- <code>multi_currency</code>: Multi-currency margin mode<br>- <code>portfolio</code>: Portfolio margin mode<br>- <code>single_currency</code>: Single Currency Margin Model</td></tr> <tr><td>» settings</td> <td>object</td> <td>none</td></tr> <tr><td>»» usdt_futures</td> <td>boolean</td> <td>USDT contract switch. In cross-currency margin mode, it can only be turned on and not off</td></tr> <tr><td>»» spot_hedge</td> <td>boolean</td> <td>Spot hedging switch.</td></tr> <tr><td>»» use_funding</td> <td>boolean</td> <td>switch, when the mode is cross-currency margin mode, whether to use Uniloan financial funds as margin</td></tr> <tr><td>»» options</td> <td>boolean</td> <td>Option switch. In cross-currency margin mode, it can only be turned on and not off</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-unified-estimate-rate"><a href="#get-unified-estimate-rate" class="header-anchor">#</a> Get unified estimate rate</h2> <p><a id="opIdgetUnifiedEstimateRate"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/estimate_rate'</span>
query_param <span class="token operator">=</span> <span class="token string">'currencies=BTC,GT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/estimate_rate&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currencies=BTC,GT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/estimate_rate</code></p> <p><em>Get unified estimate rate</em></p> <p>Due to fluctuations in lending depth, hourly interest rates may vary, and thus, I cannot provide exact rates. When a currency is not supported, the interest rate returned will be an empty string.</p> <h3 id="getunifiedestimaterate-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currencies</td> <td>query</td> <td>array[string]</td> <td>true</td> <td>Specify the currency names for querying in an array, separated by commas, with a maximum of 10 currencies.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;BTC&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;GT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ETH&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getunifiedestimaterate-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getunifiedestimaterate-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Estimate the current hourly lending rates, categorized by currency</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <strong>additionalProperties</strong></td> <td>string</td> <td>none</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-currency-discount-tiers"><a href="#list-currency-discount-tiers" class="header-anchor">#</a> List currency discount tiers</h2> <p><a id="opIdlistCurrencyDiscountTiers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/currency_discount_tiers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/unified/currency_discount_tiers <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /unified/currency_discount_tiers</code></p> <p><em>List currency discount tiers</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;discount_tiers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;discount_tiers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.98&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15000000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.95&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;15000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20000000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.925&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50000000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100000000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;discount_tiers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.98&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.95&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.85&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;discount_tiers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.98&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.95&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50000&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.85&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcurrencydiscounttiers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcurrencydiscounttiers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Currency discount tiers</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»» discount_tiers</td> <td>array</td> <td>Tiered discount</td></tr> <tr><td>»»» tier</td> <td>string</td> <td>Tier</td></tr> <tr><td>»»» discount</td> <td>string</td> <td>Discount</td></tr> <tr><td>»»» lower_limit</td> <td>string</td> <td>Lower limit</td></tr> <tr><td>»»» upper_limit</td> <td>string</td> <td>Upper limit,＋ indicates positive infinity</td></tr> <tr><td>»»» leverage</td> <td>string</td> <td>Position leverage</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-loan-margin-tiers"><a href="#list-loan-margin-tiers" class="header-anchor">#</a> List loan margin tiers</h2> <p><a id="opIdlistLoanMarginTiers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/loan_margin_tiers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/unified/loan_margin_tiers <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /unified/loan_margin_tiers</code></p> <p><em>List loan margin tiers</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin_tiers&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;margin_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.02&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;lower_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;200000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;upper_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;400000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listloanmargintiers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listloanmargintiers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Unified margin tiers</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»» margin_tiers</td> <td>array</td> <td>Margin tiers</td></tr> <tr><td>»»» MarginTiers</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» tier</td> <td>string</td> <td>Tier</td></tr> <tr><td>»»»» margin_rate</td> <td>string</td> <td>Discount</td></tr> <tr><td>»»»» lower_limit</td> <td>string</td> <td>Lower limit</td></tr> <tr><td>»»»» upper_limit</td> <td>string</td> <td>Upper limit, &quot;&quot; indicates greater than (the last tier)</td></tr> <tr><td>»»»» leverage</td> <td>string</td> <td>Position leverage</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="portfolio-margin-calculator"><a href="#portfolio-margin-calculator" class="header-anchor">#</a> Portfolio margin calculator</h2> <p><a id="opIdcalculatePortfolioMargin"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/portfolio_calculator'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;spot_balances&quot;:[{&quot;currency&quot;:&quot;BTC&quot;,&quot;equity&quot;:&quot;-1&quot;,&quot;freeze&quot;:&quot;10&quot;}],&quot;spot_orders&quot;:[{&quot;currency_pairs&quot;:&quot;BTC_USDT&quot;,&quot;order_price&quot;:&quot;344&quot;,&quot;size&quot;:&quot;100&quot;,&quot;left&quot;:&quot;100&quot;,&quot;type&quot;:&quot;sell&quot;}],&quot;futures_positions&quot;:[{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:&quot;100&quot;}],&quot;futures_orders&quot;:[{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:&quot;10&quot;,&quot;left&quot;:&quot;8&quot;}],&quot;options_positions&quot;:[{&quot;options_name&quot;:&quot;BTC_USDT-20240329-32000-C&quot;,&quot;size&quot;:&quot;10&quot;}],&quot;options_orders&quot;:[{&quot;options_name&quot;:&quot;BTC_USDT-20240329-32000-C&quot;,&quot;size&quot;:&quot;100&quot;,&quot;left&quot;:&quot;80&quot;}],&quot;spot_hedge&quot;:false}'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> POST https://api.gateio.ws/api/v4/unified/portfolio_calculator <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Content-Type: application/json'</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>POST /unified/portfolio_calculator</code></p> <p><em>Portfolio margin calculator</em></p> <p>Portfolio Margin Calculator
When inputting a simulated position portfolio, each position includes the position name and quantity held, supporting markets within the range of BTC and ETH perpetual contracts, options, and spot markets.
When inputting simulated orders, each order includes the market identifier, order price, and order quantity,  supporting markets within the range of BTC and ETH perpetual contracts, options, and spot markets. Market orders are not included.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;spot_balances&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;spot_orders&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency_pairs&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;order_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;344&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;sell&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;futures_positions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;futures_orders&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;options_positions&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;options_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20240329-32000-C&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;options_orders&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;options_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20240329-32000-C&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;80&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;spot_hedge&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="calculateportfoliomargin-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» spot_balances</td> <td>body</td> <td>array</td> <td>false</td> <td>Spot</td></tr> <tr><td>»» <em>None</em></td> <td>body</td> <td>object</td> <td>false</td> <td>Spot</td></tr> <tr><td>»»» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency name</td></tr> <tr><td>»»» equity</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency equity, where equity = balance - borrowed, represents the net delta exposure</td></tr> <tr><td>»» spot_orders</td> <td>body</td> <td>array</td> <td>false</td> <td>Spot orders</td></tr> <tr><td>»»» <em>None</em></td> <td>body</td> <td>object</td> <td>false</td> <td>Spot orders</td></tr> <tr><td>»»»» currency_pairs</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr> <tr><td>»»»» order_price</td> <td>body</td> <td>string</td> <td>true</td> <td>Price</td></tr> <tr><td>»»»» count</td> <td>body</td> <td>string</td> <td>false</td> <td>Initial order quantity for spot trading pairs, not involved in actual calculation.</td></tr> <tr><td>»»»» left</td> <td>body</td> <td>string</td> <td>true</td> <td>Unfilled quantity, involved in actual calculation.</td></tr> <tr><td>»»»» type</td> <td>body</td> <td>string</td> <td>true</td> <td>Order type, sell - sell order, buy - buy order.</td></tr> <tr><td>»»» futures_positions</td> <td>body</td> <td>array</td> <td>false</td> <td>Futures positions</td></tr> <tr><td>»»»» <em>None</em></td> <td>body</td> <td>object</td> <td>false</td> <td>Futures positions</td></tr> <tr><td>»»»»» contract</td> <td>body</td> <td>string</td> <td>true</td> <td>Futures name, currently only supports perpetual futures for BTC and ETH with USDT.</td></tr> <tr><td>»»»»» size</td> <td>body</td> <td>string</td> <td>true</td> <td>Position size, measured in contract units.</td></tr> <tr><td>»»»» futures_orders</td> <td>body</td> <td>array</td> <td>false</td> <td>Futures order</td></tr> <tr><td>»»»»» <em>None</em></td> <td>body</td> <td>object</td> <td>false</td> <td>Futures order</td></tr> <tr><td>»»»»»» contract</td> <td>body</td> <td>string</td> <td>true</td> <td>Futures name, currently only supports perpetual futures for BTC and ETH with USDT.</td></tr> <tr><td>»»»»»» size</td> <td>body</td> <td>string</td> <td>true</td> <td>Futures quantity, representing the initial order quantity, not involved in actual settlement.</td></tr> <tr><td>»»»»»» left</td> <td>body</td> <td>string</td> <td>true</td> <td>Unfilled contract quantity, involved in actual calculation</td></tr> <tr><td>»»»»» options_positions</td> <td>body</td> <td>array</td> <td>false</td> <td>Options positions</td></tr> <tr><td>»»»»»» <em>None</em></td> <td>body</td> <td>object</td> <td>false</td> <td>Options positions</td></tr> <tr><td>»»»»»»» options_name</td> <td>body</td> <td>string</td> <td>true</td> <td>Option name, currently only supports options for BTC and ETH with USDT.</td></tr> <tr><td>»»»»»»» size</td> <td>body</td> <td>string</td> <td>true</td> <td>Position size, measured in contract units.</td></tr> <tr><td>»»»»»» options_orders</td> <td>body</td> <td>array</td> <td>false</td> <td>Option orders</td></tr> <tr><td>»»»»»»» <em>None</em></td> <td>body</td> <td>object</td> <td>false</td> <td>Option orders</td></tr> <tr><td>»»»»»»»» options_name</td> <td>body</td> <td>string</td> <td>true</td> <td>Option name, currently only supports options for BTC and ETH with USDT.</td></tr> <tr><td>»»»»»»»» size</td> <td>body</td> <td>string</td> <td>true</td> <td>Initial order quantity, not involved in actual calculation</td></tr> <tr><td>»»»»»»»» left</td> <td>body</td> <td>string</td> <td>true</td> <td>Unfilled contract quantity, involved in actual calculation</td></tr> <tr><td>»»»»»»» spot_hedge</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Whether to enable spot hedging.</td></tr></tbody></table> <h4 id="detailed-descriptions-6"><a href="#detailed-descriptions-6" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>»»» equity</strong>: Currency equity, where equity = balance - borrowed, represents the net delta exposure
of your spot positions, which can be negative. Currently only supports three currencies: BTC, ETH.</p> <p><strong>»»»» count</strong>: Initial order quantity for spot trading pairs, not involved in actual calculation.
Currently only supports three currencies: BTC, ETH.</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;maintain_margin_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;initial_margin_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;calculate_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1709014486&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_unit&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;symbol&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;margin_result&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;original_position&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;profit_loss_ranges&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.200000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.160000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.120000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.080000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.040000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.040000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.080000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.120000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.160000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.200000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
              <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;max_loss&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;price_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.200000000000&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;implied_volatility_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.300000000000&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;profit_loss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token property">&quot;mr1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;mr2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;mr3&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span><span class="token punctuation">,</span>
          <span class="token property">&quot;mr4&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;maintain_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000000000&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="calculateportfoliomargin-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="calculateportfoliomargin-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>The output of the portfolio margin calculator.</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» maintain_margin_total</td> <td>string</td> <td>Total maintenance margin, including only the portfolio margin calculation results for positions in the risk unit,<br> excluding borrowed margin. If borrowing exists, conventional borrowing margin requirements will still apply.</td></tr> <tr><td>» initial_margin_total</td> <td>string</td> <td>Total initial margin, calculated as the maximum of the following three combinations: position,<br> position + positive delta orders, position + negative delta orders.</td></tr> <tr><td>» calculate_time</td> <td>integer(int64)</td> <td>Calculate time</td></tr> <tr><td>» risk_unit</td> <td>array</td> <td>Risk unit</td></tr> <tr><td>»» <em>None</em></td> <td>object</td> <td>Risk unit</td></tr> <tr><td>»»» symbol</td> <td>string</td> <td>Risk unit name</td></tr> <tr><td>»»» spot_in_use</td> <td>string</td> <td>Spot usage</td></tr> <tr><td>»»» maintain_margin</td> <td>string</td> <td>Maintenance margin</td></tr> <tr><td>»»» initial_margin</td> <td>string</td> <td>Initial margin</td></tr> <tr><td>»»» margin_result</td> <td>array</td> <td>Margin result</td></tr> <tr><td>»»»» <em>None</em></td> <td>object</td> <td>Margin result</td></tr> <tr><td>»»»»» type</td> <td>string</td> <td>Position combination type<br><code>original_position</code> - Original position<br><code>long_delta_original_position</code> - Positive delta + Original position<br><code>short_delta_original_position</code> - Negative delta + Original position</td></tr> <tr><td>»»»»» profit_loss_ranges</td> <td>array</td> <td>The results of 33 pressure scenarios for MR1</td></tr> <tr><td>»»»»»» <em>None</em></td> <td>object</td> <td>Profit and loss range</td></tr> <tr><td>»»»»»»» price_percentage</td> <td>string</td> <td>Percentage change in price</td></tr> <tr><td>»»»»»»» implied_volatility_percentage</td> <td>string</td> <td>Percentage change in implied volatility</td></tr> <tr><td>»»»»»»» profit_loss</td> <td>string</td> <td>PNL</td></tr> <tr><td>»»»»»» max_loss</td> <td>object</td> <td>Profit and loss range</td></tr> <tr><td>»»»»»»» price_percentage</td> <td>string</td> <td>Percentage change in price</td></tr> <tr><td>»»»»»»» implied_volatility_percentage</td> <td>string</td> <td>Percentage change in implied volatility</td></tr> <tr><td>»»»»»»» profit_loss</td> <td>string</td> <td>PNL</td></tr> <tr><td>»»»»»» mr1</td> <td>string</td> <td>Stress testing</td></tr> <tr><td>»»»»»» mr2</td> <td>string</td> <td>Basis spread risk</td></tr> <tr><td>»»»»»» mr3</td> <td>string</td> <td>Volatility spread risk</td></tr> <tr><td>»»»»»» mr4</td> <td>string</td> <td>Option short risk</td></tr> <tr><td>»»»»» delta</td> <td>string</td> <td>Total Delta of risk unit</td></tr> <tr><td>»»»»» gamma</td> <td>string</td> <td>Total Gamma of risk unit</td></tr> <tr><td>»»»»» theta</td> <td>string</td> <td>Total Theta of risk unit</td></tr> <tr><td>»»»»» vega</td> <td>string</td> <td>Total Vega of risk unit</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="minimum-currency-leverage-that-can-be-set"><a href="#minimum-currency-leverage-that-can-be-set" class="header-anchor">#</a> Minimum currency leverage that can be set</h2> <p><a id="opIdgetUserLeverageCurrencyConfig"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/leverage/user_currency_config'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=BTC'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/leverage/user_currency_config&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=BTC&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/leverage/user_currency_config</code></p> <p><em>Minimum currency leverage that can be set</em></p> <h3 id="getuserleveragecurrencyconfig-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;current_leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;max_leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;debit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;available_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrowable&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;except_leverage_borrowable&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getuserleveragecurrencyconfig-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getuserleveragecurrencyconfig-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» current_leverage</td> <td>string</td> <td>Current leverage ratio</td></tr> <tr><td>» min_leverage</td> <td>string</td> <td>Minimum adjustable leverage ratio</td></tr> <tr><td>» max_leverage</td> <td>string</td> <td>Maximum adjustable leverage ratio</td></tr> <tr><td>» debit</td> <td>string</td> <td>Current liabilities</td></tr> <tr><td>» available_margin</td> <td>string</td> <td>Available Margin</td></tr> <tr><td>» borrowable</td> <td>string</td> <td>The current leverage you can choose is</td></tr> <tr><td>» except_leverage_borrowable</td> <td>string</td> <td>The maximum amount of margin that can be borrowed and the maximum amount of Uniloan that can be borrowed, whichever is smaller</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-the-leverage-multiple-of-the-user-currency"><a href="#get-the-leverage-multiple-of-the-user-currency" class="header-anchor">#</a> Get the leverage multiple of the user currency</h2> <p><a id="opIdgetUserLeverageCurrencySetting"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/leverage/user_currency_setting'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/leverage/user_currency_setting&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/leverage/user_currency_setting</code></p> <p><em>Get the leverage multiple of the user currency</em></p> <p>Get the user's currency leverage. If currency is not passed, query all currencies.</p> <h3 id="getuserleveragecurrencysetting-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getuserleveragecurrencysetting-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getuserleveragecurrencysetting-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Loan currency leverage</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» leverage</td> <td>string</td> <td>multiple</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="set-the-loan-currency-leverage"><a href="#set-the-loan-currency-leverage" class="header-anchor">#</a> Set the loan currency leverage</h2> <p><a id="opIdsetUserLeverageCurrencySetting"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/leverage/user_currency_setting'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;leverage&quot;:&quot;3&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/leverage/user_currency_setting&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;leverage&quot;:&quot;3&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /unified/leverage/user_currency_setting</code></p> <p><em>Set the loan currency leverage</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="setuserleveragecurrencysetting-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency name</td></tr> <tr><td>» leverage</td> <td>body</td> <td>string</td> <td>true</td> <td>multiple</td></tr></tbody></table> <h3 id="setuserleveragecurrencysetting-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-of-loan-currencies-supported-by-unified-account"><a href="#list-of-loan-currencies-supported-by-unified-account" class="header-anchor">#</a> List of loan currencies supported by unified account</h2> <p><a id="opIdlistUnifiedCurrencies"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/currencies'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/unified/currencies <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /unified/currencies</code></p> <p><em>List of loan currencies supported by unified account</em></p> <h3 id="listunifiedcurrencies-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prec&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user_max_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_max_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;loan_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;enable&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listunifiedcurrencies-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listunifiedcurrencies-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» name</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» prec</td> <td>string</td> <td>Currency precision</td></tr> <tr><td>» min_borrow_amount</td> <td>string</td> <td>The minimum debit limit is the unit of currency</td></tr> <tr><td>» user_max_borrow_amount</td> <td>string</td> <td>The minimum debit limit is the unit of currency</td></tr> <tr><td>» total_max_borrow_amount</td> <td>string</td> <td>The maximum debit limit for the platform is USDT</td></tr> <tr><td>» loan_status</td> <td>string</td> <td>Does the lending status<br> - <code>disable</code> : Loans are prohibited<br> - <code>enable</code>: Support lending</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-historical-lending-rates"><a href="#get-historical-lending-rates" class="header-anchor">#</a> get historical lending rates</h2> <p><a id="opIdgetHistoryLoanRate"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/unified/history_loan_rate'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/unified/history_loan_rate&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /unified/history_loan_rate</code></p> <p><em>get historical lending rates</em></p> <h3 id="gethistoryloanrate-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>tier</td> <td>query</td> <td>string</td> <td>false</td> <td>The VIP level of the floating rate that needs to be queried</td></tr> <tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tier_up_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.18&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rates&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1729047616000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00010287&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="gethistoryloanrate-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="gethistoryloanrate-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» tier</td> <td>string</td> <td>The VIP level of the floating rate required</td></tr> <tr><td>» tier_up_rate</td> <td>string</td> <td>VIP level corresponding floating rate</td></tr> <tr><td>» rates</td> <td>array</td> <td>Historical interest rate information, one data per hour, the array size is determined by the page and limit parameters provided by the interface request parameters, sorted from recent to far in time</td></tr> <tr><td>»» time</td> <td>integer(int64)</td> <td>The hourly timestamp corresponding to the interest rate, in milliseconds</td></tr> <tr><td>»» rate</td> <td>string</td> <td>Historical interest rates for this hour</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="spot"><a href="#spot" class="header-anchor">#</a> Spot</h1> <p>Spot trading</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-currencies-details"><a href="#list-all-currencies-details" class="header-anchor">#</a> List all currencies' details</h2> <p><a id="opIdlistCurrencies"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/currencies'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/currencies <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/currencies</code></p> <p><em>List all currencies' details</em></p> <p>When a currency corresponds to multiple chains, you can query the information of multiple chains through the <code>chains</code> field, such as the charging and recharge status, identification, etc. of the chain.</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GateToken&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;delisted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;withdraw_delayed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;chains&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;withdraw_delayed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;withdraw_delayed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xE66747a101bFF2dBA3697199DCcE5b743b454759&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GTEVM&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;withdraw_delayed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcurrencies-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcurrencies-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency symbol</td></tr> <tr><td>» name</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» delisted</td> <td>boolean</td> <td>Whether currency is de-listed</td></tr> <tr><td>» withdraw_disabled</td> <td>boolean</td> <td>Whether currency's withdrawal is disabled (deprecated)</td></tr> <tr><td>» withdraw_delayed</td> <td>boolean</td> <td>Whether currency's withdrawal is delayed (deprecated)</td></tr> <tr><td>» deposit_disabled</td> <td>boolean</td> <td>Whether currency's deposit is disabled (deprecated)</td></tr> <tr><td>» trade_disabled</td> <td>boolean</td> <td>Whether currency's trading is disabled</td></tr> <tr><td>» fixed_rate</td> <td>string</td> <td>Fixed fee rate. Only for fixed rate currencies, not valid for normal currencies</td></tr> <tr><td>» chain</td> <td>string</td> <td>The main chain corresponding to the coin</td></tr> <tr><td>» chains</td> <td>array</td> <td>All links corresponding to coins</td></tr> <tr><td>»» SpotCurrencyChain</td> <td>object</td> <td>none</td></tr> <tr><td>»»» name</td> <td>string</td> <td>Chain name</td></tr> <tr><td>»»» addr</td> <td>string</td> <td>token address</td></tr> <tr><td>»»» withdraw_disabled</td> <td>boolean</td> <td>Whether currency's withdrawal is disabled</td></tr> <tr><td>»»» withdraw_delayed</td> <td>boolean</td> <td>Whether currency's withdrawal is delayed</td></tr> <tr><td>»»» deposit_disabled</td> <td>boolean</td> <td>Whether currency's deposit is disabled</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-details-of-a-specific-currency"><a href="#get-details-of-a-specific-currency" class="header-anchor">#</a> Get details of a specific currency</h2> <p><a id="opIdgetCurrency"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/currencies/GT'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/currencies/GT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/currencies/{currency}</code></p> <p><em>Get details of a specific currency</em></p> <h3 id="getcurrency-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>path</td> <td>string</td> <td>true</td> <td>Currency name</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GateToken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;delisted&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;withdraw_delayed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;chain&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;chains&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;withdraw_delayed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;withdraw_delayed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0xE66747a101bFF2dBA3697199DCcE5b743b454759&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GTEVM&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;withdraw_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;withdraw_delayed&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;deposit_disabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcurrency-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getcurrency-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency symbol</td></tr> <tr><td>» name</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» delisted</td> <td>boolean</td> <td>Whether currency is de-listed</td></tr> <tr><td>» withdraw_disabled</td> <td>boolean</td> <td>Whether currency's withdrawal is disabled (deprecated)</td></tr> <tr><td>» withdraw_delayed</td> <td>boolean</td> <td>Whether currency's withdrawal is delayed (deprecated)</td></tr> <tr><td>» deposit_disabled</td> <td>boolean</td> <td>Whether currency's deposit is disabled (deprecated)</td></tr> <tr><td>» trade_disabled</td> <td>boolean</td> <td>Whether currency's trading is disabled</td></tr> <tr><td>» fixed_rate</td> <td>string</td> <td>Fixed fee rate. Only for fixed rate currencies, not valid for normal currencies</td></tr> <tr><td>» chain</td> <td>string</td> <td>The main chain corresponding to the coin</td></tr> <tr><td>» chains</td> <td>array</td> <td>All links corresponding to coins</td></tr> <tr><td>»» SpotCurrencyChain</td> <td>object</td> <td>none</td></tr> <tr><td>»»» name</td> <td>string</td> <td>Chain name</td></tr> <tr><td>»»» addr</td> <td>string</td> <td>token address</td></tr> <tr><td>»»» withdraw_disabled</td> <td>boolean</td> <td>Whether currency's withdrawal is disabled</td></tr> <tr><td>»»» withdraw_delayed</td> <td>boolean</td> <td>Whether currency's withdrawal is delayed</td></tr> <tr><td>»»» deposit_disabled</td> <td>boolean</td> <td>Whether currency's deposit is disabled</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-currency-pairs-supported"><a href="#list-all-currency-pairs-supported" class="header-anchor">#</a> List all currency pairs supported</h2> <p><a id="opIdlistCurrencyPairs"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/currency_pairs'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/currency_pairs <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/currency_pairs</code></p> <p><em>List all currency pairs supported</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;base_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ethereum&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quote&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quote_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tether&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_base_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_quote_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_base_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_quote_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount_precision&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">&quot;precision&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tradable&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sell_start&quot;</span><span class="token operator">:</span> <span class="token number">1516378650</span><span class="token punctuation">,</span>
    <span class="token property">&quot;buy_start&quot;</span><span class="token operator">:</span> <span class="token number">1516378650</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcurrencypairs-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>All currency pairs retrieved</td> <td>[<a href="#schemacurrencypair">CurrencyPair</a>]</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-details-of-a-specifc-currency-pair"><a href="#get-details-of-a-specifc-currency-pair" class="header-anchor">#</a> Get details of a specifc currency pair</h2> <p><a id="opIdgetCurrencyPair"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/currency_pairs/ETH_BTC'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/currency_pairs/ETH_BTC <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/currency_pairs/{currency_pair}</code></p> <p><em>Get details of a specifc currency pair</em></p> <h3 id="getcurrencypair-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>path</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ethereum&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quote&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quote_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Tether&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_base_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_quote_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;max_base_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;max_quote_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount_precision&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;precision&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tradable&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_start&quot;</span><span class="token operator">:</span> <span class="token number">1516378650</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_start&quot;</span><span class="token operator">:</span> <span class="token number">1516378650</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcurrencypair-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td><a href="#schemacurrencypair">CurrencyPair</a></td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-ticker-information"><a href="#retrieve-ticker-information" class="header-anchor">#</a> Retrieve ticker information</h2> <p><a id="opIdlistTickers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/tickers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/tickers <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/tickers</code></p> <p><em>Retrieve ticker information</em></p> <p>Return only related data if <code>currency_pair</code> is specified; otherwise return all of them</p> <h3 id="listtickers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>timezone</td> <td>query</td> <td>string</td> <td>false</td> <td>Timezone</td></tr></tbody></table> <h4 id="enumerated-values-5"><a href="#enumerated-values-5" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>timezone</td> <td>utc0</td></tr> <tr><td>timezone</td> <td>utc8</td></tr> <tr><td>timezone</td> <td>all</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC3L_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.46140352&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lowest_ask&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.477&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;highest_bid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.4606821&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-8.91&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change_utc0&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-8.91&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change_utc8&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-8.91&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;base_volume&quot;</span><span class="token operator">:</span> <span class="token string">&quot;656614.0845820589&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quote_volume&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1602221.66468375534639404191&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;high_24h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.7431&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;low_24h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.9863&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;etf_net_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.46316141&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;etf_pre_net_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.43201848&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;etf_pre_timestamp&quot;</span><span class="token operator">:</span> <span class="token number">1611244800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;etf_leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.2803019447281203&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listtickers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listtickers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» last</td> <td>string</td> <td>Last trading price</td></tr> <tr><td>» lowest_ask</td> <td>string</td> <td>Recent lowest ask</td></tr> <tr><td>» lowest_size</td> <td>string</td> <td>The latest seller's lowest price quantity; does not exist for batch query; exists for single query, and is empty if there is no data</td></tr> <tr><td>» highest_bid</td> <td>string</td> <td>Recent highest bid</td></tr> <tr><td>» highest_size</td> <td>string</td> <td>The latest buyer's highest price quantity; does not exist for batch query; exists for single query, and is empty if there is no data</td></tr> <tr><td>» change_percentage</td> <td>string</td> <td>Change percentage in the last 24h</td></tr> <tr><td>» change_utc0</td> <td>string</td> <td>utc0 timezone, the percentage change in the last 24 hours</td></tr> <tr><td>» change_utc8</td> <td>string</td> <td>utc8 timezone, the percentage change in the last 24 hours</td></tr> <tr><td>» base_volume</td> <td>string</td> <td>Base currency trade volume in the last 24h</td></tr> <tr><td>» quote_volume</td> <td>string</td> <td>Quote currency trade volume in the last 24h</td></tr> <tr><td>» high_24h</td> <td>string</td> <td>Highest price in 24h</td></tr> <tr><td>» low_24h</td> <td>string</td> <td>Lowest price in 24h</td></tr> <tr><td>» etf_net_value</td> <td>string</td> <td>ETF net value</td></tr> <tr><td>» etf_pre_net_value</td> <td>string|null</td> <td>ETF previous net value at re-balancing time</td></tr> <tr><td>» etf_pre_timestamp</td> <td>integer(int64)|null</td> <td>ETF previous re-balancing time</td></tr> <tr><td>» etf_leverage</td> <td>string|null</td> <td>ETF current leverage</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-order-book"><a href="#retrieve-order-book" class="header-anchor">#</a> Retrieve order book</h2> <p><a id="opIdlistOrderBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/order_book'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency_pair=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/order_book?currency_pair<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/order_book</code></p> <p><em>Retrieve order book</em></p> <p>Order book will be sorted by price from high to low on bids; low to high on asks</p> <h3 id="listorderbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Order depth. 0 means no aggregation is applied. default to 0</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of order depth data in asks or bids</td></tr> <tr><td>with_id</td> <td>query</td> <td>boolean</td> <td>false</td> <td>Return order book ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">123456</span><span class="token punctuation">,</span>
  <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1623898993123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update&quot;</span><span class="token operator">:</span> <span class="token number">1623898993121</span><span class="token punctuation">,</span>
  <span class="token property">&quot;asks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;1.52&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;1.151&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;1.53&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;1.218&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;1.17&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;201.863&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;1.16&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;725.464&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listorderbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listorderbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Order book ID, which is updated whenever the order book is changed. Valid only when <code>with_id</code> is set to <code>true</code></td></tr> <tr><td>» current</td> <td>integer(int64)</td> <td>The timestamp of the response data being generated (in milliseconds)</td></tr> <tr><td>» update</td> <td>integer(int64)</td> <td>The timestamp of when the orderbook last changed (in milliseconds)</td></tr> <tr><td>» asks</td> <td>array</td> <td>Asks order depth</td></tr> <tr><td>»» <em>None</em></td> <td>array</td> <td>price and amount</td></tr> <tr><td>» bids</td> <td>array</td> <td>Bids order depth</td></tr> <tr><td>»» <em>None</em></td> <td>array</td> <td>price and amount</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-market-trades"><a href="#retrieve-market-trades" class="header-anchor">#</a> Retrieve market trades</h2> <p><a id="opIdlistTrades"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/trades'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency_pair=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/trades?currency_pair<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/trades</code></p> <p><em>Retrieve market trades</em></p> <p>Supports <code>from</code> and <code>to</code> by time range query or page-turn query based on <code>last_id</code>. By default, query by time range is the last 30 days.</p> <p>The query method based on <code>last_id</code> page turn is no longer recommended. If <code>last_id</code> is specified, the time range query parameters will be ignored.</p> <p>The maximum number of pages when searching data using limit&amp;page paging function is 100,000, that is, limit * (page - 1) &lt;= 100,000.</p> <h3 id="listtrades-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum number of records to be returned in a single list.  Default: 100, Minimum: 1, Maximum: 1000</td></tr> <tr><td>last_id</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify list staring point using the <code>id</code> of last record in previous list-query results</td></tr> <tr><td>reverse</td> <td>query</td> <td>boolean</td> <td>false</td> <td>Whether the id of records to be retrieved should be less than the last_id specified. Default to false.</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr></tbody></table> <h4 id="detailed-descriptions-7"><a href="#detailed-descriptions-7" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>reverse</strong>: Whether the id of records to be retrieved should be less than the last_id specified. Default to false.</p> <p>When <code>last_id</code> is specified. Set <code>reverse</code> to <code>true</code> to trace back trading history; <code>false</code> to retrieve latest tradings.</p> <p>No effect if <code>last_id</code> is not specified.</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1232893232&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000000123.456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4128442423&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;maker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.15&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.03&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sequence_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;588018&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-test&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listtrades-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listtrades-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>string</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>string</td> <td>Trading time</td></tr> <tr><td>» create_time_ms</td> <td>string</td> <td>Trading time, with millisecond precision</td></tr> <tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» side</td> <td>string</td> <td>Order side</td></tr> <tr><td>» role</td> <td>string</td> <td>Trade role. No value in public endpoints</td></tr> <tr><td>» amount</td> <td>string</td> <td>Trade amount</td></tr> <tr><td>» price</td> <td>string</td> <td>Order price</td></tr> <tr><td>» order_id</td> <td>string</td> <td>Related order ID. No value in public endpoints</td></tr> <tr><td>» fee</td> <td>string</td> <td>Fee deducted. No value in public endpoints</td></tr> <tr><td>» fee_currency</td> <td>string</td> <td>Fee currency unit. No value in public endpoints</td></tr> <tr><td>» point_fee</td> <td>string</td> <td>Points used to deduct fee. No value in public endpoints</td></tr> <tr><td>» gt_fee</td> <td>string</td> <td>GT used to deduct fee. No value in public endpoints</td></tr> <tr><td>» amend_text</td> <td>string</td> <td>The custom data that the user remarked when amending the order</td></tr> <tr><td>» sequence_id</td> <td>string</td> <td>Represents a unique and consecutive trade ID within a single market.<br>It is used to track and identify trades in the specific market</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined information. No value in public endpoints</td></tr></tbody></table> <h4 id="enumerated-values-6"><a href="#enumerated-values-6" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>side</td> <td>buy</td></tr> <tr><td>side</td> <td>sell</td></tr> <tr><td>role</td> <td>taker</td></tr> <tr><td>role</td> <td>maker</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="market-candlesticks"><a href="#market-candlesticks" class="header-anchor">#</a> Market candlesticks</h2> <p><a id="opIdlistCandlesticks"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/candlesticks'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency_pair=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/candlesticks?currency_pair<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/candlesticks</code></p> <p><em>Market candlesticks</em></p> <p>Maximum of 1000 points can be returned in a query. Be sure not to exceed the limit when specifying from, to and interval</p> <h3 id="listcandlesticks-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum recent data points to return. <code>limit</code> is conflicted with <code>from</code> and <code>to</code>. If either <code>from</code> or <code>to</code> is specified, request will be rejected.</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start time of candlesticks, formatted in Unix timestamp in seconds. Default to<code>to - 100 * interval</code> if not specified</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End time of candlesticks, formatted in Unix timestamp in seconds. Default to current time</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Interval time between data points. Note that <code>30d</code> means 1 natual month, not 30 days</td></tr></tbody></table> <h4 id="enumerated-values-7"><a href="#enumerated-values-7" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>interval</td> <td>10s</td></tr> <tr><td>interval</td> <td>1m</td></tr> <tr><td>interval</td> <td>5m</td></tr> <tr><td>interval</td> <td>15m</td></tr> <tr><td>interval</td> <td>30m</td></tr> <tr><td>interval</td> <td>1h</td></tr> <tr><td>interval</td> <td>4h</td></tr> <tr><td>interval</td> <td>8h</td></tr> <tr><td>interval</td> <td>1d</td></tr> <tr><td>interval</td> <td>7d</td></tr> <tr><td>interval</td> <td>30d</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">[</span>
    <span class="token string">&quot;1539852480&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;971519.677&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0.0021724&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0.0021922&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0.0021724&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0.0021737&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;true&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcandlesticks-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[[string]]</td></tr></tbody></table> <h3 id="listcandlesticks-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>array</td> <td>K-line data for each time granularity, arranged from left to right:<br><br>- Unix timestamp with second precision<br>- Trading volume in quote currency<br>- Closing price<br>- Highest price<br>- Lowest price<br>- Opening price<br>- Trading volume in base currency<br>- Whether the window is closed; true indicates the end of this segment of candlestick chart data, false indicates that this segment of candlestick chart data is not yet complete</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-user-trading-fee-rates"><a href="#query-user-trading-fee-rates" class="header-anchor">#</a> Query user trading fee rates</h2> <p><a id="opIdgetFee"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/fee'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/fee&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/fee</code></p> <p><em>Query user trading fee rates</em></p> <p>This API is deprecated in favour of new fee retrieving API <code>/wallet/fee</code>.</p> <h3 id="getfee-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify a currency pair to retrieve precise fee rate</td></tr></tbody></table> <h4 id="detailed-descriptions-8"><a href="#detailed-descriptions-8" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>currency_pair</strong>: Specify a currency pair to retrieve precise fee rate</p> <p>This field is optional. In most cases, the fee rate is identical among all currency pairs</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;loan_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.18&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;debit_fee&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getfee-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getfee-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» taker_fee</td> <td>string</td> <td>taker fee rate</td></tr> <tr><td>» maker_fee</td> <td>string</td> <td>maker fee rate</td></tr> <tr><td>» gt_discount</td> <td>boolean</td> <td>If GT deduction is enabled</td></tr> <tr><td>» gt_taker_fee</td> <td>string</td> <td>Taker fee rate if using GT deduction. It will be 0 if GT deduction is disabled</td></tr> <tr><td>» gt_maker_fee</td> <td>string</td> <td>Maker fee rate if using GT deduction. It will be 0 if GT deduction is disabled</td></tr> <tr><td>» loan_fee</td> <td>string</td> <td>Loan fee rate of margin lending</td></tr> <tr><td>» point_type</td> <td>string</td> <td>Point type. 0 - Initial version. 1 - new version since 202009</td></tr> <tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» debit_fee</td> <td>integer</td> <td>Deduction types for rates, 1 - GT deduction, 2 - Point card deduction, 3 - VIP rates</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-a-batch-of-user-trading-fee-rates"><a href="#query-a-batch-of-user-trading-fee-rates" class="header-anchor">#</a> Query a batch of user trading fee rates</h2> <p><a id="opIdgetBatchSpotFee"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/batch_fee'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency_pairs=BTC_USDT,ETH_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/batch_fee&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency_pairs=BTC_USDT,ETH_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/batch_fee</code></p> <p><em>Query a batch of user trading fee rates</em></p> <h3 id="getbatchspotfee-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pairs</td> <td>query</td> <td>string</td> <td>true</td> <td>A request can only query up to 50 currency pairs</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;BTC_USDT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;loan_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.18&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;debit_fee&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;GT_USDT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;loan_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.18&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;debit_fee&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ETH_USDT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;loan_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.18&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;debit_fee&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getbatchspotfee-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getbatchspotfee-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <strong>additionalProperties</strong></td> <td>object</td> <td>none</td></tr> <tr><td>»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»» taker_fee</td> <td>string</td> <td>taker fee rate</td></tr> <tr><td>»» maker_fee</td> <td>string</td> <td>maker fee rate</td></tr> <tr><td>»» gt_discount</td> <td>boolean</td> <td>If GT deduction is enabled</td></tr> <tr><td>»» gt_taker_fee</td> <td>string</td> <td>Taker fee rate if using GT deduction. It will be 0 if GT deduction is disabled</td></tr> <tr><td>»» gt_maker_fee</td> <td>string</td> <td>Maker fee rate if using GT deduction. It will be 0 if GT deduction is disabled</td></tr> <tr><td>»» loan_fee</td> <td>string</td> <td>Loan fee rate of margin lending</td></tr> <tr><td>»» point_type</td> <td>string</td> <td>Point type. 0 - Initial version. 1 - new version since 202009</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» debit_fee</td> <td>integer</td> <td>Deduction types for rates, 1 - GT deduction, 2 - Point card deduction, 3 - VIP rates</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-spot-accounts"><a href="#list-spot-accounts" class="header-anchor">#</a> List spot accounts</h2> <p><a id="opIdlistSpotAccounts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/accounts</code></p> <p><em>List spot accounts</em></p> <h3 id="listspotaccounts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;968.8&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">98</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listspotaccounts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listspotaccounts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency detail</td></tr> <tr><td>» available</td> <td>string</td> <td>Available amount</td></tr> <tr><td>» locked</td> <td>string</td> <td>Locked amount, used in trading</td></tr> <tr><td>» update_id</td> <td>integer(int64)</td> <td>Version number</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-account-book"><a href="#query-account-book" class="header-anchor">#</a> Query account book</h2> <p><a id="opIdlistSpotAccountBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/account_book'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/account_book&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/account_book</code></p> <p><em>Query account book</em></p> <p>Record query time range is not allowed to exceed 30 days.</p> <p>The maximum number of pages when searching data using limit&amp;page paging function is 100,000, that is, limit * (page - 1) &lt;= 100,000.</p> <h3 id="listspotaccountbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Only retrieve changes of the specified type. All types will be returned if not specified.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1547633726123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.03&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.59316525194&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;margin_in&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3815099&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listspotaccountbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listspotaccountbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Balance change record ID</td></tr> <tr><td>» time</td> <td>integer(int64)</td> <td>The timestamp of the change (in milliseconds)</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency changed</td></tr> <tr><td>» change</td> <td>string</td> <td>Amount changed. Positive value means transferring in, while negative out</td></tr> <tr><td>» balance</td> <td>string</td> <td>Balance after change</td></tr> <tr><td>» type</td> <td>string</td> <td>Account book type.  Please refer to <a href="#accountbook-type">account book type</a> for more detail</td></tr> <tr><td>» text</td> <td>string</td> <td>Additional information</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-batch-of-orders"><a href="#create-a-batch-of-orders" class="header-anchor">#</a> Create a batch of orders</h2> <p><a id="opIdcreateBatchOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/batch_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'[{&quot;text&quot;:&quot;t-abc123&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;type&quot;:&quot;limit&quot;,&quot;account&quot;:&quot;unified&quot;,&quot;side&quot;:&quot;buy&quot;,&quot;amount&quot;:&quot;0.001&quot;,&quot;price&quot;:&quot;65000&quot;,&quot;time_in_force&quot;:&quot;gtc&quot;,&quot;iceberg&quot;:&quot;0&quot;}]'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/batch_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'[{&quot;text&quot;:&quot;t-abc123&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;type&quot;:&quot;limit&quot;,&quot;account&quot;:&quot;unified&quot;,&quot;side&quot;:&quot;buy&quot;,&quot;amount&quot;:&quot;0.001&quot;,&quot;price&quot;:&quot;65000&quot;,&quot;time_in_force&quot;:&quot;gtc&quot;,&quot;iceberg&quot;:&quot;0&quot;}]'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /spot/batch_orders</code></p> <p><em>Create a batch of orders</em></p> <p>Batch orders requirements:</p> <ol><li>custom order field <code>text</code> is required</li> <li>At most 4 currency pairs, maximum 10 orders each, are allowed in one request</li> <li>No mixture of spot orders and margin orders, i.e. <code>account</code> must be identical for all orders</li></ol> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="createbatchorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td>array[<a href="#schemaorder">Order</a>]</td> <td>true</td> <td>none</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12332324&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12332324&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1548000000123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1548000100123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETC_BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.00032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.242&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.50016&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.00032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cn&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stp&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">10240</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="createbatchorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Request is completed</td> <td>[Inline]</td></tr></tbody></table> <h3 id="createbatchorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Batch order details]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Batch order details</td></tr> <tr><td>»» order_id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» amend_text</td> <td>string</td> <td>The custom data that the user remarked when amending the order</td></tr> <tr><td>»» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</td></tr> <tr><td>»» succeeded</td> <td>boolean</td> <td>Whether the batch of orders succeeded</td></tr> <tr><td>»» label</td> <td>string</td> <td>Error label, if any, otherwise an empty string</td></tr> <tr><td>»» message</td> <td>string</td> <td>Detailed error message, if any, otherwise an empty string</td></tr> <tr><td>»» id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» create_time</td> <td>string</td> <td>Creation time of order</td></tr> <tr><td>»» update_time</td> <td>string</td> <td>Last modification time of order</td></tr> <tr><td>»» create_time_ms</td> <td>integer(int64)</td> <td>Creation time of order (in milliseconds)</td></tr> <tr><td>»» update_time_ms</td> <td>integer(int64)</td> <td>Last modification time of order (in milliseconds)</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: to be filled<br>- <code>closed</code>: filled<br>- <code>cancelled</code>: cancelled</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» type</td> <td>string</td> <td>Order Type  <br><br>- limit : Limit Order<br>- market : Market Order</td></tr> <tr><td>»» account</td> <td>string</td> <td>Account type, spot - spot account, margin - leveraged account, unified - unified account</td></tr> <tr><td>»» side</td> <td>string</td> <td>Order side</td></tr> <tr><td>»» amount</td> <td>string</td> <td>Trade amount</td></tr> <tr><td>»» price</td> <td>string</td> <td>Order price</td></tr> <tr><td>»» time_in_force</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee<br>- fok: FillOrKill, fill either completely or none</td></tr> <tr><td>»» iceberg</td> <td>string</td> <td>Amount to display for the iceberg order. Null or 0 for normal orders.  Hiding all amount is not supported.</td></tr> <tr><td>»» auto_repay</td> <td>boolean</td> <td>Enable or disable automatic repayment for automatic borrow loan generated by cross margin order. Default is disabled. Note that:<br><br>1. This field is only effective for cross margin orders. Margin account does not support setting auto repayment for orders.<br>2. <code>auto_borrow</code> and <code>auto_repay</code> can be both set to true in one order.</td></tr> <tr><td>»» left</td> <td>string</td> <td>Amount left to fill</td></tr> <tr><td>»» filled_amount</td> <td>string</td> <td>Amount traded to fill</td></tr> <tr><td>»» fill_price</td> <td>string</td> <td>Total filled in quote currency. Deprecated in favor of <code>filled_total</code></td></tr> <tr><td>»» filled_total</td> <td>string</td> <td>Total filled in quote currency</td></tr> <tr><td>»» avg_deal_price</td> <td>string</td> <td>Average fill price</td></tr> <tr><td>»» fee</td> <td>string</td> <td>Fee deducted</td></tr> <tr><td>»» fee_currency</td> <td>string</td> <td>Fee currency unit</td></tr> <tr><td>»» point_fee</td> <td>string</td> <td>Points used to deduct fee</td></tr> <tr><td>»» gt_fee</td> <td>string</td> <td>GT used to deduct fee</td></tr> <tr><td>»» gt_discount</td> <td>boolean</td> <td>Whether GT fee discount is used</td></tr> <tr><td>»» rebated_fee</td> <td>string</td> <td>Rebated fee</td></tr> <tr><td>»» rebated_fee_currency</td> <td>string</td> <td>Rebated fee currency unit</td></tr> <tr><td>»» stp_id</td> <td>integer</td> <td>Orders between users in the same <code>stp_id</code> group are not allowed to be self-traded<br><br>1. If the <code>stp_id</code> of two orders being matched is non-zero and equal, they will not be executed. Instead, the corresponding strategy will be executed based on the <code>stp_act</code> of the taker.<br>2. <code>stp_id</code> returns <code>0</code> by default for orders that have not been set for <code>STP group</code></td></tr> <tr><td>»» stp_act</td> <td>string</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies<br><br>1. After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。<br>2. When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。<br>3. If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'<br><br>- cn: Cancel newest, Cancel new orders and keep old ones<br>- co: Cancel oldest, Cancel old orders and keep new ones<br>- cb: Cancel both, Both old and new orders will be cancelled</td></tr> <tr><td>»» finish_as</td> <td>string</td> <td>How the order was finished.<br><br>- open: processing<br>- filled: filled totally<br>- cancelled: manually cancelled<br>- ioc: time in force is <code>IOC</code>, finish immediately<br>- stp: cancelled because self trade prevention</td></tr></tbody></table> <h4 id="enumerated-values-8"><a href="#enumerated-values-8" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>closed</td></tr> <tr><td>status</td> <td>cancelled</td></tr> <tr><td>type</td> <td>limit</td></tr> <tr><td>type</td> <td>market</td></tr> <tr><td>account</td> <td>spot</td></tr> <tr><td>account</td> <td>margin</td></tr> <tr><td>account</td> <td>cross_margin</td></tr> <tr><td>account</td> <td>unified</td></tr> <tr><td>side</td> <td>buy</td></tr> <tr><td>side</td> <td>sell</td></tr> <tr><td>time_in_force</td> <td>gtc</td></tr> <tr><td>time_in_force</td> <td>ioc</td></tr> <tr><td>time_in_force</td> <td>poc</td></tr> <tr><td>time_in_force</td> <td>fok</td></tr> <tr><td>stp_act</td> <td>cn</td></tr> <tr><td>stp_act</td> <td>co</td></tr> <tr><td>stp_act</td> <td>cb</td></tr> <tr><td>stp_act</td> <td>-</td></tr> <tr><td>finish_as</td> <td>open</td></tr> <tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>stp</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-open-orders"><a href="#list-all-open-orders" class="header-anchor">#</a> List all open orders</h2> <p><a id="opIdlistAllOpenOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/open_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/open_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/open_orders</code></p> <p><em>List all open orders</em></p> <p>Query the current order list of all trading pairs.
Please note that the paging parameter controls the number of pending orders in each trading pair. There is no paging control for the number of trading pairs. All trading pairs with pending orders will be returned.</p> <h3 id="listallopenorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records returned in one page in each currency pair</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify query account.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orders&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12332324&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000100&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_BTC&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.00032&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.50016&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listallopenorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listallopenorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» total</td> <td>integer</td> <td>The total number of pending orders for this trading pair on the current page</td></tr> <tr><td>» orders</td> <td>array</td> <td>none</td></tr> <tr><td>»» <em>None</em></td> <td>object</td> <td>Spot order details</td></tr> <tr><td>»»» id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»»» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br><br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- 101: from android<br>- 102: from IOS<br>- 103: from IPAD<br>- 104: from webapp<br>- 3: from web<br>- 2: from apiv2<br>- apiv4: from apiv4</td></tr> <tr><td>»»» amend_text</td> <td>string</td> <td>The custom data that the user remarked when amending the order</td></tr> <tr><td>»»» create_time</td> <td>string</td> <td>Creation time of order</td></tr> <tr><td>»»» update_time</td> <td>string</td> <td>Last modification time of order</td></tr> <tr><td>»»» create_time_ms</td> <td>integer(int64)</td> <td>Creation time of order (in milliseconds)</td></tr> <tr><td>»»» update_time_ms</td> <td>integer(int64)</td> <td>Last modification time of order (in milliseconds)</td></tr> <tr><td>»»» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: to be filled<br>- <code>closed</code>: filled<br>- <code>cancelled</code>: cancelled</td></tr> <tr><td>»»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»»» type</td> <td>string</td> <td>Order Type  <br><br>- limit : Limit Order<br>- market : Market Order</td></tr> <tr><td>»»» account</td> <td>string</td> <td>Account type, spot - spot account, margin - leveraged account, unified - unified account</td></tr> <tr><td>»»» side</td> <td>string</td> <td>Order side</td></tr> <tr><td>»»» amount</td> <td>string</td> <td>When <code>type</code> is limit, it refers to base currency.  For instance, <code>BTC_USDT</code> means <code>BTC</code> <br>When <code>type</code> is <code>market</code>, it refers to different currency according to <code>side</code> <br>- <code>side</code> : <code>buy</code> means quote currency, <code>BTC_USDT</code> means <code>USDT</code><br>- <code>side</code> : <code>sell</code> means base currency，<code>BTC_USDT</code> means <code>BTC</code></td></tr> <tr><td>»»» price</td> <td>string</td> <td>Price can't be empty when <code>type</code>= <code>limit</code></td></tr> <tr><td>»»» time_in_force</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee<br>- fok: FillOrKill, fill either completely or none<br>Only <code>ioc</code> and <code>fok</code> are supported when <code>type</code>=<code>market</code></td></tr> <tr><td>»»» iceberg</td> <td>string</td> <td>Amount to display for the iceberg order. Null or 0 for normal orders.  Hiding all amount is not supported.</td></tr> <tr><td>»»» auto_repay</td> <td>boolean</td> <td>Enable or disable automatic repayment for automatic borrow loan generated by cross margin order. Default is disabled. Note that:<br><br>1. This field is only effective for cross margin orders. Margin account does not support setting auto repayment for orders.<br>2. <code>auto_borrow</code> and <code>auto_repay</code> can be both set to true in one order.</td></tr> <tr><td>»»» left</td> <td>string</td> <td>Amount left to fill</td></tr> <tr><td>»»» filled_amount</td> <td>string</td> <td>Amount traded to fill</td></tr> <tr><td>»»» fill_price</td> <td>string</td> <td>Total filled in quote currency. Deprecated in favor of <code>filled_total</code></td></tr> <tr><td>»»» filled_total</td> <td>string</td> <td>Total filled in quote currency</td></tr> <tr><td>»»» avg_deal_price</td> <td>string</td> <td>Average fill price</td></tr> <tr><td>»»» fee</td> <td>string</td> <td>Fee deducted</td></tr> <tr><td>»»» fee_currency</td> <td>string</td> <td>Fee currency unit</td></tr> <tr><td>»»» point_fee</td> <td>string</td> <td>Points used to deduct fee</td></tr> <tr><td>»»» gt_fee</td> <td>string</td> <td>GT used to deduct fee</td></tr> <tr><td>»»» gt_maker_fee</td> <td>string</td> <td>GT used to deduct maker fee</td></tr> <tr><td>»»» gt_taker_fee</td> <td>string</td> <td>GT used to deduct taker fee</td></tr> <tr><td>»»» gt_discount</td> <td>boolean</td> <td>Whether GT fee discount is used</td></tr> <tr><td>»»» rebated_fee</td> <td>string</td> <td>Rebated fee</td></tr> <tr><td>»»» rebated_fee_currency</td> <td>string</td> <td>Rebated fee currency unit</td></tr> <tr><td>»»» stp_id</td> <td>integer</td> <td>Orders between users in the same <code>stp_id</code> group are not allowed to be self-traded<br><br>1. If the <code>stp_id</code> of two orders being matched is non-zero and equal, they will not be executed. Instead, the corresponding strategy will be executed based on the <code>stp_act</code> of the taker.<br>2. <code>stp_id</code> returns <code>0</code> by default for orders that have not been set for <code>STP group</code></td></tr> <tr><td>»»» stp_act</td> <td>string</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies<br><br>1. After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。<br>2. When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。<br>3. If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'<br><br>- cn: Cancel newest, Cancel new orders and keep old ones<br>- co: Cancel oldest, Cancel old orders and keep new ones<br>- cb: Cancel both, Both old and new orders will be cancelled</td></tr> <tr><td>»»» finish_as</td> <td>string</td> <td>Order completion statuses include:<br><br>- open: Awaiting processing<br>- filled: Fully filled<br>- cancelled: Cancelled by user<br>- liquidate_cancelled: Cancelled due to liquidation<br>- small: Order quantity too small<br>- depth_not_enough: Cancelled due to insufficient market depth<br>- trader_not_enough: Cancelled due to insufficient counterparty<br>- ioc: Not immediately filled because tif is set to ioc<br>- poc: Not met the order strategy because tif is set to poc<br>- fok: Not fully filled immediately because tif is set to fok<br>- stp: Cancelled due to self-trade prevention<br>- unknown: Unknown</td></tr></tbody></table> <h4 id="enumerated-values-9"><a href="#enumerated-values-9" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>closed</td></tr> <tr><td>status</td> <td>cancelled</td></tr> <tr><td>type</td> <td>limit</td></tr> <tr><td>type</td> <td>market</td></tr> <tr><td>side</td> <td>buy</td></tr> <tr><td>side</td> <td>sell</td></tr> <tr><td>time_in_force</td> <td>gtc</td></tr> <tr><td>time_in_force</td> <td>ioc</td></tr> <tr><td>time_in_force</td> <td>poc</td></tr> <tr><td>time_in_force</td> <td>fok</td></tr> <tr><td>stp_act</td> <td>cn</td></tr> <tr><td>stp_act</td> <td>co</td></tr> <tr><td>stp_act</td> <td>cb</td></tr> <tr><td>stp_act</td> <td>-</td></tr> <tr><td>finish_as</td> <td>open</td></tr> <tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidate_cancelled</td></tr> <tr><td>finish_as</td> <td>depth_not_enough</td></tr> <tr><td>finish_as</td> <td>trader_not_enough</td></tr> <tr><td>finish_as</td> <td>small</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>poc</td></tr> <tr><td>finish_as</td> <td>fok</td></tr> <tr><td>finish_as</td> <td>stp</td></tr> <tr><td>finish_as</td> <td>unknown</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="close-position-when-cross-currency-is-disabled"><a href="#close-position-when-cross-currency-is-disabled" class="header-anchor">#</a> close position when cross-currency is disabled</h2> <p><a id="opIdcreateCrossLiquidateOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/cross_liquidate_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency_pair&quot;:&quot;GT_USDT&quot;,&quot;amount&quot;:&quot;12&quot;,&quot;price&quot;:&quot;10.15&quot;,&quot;text&quot;:&quot;t-34535&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/cross_liquidate_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency_pair&quot;:&quot;GT_USDT&quot;,&quot;amount&quot;:&quot;12&quot;,&quot;price&quot;:&quot;10.15&quot;,&quot;text&quot;:&quot;t-34535&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /spot/cross_liquidate_orders</code></p> <p><em>close position when cross-currency is disabled</em></p> <p>Currently, only cross-margin accounts are supported to close position when cross currencies are disabled.
Maximum buy quantity = (unpaid principal and interest - currency balance - the amount of the currency in the order book) / 0.998</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.15&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-34535&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createcrossliquidateorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» text</td> <td>body</td> <td>string</td> <td>false</td> <td>User defined information. If not empty, must follow the rules below:</td></tr> <tr><td>» currency_pair</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Trade amount</td></tr> <tr><td>» price</td> <td>body</td> <td>string</td> <td>true</td> <td>Order price</td></tr> <tr><td>» action_mode</td> <td>body</td> <td>string</td> <td>false</td> <td>Processing Mode:</td></tr></tbody></table> <h4 id="detailed-descriptions-9"><a href="#detailed-descriptions-9" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» text</strong>: User defined information. If not empty, must follow the rules below:</p> <ol><li>prefixed with <code>t-</code></li> <li>no longer than 28 bytes without <code>t-</code> prefix</li> <li>can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</li></ol> <p><strong>» action_mode</strong>: Processing Mode:</p> <p>Different fields are returned when placing an order based on action_mode. This field is only valid during the request, and it is not included in the response result
ACK: Asynchronous mode, only returns key order fields
RESULT: No clearing information
FULL: Full mode (default)</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1852454420&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334073</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334074</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;closed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63469.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000022&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createcrossliquidateorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>order created</td> <td><a href="#schemaorder">Order</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-an-order"><a href="#create-an-order" class="header-anchor">#</a> Create an order</h2> <p><a id="opIdcreateOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;text&quot;:&quot;t-abc123&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;type&quot;:&quot;limit&quot;,&quot;account&quot;:&quot;unified&quot;,&quot;side&quot;:&quot;buy&quot;,&quot;amount&quot;:&quot;0.001&quot;,&quot;price&quot;:&quot;65000&quot;,&quot;time_in_force&quot;:&quot;gtc&quot;,&quot;iceberg&quot;:&quot;0&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;text&quot;:&quot;t-abc123&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;type&quot;:&quot;limit&quot;,&quot;account&quot;:&quot;unified&quot;,&quot;side&quot;:&quot;buy&quot;,&quot;amount&quot;:&quot;0.001&quot;,&quot;price&quot;:&quot;65000&quot;,&quot;time_in_force&quot;:&quot;gtc&quot;,&quot;iceberg&quot;:&quot;0&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /spot/orders</code></p> <p><em>Create an order</em></p> <p>Support spot, margin, leverage, and full-position leverage orders. Use different accounts through the <code>account</code> field, default is <code>spot</code>, that is, use the spot account to place an order if the user is <code>unified</code> account, default is to place an order with a unified account</p> <p>When using leveraged account trading, that is, when <code>account</code> is set to <code>margin</code>, you can set <code>auto_borrow</code> to <code>true</code>,
In the case of insufficient account balance, the system will automatically execute the <code>POST /margin/uni/loans</code> to borrow the insufficient part.
Whether the assets obtained after the leveraged order is automatically used to return the borrowing orders of the leveraged account in a position-by-store leverage account depends on the automatic repayment settings of the user's position-by-store leverage account**,
The account automatic repayment settings can be queried and set through <code>/margin/auto_repay</code>.</p> <p>Use unified account transactions, that is, when <code>account</code> is set to <code>unified</code>, <code>auto_borrow</code>
&quot; can also be enableTo realize the insufficient part of automatic borrowing, but unlike the leverage account, whether the entrustment of a unified account is automatically repayable depends on the
when placing an order<code>auto_repay</code> setting, this setting is only effective for the current entrustment, that is, only the assets obtained after the entrustment transaction will be used to repay the borrowing orders of the full-position leverage account.
Unified account ordering currently supports <code>auto_borrow</code> and <code>auto_repay</code> at the same time.</p> <p>Auto repayment will be triggered at the end of the order, i.e. <code>status</code> is <code>cancelled</code> or <code>closed</code> .</p> <p><strong>Delegation Status</strong></p> <p>The entrustment status in the pending order is <code>open</code>, which remains at <code>open</code> until all the quantity is traded. If it is eaten, the order ends and the status becomes <code>closed</code>.
If the order is cancelled before all transactions are completed, regardless of whether there are partial transactions, the status will become <code>cancelled</code></p> <p><strong>Iceberg Entrustment</strong></p> <p><code>iceberg</code> is used to set the number of iceberg delegations displayed, and does not support complete hiding. Note that when hidden part of the transaction is charged according to the taker's handling rate.</p> <p><strong>Restrict user transactions</strong></p> <p>Set <code>stp_act</code> to decide to use strategies that limit user transactions</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td><a href="#schemaorder">Order</a></td> <td>true</td> <td>none</td></tr> <tr><td>» text</td> <td>body</td> <td>string</td> <td>false</td> <td>User defined information. If not empty, must follow the rules below:</td></tr> <tr><td>» currency_pair</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr> <tr><td>» type</td> <td>body</td> <td>string</td> <td>false</td> <td>Order Type</td></tr> <tr><td>» account</td> <td>body</td> <td>string</td> <td>false</td> <td>Account type, spot - spot account, margin - leveraged account, unified - unified account</td></tr> <tr><td>» side</td> <td>body</td> <td>string</td> <td>true</td> <td>Order side</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>When <code>type</code> is limit, it refers to base currency.  For instance, <code>BTC_USDT</code> means <code>BTC</code></td></tr> <tr><td>» price</td> <td>body</td> <td>string</td> <td>false</td> <td>Price can't be empty when <code>type</code>= <code>limit</code></td></tr> <tr><td>» time_in_force</td> <td>body</td> <td>string</td> <td>false</td> <td>Time in force</td></tr> <tr><td>» iceberg</td> <td>body</td> <td>string</td> <td>false</td> <td>Amount to display for the iceberg order. Null or 0 for normal orders.  Hiding all amount is not supported.</td></tr> <tr><td>» auto_borrow</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Used in margin or cross margin trading to allow automatic loan of insufficient amount if balance is not enough.</td></tr> <tr><td>» auto_repay</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Enable or disable automatic repayment for automatic borrow loan generated by cross margin order. Default is disabled. Note that:</td></tr> <tr><td>» stp_act</td> <td>body</td> <td>string</td> <td>false</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies</td></tr> <tr><td>» action_mode</td> <td>body</td> <td>string</td> <td>false</td> <td>Processing Mode:</td></tr></tbody></table> <h4 id="detailed-descriptions-10"><a href="#detailed-descriptions-10" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» text</strong>: User defined information. If not empty, must follow the rules below:</p> <ol><li>prefixed with <code>t-</code></li> <li>no longer than 28 bytes without <code>t-</code> prefix</li> <li>can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</li></ol> <p>Besides user defined information, reserved contents are listed below, denoting how the order is created:</p> <ul><li>101: from android</li> <li>102: from IOS</li> <li>103: from IPAD</li> <li>104: from webapp</li> <li>3: from web</li> <li>2: from apiv2</li> <li>apiv4: from apiv4</li></ul> <p><strong>» type</strong>: Order Type</p> <ul><li>limit : Limit Order</li> <li>market : Market Order</li></ul> <p><strong>» amount</strong>: When <code>type</code> is limit, it refers to base currency.  For instance, <code>BTC_USDT</code> means <code>BTC</code>
When <code>type</code> is <code>market</code>, it refers to different currency according to <code>side</code></p> <ul><li><code>side</code> : <code>buy</code> means quote currency, <code>BTC_USDT</code> means <code>USDT</code></li> <li><code>side</code> : <code>sell</code> means base currency，<code>BTC_USDT</code> means <code>BTC</code></li></ul> <p><strong>» time_in_force</strong>: Time in force</p> <ul><li>gtc: GoodTillCancelled</li> <li>ioc: ImmediateOrCancelled, taker only</li> <li>poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</li> <li>fok: FillOrKill, fill either completely or none
Only <code>ioc</code> and <code>fok</code> are supported when <code>type</code>=<code>market</code></li></ul> <p><strong>» auto_repay</strong>: Enable or disable automatic repayment for automatic borrow loan generated by cross margin order. Default is disabled. Note that:</p> <ol><li>This field is only effective for cross margin orders. Margin account does not support setting auto repayment for orders.</li> <li><code>auto_borrow</code> and <code>auto_repay</code> can be both set to true in one order.</li></ol> <p><strong>» stp_act</strong>: Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies</p> <ol><li>After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。</li> <li>When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。</li> <li>If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'</li></ol> <ul><li>cn: Cancel newest, Cancel new orders and keep old ones</li> <li>co: Cancel oldest, Cancel old orders and keep new ones</li> <li>cb: Cancel both, Both old and new orders will be cancelled</li></ul> <p><strong>» action_mode</strong>: Processing Mode:
When placing an order, different fields are returned based on action_mode. This field is only valid during the request and is not included in the response result
ACK: Asynchronous mode, only returns key order fields
RESULT: No clearing information
FULL: Full mode (default)</p> <h4 id="enumerated-values-10"><a href="#enumerated-values-10" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>» type</td> <td>limit</td></tr> <tr><td>» type</td> <td>market</td></tr> <tr><td>» side</td> <td>buy</td></tr> <tr><td>» side</td> <td>sell</td></tr> <tr><td>» time_in_force</td> <td>gtc</td></tr> <tr><td>» time_in_force</td> <td>ioc</td></tr> <tr><td>» time_in_force</td> <td>poc</td></tr> <tr><td>» time_in_force</td> <td>fok</td></tr> <tr><td>» stp_act</td> <td>cn</td></tr> <tr><td>» stp_act</td> <td>co</td></tr> <tr><td>» stp_act</td> <td>cb</td></tr> <tr><td>» stp_act</td> <td>-</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>ACK response body example</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12332324&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test2&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>RESULT response body example</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12332324&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1548000000123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1548000100123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.00032&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;auto_borrow&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.50016&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.00032&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cn&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stp&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">10240</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>FULL response body example</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1852454420&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334073</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334074</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;closed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63469.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000022&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order created.</td> <td><a href="#schemaorder">Order</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-orders"><a href="#list-orders" class="header-anchor">#</a> List orders</h2> <p><a id="opIdlistOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency_pair=BTC_USDT&amp;status=open'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency_pair=BTC_USDT&amp;status=open&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/orders</code></p> <p><em>List orders</em></p> <p>Note that the query results are spot order lists for spot, unified account and warehouse-by-site leverage accounts by default.</p> <p><code>status</code> is set to <code>open</code>, that is, when querying the pending order list, only pagination control of <code>page</code> and <code>limit</code> is supported. <code>limit</code> Maximum setting is only allowed to 100 .
The <code>side</code> and <code>from</code>, <code>to</code> parameters for time range query are not supported.</p> <p><code>status</code> is set to <code>finished</code>, that is, when querying historical delegations, in addition to pagination queries, <code>from</code> and <code>to</code> are also supported by time range queries.
In addition, it supports setting the <code>side</code> parameter to filter one-side history.</p> <p>The parameters of the time range filtering are processed according to the order end time.</p> <h3 id="listorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>true</td> <td>Retrieve results with specified currency pair. It is required for open orders, but optional for finished ones.</td></tr> <tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>List orders based on status</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned. If <code>status</code> is <code>open</code>, maximum of <code>limit</code> is 100</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify query account.</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>side</td> <td>query</td> <td>string</td> <td>false</td> <td>All bids or asks. Both included if not specified</td></tr></tbody></table> <h4 id="detailed-descriptions-11"><a href="#detailed-descriptions-11" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>status</strong>: List orders based on status</p> <p><code>open</code> - order is waiting to be filled
<code>finished</code> - order has been filled or cancelled</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1852454420&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334073</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334074</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;closed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63469.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000022&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemaorder">Order</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-all-open-orders-in-specified-currency-pair"><a href="#cancel-all-open-orders-in-specified-currency-pair" class="header-anchor">#</a> Cancel all <code>open</code> orders in specified currency pair</h2> <p><a id="opIdcancelOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /spot/orders</code></p> <p><em>Cancel all <code>open</code> orders in specified currency pair</em></p> <p>When the <code>account</code> parameter is not specified, all pending orders including spot, unified account, and position-by-position leverage will be cancelled.
When <code>currency_pair</code> is not specified, all transaction pairs are revoked
You can specify a certain account separately to cancel all orders under the specified account</p> <h3 id="cancelorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>side</td> <td>query</td> <td>string</td> <td>false</td> <td>All bids or asks. Both included if not specified</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify Account Type</td></tr> <tr><td>action_mode</td> <td>query</td> <td>string</td> <td>false</td> <td>Processing Mode</td></tr> <tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr></tbody></table> <h4 id="detailed-descriptions-12"><a href="#detailed-descriptions-12" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>account</strong>: Specify Account Type</p> <ul><li>Classic Account: If not specified, all include</li> <li>Unified Account: Specify <code>unified</code></li></ul> <p><strong>action_mode</strong>: Processing Mode</p> <p>When placing an order, different fields are returned based on the action_mode</p> <ul><li>ACK: Asynchronous mode, returns only key order fields</li> <li>RESULT: No clearing information</li> <li>FULL: Full mode (default)</li></ul> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1852454420&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334073</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334074</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;closed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63469.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000022&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Batch cancellation request accepted. Query order status by listing orders</td> <td>[Inline]</td></tr></tbody></table> <h3 id="cancelorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Spot order details</td></tr> <tr><td>»» id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br><br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- 101: from android<br>- 102: from IOS<br>- 103: from IPAD<br>- 104: from webapp<br>- 3: from web<br>- 2: from apiv2<br>- apiv4: from apiv4</td></tr> <tr><td>»» amend_text</td> <td>string</td> <td>The custom data that the user remarked when amending the order</td></tr> <tr><td>»» succeeded</td> <td>boolean</td> <td>Whether the batch of orders succeeded</td></tr> <tr><td>»» label</td> <td>string</td> <td>Error label, if any, otherwise an empty string</td></tr> <tr><td>»» message</td> <td>string</td> <td>Detailed error message, if any, otherwise an empty string</td></tr> <tr><td>»» create_time</td> <td>string</td> <td>Creation time of order</td></tr> <tr><td>»» update_time</td> <td>string</td> <td>Last modification time of order</td></tr> <tr><td>»» create_time_ms</td> <td>integer(int64)</td> <td>Creation time of order (in milliseconds)</td></tr> <tr><td>»» update_time_ms</td> <td>integer(int64)</td> <td>Last modification time of order (in milliseconds)</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: to be filled<br>- <code>closed</code>: filled<br>- <code>cancelled</code>: cancelled</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» type</td> <td>string</td> <td>Order Type  <br><br>- limit : Limit Order<br>- market : Market Order</td></tr> <tr><td>»» account</td> <td>string</td> <td>Account type, spot - spot account, margin - leveraged account, unified - unified account</td></tr> <tr><td>»» side</td> <td>string</td> <td>Order side</td></tr> <tr><td>»» amount</td> <td>string</td> <td>When <code>type</code> is limit, it refers to base currency.  For instance, <code>BTC_USDT</code> means <code>BTC</code> <br>When <code>type</code> is <code>market</code>, it refers to different currency according to <code>side</code> <br>- <code>side</code> : <code>buy</code> means quote currency, <code>BTC_USDT</code> means <code>USDT</code><br>- <code>side</code> : <code>sell</code> means base currency，<code>BTC_USDT</code> means <code>BTC</code></td></tr> <tr><td>»» price</td> <td>string</td> <td>Price can't be empty when <code>type</code>= <code>limit</code></td></tr> <tr><td>»» time_in_force</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee<br>- fok: FillOrKill, fill either completely or none<br>Only <code>ioc</code> and <code>fok</code> are supported when <code>type</code>=<code>market</code></td></tr> <tr><td>»» iceberg</td> <td>string</td> <td>Amount to display for the iceberg order. Null or 0 for normal orders.  Hiding all amount is not supported.</td></tr> <tr><td>»» auto_repay</td> <td>boolean</td> <td>Enable or disable automatic repayment for automatic borrow loan generated by cross margin order. Default is disabled. Note that:<br><br>1. This field is only effective for cross margin orders. Margin account does not support setting auto repayment for orders.<br>2. <code>auto_borrow</code> and <code>auto_repay</code> can be both set to true in one order.</td></tr> <tr><td>»» left</td> <td>string</td> <td>Amount left to fill</td></tr> <tr><td>»» filled_amount</td> <td>string</td> <td>Amount traded to fill</td></tr> <tr><td>»» fill_price</td> <td>string</td> <td>Total filled in quote currency. Deprecated in favor of <code>filled_total</code></td></tr> <tr><td>»» filled_total</td> <td>string</td> <td>Total filled in quote currency</td></tr> <tr><td>»» avg_deal_price</td> <td>string</td> <td>Average fill price</td></tr> <tr><td>»» fee</td> <td>string</td> <td>Fee deducted</td></tr> <tr><td>»» fee_currency</td> <td>string</td> <td>Fee currency unit</td></tr> <tr><td>»» point_fee</td> <td>string</td> <td>Points used to deduct fee</td></tr> <tr><td>»» gt_fee</td> <td>string</td> <td>GT used to deduct fee</td></tr> <tr><td>»» gt_maker_fee</td> <td>string</td> <td>GT used to deduct maker fee</td></tr> <tr><td>»» gt_taker_fee</td> <td>string</td> <td>GT used to deduct taker fee</td></tr> <tr><td>»» gt_discount</td> <td>boolean</td> <td>Whether GT fee discount is used</td></tr> <tr><td>»» rebated_fee</td> <td>string</td> <td>Rebated fee</td></tr> <tr><td>»» rebated_fee_currency</td> <td>string</td> <td>Rebated fee currency unit</td></tr> <tr><td>»» stp_id</td> <td>integer</td> <td>Orders between users in the same <code>stp_id</code> group are not allowed to be self-traded<br><br>1. If the <code>stp_id</code> of two orders being matched is non-zero and equal, they will not be executed. Instead, the corresponding strategy will be executed based on the <code>stp_act</code> of the taker.<br>2. <code>stp_id</code> returns <code>0</code> by default for orders that have not been set for <code>STP group</code></td></tr> <tr><td>»» stp_act</td> <td>string</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies<br><br>1. After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。<br>2. When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。<br>3. If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'<br><br>- cn: Cancel newest, Cancel new orders and keep old ones<br>- co: Cancel oldest, Cancel old orders and keep new ones<br>- cb: Cancel both, Both old and new orders will be cancelled</td></tr> <tr><td>»» finish_as</td> <td>string</td> <td>How the order was finished.<br><br>- open: processing<br>- filled: filled totally<br>- cancelled: manually cancelled<br>- ioc: time in force is <code>IOC</code>, finish immediately<br>- stp: cancelled because self trade prevention</td></tr></tbody></table> <h4 id="enumerated-values-11"><a href="#enumerated-values-11" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>closed</td></tr> <tr><td>status</td> <td>cancelled</td></tr> <tr><td>type</td> <td>limit</td></tr> <tr><td>type</td> <td>market</td></tr> <tr><td>side</td> <td>buy</td></tr> <tr><td>side</td> <td>sell</td></tr> <tr><td>time_in_force</td> <td>gtc</td></tr> <tr><td>time_in_force</td> <td>ioc</td></tr> <tr><td>time_in_force</td> <td>poc</td></tr> <tr><td>time_in_force</td> <td>fok</td></tr> <tr><td>stp_act</td> <td>cn</td></tr> <tr><td>stp_act</td> <td>co</td></tr> <tr><td>stp_act</td> <td>cb</td></tr> <tr><td>stp_act</td> <td>-</td></tr> <tr><td>finish_as</td> <td>open</td></tr> <tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>stp</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-batch-of-orders-with-an-id-list"><a href="#cancel-a-batch-of-orders-with-an-id-list" class="header-anchor">#</a> Cancel a batch of orders with an ID list</h2> <p><a id="opIdcancelBatchOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/cancel_batch_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'[{&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;id&quot;:&quot;123456&quot;}]'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/cancel_batch_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'[{&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;id&quot;:&quot;123456&quot;}]'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /spot/cancel_batch_orders</code></p> <p><em>Cancel a batch of orders with an ID list</em></p> <p>Multiple currency pairs can be specified, but maximum 20 orders are allowed per request</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelbatchorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td>array[<a href="#schemacancelbatchorder">CancelBatchOrder</a>]</td> <td>true</td> <td>none</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token null keyword">null</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelbatchorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Batch cancellation completed</td> <td>[Inline]</td></tr></tbody></table> <h3 id="cancelbatchorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» CancelOrderResult</td> <td>object</td> <td>Order cancellation result</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Order currency pair</td></tr> <tr><td>»» id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» text</td> <td>string</td> <td>Custom order information</td></tr> <tr><td>»» succeeded</td> <td>boolean</td> <td>Whether cancellation succeeded</td></tr> <tr><td>»» label</td> <td>string</td> <td>Error label when failed to cancel the order; emtpy if succeeded</td></tr> <tr><td>»» message</td> <td>string</td> <td>Error message when failed to cancel the order; empty if succeeded</td></tr> <tr><td>»» account</td> <td>string</td> <td>Default is empty (deprecated)</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-single-order"><a href="#get-a-single-order" class="header-anchor">#</a> Get a single order</h2> <p><a id="opIdgetOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency_pair=BTC_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency_pair=BTC_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/orders/{order_id}</code></p> <p><em>Get a single order</em></p> <p>By default, orders for spot, unified account and warehouse-by-site leverage account are checked.</p> <h3 id="getorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>The order ID returned when the order was successfully created or the custom ID specified by the user's creation (i.e. the <code>text</code> field).</td></tr> <tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>true</td> <td>Specify the transaction pair to query. If you are querying pending order records, this field is required. If you are querying traded records, this field can be left blank.</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify query account.</td></tr></tbody></table> <h4 id="detailed-descriptions-13"><a href="#detailed-descriptions-13" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>order_id</strong>: The order ID returned when the order was successfully created or the custom ID specified by the user's creation (i.e. the <code>text</code> field).
Operations based on custom IDs can only be checked in pending orders. Only order ID can be used after the order is finished (transaction/cancel)</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1852454420&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334073</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334074</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;closed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63469.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000022&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Detail retrieved</td> <td><a href="#schemaorder">Order</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="amend-an-order"><a href="#amend-an-order" class="header-anchor">#</a> Amend an order</h2> <p><a id="opIdamendOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;account&quot;:&quot;spot&quot;,&quot;amount&quot;:&quot;1&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'PATCH'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'PATCH'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;PATCH&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;account&quot;:&quot;spot&quot;,&quot;amount&quot;:&quot;1&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>PATCH /spot/orders/{order_id}</code></p> <p><em>Amend an order</em></p> <p>By default modify orders for spot, unified account and leverage account.</p> <p>At present, both the request body and query support currency_pair and account parameters, but the request body has higher priority</p> <p>currency_pair must be filled in the request body or query</p> <p>Currently, only the price or quantity modification (choose one of two)</p> <p>About speed limit: Modify orders and create orders to share speed limit rules</p> <p>About matching priority: Only modifying the quantity will become smaller and will not affect the priority of matching. If the price is modified or the quantity is modified, the priority will be adjusted to the end of the new price</p> <p>Precautions: Modification quantity is less than the transaction quantity will trigger the order cancellation operation</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="amendorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>The order ID returned when the order was successfully created or the custom ID specified by the user's creation (i.e. the <code>text</code> field).</td></tr> <tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify query account.</td></tr> <tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency_pair</td> <td>body</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>» account</td> <td>body</td> <td>string</td> <td>false</td> <td>Specify query account.</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>false</td> <td>New order amount. <code>amount</code> and <code>price</code> must specify one of them</td></tr> <tr><td>» price</td> <td>body</td> <td>string</td> <td>false</td> <td>New order price. <code>amount</code> and <code>Price</code> must specify one of them&quot;</td></tr> <tr><td>» amend_text</td> <td>body</td> <td>string</td> <td>false</td> <td>Custom info during amending order</td></tr> <tr><td>» action_mode</td> <td>body</td> <td>string</td> <td>false</td> <td>Processing Mode:</td></tr></tbody></table> <h4 id="detailed-descriptions-14"><a href="#detailed-descriptions-14" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>order_id</strong>: The order ID returned when the order was successfully created or the custom ID specified by the user's creation (i.e. the <code>text</code> field).
Operations based on custom IDs can only be checked in pending orders. Only order ID can be used after the order is finished (transaction/cancel)</p> <p><strong>» action_mode</strong>: Processing Mode:
When placing an order, different fields are returned based on action_mode. This field is only valid during the request and is not included in the response result
ACK: Asynchronous mode, only returns key order fields
RESULT: No clearing information
FULL: Full mode (default)</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1852454420&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334073</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334074</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;closed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63469.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000022&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="amendorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Updated</td> <td><a href="#schemaorder">Order</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-single-order"><a href="#cancel-a-single-order" class="header-anchor">#</a> Cancel a single order</h2> <p><a id="opIdcancelOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency_pair=BTC_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency_pair=BTC_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /spot/orders/{order_id}</code></p> <p><em>Cancel a single order</em></p> <p>By default, orders for spot, unified accounts and leveraged accounts are revoked.</p> <h3 id="cancelorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>The order ID returned when the order was successfully created or the custom ID specified by the user's creation (i.e. the <code>text</code> field).</td></tr> <tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify query account.</td></tr> <tr><td>action_mode</td> <td>query</td> <td>string</td> <td>false</td> <td>Processing Mode</td></tr> <tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr></tbody></table> <h4 id="detailed-descriptions-15"><a href="#detailed-descriptions-15" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>order_id</strong>: The order ID returned when the order was successfully created or the custom ID specified by the user's creation (i.e. the <code>text</code> field).
Operations based on custom IDs can only be checked in pending orders. Only order ID can be used after the order is finished (transaction/cancel)</p> <p><strong>action_mode</strong>: Processing Mode</p> <p>When placing an order, different fields are returned based on the action_mode</p> <ul><li>ACK: Asynchronous mode, returns only key order fields</li> <li>RESULT: No clearing information</li> <li>FULL: Full mode (default)</li></ul> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1852454420&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-abc123&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1710488334&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334073</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1710488334074</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;closed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;unified&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63.4693&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63469.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000022&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="cancelorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order cancelled</td> <td><a href="#schemaorder">Order</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-personal-trading-history"><a href="#list-personal-trading-history" class="header-anchor">#</a> List personal trading history</h2> <p><a id="opIdlistMyTrades"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/my_trades'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/my_trades&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/my_trades</code></p> <p><em>List personal trading history</em></p> <p>By default query of transaction records for spot, unified account and warehouse-by-site leverage accounts.</p> <p>The history within a specified time range can be queried by specifying <code>from</code> or (and) <code>to</code>.</p> <ul><li>If no time parameters are specified, only data for the last 7 days can be obtained.</li> <li>If only any parameter of <code>from</code> or <code>to</code> is specified, only 7-day data from the start (or end) of the specified time is returned.</li> <li>The range of <code>from</code> and <code>to</code> is not allowed to exceed 30 days.</li></ul> <p>The parameters of the time range filter are processed according to the order end time.</p> <p>The maximum number of pages when searching data using limit&amp;page paging function is 100,000, that is, limit * (page - 1) &lt;= 100,000.</p> <h3 id="listmytrades-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve results with specified currency pair</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list.  Default: 100, Minimum: 1, Maximum: 1000</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>order_id</td> <td>query</td> <td>string</td> <td>false</td> <td>Filter trades with specified order ID. <code>currency_pair</code> is also required if this field is present</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify query account.</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1232893232&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000000123.456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4128442423&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;maker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.15&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.03&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sequence_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;588018&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-test&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listmytrades-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listmytrades-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>string</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>string</td> <td>Trading time</td></tr> <tr><td>» create_time_ms</td> <td>string</td> <td>Trading time, with millisecond precision</td></tr> <tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» side</td> <td>string</td> <td>Order side</td></tr> <tr><td>» role</td> <td>string</td> <td>Trade role. No value in public endpoints</td></tr> <tr><td>» amount</td> <td>string</td> <td>Trade amount</td></tr> <tr><td>» price</td> <td>string</td> <td>Order price</td></tr> <tr><td>» order_id</td> <td>string</td> <td>Related order ID. No value in public endpoints</td></tr> <tr><td>» fee</td> <td>string</td> <td>Fee deducted. No value in public endpoints</td></tr> <tr><td>» fee_currency</td> <td>string</td> <td>Fee currency unit. No value in public endpoints</td></tr> <tr><td>» point_fee</td> <td>string</td> <td>Points used to deduct fee. No value in public endpoints</td></tr> <tr><td>» gt_fee</td> <td>string</td> <td>GT used to deduct fee. No value in public endpoints</td></tr> <tr><td>» amend_text</td> <td>string</td> <td>The custom data that the user remarked when amending the order</td></tr> <tr><td>» sequence_id</td> <td>string</td> <td>Represents a unique and consecutive trade ID within a single market.<br>It is used to track and identify trades in the specific market</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined information. No value in public endpoints</td></tr></tbody></table> <h4 id="enumerated-values-12"><a href="#enumerated-values-12" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>side</td> <td>buy</td></tr> <tr><td>side</td> <td>sell</td></tr> <tr><td>role</td> <td>taker</td></tr> <tr><td>role</td> <td>maker</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-server-current-time"><a href="#get-server-current-time" class="header-anchor">#</a> Get server current time</h2> <p><a id="opIdgetSystemTime"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/time'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/time <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/time</code></p> <p><em>Get server current time</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;server_time&quot;</span><span class="token operator">:</span> <span class="token number">1597026383085</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getsystemtime-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getsystemtime-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>SystemTime</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» server_time</td> <td>integer(int64)</td> <td>Server current time(ms)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="countdown-cancel-orders"><a href="#countdown-cancel-orders" class="header-anchor">#</a> Countdown cancel orders</h2> <p><a id="opIdcountdownCancelAllSpot"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/countdown_cancel_all'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;timeout&quot;:30,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/countdown_cancel_all&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;timeout&quot;:30,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /spot/countdown_cancel_all</code></p> <p><em>Countdown cancel orders</em></p> <p>When the timeout set by the user is reached, if there is no cancel or set a new countdown, the related pending orders will be automatically cancelled.
This endpoint can be called repeatedly to set a new countdown or cancel the countdown.
For example, call this endpoint at 30s intervals, each countdown<code>timeout</code> is set to 30s.
If this endpoint is not called again within 30 seconds, all pending orders on the specified <code>market</code> will be automatically cancelled, if no <code>market</code> is specified, all market pending orders will be cancelled.
If the <code>timeout</code> is set to 0 within 30 seconds, the countdown timer will expire and the cacnel function will be cancelled.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;timeout&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="countdowncancelallspot-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» timeout</td> <td>body</td> <td>integer(int32)</td> <td>true</td> <td>Countdown time, in seconds</td></tr> <tr><td>» currency_pair</td> <td>body</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr></tbody></table> <h4 id="detailed-descriptions-16"><a href="#detailed-descriptions-16" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» timeout</strong>: Countdown time, in seconds
At least 5 seconds, 0 means cancel the countdown</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;triggerTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1660039145000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="countdowncancelallspot-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Set countdown successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="countdowncancelallspot-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>triggerTime</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» triggerTime</td> <td>integer(int64)</td> <td>Timestamp of the end of the countdown, in milliseconds</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="batch-modification-of-orders"><a href="#batch-modification-of-orders" class="header-anchor">#</a> Batch modification of orders</h2> <p><a id="opIdamendBatchOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/amend_batch_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'[{&quot;order_id&quot;:&quot;121212&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;account&quot;:&quot;spot&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;amend_text&quot;:&quot;test&quot;}]'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/amend_batch_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'[{&quot;order_id&quot;:&quot;121212&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;account&quot;:&quot;spot&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;amend_text&quot;:&quot;test&quot;}]'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /spot/amend_batch_orders</code></p> <p><em>Batch modification of orders</em></p> <p>By default modify orders for spot, unified account and leverage account.
Currently, only the price or quantity modification (choose one of two)
Modify unfinished orders, up to 5 orders can be modified in batches at a time. The request parameters should be passed in array format.
When the order modification fails during batch modification, the modification of the order will continue to be executed. After execution, the failure information of the corresponding order will be carried
The order of calling the batch modification order is consistent with the order list
The order of return content of batch modification orders is consistent with the order list</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;121212&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="amendbatchorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td>array[<a href="#schemabatchamenditem">BatchAmendItem</a>]</td> <td>true</td> <td>none</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12332324&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12332324&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1548000100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1548000000123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1548000100123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETC_BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.00032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.242&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.50016&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.00032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cn&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stp&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">10240</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="amendbatchorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order modification executed successfully</td> <td>[Inline]</td></tr></tbody></table> <h3 id="amendbatchorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Batch order details]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Batch order details</td></tr> <tr><td>»» order_id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» amend_text</td> <td>string</td> <td>The custom data that the user remarked when amending the order</td></tr> <tr><td>»» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</td></tr> <tr><td>»» succeeded</td> <td>boolean</td> <td>Whether the batch of orders succeeded</td></tr> <tr><td>»» label</td> <td>string</td> <td>Error label, if any, otherwise an empty string</td></tr> <tr><td>»» message</td> <td>string</td> <td>Detailed error message, if any, otherwise an empty string</td></tr> <tr><td>»» id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» create_time</td> <td>string</td> <td>Creation time of order</td></tr> <tr><td>»» update_time</td> <td>string</td> <td>Last modification time of order</td></tr> <tr><td>»» create_time_ms</td> <td>integer(int64)</td> <td>Creation time of order (in milliseconds)</td></tr> <tr><td>»» update_time_ms</td> <td>integer(int64)</td> <td>Last modification time of order (in milliseconds)</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: to be filled<br>- <code>closed</code>: filled<br>- <code>cancelled</code>: cancelled</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» type</td> <td>string</td> <td>Order Type  <br><br>- limit : Limit Order<br>- market : Market Order</td></tr> <tr><td>»» account</td> <td>string</td> <td>Account type, spot - spot account, margin - leveraged account, unified - unified account</td></tr> <tr><td>»» side</td> <td>string</td> <td>Order side</td></tr> <tr><td>»» amount</td> <td>string</td> <td>Trade amount</td></tr> <tr><td>»» price</td> <td>string</td> <td>Order price</td></tr> <tr><td>»» time_in_force</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee<br>- fok: FillOrKill, fill either completely or none</td></tr> <tr><td>»» iceberg</td> <td>string</td> <td>Amount to display for the iceberg order. Null or 0 for normal orders.  Hiding all amount is not supported.</td></tr> <tr><td>»» auto_repay</td> <td>boolean</td> <td>Enable or disable automatic repayment for automatic borrow loan generated by cross margin order. Default is disabled. Note that:<br><br>1. This field is only effective for cross margin orders. Margin account does not support setting auto repayment for orders.<br>2. <code>auto_borrow</code> and <code>auto_repay</code> can be both set to true in one order.</td></tr> <tr><td>»» left</td> <td>string</td> <td>Amount left to fill</td></tr> <tr><td>»» filled_amount</td> <td>string</td> <td>Amount traded to fill</td></tr> <tr><td>»» fill_price</td> <td>string</td> <td>Total filled in quote currency. Deprecated in favor of <code>filled_total</code></td></tr> <tr><td>»» filled_total</td> <td>string</td> <td>Total filled in quote currency</td></tr> <tr><td>»» avg_deal_price</td> <td>string</td> <td>Average fill price</td></tr> <tr><td>»» fee</td> <td>string</td> <td>Fee deducted</td></tr> <tr><td>»» fee_currency</td> <td>string</td> <td>Fee currency unit</td></tr> <tr><td>»» point_fee</td> <td>string</td> <td>Points used to deduct fee</td></tr> <tr><td>»» gt_fee</td> <td>string</td> <td>GT used to deduct fee</td></tr> <tr><td>»» gt_discount</td> <td>boolean</td> <td>Whether GT fee discount is used</td></tr> <tr><td>»» rebated_fee</td> <td>string</td> <td>Rebated fee</td></tr> <tr><td>»» rebated_fee_currency</td> <td>string</td> <td>Rebated fee currency unit</td></tr> <tr><td>»» stp_id</td> <td>integer</td> <td>Orders between users in the same <code>stp_id</code> group are not allowed to be self-traded<br><br>1. If the <code>stp_id</code> of two orders being matched is non-zero and equal, they will not be executed. Instead, the corresponding strategy will be executed based on the <code>stp_act</code> of the taker.<br>2. <code>stp_id</code> returns <code>0</code> by default for orders that have not been set for <code>STP group</code></td></tr> <tr><td>»» stp_act</td> <td>string</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies<br><br>1. After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。<br>2. When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。<br>3. If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'<br><br>- cn: Cancel newest, Cancel new orders and keep old ones<br>- co: Cancel oldest, Cancel old orders and keep new ones<br>- cb: Cancel both, Both old and new orders will be cancelled</td></tr> <tr><td>»» finish_as</td> <td>string</td> <td>How the order was finished.<br><br>- open: processing<br>- filled: filled totally<br>- cancelled: manually cancelled<br>- ioc: time in force is <code>IOC</code>, finish immediately<br>- stp: cancelled because self trade prevention</td></tr></tbody></table> <h4 id="enumerated-values-13"><a href="#enumerated-values-13" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>closed</td></tr> <tr><td>status</td> <td>cancelled</td></tr> <tr><td>type</td> <td>limit</td></tr> <tr><td>type</td> <td>market</td></tr> <tr><td>account</td> <td>spot</td></tr> <tr><td>account</td> <td>margin</td></tr> <tr><td>account</td> <td>cross_margin</td></tr> <tr><td>account</td> <td>unified</td></tr> <tr><td>side</td> <td>buy</td></tr> <tr><td>side</td> <td>sell</td></tr> <tr><td>time_in_force</td> <td>gtc</td></tr> <tr><td>time_in_force</td> <td>ioc</td></tr> <tr><td>time_in_force</td> <td>poc</td></tr> <tr><td>time_in_force</td> <td>fok</td></tr> <tr><td>stp_act</td> <td>cn</td></tr> <tr><td>stp_act</td> <td>co</td></tr> <tr><td>stp_act</td> <td>cb</td></tr> <tr><td>stp_act</td> <td>-</td></tr> <tr><td>finish_as</td> <td>open</td></tr> <tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>stp</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-spot-insurance-fund-historical-data"><a href="#query-spot-insurance-fund-historical-data" class="header-anchor">#</a> Query spot insurance fund historical data</h2> <p><a id="opIdgetSpotInsuranceHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/insurance_history'</span>
query_param <span class="token operator">=</span> <span class="token string">'business=margin&amp;currency=BTC&amp;from=1547706332&amp;to=1547706332'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/spot/insurance_history?business<span class="token operator">=</span>margin<span class="token operator">&amp;</span><span class="token assign-left variable">currency</span><span class="token operator">=</span>BTC<span class="token operator">&amp;</span><span class="token assign-left variable">from</span><span class="token operator">=</span><span class="token number">1547706332</span><span class="token operator">&amp;</span><span class="token assign-left variable">to</span><span class="token operator">=</span><span class="token number">1547706332</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /spot/insurance_history</code></p> <p><em>Query spot insurance fund historical data</em></p> <h3 id="getspotinsurancehistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>business</td> <td>query</td> <td>string</td> <td>true</td> <td>Leverage business, margin - position by position; unified - unified account</td></tr> <tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>The maximum number of items returned in the list, the default value is 30</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>true</td> <td>Start timestamp, seconds</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>true</td> <td>End timestamp, in seconds</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1021.21&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1727054547</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getspotinsurancehistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getspotinsurancehistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>» balance</td> <td>string</td> <td>balance</td></tr> <tr><td>» time</td> <td>integer(int64)</td> <td>Creation time, timestamp, milliseconds</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-price-triggered-order"><a href="#create-a-price-triggered-order" class="header-anchor">#</a> Create a price-triggered order</h2> <p><a id="opIdcreateSpotPriceTriggeredOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;trigger&quot;:{&quot;price&quot;:&quot;100&quot;,&quot;rule&quot;:&quot;&gt;=&quot;,&quot;expiration&quot;:3600},&quot;put&quot;:{&quot;type&quot;:&quot;limit&quot;,&quot;side&quot;:&quot;buy&quot;,&quot;price&quot;:&quot;2.15&quot;,&quot;amount&quot;:&quot;2.00000000&quot;,&quot;account&quot;:&quot;normal&quot;,&quot;time_in_force&quot;:&quot;gtc&quot;,&quot;text&quot;:&quot;api&quot;},&quot;market&quot;:&quot;GT_USDT&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;trigger&quot;:{&quot;price&quot;:&quot;100&quot;,&quot;rule&quot;:&quot;&gt;=&quot;,&quot;expiration&quot;:3600},&quot;put&quot;:{&quot;type&quot;:&quot;limit&quot;,&quot;side&quot;:&quot;buy&quot;,&quot;price&quot;:&quot;2.15&quot;,&quot;amount&quot;:&quot;2.00000000&quot;,&quot;account&quot;:&quot;normal&quot;,&quot;time_in_force&quot;:&quot;gtc&quot;,&quot;text&quot;:&quot;api&quot;},&quot;market&quot;:&quot;GT_USDT&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /spot/price_orders</code></p> <p><em>Create a price-triggered order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">3600</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;put&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.15&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.00000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createspotpricetriggeredorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td><a href="#schemaspotpricetriggeredorder">SpotPriceTriggeredOrder</a></td> <td>true</td> <td>none</td></tr> <tr><td>» trigger</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>»» price</td> <td>body</td> <td>string</td> <td>true</td> <td>Trigger price</td></tr> <tr><td>»» rule</td> <td>body</td> <td>string</td> <td>true</td> <td>Price trigger condition</td></tr> <tr><td>»» expiration</td> <td>body</td> <td>integer</td> <td>true</td> <td>How long (in seconds) to wait for the condition to be triggered before cancelling the order.</td></tr> <tr><td>» put</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>»» type</td> <td>body</td> <td>string</td> <td>false</td> <td>Order type，default to <code>limit</code></td></tr> <tr><td>»» side</td> <td>body</td> <td>string</td> <td>true</td> <td>Order side</td></tr> <tr><td>»» price</td> <td>body</td> <td>string</td> <td>true</td> <td>Order price</td></tr> <tr><td>»» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>When <code>type</code> is limit, it refers to base currency.  For instance, <code>BTC_USDT</code> means <code>BTC</code></td></tr> <tr><td>»» account</td> <td>body</td> <td>string</td> <td>true</td> <td>Trading account type.  Portfolio margin account must set to <code>unified</code></td></tr> <tr><td>»» time_in_force</td> <td>body</td> <td>string</td> <td>false</td> <td>time_in_force</td></tr> <tr><td>»» auto_borrow</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Whether to borrow coins automatically</td></tr> <tr><td>»» auto_repay</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Whether to repay the loan automatically</td></tr> <tr><td>»» text</td> <td>body</td> <td>string</td> <td>false</td> <td>The source of the order, including:</td></tr> <tr><td>» market</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr></tbody></table> <h4 id="detailed-descriptions-17"><a href="#detailed-descriptions-17" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>»» rule</strong>: Price trigger condition</p> <ul><li><blockquote><p>=: triggered when market price larger than or equal to <code>price</code> field</p></blockquote></li> <li>&lt;=: triggered when market price less than or equal to <code>price</code> field</li></ul> <p><strong>»» type</strong>: Order type，default to <code>limit</code></p> <ul><li>limit : Limit Order</li> <li>market : Market Order</li></ul> <p><strong>»» side</strong>: Order side</p> <ul><li>buy: buy side</li> <li>sell: sell side</li></ul> <p><strong>»» amount</strong>: When <code>type</code> is limit, it refers to base currency.  For instance, <code>BTC_USDT</code> means <code>BTC</code>
When <code>type</code> is <code>market</code>, it refers to different currency according to <code>side</code></p> <ul><li><code>side</code> : <code>buy</code> means quote currency, <code>BTC_USDT</code> means <code>USDT</code></li> <li><code>side</code> : <code>sell</code> means base currency，<code>BTC_USDT</code> means <code>BTC</code></li></ul> <p><strong>»» account</strong>: Trading account type.  Portfolio margin account must set to <code>unified</code></p> <ul><li>normal: spot trading</li> <li>margin: margin trading</li> <li>unified: unified trading</li></ul> <p><strong>»» time_in_force</strong>: time_in_force</p> <ul><li>gtc: GoodTillCancelled</li> <li>ioc: ImmediateOrCancelled, taker only</li></ul> <p><strong>»» text</strong>: The source of the order, including:</p> <ul><li>web: web</li> <li>api: api</li> <li>app: app</li></ul> <h4 id="enumerated-values-14"><a href="#enumerated-values-14" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>»» rule</td> <td>&gt;=</td></tr> <tr><td>»» rule</td> <td>&lt;=</td></tr> <tr><td>»» type</td> <td>limit</td></tr> <tr><td>»» type</td> <td>market</td></tr> <tr><td>»» side</td> <td>buy</td></tr> <tr><td>»» side</td> <td>sell</td></tr> <tr><td>»» account</td> <td>normal</td></tr> <tr><td>»» account</td> <td>margin</td></tr> <tr><td>»» account</td> <td>unified</td></tr> <tr><td>»» time_in_force</td> <td>gtc</td></tr> <tr><td>»» time_in_force</td> <td>ioc</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1432329</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createspotpricetriggeredorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order created</td> <td>Inline</td></tr></tbody></table> <h3 id="createspotpricetriggeredorder-responseschema">Response Schema</h3> <p>Status Code <strong>201</strong></p> <p><em>TriggerOrderResponse</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Auto order ID</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-running-auto-order-list"><a href="#retrieve-running-auto-order-list" class="header-anchor">#</a> Retrieve running auto order list</h2> <p><a id="opIdlistSpotPriceTriggeredOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=open'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;status=open&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/price_orders</code></p> <p><em>Retrieve running auto order list</em></p> <h3 id="listspotpricetriggeredorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>Only list the orders with this status</td></tr> <tr><td>market</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Trading account type.  Portfolio margin account must set to <code>unified</code></td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <h4 id="enumerated-values-15"><a href="#enumerated-values-15" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>account</td> <td>normal</td></tr> <tr><td>account</td> <td>margin</td></tr> <tr><td>account</td> <td>unified</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">3600</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;put&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.00000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
    <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token number">1616397800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ftime&quot;</span><span class="token operator">:</span> <span class="token number">1616397801</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fired_order_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listspotpricetriggeredorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemaspotpricetriggeredorder">SpotPriceTriggeredOrder</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-all-price-triggered-orders"><a href="#cancel-all-price-triggered-orders" class="header-anchor">#</a> Cancel All Price-triggered Orders</h2> <p><a id="opIdcancelSpotPriceTriggeredOrderList"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /spot/price_orders</code></p> <p><em>Cancel All Price-triggered Orders</em></p> <h3 id="cancelspotpricetriggeredorderlist-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>market</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>account</td> <td>query</td> <td>string</td> <td>false</td> <td>Trading account type.  Portfolio margin account must set to <code>unified</code></td></tr></tbody></table> <h4 id="enumerated-values-16"><a href="#enumerated-values-16" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>account</td> <td>normal</td></tr> <tr><td>account</td> <td>margin</td></tr> <tr><td>account</td> <td>unified</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">3600</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;put&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.15&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.00000000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
    <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token number">1616397800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ftime&quot;</span><span class="token operator">:</span> <span class="token number">1616397801</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fired_order_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelspotpricetriggeredorderlist-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Batch cancellation request accepted. Query order status by listing orders</td> <td>[<a href="#schemaspotpricetriggeredorder">SpotPriceTriggeredOrder</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-price-triggered-order"><a href="#get-a-price-triggered-order" class="header-anchor">#</a> Get a price-triggered order</h2> <p><a id="opIdgetSpotPriceTriggeredOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/price_orders/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/price_orders/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /spot/price_orders/{order_id}</code></p> <p><em>Get a price-triggered order</em></p> <h3 id="getspotpricetriggeredorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Retrieve the data of the order with the specified ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">3600</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;put&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.15&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.00000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token number">1616397800</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ftime&quot;</span><span class="token operator">:</span> <span class="token number">1616397801</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fired_order_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getspotpricetriggeredorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Auto order detail</td> <td><a href="#schemaspotpricetriggeredorder">SpotPriceTriggeredOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-price-triggered-order"><a href="#cancel-a-price-triggered-order" class="header-anchor">#</a> cancel a price-triggered order</h2> <p><a id="opIdcancelSpotPriceTriggeredOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/spot/price_orders/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/spot/price_orders/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /spot/price_orders/{order_id}</code></p> <p><em>cancel a price-triggered order</em></p> <h3 id="cancelspotpricetriggeredorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Retrieve the data of the order with the specified ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">3600</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;put&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.15&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.00000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token number">1616397800</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ftime&quot;</span><span class="token operator">:</span> <span class="token number">1616397801</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fired_order_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="cancelspotpricetriggeredorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Auto order detail</td> <td><a href="#schemaspotpricetriggeredorder">SpotPriceTriggeredOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="margin"><a href="#margin" class="header-anchor">#</a> Margin</h1> <p>Margin API; margin trading uses spot trading API</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="margin-account-list"><a href="#margin-account-list" class="header-anchor">#</a> Margin account list</h2> <p><a id="opIdlistMarginAccounts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/accounts</code></p> <p><em>Margin account list</em></p> <h3 id="listmarginaccounts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;base&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quote&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.5&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listmarginaccounts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listmarginaccounts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Margin account detail. <code>base</code> refers to base currency, while `quotes to quote currency</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» locked</td> <td>boolean</td> <td>Whether account is locked</td></tr> <tr><td>»» risk</td> <td>string</td> <td>Current risk rate of margin account</td></tr> <tr><td>»» base</td> <td>object</td> <td>Account currency details</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»»» available</td> <td>string</td> <td>Amount suitable for margin trading.</td></tr> <tr><td>»»» locked</td> <td>string</td> <td>Locked amount, used in margin trading</td></tr> <tr><td>»»» borrowed</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>»»» interest</td> <td>string</td> <td>Unpaid interests</td></tr> <tr><td>»» quote</td> <td>object</td> <td>Account currency details</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»»» available</td> <td>string</td> <td>Amount suitable for margin trading.</td></tr> <tr><td>»»» locked</td> <td>string</td> <td>Locked amount, used in margin trading</td></tr> <tr><td>»»» borrowed</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>»»» interest</td> <td>string</td> <td>Unpaid interests</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-margin-account-balance-change-history"><a href="#list-margin-account-balance-change-history" class="header-anchor">#</a> List margin account balance change history</h2> <p><a id="opIdlistMarginAccountBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/account_book'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/account_book&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/account_book</code></p> <p><em>List margin account balance change history</em></p> <p>Only transferals from and to margin account are provided for now. Time range allows 30 days at most</p> <h3 id="listmarginaccountbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>List records related to specified currency only. If specified, <code>currency_pair</code> is also required.</td></tr> <tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>List records related to specified currency pair. Used in combination with <code>currency</code>. Ignored if <code>currency</code> is not provided</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Only retrieve changes of the specified type. All types will be returned if not specified.</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1547633726&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_ms&quot;</span><span class="token operator">:</span> <span class="token number">1547633726123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.03&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.59316525194&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listmarginaccountbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listmarginaccountbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Balance change record ID</td></tr> <tr><td>» time</td> <td>string</td> <td>Balance changed timestamp</td></tr> <tr><td>» time_ms</td> <td>integer(int64)</td> <td>The timestamp of the change (in milliseconds)</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency changed</td></tr> <tr><td>» currency_pair</td> <td>string</td> <td>Account currency pair</td></tr> <tr><td>» change</td> <td>string</td> <td>Amount changed. Positive value means transferring in, while negative out</td></tr> <tr><td>» balance</td> <td>string</td> <td>Balance after change</td></tr> <tr><td>» type</td> <td>string</td> <td>Account book type.  Please refer to <a href="#accountbook-type">account book type</a> for more detail</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="funding-account-list"><a href="#funding-account-list" class="header-anchor">#</a> Funding account list</h2> <p><a id="opIdlistFundingAccounts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/funding_accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/funding_accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/funding_accounts</code></p> <p><em>Funding account list</em></p> <h3 id="listfundingaccounts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.238&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3.32&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_lent&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3.32&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfundingaccounts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfundingaccounts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» available</td> <td>string</td> <td>Available assets to lend, which is identical to spot account <code>available</code></td></tr> <tr><td>» locked</td> <td>string</td> <td>Locked amount. i.e. amount in <code>open</code> loans</td></tr> <tr><td>» lent</td> <td>string</td> <td>Outstanding loan amount yet to be repaid</td></tr> <tr><td>» total_lent</td> <td>string</td> <td>Amount used for lending. total_lent = lent + locked</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-user-s-auto-repayment-setting"><a href="#update-user-s-auto-repayment-setting" class="header-anchor">#</a> Update user's auto repayment setting</h2> <p><a id="opIdsetAutoRepay"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/auto_repay'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=on'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/auto_repay&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;status=on&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /margin/auto_repay</code></p> <p><em>Update user's auto repayment setting</em></p> <h3 id="setautorepay-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>New auto repayment status. <code>on</code> - enabled, <code>off</code> - disabled</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="setautorepay-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Current auto repayment setting</td> <td>Inline</td></tr></tbody></table> <h3 id="setautorepay-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>AutoRepaySetting</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» status</td> <td>string</td> <td>Auto repayment status. <code>on</code> - enabled, <code>off</code> - disabled</td></tr></tbody></table> <h4 id="enumerated-values-17"><a href="#enumerated-values-17" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>on</td></tr> <tr><td>status</td> <td>off</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-user-auto-repayment-setting"><a href="#retrieve-user-auto-repayment-setting" class="header-anchor">#</a> Retrieve user auto repayment setting</h2> <p><a id="opIdgetAutoRepayStatus"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/auto_repay'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/auto_repay&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/auto_repay</code></p> <p><em>Retrieve user auto repayment setting</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;on&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getautorepaystatus-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Current auto repayment setting</td> <td>Inline</td></tr></tbody></table> <h3 id="getautorepaystatus-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>AutoRepaySetting</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» status</td> <td>string</td> <td>Auto repayment status. <code>on</code> - enabled, <code>off</code> - disabled</td></tr></tbody></table> <h4 id="enumerated-values-18"><a href="#enumerated-values-18" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>on</td></tr> <tr><td>status</td> <td>off</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-the-max-transferable-amount-for-a-specific-margin-currency"><a href="#get-the-max-transferable-amount-for-a-specific-margin-currency" class="header-anchor">#</a> Get the max transferable amount for a specific margin currency</h2> <p><a id="opIdgetMarginTransferable"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/transferable'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=BTC'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/transferable&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=BTC&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/transferable</code></p> <p><em>Get the max transferable amount for a specific margin currency</em></p> <h3 id="getmargintransferable-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getmargintransferable-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getmargintransferable-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>MarginTransferable</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency detail</td></tr> <tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» amount</td> <td>string</td> <td>Max transferable amount</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="currencies-supported-by-cross-margin-deprecated"><a href="#currencies-supported-by-cross-margin-deprecated" class="header-anchor">#</a> Currencies supported by cross margin.(deprecated)</h2> <p><a id="opIdlistCrossMarginCurrencies"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/currencies'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/margin/cross/currencies <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /margin/cross/currencies</code></p> <p><em>Currencies supported by cross margin.(deprecated)</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0002&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;prec&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user_max_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_max_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63015.5214&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;loanable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcrossmargincurrencies-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcrossmargincurrencies-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» name</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» rate</td> <td>string</td> <td>Minimum lending rate (hourly rate)</td></tr> <tr><td>» prec</td> <td>string</td> <td>Currency precision</td></tr> <tr><td>» discount</td> <td>string</td> <td>Currency value discount, which is used in total value calculation</td></tr> <tr><td>» min_borrow_amount</td> <td>string</td> <td>Minimum currency borrow amount. Unit is currency itself</td></tr> <tr><td>» user_max_borrow_amount</td> <td>string</td> <td>Maximum borrow value allowed per user, in USDT</td></tr> <tr><td>» total_max_borrow_amount</td> <td>string</td> <td>Maximum borrow value allowed for this currency, in USDT</td></tr> <tr><td>» price</td> <td>string</td> <td>Price change between this currency and USDT</td></tr> <tr><td>» loanable</td> <td>boolean</td> <td>Whether currency is borrowed</td></tr> <tr><td>» status</td> <td>integer</td> <td>status<br> - <code>0</code> : disable<br> - <code>1</code> : enable</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-detail-of-one-single-currency-supported-by-cross-margin-deprecated"><a href="#retrieve-detail-of-one-single-currency-supported-by-cross-margin-deprecated" class="header-anchor">#</a> Retrieve detail of one single currency supported by cross margin. (deprecated)</h2> <p><a id="opIdgetCrossMarginCurrency"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/currencies/BTC'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/margin/cross/currencies/BTC <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /margin/cross/currencies/{currency}</code></p> <p><em>Retrieve detail of one single currency supported by cross margin. (deprecated)</em></p> <h3 id="getcrossmargincurrency-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>path</td> <td>string</td> <td>true</td> <td>Currency name</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;prec&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user_max_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_max_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;63015.5214&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;loanable&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcrossmargincurrency-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getcrossmargincurrency-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» name</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» rate</td> <td>string</td> <td>Minimum lending rate (hourly rate)</td></tr> <tr><td>» prec</td> <td>string</td> <td>Currency precision</td></tr> <tr><td>» discount</td> <td>string</td> <td>Currency value discount, which is used in total value calculation</td></tr> <tr><td>» min_borrow_amount</td> <td>string</td> <td>Minimum currency borrow amount. Unit is currency itself</td></tr> <tr><td>» user_max_borrow_amount</td> <td>string</td> <td>Maximum borrow value allowed per user, in USDT</td></tr> <tr><td>» total_max_borrow_amount</td> <td>string</td> <td>Maximum borrow value allowed for this currency, in USDT</td></tr> <tr><td>» price</td> <td>string</td> <td>Price change between this currency and USDT</td></tr> <tr><td>» loanable</td> <td>boolean</td> <td>Whether currency is borrowed</td></tr> <tr><td>» status</td> <td>integer</td> <td>status<br> - <code>0</code> : disable<br> - <code>1</code> : enable</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-cross-margin-account-deprecated"><a href="#retrieve-cross-margin-account-deprecated" class="header-anchor">#</a> Retrieve cross margin account. (deprecated)</h2> <p><a id="opIdgetCrossMarginAccount"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/accounts</code></p> <p><em>Retrieve cross margin account. (deprecated)</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;locked&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;balances&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;ETH&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.075393666654&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000106807603333&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;negative_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;futures_pos_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1016.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;POINT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9999999999.017023138734&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;negative_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;futures_pos_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12016.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;USDT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000062023&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;negative_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;futures_pos_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16.1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_freeze&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;total_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;230.94621713&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrowed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;161.66395521&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.02290237&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.4284&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1025.0524665088&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_margin_balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3382495.944473949183&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_maintenance_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;205.01049330176&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_initial_margin_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3299.827135672679&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_maintenance_margin_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;16499.135678363399&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_available_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3381470.892007440383&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;portfolio_margin_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3381470.892007440383&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;portfolio_margin_total_liab&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;portfolio_margin_total_equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100016.1&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcrossmarginaccount-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getcrossmarginaccount-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» refresh_time</td> <td>integer(int64)</td> <td>Time of the most recent refresh</td></tr> <tr><td>» locked</td> <td>boolean</td> <td>Whether account is locked</td></tr> <tr><td>» balances</td> <td>object</td> <td>none</td></tr> <tr><td>»» CrossMarginBalance</td> <td>object</td> <td>none</td></tr> <tr><td>»»» available</td> <td>string</td> <td>Available amount</td></tr> <tr><td>»»» freeze</td> <td>string</td> <td>Locked amount</td></tr> <tr><td>»»» borrowed</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>»»» interest</td> <td>string</td> <td>Unpaid interests</td></tr> <tr><td>»»» negative_liab</td> <td>string</td> <td>Negative Liabilities. Formula:Min[available+total+unrealized_pnl,0]</td></tr> <tr><td>»»» futures_pos_liab</td> <td>string</td> <td>Borrowing to Open Positions in Futures</td></tr> <tr><td>»»» equity</td> <td>string</td> <td>Equity. Formula: available + freeze - borrowed + futures account's total + unrealized_pnl</td></tr> <tr><td>»»» total_freeze</td> <td>string</td> <td>Total freeze. Formula: freeze + position_initial_margin + order_margin</td></tr> <tr><td>»»» total_liab</td> <td>string</td> <td>Total liabilities. Formula: Max[Abs[Min[quity - total_freeze,0], borrowed]] - futures_pos_liab</td></tr> <tr><td>»» total</td> <td>string</td> <td>Total account value in USDT, i.e., the sum of all currencies' <code>(available+freeze)*price*discount</code></td></tr> <tr><td>»» borrowed</td> <td>string</td> <td>Total borrowed value in USDT, i.e., the sum of all currencies' <code>borrowed*price*discount</code></td></tr> <tr><td>»» interest</td> <td>string</td> <td>Total unpaid interests in USDT, i.e., the sum of all currencies' <code>interest*price*discount</code></td></tr> <tr><td>»» risk</td> <td>string</td> <td>Risk rate. When it belows 110%, liquidation will be triggered. Calculation formula: <code>total / (borrowed+interest)</code></td></tr> <tr><td>»» total_initial_margin</td> <td>string</td> <td>Total initial margin</td></tr> <tr><td>»» total_margin_balance</td> <td>string</td> <td>Total Margin Balance (∑(positive equity ＊ index price * discount) + ∑(negative equity * index price))</td></tr> <tr><td>»» total_maintenance_margin</td> <td>string</td> <td>Total maintenance margin</td></tr> <tr><td>»» total_initial_margin_rate</td> <td>string</td> <td>Total initial margin rate</td></tr> <tr><td>»» total_maintenance_margin_rate</td> <td>string</td> <td>Total maintenance margin rate</td></tr> <tr><td>»» total_available_margin</td> <td>string</td> <td>Total available margin</td></tr> <tr><td>»» portfolio_margin_total</td> <td>string</td> <td>Total amount of the portfolio margin account</td></tr> <tr><td>»» portfolio_margin_total_liab</td> <td>string</td> <td>Total liabilities of the portfolio margin account</td></tr> <tr><td>»» portfolio_margin_total_equity</td> <td>string</td> <td>Total equity of the portfolio margin account</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-cross-margin-account-change-history-deprecated"><a href="#retrieve-cross-margin-account-change-history-deprecated" class="header-anchor">#</a> Retrieve cross margin account change history. (deprecated)</h2> <p><a id="opIdlistCrossMarginAccountBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/account_book'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/account_book&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/account_book</code></p> <p><em>Retrieve cross margin account change history. (deprecated)</em></p> <p>The record query time range is not allowed to exceed 30 days.</p> <p>When using the limit&amp;page paging function to retrieve data, the maximum number of pages is 100,000, that is, (limit page - 1) &lt;= 100000.</p> <h3 id="listcrossmarginaccountbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Filter by currency</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Only retrieve changes of the specified type. All types will be returned if not specified.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1547633726123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.03&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.59316525194&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;in&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcrossmarginaccountbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcrossmarginaccountbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Balance change record ID</td></tr> <tr><td>» time</td> <td>integer(int64)</td> <td>The timestamp of the change (in milliseconds)</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency changed</td></tr> <tr><td>» change</td> <td>string</td> <td>Amount changed. Positive value means transferring in, while negative out</td></tr> <tr><td>» balance</td> <td>string</td> <td>Balance after change</td></tr> <tr><td>» type</td> <td>string</td> <td>Account book type.  Please refer to <a href="#accountbook-type">account book type</a> for more detail</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-cross-margin-borrow-loan-deprecated"><a href="#create-a-cross-margin-borrow-loan-deprecated" class="header-anchor">#</a> Create a cross margin borrow loan. (deprecated)</h2> <p><a id="opIdcreateCrossMarginLoan"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/loans'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;EOS&quot;,&quot;amount&quot;:&quot;110.553635&quot;,&quot;text&quot;:&quot;web&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/loans&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;EOS&quot;,&quot;amount&quot;:&quot;110.553635&quot;,&quot;text&quot;:&quot;web&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /margin/cross/loans</code></p> <p><em>Create a cross margin borrow loan. (deprecated)</em></p> <p>Borrow amount cannot be less than currency minimum borrow amount</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EOS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.553635&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createcrossmarginloan-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency name</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Borrowed amount</td></tr> <tr><td>» text</td> <td>body</td> <td>string</td> <td>false</td> <td>User defined custom ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1620381696159</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1620381696159</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EOS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.553635&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.506649705159&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.046985294841&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unpaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000074393366667&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createcrossmarginloan-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully borrowed</td> <td>Inline</td></tr></tbody></table> <h3 id="createcrossmarginloan-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Loan record ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation timestamp, in milliseconds</td></tr> <tr><td>» update_time</td> <td>integer(int64)</td> <td>Update timestamp, in milliseconds</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» amount</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined custom ID</td></tr> <tr><td>» status</td> <td>integer(int32)</td> <td>Deprecated. Currently, all statuses have been set to 2. <br>Borrow loan status, which includes:<br><br>- 1: failed to borrow<br>- 2: borrowed but not repaid<br>- 3: repayment complete</td></tr> <tr><td>» repaid</td> <td>string</td> <td>Repaid amount</td></tr> <tr><td>» repaid_interest</td> <td>string</td> <td>Repaid interest</td></tr> <tr><td>» unpaid_interest</td> <td>string</td> <td>Outstanding interest yet to be paid</td></tr></tbody></table> <h4 id="enumerated-values-19"><a href="#enumerated-values-19" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>1</td></tr> <tr><td>status</td> <td>2</td></tr> <tr><td>status</td> <td>3</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-cross-margin-borrow-history-deprecated"><a href="#list-cross-margin-borrow-history-deprecated" class="header-anchor">#</a> List cross margin borrow history. (deprecated)</h2> <p><a id="opIdlistCrossMarginLoans"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/loans'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=0'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/loans&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;status=0&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/loans</code></p> <p><em>List cross margin borrow history. (deprecated)</em></p> <p>Sort by creation time in descending order by default. Set <code>reverse=false</code> to return ascending results.</p> <h3 id="listcrossmarginloans-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>status</td> <td>query</td> <td>integer</td> <td>true</td> <td>Filter by status. Supported values are 2 and 3. (deprecated.)</td></tr> <tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Filter by currency</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>reverse</td> <td>query</td> <td>boolean</td> <td>false</td> <td>Whether to sort in descending order, which is the default. Set <code>reverse=false</code> to return ascending results</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1620381696159</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1620381696159</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EOS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.553635&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.506649705159&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.046985294841&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unpaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000074393366667&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcrossmarginloans-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcrossmarginloans-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>string</td> <td>Loan record ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation timestamp, in milliseconds</td></tr> <tr><td>» update_time</td> <td>integer(int64)</td> <td>Update timestamp, in milliseconds</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» amount</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined custom ID</td></tr> <tr><td>» status</td> <td>integer(int32)</td> <td>Deprecated. Currently, all statuses have been set to 2. <br>Borrow loan status, which includes:<br><br>- 1: failed to borrow<br>- 2: borrowed but not repaid<br>- 3: repayment complete</td></tr> <tr><td>» repaid</td> <td>string</td> <td>Repaid amount</td></tr> <tr><td>» repaid_interest</td> <td>string</td> <td>Repaid interest</td></tr> <tr><td>» unpaid_interest</td> <td>string</td> <td>Outstanding interest yet to be paid</td></tr></tbody></table> <h4 id="enumerated-values-20"><a href="#enumerated-values-20" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>1</td></tr> <tr><td>status</td> <td>2</td></tr> <tr><td>status</td> <td>3</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-single-borrow-loan-detail-deprecated"><a href="#retrieve-single-borrow-loan-detail-deprecated" class="header-anchor">#</a> Retrieve single borrow loan detail. (deprecated)</h2> <p><a id="opIdgetCrossMarginLoan"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/loans/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/loans/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/loans/{loan_id}</code></p> <p><em>Retrieve single borrow loan detail. (deprecated)</em></p> <h3 id="getcrossmarginloan-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>loan_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Borrow loan ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1620381696159</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1620381696159</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EOS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.553635&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.506649705159&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.046985294841&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unpaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000074393366667&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcrossmarginloan-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getcrossmarginloan-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Loan record ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation timestamp, in milliseconds</td></tr> <tr><td>» update_time</td> <td>integer(int64)</td> <td>Update timestamp, in milliseconds</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» amount</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined custom ID</td></tr> <tr><td>» status</td> <td>integer(int32)</td> <td>Deprecated. Currently, all statuses have been set to 2. <br>Borrow loan status, which includes:<br><br>- 1: failed to borrow<br>- 2: borrowed but not repaid<br>- 3: repayment complete</td></tr> <tr><td>» repaid</td> <td>string</td> <td>Repaid amount</td></tr> <tr><td>» repaid_interest</td> <td>string</td> <td>Repaid interest</td></tr> <tr><td>» unpaid_interest</td> <td>string</td> <td>Outstanding interest yet to be paid</td></tr></tbody></table> <h4 id="enumerated-values-21"><a href="#enumerated-values-21" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>1</td></tr> <tr><td>status</td> <td>2</td></tr> <tr><td>status</td> <td>3</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cross-margin-repayments-deprecated"><a href="#cross-margin-repayments-deprecated" class="header-anchor">#</a> Cross margin repayments. (deprecated)</h2> <p><a id="opIdrepayCrossMarginLoan"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/repayments'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;EOS&quot;,&quot;amount&quot;:&quot;110.553635&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/repayments&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;EOS&quot;,&quot;amount&quot;:&quot;110.553635&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /margin/cross/repayments</code></p> <p><em>Cross margin repayments. (deprecated)</em></p> <p>When the liquidity of the currency is insufficient and the transaction risk is high, the currency will be disabled, and funds cannot be transferred.When the available balance of cross-margin is insufficient, the balance of the spot account can be used for repayment. Please ensure that the balance of the spot account is sufficient, and system uses cross-margin account for repayment first</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EOS&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.553635&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="repaycrossmarginloan-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Repayment currency</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Repayment amount</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1620381696159</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1620381696159</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;EOS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.553635&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;110.506649705159&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.046985294841&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unpaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000074393366667&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="repaycrossmarginloan-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Loan repaid</td> <td>[Inline]</td></tr></tbody></table> <h3 id="repaycrossmarginloan-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>string</td> <td>Loan record ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation timestamp, in milliseconds</td></tr> <tr><td>» update_time</td> <td>integer(int64)</td> <td>Update timestamp, in milliseconds</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» amount</td> <td>string</td> <td>Borrowed amount</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined custom ID</td></tr> <tr><td>» status</td> <td>integer(int32)</td> <td>Deprecated. Currently, all statuses have been set to 2. <br>Borrow loan status, which includes:<br><br>- 1: failed to borrow<br>- 2: borrowed but not repaid<br>- 3: repayment complete</td></tr> <tr><td>» repaid</td> <td>string</td> <td>Repaid amount</td></tr> <tr><td>» repaid_interest</td> <td>string</td> <td>Repaid interest</td></tr> <tr><td>» unpaid_interest</td> <td>string</td> <td>Outstanding interest yet to be paid</td></tr></tbody></table> <h4 id="enumerated-values-22"><a href="#enumerated-values-22" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>1</td></tr> <tr><td>status</td> <td>2</td></tr> <tr><td>status</td> <td>3</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-cross-margin-repayments-deprecated"><a href="#retrieve-cross-margin-repayments-deprecated" class="header-anchor">#</a> Retrieve cross margin repayments. (deprecated)</h2> <p><a id="opIdlistCrossMarginRepayments"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/repayments'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/repayments&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/repayments</code></p> <p><em>Retrieve cross margin repayments. (deprecated)</em></p> <p>Sort by creation time in descending order by default. Set <code>reverse=false</code> to return ascending results.</p> <h3 id="listcrossmarginrepayments-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>none</td></tr> <tr><td>loan_id</td> <td>query</td> <td>string</td> <td>false</td> <td>none</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>reverse</td> <td>query</td> <td>boolean</td> <td>false</td> <td>Whether to sort in descending order, which is the default. Set <code>reverse=false</code> to return ascending results</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;51&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1620696347990</span><span class="token punctuation">,</span>
    <span class="token property">&quot;loan_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.385542&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000044879516&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repayment_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;auto_repay&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcrossmarginrepayments-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcrossmarginrepayments-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>string</td> <td>Loan record ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Repayment time</td></tr> <tr><td>» loan_id</td> <td>string</td> <td>Loan record ID</td></tr> <tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» principal</td> <td>string</td> <td>Repaid principal</td></tr> <tr><td>» interest</td> <td>string</td> <td>Repaid interest</td></tr> <tr><td>» repayment_type</td> <td>string</td> <td>Repayment type: none - no repayment type, manual_repay - manual repayment, auto_repay - automatic repayment, cancel_auto_repay - automatic repayment after cancellation</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="interest-records-for-the-cross-margin-account-deprecated"><a href="#interest-records-for-the-cross-margin-account-deprecated" class="header-anchor">#</a> Interest records for the cross margin account. (deprecated)</h2> <p><a id="opIdgetCrossMarginInterestRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/interest_records'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/interest_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/interest_records</code></p> <p><em>Interest records for the cross margin account. (deprecated)</em></p> <h3 id="getcrossmargininterestrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;actual_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000236&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00006136&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;platform&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getcrossmargininterestrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getcrossmargininterestrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Interest record]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Interest record</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» actual_rate</td> <td>string</td> <td>Actual rate</td></tr> <tr><td>»» interest</td> <td>string</td> <td>Interest</td></tr> <tr><td>»» status</td> <td>integer</td> <td>Status: 0 - fail, 1 - success</td></tr> <tr><td>»» type</td> <td>string</td> <td>Type, platform - platform，margin - margin</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-the-max-transferable-amount-for-a-specific-cross-margin-currency-deprecated"><a href="#get-the-max-transferable-amount-for-a-specific-cross-margin-currency-deprecated" class="header-anchor">#</a> Get the max transferable amount for a specific cross margin currency. (deprecated)</h2> <p><a id="opIdgetCrossMarginTransferable"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/transferable'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=BTC'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/transferable&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=BTC&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/transferable</code></p> <p><em>Get the max transferable amount for a specific cross margin currency. (deprecated)</em></p> <h3 id="getcrossmargintransferable-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Retrieve data of the specified currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcrossmargintransferable-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getcrossmargintransferable-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>CrossMarginTransferable</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency detail</td></tr> <tr><td>» amount</td> <td>string</td> <td>Max transferable amount</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="estimated-interest-rates-deprecated"><a href="#estimated-interest-rates-deprecated" class="header-anchor">#</a> Estimated interest rates. (deprecated)</h2> <p><a id="opIdgetCrossMarginEstimateRate"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/estimate_rate'</span>
query_param <span class="token operator">=</span> <span class="token string">'currencies=BTC,GT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/estimate_rate&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currencies=BTC,GT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/estimate_rate</code></p> <p><em>Estimated interest rates. (deprecated)</em></p> <p>Please note that the interest rates are subject to change based on the borrowing and lending demand, and therefore, the provided rates may not be entirely accurate.</p> <h3 id="getcrossmarginestimaterate-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currencies</td> <td>query</td> <td>array[string]</td> <td>true</td> <td>An array of up to 10 specifying the currency name</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;BTC&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;GT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000001&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcrossmarginestimaterate-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getcrossmarginestimaterate-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Estimate the current hourly lending rates, categorized by currency</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <strong>additionalProperties</strong></td> <td>string</td> <td>none</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-the-max-borrowable-amount-for-a-specific-cross-margin-currency-deprecated"><a href="#get-the-max-borrowable-amount-for-a-specific-cross-margin-currency-deprecated" class="header-anchor">#</a> Get the max borrowable amount for a specific cross margin currency. (deprecated)</h2> <p><a id="opIdgetCrossMarginBorrowable"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/cross/borrowable'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=BTC'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/cross/borrowable&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=BTC&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/cross/borrowable</code></p> <p><em>Get the max borrowable amount for a specific cross margin currency. (deprecated)</em></p> <h3 id="getcrossmarginborrowable-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Retrieve data of the specified currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcrossmarginborrowable-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getcrossmarginborrowable-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>CrossMarginBorrowable</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency detail</td></tr> <tr><td>» amount</td> <td>string</td> <td>Max borrowable amount</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="marginuni"><a href="#marginuni" class="header-anchor">#</a> MarginUni</h1> <p>Margin API; margin trading uses spot trading API</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-lending-markets"><a href="#list-lending-markets" class="header-anchor">#</a> List lending markets</h2> <p><a id="opIdlistUniCurrencyPairs"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/uni/currency_pairs'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/margin/uni/currency_pairs <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /margin/uni/currency_pairs</code></p> <p><em>List lending markets</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;base_min_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quote_min_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listunicurrencypairs-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listunicurrencypairs-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Currency pair of the loan]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Currency pair of the loan</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» base_min_borrow_amount</td> <td>string</td> <td>Minimum borrow amount of base currency</td></tr> <tr><td>»» quote_min_borrow_amount</td> <td>string</td> <td>Minimum borrow amount of quote currency</td></tr> <tr><td>»» leverage</td> <td>string</td> <td>Position leverage</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-detail-of-lending-market"><a href="#get-detail-of-lending-market" class="header-anchor">#</a> Get detail of lending market</h2> <p><a id="opIdgetUniCurrencyPair"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/uni/currency_pairs/AE_USDT'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/margin/uni/currency_pairs/AE_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /margin/uni/currency_pairs/{currency_pair}</code></p> <p><em>Get detail of lending market</em></p> <h3 id="getunicurrencypair-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>path</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base_min_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quote_min_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getunicurrencypair-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getunicurrencypair-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Currency pair of the loan</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» base_min_borrow_amount</td> <td>string</td> <td>Minimum borrow amount of base currency</td></tr> <tr><td>» quote_min_borrow_amount</td> <td>string</td> <td>Minimum borrow amount of quote currency</td></tr> <tr><td>» leverage</td> <td>string</td> <td>Position leverage</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="estimate-interest-rate"><a href="#estimate-interest-rate" class="header-anchor">#</a> Estimate interest Rate</h2> <p><a id="opIdgetMarginUniEstimateRate"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/uni/estimate_rate'</span>
query_param <span class="token operator">=</span> <span class="token string">'currencies=BTC,GT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/uni/estimate_rate&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currencies=BTC,GT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/uni/estimate_rate</code></p> <p><em>Estimate interest Rate</em></p> <p>Please note that the interest rates are subject to change based on the borrowing and lending demand, and therefore, the provided rates may not be entirely accurate.</p> <h3 id="getmarginuniestimaterate-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currencies</td> <td>query</td> <td>array[string]</td> <td>true</td> <td>An array of up to 10 specifying the currency name</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;BTC&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000002&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;GT&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000001&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getmarginuniestimaterate-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getmarginuniestimaterate-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Estimate the current hourly lending rates, categorized by currency</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <strong>additionalProperties</strong></td> <td>string</td> <td>none</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="borrow-or-repay-2"><a href="#borrow-or-repay-2" class="header-anchor">#</a> Borrow or repay</h2> <p><a id="opIdcreateUniLoan"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/uni/loans'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;amount&quot;:&quot;0.1&quot;,&quot;type&quot;:&quot;borrow&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;repaid_all&quot;:false}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/uni/loans&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;amount&quot;:&quot;0.1&quot;,&quot;type&quot;:&quot;borrow&quot;,&quot;currency_pair&quot;:&quot;BTC_USDT&quot;,&quot;repaid_all&quot;:false}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /margin/uni/loans</code></p> <p><em>Borrow or repay</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;borrow&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_all&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createuniloan-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency</td></tr> <tr><td>» type</td> <td>body</td> <td>string</td> <td>true</td> <td>type: borrow - borrow, repay - repay</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>The amount of lending or repaying</td></tr> <tr><td>» repaid_all</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Full repayment.  Repay operation only.  If the value is <code>true</code>, the amount will be ignored and the loan will be repaid in full.</td></tr> <tr><td>» currency_pair</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr></tbody></table> <h4 id="enumerated-values-23"><a href="#enumerated-values-23" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>» type</td> <td>borrow</td></tr> <tr><td>» type</td> <td>repay</td></tr></tbody></table> <h3 id="createuniloan-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Operated successfully</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-loans-2"><a href="#list-loans-2" class="header-anchor">#</a> List loans</h2> <p><a id="opIdlistUniLoans"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/uni/loans'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/uni/loans&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/uni/loans</code></p> <p><em>List loans</em></p> <h3 id="listuniloans-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pari&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;margin&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listuniloans-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listuniloans-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Loan]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Loan</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» amount</td> <td>string</td> <td>amount</td></tr> <tr><td>»» type</td> <td>string</td> <td>Loan type, platform - platform, margin - margin</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr> <tr><td>»» update_time</td> <td>integer(int64)</td> <td>Updated time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-load-records-2"><a href="#get-load-records-2" class="header-anchor">#</a> Get load records</h2> <p><a id="opIdlistUniLoanRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/uni/loan_records'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/uni/loan_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/uni/loan_records</code></p> <p><em>Get load records</em></p> <h3 id="listuniloanrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>type: borrow - borrow, repay - repay</td></tr> <tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr></tbody></table> <h4 id="enumerated-values-24"><a href="#enumerated-values-24" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>type</td> <td>borrow</td></tr> <tr><td>type</td> <td>repay</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;borrow&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listuniloanrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listuniloanrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Loan records</td></tr> <tr><td>»» type</td> <td>string</td> <td>type: borrow - borrow, repay - repay</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» amount</td> <td>string</td> <td>The amount of lending or repaying</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-interest-records-2"><a href="#list-interest-records-2" class="header-anchor">#</a> List interest records</h2> <p><a id="opIdlistUniLoanInterestRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/uni/interest_records'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/uni/interest_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/uni/interest_records</code></p> <p><em>List interest records</em></p> <h3 id="listuniloaninterestrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency pair</td></tr> <tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;actual_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00000236&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00006136&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;platform&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listuniloaninterestrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listuniloaninterestrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Interest record]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Interest record</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»» actual_rate</td> <td>string</td> <td>Actual rate</td></tr> <tr><td>»» interest</td> <td>string</td> <td>Interest</td></tr> <tr><td>»» status</td> <td>integer</td> <td>Status: 0 - fail, 1 - success</td></tr> <tr><td>»» type</td> <td>string</td> <td>Type, platform - platform，margin - margin</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-maximum-borrowable"><a href="#get-maximum-borrowable" class="header-anchor">#</a> Get maximum borrowable</h2> <p><a id="opIdgetUniBorrowable"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/margin/uni/borrowable'</span>
query_param <span class="token operator">=</span> <span class="token string">'currency=BTC&amp;currency_pair=BTC_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/margin/uni/borrowable&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;currency=BTC&amp;currency_pair=BTC_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /margin/uni/borrowable</code></p> <p><em>Get maximum borrowable</em></p> <h3 id="getuniborrowable-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency pair</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrowable&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1123.344&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE_USDT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getuniborrowable-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getuniborrowable-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>MaxUniBorrowable</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» borrowable</td> <td>string</td> <td>Maximum borrowable</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="flash-swap"><a href="#flash-swap" class="header-anchor">#</a> Flash_swap</h1> <p>Flash swap</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-supported-currency-pairs-in-flash-swap"><a href="#list-all-supported-currency-pairs-in-flash-swap" class="header-anchor">#</a> List All Supported Currency Pairs In Flash Swap</h2> <p><a id="opIdlistFlashSwapCurrencyPair"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/flash_swap/currency_pairs'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/flash_swap/currency_pairs <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /flash_swap/currency_pairs</code></p> <p><em>List All Supported Currency Pairs In Flash Swap</em></p> <p><code>BTC_GT</code> represents selling BTC and buying GT. The limits for each currency may vary across different currency pairs.</p> <p>It is not necessary that two currencies that can be swapped instantaneously can be exchanged with each other. For example, it is possible to sell BTC and buy GT, but it does not necessarily mean that GT can be sold to buy BTC.</p> <h3 id="listflashswapcurrencypair-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 1000</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sell_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;buy_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sell_min_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sell_max_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;buy_min_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;buy_max_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000000&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listflashswapcurrencypair-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listflashswapcurrencypair-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>List all supported currencies in flash swap</td></tr> <tr><td>»» currency_pair</td> <td>string</td> <td>The currency pair, BTC_USDT represents selling Bitcoin (BTC) and buying Tether (USDT).</td></tr> <tr><td>»» sell_currency</td> <td>string</td> <td>The currency to be sold</td></tr> <tr><td>»» buy_currency</td> <td>string</td> <td>The currency to be bought</td></tr> <tr><td>»» sell_min_amount</td> <td>string</td> <td>The minimum quantity required for selling</td></tr> <tr><td>»» sell_max_amount</td> <td>string</td> <td>The maximum quantity allowed for selling</td></tr> <tr><td>»» buy_min_amount</td> <td>string</td> <td>The minimum quantity required for buying</td></tr> <tr><td>»» buy_max_amount</td> <td>string</td> <td>The maximum quantity allowed for buying</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-flash-swap-order"><a href="#create-a-flash-swap-order" class="header-anchor">#</a> Create a flash swap order</h2> <p><a id="opIdcreateFlashSwapOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/flash_swap/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;preview_id&quot;:&quot;4564564&quot;,&quot;sell_currency&quot;:&quot;BTC&quot;,&quot;sell_amount&quot;:&quot;0.1&quot;,&quot;buy_currency&quot;:&quot;USDT&quot;,&quot;buy_amount&quot;:&quot;10&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/flash_swap/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;preview_id&quot;:&quot;4564564&quot;,&quot;sell_currency&quot;:&quot;BTC&quot;,&quot;sell_amount&quot;:&quot;0.1&quot;,&quot;buy_currency&quot;:&quot;USDT&quot;,&quot;buy_amount&quot;:&quot;10&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /flash_swap/orders</code></p> <p><em>Create a flash swap order</em></p> <p>Initiate a flash swap preview in advance because order creation requires a preview result</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;preview_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4564564&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createflashswaporder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» preview_id</td> <td>body</td> <td>string</td> <td>true</td> <td>Preview result ID</td></tr> <tr><td>» sell_currency</td> <td>body</td> <td>string</td> <td>true</td> <td>The name of the asset being sold, as obtained from the &quot;GET /flash_swap/currency_pairs&quot; API, which retrieves a list of supported flash swap currency pairs.</td></tr> <tr><td>» sell_amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Amount to sell (based on the preview result)</td></tr> <tr><td>» buy_currency</td> <td>body</td> <td>string</td> <td>true</td> <td>The name of the asset being purchased, as obtained from the &quot;GET /flash_swap/currency_pairs&quot; API, which provides a list of supported flash swap currency pairs.</td></tr> <tr><td>» buy_amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Amount to buy (based on the preview result)</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">54646</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1651116876378</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1651116876378</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">11135567</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createflashswaporder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>The flash swap order is created successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="createflashswaporder-responseschema">Response Schema</h3> <p>Status Code <strong>201</strong></p> <p><em>Flash swap order</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Flash swap order ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation time of order (in milliseconds)</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» sell_currency</td> <td>string</td> <td>Currency to sell</td></tr> <tr><td>» sell_amount</td> <td>string</td> <td>Amount to sell</td></tr> <tr><td>» buy_currency</td> <td>string</td> <td>Currency to buy</td></tr> <tr><td>» buy_amount</td> <td>string</td> <td>Amount to buy</td></tr> <tr><td>» price</td> <td>string</td> <td>Price</td></tr> <tr><td>» status</td> <td>integer</td> <td>Flash swap order status<br><br><code>1</code> - success<br><code>2</code> - failure</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-flash-swap-orders"><a href="#list-all-flash-swap-orders" class="header-anchor">#</a> List all flash swap orders</h2> <p><a id="opIdlistFlashSwapOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/flash_swap/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/flash_swap/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /flash_swap/orders</code></p> <p><em>List all flash swap orders</em></p> <h3 id="listflashswaporders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>status</td> <td>query</td> <td>integer</td> <td>false</td> <td>Flash swap order status</td></tr> <tr><td>sell_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency to sell which can be retrieved from supported currency list API <code>GET /flash_swap/currencies</code></td></tr> <tr><td>buy_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Currency to buy which can be retrieved from supported currency list API <code>GET /flash_swap/currencies</code></td></tr> <tr><td>reverse</td> <td>query</td> <td>boolean</td> <td>false</td> <td>If results are sorted by id in reverse order. Default to <code>true</code></td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr></tbody></table> <h4 id="detailed-descriptions-18"><a href="#detailed-descriptions-18" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>status</strong>: Flash swap order status</p> <p><code>1</code> - success
<code>2</code> - failure</p> <p><strong>reverse</strong>: If results are sorted by id in reverse order. Default to <code>true</code></p> <ul><li><code>true</code>: sort by id in descending order(recent first)</li> <li><code>false</code>: sort by id in ascending order(oldest first)</li></ul> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">54646</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1651116876378</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1651116876378</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">11135567</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sell_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sell_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;buy_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;buy_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listflashswaporders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listflashswaporders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Flash swap order]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Flash swap order</td></tr> <tr><td>»» id</td> <td>integer(int64)</td> <td>Flash swap order ID</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Creation time of order (in milliseconds)</td></tr> <tr><td>»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»» sell_currency</td> <td>string</td> <td>Currency to sell</td></tr> <tr><td>»» sell_amount</td> <td>string</td> <td>Amount to sell</td></tr> <tr><td>»» buy_currency</td> <td>string</td> <td>Currency to buy</td></tr> <tr><td>»» buy_amount</td> <td>string</td> <td>Amount to buy</td></tr> <tr><td>»» price</td> <td>string</td> <td>Price</td></tr> <tr><td>»» status</td> <td>integer</td> <td>Flash swap order status<br><br><code>1</code> - success<br><code>2</code> - failure</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-single-flash-swap-order-s-detail"><a href="#get-a-single-flash-swap-order-s-detail" class="header-anchor">#</a> Get a single flash swap order's detail</h2> <p><a id="opIdgetFlashSwapOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/flash_swap/orders/1'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/flash_swap/orders/1&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /flash_swap/orders/{order_id}</code></p> <p><em>Get a single flash swap order's detail</em></p> <h3 id="getflashswaporder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>integer</td> <td>true</td> <td>Flash swap order ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">54646</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1651116876378</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1651116876378</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">11135567</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getflashswaporder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getflashswaporder-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Flash swap order</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Flash swap order ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation time of order (in milliseconds)</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» sell_currency</td> <td>string</td> <td>Currency to sell</td></tr> <tr><td>» sell_amount</td> <td>string</td> <td>Amount to sell</td></tr> <tr><td>» buy_currency</td> <td>string</td> <td>Currency to buy</td></tr> <tr><td>» buy_amount</td> <td>string</td> <td>Amount to buy</td></tr> <tr><td>» price</td> <td>string</td> <td>Price</td></tr> <tr><td>» status</td> <td>integer</td> <td>Flash swap order status<br><br><code>1</code> - success<br><code>2</code> - failure</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="initiate-a-flash-swap-order-preview"><a href="#initiate-a-flash-swap-order-preview" class="header-anchor">#</a> Initiate a flash swap order preview</h2> <p><a id="opIdpreviewFlashSwapOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/flash_swap/orders/preview'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;sell_currency&quot;:&quot;BTC&quot;,&quot;sell_amount&quot;:&quot;0.1&quot;,&quot;buy_currency&quot;:&quot;USDT&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/flash_swap/orders/preview&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;sell_currency&quot;:&quot;BTC&quot;,&quot;sell_amount&quot;:&quot;0.1&quot;,&quot;buy_currency&quot;:&quot;USDT&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /flash_swap/orders/preview</code></p> <p><em>Initiate a flash swap order preview</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;sell_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="previewflashswaporder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» sell_currency</td> <td>body</td> <td>string</td> <td>true</td> <td>The name of the asset being sold, as obtained from the &quot;GET /flash_swap/currency_pairs&quot; API, which retrieves a list of supported flash swap currency pairs.</td></tr> <tr><td>» sell_amount</td> <td>body</td> <td>string</td> <td>false</td> <td>Amount to sell.</td></tr> <tr><td>» buy_currency</td> <td>body</td> <td>string</td> <td>true</td> <td>The name of the asset being purchased, as obtained from the &quot;GET /flash_swap/currency_pairs&quot; API, which provides a list of supported flash swap currency pairs.</td></tr> <tr><td>» buy_amount</td> <td>body</td> <td>string</td> <td>false</td> <td>Amount to buy.</td></tr></tbody></table> <h4 id="detailed-descriptions-19"><a href="#detailed-descriptions-19" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» sell_amount</strong>: Amount to sell.
It is required to choose one parameter between <code>sell_amount</code> and <code>buy_amount</code></p> <p><strong>» buy_amount</strong>: Amount to buy.
It is required to choose one parameter between <code>sell_amount</code> and <code>buy_amount</code></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;preview_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3453434&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="previewflashswaporder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>The flash swap order successfully previewed</td> <td>Inline</td></tr></tbody></table> <h3 id="previewflashswaporder-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Initiate a flash swap order preview</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» preview_id</td> <td>string</td> <td>Preview result ID</td></tr> <tr><td>» sell_currency</td> <td>string</td> <td>Currency to sell which can be retrieved from supported currency list API <code>GET /flash_swap/currencies</code></td></tr> <tr><td>» sell_amount</td> <td>string</td> <td>Amount to sell</td></tr> <tr><td>» buy_currency</td> <td>string</td> <td>Currency to buy which can be retrieved from supported currency list API <code>GET /flash_swap/currencies</code></td></tr> <tr><td>» buy_amount</td> <td>string</td> <td>Amount to buy</td></tr> <tr><td>» price</td> <td>string</td> <td>Price</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="futures"><a href="#futures" class="header-anchor">#</a> Futures</h1> <p>Futures contract API</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-futures-contracts"><a href="#list-all-futures-contracts" class="header-anchor">#</a> List all futures contracts</h2> <p><a id="opIdlistFuturesContracts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/contracts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/contracts <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/contracts</code></p> <p><em>List all futures contracts</em></p> <h3 id="listfuturescontracts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <h4 id="enumerated-values-25"><a href="#enumerated-values-25" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quanto_multiplier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ref_discount_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price_deviate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;38026&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;37985.6&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;37954.92&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_rate_indicative&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000219&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;in_delisting&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit_base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interest_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0003&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_size_min&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ref_rebate_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_interval&quot;</span><span class="token operator">:</span> <span class="token number">28800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit_step&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_min&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002053&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_size_max&quot;</span><span class="token operator">:</span> <span class="token number">1000000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_next_apply&quot;</span><span class="token operator">:</span> <span class="token number">1610035200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;short_users&quot;</span><span class="token operator">:</span> <span class="token number">977</span><span class="token punctuation">,</span>
    <span class="token property">&quot;config_change_time&quot;</span><span class="token operator">:</span> <span class="token number">1609899548</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">28530850594</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">5223816</span><span class="token punctuation">,</span>
    <span class="token property">&quot;long_users&quot;</span><span class="token operator">:</span> <span class="token number">455</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_impact_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;60000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">10851092</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderbook_id&quot;</span><span class="token operator">:</span> <span class="token number">2129638396</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enable_bonus&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;enable_credit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1669688556</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_cap_ratio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.75&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturescontracts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemacontract">Contract</a>]</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-single-contract"><a href="#get-a-single-contract" class="header-anchor">#</a> Get a single contract</h2> <p><a id="opIdgetFuturesContract"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/contracts/BTC_USDT'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/contracts/BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/contracts/{contract}</code></p> <p><em>Get a single contract</em></p> <h3 id="getfuturescontract-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr></tbody></table> <h4 id="enumerated-values-26"><a href="#enumerated-values-26" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quanto_multiplier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_discount_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_deviate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;38026&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;37985.6&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;37954.92&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_rate_indicative&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000219&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_offset&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;in_delisting&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;interest_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0003&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_min&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_rebate_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_interval&quot;</span><span class="token operator">:</span> <span class="token number">28800</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_step&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_min&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;taker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.002053&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_max&quot;</span><span class="token operator">:</span> <span class="token number">1000000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_next_apply&quot;</span><span class="token operator">:</span> <span class="token number">1610035200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;short_users&quot;</span><span class="token operator">:</span> <span class="token number">977</span><span class="token punctuation">,</span>
  <span class="token property">&quot;config_change_time&quot;</span><span class="token operator">:</span> <span class="token number">1609899548</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">28530850594</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">5223816</span><span class="token punctuation">,</span>
  <span class="token property">&quot;long_users&quot;</span><span class="token operator">:</span> <span class="token number">455</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_impact_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;60000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">10851092</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orderbook_id&quot;</span><span class="token operator">:</span> <span class="token number">2129638396</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enable_bonus&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enable_credit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1669688556</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_cap_ratio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.75&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getfuturescontract-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Contract information</td> <td><a href="#schemacontract">Contract</a></td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futures-order-book"><a href="#futures-order-book" class="header-anchor">#</a> Futures order book</h2> <p><a id="opIdlistFuturesOrderBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/order_book'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/order_book?contract<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/order_book</code></p> <p><em>Futures order book</em></p> <p>Bids will be sorted by price from high to low, while asks sorted reversely</p> <h3 id="listfuturesorderbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Order depth. 0 means no aggregation is applied. default to 0</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of order depth data in asks or bids</td></tr> <tr><td>with_id</td> <td>query</td> <td>boolean</td> <td>false</td> <td>Whether the order book update ID will be returned. This ID increases by 1 on every order book update</td></tr></tbody></table> <h4 id="enumerated-values-27"><a href="#enumerated-values-27" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">123456</span><span class="token punctuation">,</span>
  <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1623898993.123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update&quot;</span><span class="token operator">:</span> <span class="token number">1623898993.121</span><span class="token punctuation">,</span>
  <span class="token property">&quot;asks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.52&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.53&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">40</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.17&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">150</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.16&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">203</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listfuturesorderbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order book retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listfuturesorderbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Order Book ID. Increases by 1 on every order book change. Set <code>with_id=true</code> to include this field in response</td></tr> <tr><td>» current</td> <td>number(double)</td> <td>Response data generation timestamp</td></tr> <tr><td>» update</td> <td>number(double)</td> <td>Order book changed timestamp</td></tr> <tr><td>» asks</td> <td>array</td> <td>Asks order depth</td></tr> <tr><td>»» futures_order_book_item</td> <td>object</td> <td>none</td></tr> <tr><td>»»» p</td> <td>string</td> <td>Price (quote currency)</td></tr> <tr><td>»»» s</td> <td>integer(int64)</td> <td>Size</td></tr> <tr><td>»» bids</td> <td>array</td> <td>Bids order depth</td></tr> <tr><td>»»» futures_order_book_item</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» p</td> <td>string</td> <td>Price (quote currency)</td></tr> <tr><td>»»»» s</td> <td>integer(int64)</td> <td>Size</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futures-trading-history"><a href="#futures-trading-history" class="header-anchor">#</a> Futures trading history</h2> <p><a id="opIdlistFuturesTrades"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/trades'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/trades?contract<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/trades</code></p> <p><em>Futures trading history</em></p> <h3 id="listfuturestrades-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>last_id</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify the starting point for this list based on a previously retrieved id</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Specify starting time in Unix seconds. If not specified, <code>to</code> and <code>limit</code> will be used to limit response items.</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Specify end time in Unix seconds, default to current time</td></tr></tbody></table> <h4 id="detailed-descriptions-20"><a href="#detailed-descriptions-20" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>last_id</strong>: Specify the starting point for this list based on a previously retrieved id</p> <p>This parameter is deprecated. Use <code>from</code> and <code>to</code> instead to limit time range</p> <p><strong>from</strong>: Specify starting time in Unix seconds. If not specified, <code>to</code> and <code>limit</code> will be used to limit response items.
If items between <code>from</code> and <code>to</code> are more than <code>limit</code>, only <code>limit</code> number will be returned.</p> <h4 id="enumerated-values-28"><a href="#enumerated-values-28" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">121234231</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100.123&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturestrades-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfuturestrades-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>integer(int64)</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Trading time</td></tr> <tr><td>» create_time_ms</td> <td>number(double)</td> <td>Trading time, with milliseconds set to 3 decimal places.</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Trading size</td></tr> <tr><td>» price</td> <td>string</td> <td>Trading price (quote currency)</td></tr> <tr><td>» is_internal</td> <td>boolean</td> <td>Whether internal trade. Internal trade refers to the takeover of liquidation orders by the insurance fund and ADL users. Since it is not a normal matching on the market depth, the transaction price may deviate, and it will not be recorded in the K-line. If it is not an internal trade, this field will not be returned.</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-futures-candlesticks"><a href="#get-futures-candlesticks" class="header-anchor">#</a> Get futures candlesticks</h2> <p><a id="opIdlistFuturesCandlesticks"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/candlesticks'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/candlesticks?contract<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/candlesticks</code></p> <p><em>Get futures candlesticks</em></p> <p>Return specified contract candlesticks.
If prefix <code>contract</code> with <code>mark_</code>, the contract's mark price candlesticks are returned;
if prefix with <code>index_</code>, index price candlesticks will be returned.</p> <p>Maximum of 2000 points are returned in one query. Be sure not to exceed the limit when specifying <code>from</code>, <code>to</code> and <code>interval</code></p> <h3 id="listfuturescandlesticks-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start time of candlesticks, formatted in Unix timestamp in seconds. Default to<code>to - 100 * interval</code> if not specified</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End time of candlesticks, formatted in Unix timestamp in seconds. Default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum recent data points to return. <code>limit</code> is conflicted with <code>from</code> and <code>to</code>. If either <code>from</code> or <code>to</code> is specified, request will be rejected.</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Interval time between data points. Note that <code>1w</code> means natual week(Mon-Sun), while <code>7d</code> means every 7d since unix 0.  Note that 30d means 1 natual month, not 30 days</td></tr></tbody></table> <h4 id="enumerated-values-29"><a href="#enumerated-values-29" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">1539852480</span><span class="token punctuation">,</span>
    <span class="token property">&quot;v&quot;</span><span class="token operator">:</span> <span class="token number">97151</span><span class="token punctuation">,</span>
    <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;o&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sum&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3580&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturescandlesticks-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfuturescandlesticks-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[data point in every timestamp]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>data point in every timestamp</td></tr> <tr><td>»» t</td> <td>number(double)</td> <td>Unix timestamp in seconds</td></tr> <tr><td>»» v</td> <td>integer(int64)</td> <td>size volume (contract size). Only returned if <code>contract</code> is not prefixed</td></tr> <tr><td>»» c</td> <td>string</td> <td>Close price (quote currency)</td></tr> <tr><td>»» h</td> <td>string</td> <td>Highest price (quote currency)</td></tr> <tr><td>»» l</td> <td>string</td> <td>Lowest price (quote currency)</td></tr> <tr><td>»» o</td> <td>string</td> <td>Open price (quote currency)</td></tr> <tr><td>»» sum</td> <td>string</td> <td>Trading volume (unit: Quote currency)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="premium-index-k-line"><a href="#premium-index-k-line" class="header-anchor">#</a> Premium Index K-Line</h2> <p><a id="opIdlistFuturesPremiumIndex"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/premium_index'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/premium_index?contract<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/premium_index</code></p> <p><em>Premium Index K-Line</em></p> <p>Maximum of 1000 points can be returned in a query. Be sure not to exceed the limit when specifying from, to and interval</p> <h3 id="listfuturespremiumindex-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start time of candlesticks, formatted in Unix timestamp in seconds. Default to<code>to - 100 * interval</code> if not specified</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End time of candlesticks, formatted in Unix timestamp in seconds. Default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum recent data points to return. <code>limit</code> is conflicted with <code>from</code> and <code>to</code>. If either <code>from</code> or <code>to</code> is specified, request will be rejected.</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Interval time between data points</td></tr></tbody></table> <h4 id="enumerated-values-30"><a href="#enumerated-values-30" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">1539852480</span><span class="token punctuation">,</span>
    <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00023&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;o&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturespremiumindex-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfuturespremiumindex-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>data point in every timestamp</td></tr> <tr><td>»» t</td> <td>number(double)</td> <td>Unix timestamp in seconds</td></tr> <tr><td>»» c</td> <td>string</td> <td>Close price</td></tr> <tr><td>»» h</td> <td>string</td> <td>Highest price</td></tr> <tr><td>»» l</td> <td>string</td> <td>Lowest price`</td></tr> <tr><td>»» o</td> <td>string</td> <td>Open price</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-futures-tickers"><a href="#list-futures-tickers" class="header-anchor">#</a> List futures tickers</h2> <p><a id="opIdlistFuturesTickers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/tickers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/tickers <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/tickers</code></p> <p><em>List futures tickers</em></p> <h3 id="listfuturestickers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr></tbody></table> <h4 id="enumerated-values-31"><a href="#enumerated-values-31" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;low_24h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6278&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;high_24h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6790&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.43&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;32323904&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;184040233284&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_btc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;28613220&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_usd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;184040233284&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;28613220&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_quote&quot;</span><span class="token operator">:</span> <span class="token string">&quot;184040233284&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_settle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;28613220&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6534&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_rate_indicative&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6531&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;highest_bid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;34089.7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;highest_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lowest_ask&quot;</span><span class="token operator">:</span> <span class="token string">&quot;34217.9&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lowest_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturestickers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfuturestickers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» last</td> <td>string</td> <td>Last trading price</td></tr> <tr><td>» change_percentage</td> <td>string</td> <td>Change percentage.</td></tr> <tr><td>» total_size</td> <td>string</td> <td>Contract total size</td></tr> <tr><td>» low_24h</td> <td>string</td> <td>Lowest trading price in recent 24h</td></tr> <tr><td>» high_24h</td> <td>string</td> <td>Highest trading price in recent 24h</td></tr> <tr><td>» volume_24h</td> <td>string</td> <td>Trade size in recent 24h</td></tr> <tr><td>» volume_24h_btc</td> <td>string</td> <td>Trade volumes in recent 24h in BTC(deprecated, use <code>volume_24h_base</code>, <code>volume_24h_quote</code>, <code>volume_24h_settle</code> instead)</td></tr> <tr><td>» volume_24h_usd</td> <td>string</td> <td>Trade volumes in recent 24h in USD(deprecated, use <code>volume_24h_base</code>, <code>volume_24h_quote</code>, <code>volume_24h_settle</code> instead)</td></tr> <tr><td>» volume_24h_base</td> <td>string</td> <td>Trade volume in recent 24h, in base currency</td></tr> <tr><td>» volume_24h_quote</td> <td>string</td> <td>Trade volume in recent 24h, in quote currency</td></tr> <tr><td>» volume_24h_settle</td> <td>string</td> <td>Trade volume in recent 24h, in settle currency</td></tr> <tr><td>» mark_price</td> <td>string</td> <td>Recent mark price</td></tr> <tr><td>» funding_rate</td> <td>string</td> <td>Funding rate</td></tr> <tr><td>» funding_rate_indicative</td> <td>string</td> <td>Indicative Funding rate in next period. (deprecated. use <code>funding_rate</code>)</td></tr> <tr><td>» index_price</td> <td>string</td> <td>Index price</td></tr> <tr><td>» quanto_base_rate</td> <td>string</td> <td>Exchange rate of base currency and settlement currency in Quanto contract. Does not exists in contracts of other types</td></tr> <tr><td>» basis_rate</td> <td>string</td> <td>Basis rate</td></tr> <tr><td>» basis_value</td> <td>string</td> <td>Basis value</td></tr> <tr><td>» lowest_ask</td> <td>string</td> <td>Recent lowest ask</td></tr> <tr><td>» lowest_size</td> <td>string</td> <td>The latest seller's lowest price order quantity</td></tr> <tr><td>» highest_bid</td> <td>string</td> <td>Recent highest bid</td></tr> <tr><td>» highest_size</td> <td>string</td> <td>The latest buyer's highest price order volume</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="funding-rate-history"><a href="#funding-rate-history" class="header-anchor">#</a> Funding rate history</h2> <p><a id="opIdlistFuturesFundingRateHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/funding_rate'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/funding_rate?contract<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/funding_rate</code></p> <p><em>Funding rate history</em></p> <h3 id="listfuturesfundingratehistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <h4 id="enumerated-values-32"><a href="#enumerated-values-32" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">1543968000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;r&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000157&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturesfundingratehistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>History retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfuturesfundingratehistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» t</td> <td>integer(int64)</td> <td>Unix timestamp in seconds</td></tr> <tr><td>» r</td> <td>string</td> <td>Funding rate</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futures-insurance-balance-history"><a href="#futures-insurance-balance-history" class="header-anchor">#</a> Futures insurance balance history</h2> <p><a id="opIdlistFuturesInsuranceLedger"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/insurance'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/insurance <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/insurance</code></p> <p><em>Futures insurance balance history</em></p> <h3 id="listfuturesinsuranceledger-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr></tbody></table> <h4 id="enumerated-values-33"><a href="#enumerated-values-33" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">1543968000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;83.0031&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturesinsuranceledger-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfuturesinsuranceledger-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» t</td> <td>integer(int64)</td> <td>Unix timestamp in seconds</td></tr> <tr><td>» b</td> <td>string</td> <td>Insurance balance</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futures-stats"><a href="#futures-stats" class="header-anchor">#</a> Futures stats</h2> <p><a id="opIdlistContractStats"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/contract_stats'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/contract_stats?contract<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/contract_stats</code></p> <p><em>Futures stats</em></p> <h3 id="listcontractstats-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>none</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>none</td></tr></tbody></table> <h4 id="enumerated-values-34"><a href="#enumerated-values-34" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1603865400</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lsr_taker&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lsr_account&quot;</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;long_liq_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;short_liq_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;open_interest&quot;</span><span class="token operator">:</span> <span class="token number">124724</span><span class="token punctuation">,</span>
    <span class="token property">&quot;short_liq_usd&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8865&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;top_lsr_size&quot;</span><span class="token operator">:</span> <span class="token number">1.02</span><span class="token punctuation">,</span>
    <span class="token property">&quot;short_liq_amount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;long_liq_amount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;open_interest_usd&quot;</span><span class="token operator">:</span> <span class="token number">1511</span><span class="token punctuation">,</span>
    <span class="token property">&quot;top_lsr_account&quot;</span><span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;long_liq_usd&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcontractstats-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcontractstats-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» time</td> <td>integer(int64)</td> <td>Stat timestamp</td></tr> <tr><td>» lsr_taker</td> <td>number</td> <td>Long/short account number ratio</td></tr> <tr><td>» lsr_account</td> <td>number</td> <td>Long/short taker size ratio</td></tr> <tr><td>» long_liq_size</td> <td>integer(int64)</td> <td>Long liquidation size</td></tr> <tr><td>» long_liq_amount</td> <td>number(double)</td> <td>Long liquidation amount(base currency)</td></tr> <tr><td>» long_liq_usd</td> <td>number(double)</td> <td>Long liquidation volume(quote currency)</td></tr> <tr><td>» short_liq_size</td> <td>integer(int64)</td> <td>Short liquidation size</td></tr> <tr><td>» short_liq_amount</td> <td>number(double)</td> <td>Short liquidation amount(base currency)</td></tr> <tr><td>» short_liq_usd</td> <td>number(double)</td> <td>Short liquidation volume(quote currency)</td></tr> <tr><td>» open_interest</td> <td>integer(int64)</td> <td>Open interest size</td></tr> <tr><td>» open_interest_usd</td> <td>number(double)</td> <td>Open interest volume(quote currency)</td></tr> <tr><td>» top_lsr_account</td> <td>number(double)</td> <td>Top trader long/short account ratio</td></tr> <tr><td>» top_lsr_size</td> <td>number(double)</td> <td>Top trader long/short position ratio</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-index-constituents"><a href="#get-index-constituents" class="header-anchor">#</a> Get index constituents</h2> <p><a id="opIdgetIndexConstituents"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/index_constituents/BTC_USDT'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/index_constituents/BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/index_constituents/{index}</code></p> <p><em>Get index constituents</em></p> <h3 id="getindexconstituents-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>index</td> <td>path</td> <td>string</td> <td>true</td> <td>Index name</td></tr></tbody></table> <h4 id="enumerated-values-35"><a href="#enumerated-values-35" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;constituents&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;exchange&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Binance&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;symbols&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;BTC_USDT&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;exchange&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Gate.io&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;symbols&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;BTC_USDT&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;exchange&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Huobi&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;symbols&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;BTC_USDT&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getindexconstituents-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getindexconstituents-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» index</td> <td>string</td> <td>Index name</td></tr> <tr><td>» constituents</td> <td>array</td> <td>Constituents</td></tr> <tr><td>»» IndexConstituent</td> <td>object</td> <td>none</td></tr> <tr><td>»»» exchange</td> <td>string</td> <td>Exchange</td></tr> <tr><td>»»» symbols</td> <td>array</td> <td>Symbol list</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-liquidation-history"><a href="#retrieve-liquidation-history" class="header-anchor">#</a> Retrieve liquidation history</h2> <p><a id="opIdlistLiquidatedOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/liq_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/liq_orders <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/liq_orders</code></p> <p><em>Retrieve liquidation history</em></p> <p>Interval between <code>from</code> and <code>to</code> cannot exceeds 3600. Some private fields will not be returned in public endpoints. Refer to field description for detail.</p> <h3 id="listliquidatedorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr></tbody></table> <h4 id="enumerated-values-36"><a href="#enumerated-values-36" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1548654951</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_size&quot;</span><span class="token operator">:</span> <span class="token number">-600</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3405&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3424&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listliquidatedorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listliquidatedorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» time</td> <td>integer(int64)</td> <td>Liquidation time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>User position size</td></tr> <tr><td>» order_size</td> <td>integer(int64)</td> <td>Number of forced liquidation orders</td></tr> <tr><td>» order_price</td> <td>string</td> <td>Liquidation order price</td></tr> <tr><td>» fill_price</td> <td>string</td> <td>Liquidation order average taker price</td></tr> <tr><td>» left</td> <td>integer(int64)</td> <td>System liquidation order maker size</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-risk-limit-tiers"><a href="#list-risk-limit-tiers" class="header-anchor">#</a> List risk limit tiers</h2> <p><a id="opIdlistFuturesRiskLimitTiers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/risk_limit_tiers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/futures/usdt/risk_limit_tiers <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/risk_limit_tiers</code></p> <p><em>List risk limit tiers</em></p> <p>When the 'contract' parameter is not passed, the default is to query the risk limits for the top 100 markets.'Limit' and 'offset' correspond to pagination queries at the market level, not to the length of the returned array. This only takes effect when the 'contract' parameter is empty.</p> <h3 id="listfuturesrisklimittiers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <h4 id="enumerated-values-37"><a href="#enumerated-values-37" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;initial_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.02&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;500000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;initial_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.03&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.02&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;33.33&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;initial_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.02&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;500000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USDT&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturesrisklimittiers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfuturesrisklimittiers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Retrieve risk limit configurations for different tiers under a specified contract.]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Retrieve risk limit configurations for different tiers under a specified contract.</td></tr> <tr><td>»» tier</td> <td>integer(int)</td> <td>Tier</td></tr> <tr><td>»» risk_limit</td> <td>string</td> <td>Position risk limit</td></tr> <tr><td>»» initial_rate</td> <td>string</td> <td>Initial margin rate</td></tr> <tr><td>»» maintenance_rate</td> <td>string</td> <td>Maintenance margin rate</td></tr> <tr><td>»» leverage_max</td> <td>string</td> <td>Maximum leverage</td></tr> <tr><td>»» contract</td> <td>string</td> <td>Markets, visible only during market pagination requests</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-futures-account"><a href="#query-futures-account" class="header-anchor">#</a> Query futures account</h2> <p><a id="opIdlistFuturesAccounts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/accounts</code></p> <p><em>Query futures account</em></p> <h3 id="listfuturesaccounts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-38"><a href="#enumerated-values-38" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1666</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9707.803567115145&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3371.248828&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;38.712189181&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9669.091377934145&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bonus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;in_dual_mode&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enable_evolved_classic&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;61855.56788525&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_maintenance_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;682.04678105&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1501.178222634128&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;27549.406108813951&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;isolated_position_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;68.3685&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1.645812875&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-358.919120009855&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_refr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bonus_dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bonus_offset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listfuturesaccounts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listfuturesaccounts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>string</td> <td>total is the balance after the user's accumulated deposit, withdraw, profit and loss (including realized profit and loss, fund, fee and referral rebate), excluding unrealized profit and loss. <br>total = SUM(history_dnw, history_pnl, history_fee, history_refr, history_fund)</td></tr> <tr><td>» unrealised_pnl</td> <td>string</td> <td>Unrealized PNL</td></tr> <tr><td>» position_margin</td> <td>string</td> <td>Position margin</td></tr> <tr><td>» order_margin</td> <td>string</td> <td>Order margin of unfinished orders</td></tr> <tr><td>» available</td> <td>string</td> <td>The available balance for transferring or trading(including bonus.  Bonus can't be be withdrawn. The transfer amount needs to deduct the bonus)</td></tr> <tr><td>» point</td> <td>string</td> <td>POINT amount</td></tr> <tr><td>» currency</td> <td>string</td> <td>Settle currency</td></tr> <tr><td>» in_dual_mode</td> <td>boolean</td> <td>Whether dual mode is enabled</td></tr> <tr><td>» enable_credit</td> <td>boolean</td> <td>Whether portfolio margin account mode is enabled</td></tr> <tr><td>» position_initial_margin</td> <td>string</td> <td>Initial margin position, applicable to the portfolio margin account model</td></tr> <tr><td>» maintenance_margin</td> <td>string</td> <td>The maintenance deposit occupied by the position is suitable for the new classic account margin model and unified account model</td></tr> <tr><td>» bonus</td> <td>string</td> <td>Perpetual Contract Bonus</td></tr> <tr><td>» enable_evolved_classic</td> <td>boolean</td> <td>Classic account margin mode, true-new mode, false-old mode</td></tr> <tr><td>» cross_order_margin</td> <td>string</td> <td>Full -warehouse hanging order deposit, suitable for the new classic account margin model</td></tr> <tr><td>» cross_initial_margin</td> <td>string</td> <td>The initial security deposit of the full warehouse is suitable for the new classic account margin model</td></tr> <tr><td>» cross_maintenance_margin</td> <td>string</td> <td>Maintain deposit in full warehouse, suitable for new classic account margin models</td></tr> <tr><td>» cross_unrealised_pnl</td> <td>string</td> <td>The full warehouse does not achieve profit and loss, suitable for the new classic account margin model</td></tr> <tr><td>» cross_available</td> <td>string</td> <td>Full warehouse available amount, suitable for the new classic account margin model</td></tr> <tr><td>» isolated_position_margin</td> <td>string</td> <td>Ware -position margin, suitable for the new classic account margin model</td></tr> <tr><td>» enable_new_dual_mode</td> <td>boolean</td> <td>Whether to open a new two-way position mode</td></tr> <tr><td>» margin_mode</td> <td>integer</td> <td>Margin mode, 0-classic margin mode, 1-cross-currency margin mode, 2-combined margin mode</td></tr> <tr><td>» history</td> <td>object</td> <td>Statistical data</td></tr> <tr><td>»» dnw</td> <td>string</td> <td>total amount of deposit and withdraw</td></tr> <tr><td>»» pnl</td> <td>string</td> <td>total amount of trading profit and loss</td></tr> <tr><td>»» fee</td> <td>string</td> <td>total amount of fee</td></tr> <tr><td>»» refr</td> <td>string</td> <td>total amount of referrer rebates</td></tr> <tr><td>»» fund</td> <td>string</td> <td>total amount of funding costs</td></tr> <tr><td>»» point_dnw</td> <td>string</td> <td>total amount of point deposit and withdraw</td></tr> <tr><td>»» point_fee</td> <td>string</td> <td>total amount of point fee</td></tr> <tr><td>»» point_refr</td> <td>string</td> <td>total amount of referrer rebates of point fee</td></tr> <tr><td>»» bonus_dnw</td> <td>string</td> <td>total amount of perpetual contract bonus transfer</td></tr> <tr><td>»» bonus_offset</td> <td>string</td> <td>total amount of perpetual contract bonus deduction</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-account-book-2"><a href="#query-account-book-2" class="header-anchor">#</a> Query account book</h2> <p><a id="opIdlistFuturesAccountBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/account_book'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/account_book&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/account_book</code></p> <p><em>Query account book</em></p> <p>If the <code>contract</code> field is provided, it can only filter records that include this field after 2023-10-30.</p> <h3 id="listfuturesaccountbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Changing Type：</td></tr></tbody></table> <h4 id="detailed-descriptions-21"><a href="#detailed-descriptions-21" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>type</strong>: Changing Type：</p> <ul><li>dnw: Deposit &amp; Withdraw</li> <li>pnl: Profit &amp; Loss by reducing position</li> <li>fee: Trading fee</li> <li>refr: Referrer rebate</li> <li>fund: Funding</li> <li>point_dnw: POINT Deposit &amp; Withdraw</li> <li>point_fee: POINT Trading fee</li> <li>point_refr: POINT Referrer rebate</li> <li>bonus_offset: bouns deduction</li></ul> <h4 id="enumerated-values-39"><a href="#enumerated-values-39" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1682294400.123456</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000010152188&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.59316525194&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USD:6086261&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fee&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USD&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturesaccountbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listfuturesaccountbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» time</td> <td>number(double)</td> <td>Change time</td></tr> <tr><td>» change</td> <td>string</td> <td>Change amount</td></tr> <tr><td>» balance</td> <td>string</td> <td>Balance after change</td></tr> <tr><td>» type</td> <td>string</td> <td>Changing Type：<br><br>- dnw: Deposit &amp; Withdraw<br>- pnl: Profit &amp; Loss by reducing position<br>- fee: Trading fee<br>- refr: Referrer rebate<br>- fund: Funding<br>- point_dnw: POINT Deposit &amp; Withdraw<br>- point_fee: POINT Trading fee<br>- point_refr: POINT Referrer rebate<br>- bonus_offset: bouns deduction</td></tr> <tr><td>» text</td> <td>string</td> <td>Comment</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract, the field is only available for data after 2023-10-30.</td></tr> <tr><td>» trade_id</td> <td>string</td> <td>trade id</td></tr> <tr><td>» id</td> <td>string</td> <td>账户变更记录 id</td></tr></tbody></table> <h4 id="enumerated-values-40"><a href="#enumerated-values-40" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>type</td> <td>dnw</td></tr> <tr><td>type</td> <td>pnl</td></tr> <tr><td>type</td> <td>fee</td></tr> <tr><td>type</td> <td>refr</td></tr> <tr><td>type</td> <td>fund</td></tr> <tr><td>type</td> <td>point_dnw</td></tr> <tr><td>type</td> <td>point_fee</td></tr> <tr><td>type</td> <td>point_refr</td></tr> <tr><td>type</td> <td>bonus_offset</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-positions-of-a-user"><a href="#list-all-positions-of-a-user" class="header-anchor">#</a> List all positions of a user</h2> <p><a id="opIdlistPositions"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/positions'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/positions&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/positions</code></p> <p><em>List all positions of a user</em></p> <h3 id="listpositions-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>holding</td> <td>query</td> <td>boolean</td> <td>false</td> <td>Return only real positions - true, return all - false.</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <h4 id="enumerated-values-41"><a href="#enumerated-values-41" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listpositions-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemaposition">Position</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-single-position"><a href="#get-single-position" class="header-anchor">#</a> Get single position</h2> <p><a id="opIdgetPosition"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/positions/BTC_USDT'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/positions/BTC_USDT&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/positions/{contract}</code></p> <p><em>Get single position</em></p> <h3 id="getposition-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr></tbody></table> <h4 id="enumerated-values-42"><a href="#enumerated-values-42" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getposition-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Position information</td> <td><a href="#schemaposition">Position</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-margin"><a href="#update-position-margin" class="header-anchor">#</a> Update position margin</h2> <p><a id="opIdupdatePositionMargin"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/positions/BTC_USDT/margin'</span>
query_param <span class="token operator">=</span> <span class="token string">'change=0.01'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/positions/BTC_USDT/margin&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;change=0.01&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/positions/{contract}/margin</code></p> <p><em>Update position margin</em></p> <h3 id="updatepositionmargin-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>change</td> <td>query</td> <td>string</td> <td>true</td> <td>Margin change. Use positive number to increase margin, negative number otherwise.</td></tr></tbody></table> <h4 id="enumerated-values-43"><a href="#enumerated-values-43" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="updatepositionmargin-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Position information</td> <td><a href="#schemaposition">Position</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-leverage"><a href="#update-position-leverage" class="header-anchor">#</a> Update position leverage</h2> <p><a id="opIdupdatePositionLeverage"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/positions/BTC_USDT/leverage'</span>
query_param <span class="token operator">=</span> <span class="token string">'leverage=10'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/positions/BTC_USDT/leverage&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;leverage=10&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/positions/{contract}/leverage</code></p> <p><em>Update position leverage</em></p> <h3 id="updatepositionleverage-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>leverage</td> <td>query</td> <td>string</td> <td>true</td> <td>New position leverage</td></tr> <tr><td>cross_leverage_limit</td> <td>query</td> <td>string</td> <td>false</td> <td>Cross margin leverage(valid only when <code>leverage</code> is 0)</td></tr></tbody></table> <h4 id="enumerated-values-44"><a href="#enumerated-values-44" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="updatepositionleverage-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Position information</td> <td><a href="#schemaposition">Position</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-risk-limit"><a href="#update-position-risk-limit" class="header-anchor">#</a> Update position risk limit</h2> <p><a id="opIdupdatePositionRiskLimit"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/positions/BTC_USDT/risk_limit'</span>
query_param <span class="token operator">=</span> <span class="token string">'risk_limit=1000000'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/positions/BTC_USDT/risk_limit&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;risk_limit=1000000&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/positions/{contract}/risk_limit</code></p> <p><em>Update position risk limit</em></p> <h3 id="updatepositionrisklimit-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>risk_limit</td> <td>query</td> <td>string</td> <td>true</td> <td>New Risk Limit Value</td></tr></tbody></table> <h4 id="enumerated-values-45"><a href="#enumerated-values-45" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="updatepositionrisklimit-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Position information</td> <td><a href="#schemaposition">Position</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="enable-or-disable-dual-mode"><a href="#enable-or-disable-dual-mode" class="header-anchor">#</a> Enable or disable dual mode</h2> <p><a id="opIdsetDualMode"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/dual_mode'</span>
query_param <span class="token operator">=</span> <span class="token string">'dual_mode=true'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/dual_mode&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;dual_mode=true&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/dual_mode</code></p> <p><em>Enable or disable dual mode</em></p> <p>Before setting dual mode, make sure all positions are closed and no orders are open</p> <h3 id="setdualmode-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>dual_mode</td> <td>query</td> <td>boolean</td> <td>true</td> <td>Whether to enable dual mode</td></tr></tbody></table> <h4 id="enumerated-values-46"><a href="#enumerated-values-46" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1666</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9707.803567115145&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3371.248828&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;38.712189181&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9669.091377934145&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bonus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;in_dual_mode&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enable_evolved_classic&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;61855.56788525&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_maintenance_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;682.04678105&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1501.178222634128&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;27549.406108813951&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;isolated_position_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;68.3685&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1.645812875&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-358.919120009855&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_refr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bonus_dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bonus_offset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="setdualmode-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Updated</td> <td>Inline</td></tr></tbody></table> <h3 id="setdualmode-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>string</td> <td>total is the balance after the user's accumulated deposit, withdraw, profit and loss (including realized profit and loss, fund, fee and referral rebate), excluding unrealized profit and loss. <br>total = SUM(history_dnw, history_pnl, history_fee, history_refr, history_fund)</td></tr> <tr><td>» unrealised_pnl</td> <td>string</td> <td>Unrealized PNL</td></tr> <tr><td>» position_margin</td> <td>string</td> <td>Position margin</td></tr> <tr><td>» order_margin</td> <td>string</td> <td>Order margin of unfinished orders</td></tr> <tr><td>» available</td> <td>string</td> <td>The available balance for transferring or trading(including bonus.  Bonus can't be be withdrawn. The transfer amount needs to deduct the bonus)</td></tr> <tr><td>» point</td> <td>string</td> <td>POINT amount</td></tr> <tr><td>» currency</td> <td>string</td> <td>Settle currency</td></tr> <tr><td>» in_dual_mode</td> <td>boolean</td> <td>Whether dual mode is enabled</td></tr> <tr><td>» enable_credit</td> <td>boolean</td> <td>Whether portfolio margin account mode is enabled</td></tr> <tr><td>» position_initial_margin</td> <td>string</td> <td>Initial margin position, applicable to the portfolio margin account model</td></tr> <tr><td>» maintenance_margin</td> <td>string</td> <td>The maintenance deposit occupied by the position is suitable for the new classic account margin model and unified account model</td></tr> <tr><td>» bonus</td> <td>string</td> <td>Perpetual Contract Bonus</td></tr> <tr><td>» enable_evolved_classic</td> <td>boolean</td> <td>Classic account margin mode, true-new mode, false-old mode</td></tr> <tr><td>» cross_order_margin</td> <td>string</td> <td>Full -warehouse hanging order deposit, suitable for the new classic account margin model</td></tr> <tr><td>» cross_initial_margin</td> <td>string</td> <td>The initial security deposit of the full warehouse is suitable for the new classic account margin model</td></tr> <tr><td>» cross_maintenance_margin</td> <td>string</td> <td>Maintain deposit in full warehouse, suitable for new classic account margin models</td></tr> <tr><td>» cross_unrealised_pnl</td> <td>string</td> <td>The full warehouse does not achieve profit and loss, suitable for the new classic account margin model</td></tr> <tr><td>» cross_available</td> <td>string</td> <td>Full warehouse available amount, suitable for the new classic account margin model</td></tr> <tr><td>» isolated_position_margin</td> <td>string</td> <td>Ware -position margin, suitable for the new classic account margin model</td></tr> <tr><td>» enable_new_dual_mode</td> <td>boolean</td> <td>Whether to open a new two-way position mode</td></tr> <tr><td>» margin_mode</td> <td>integer</td> <td>Margin mode, 0-classic margin mode, 1-cross-currency margin mode, 2-combined margin mode</td></tr> <tr><td>» history</td> <td>object</td> <td>Statistical data</td></tr> <tr><td>»» dnw</td> <td>string</td> <td>total amount of deposit and withdraw</td></tr> <tr><td>»» pnl</td> <td>string</td> <td>total amount of trading profit and loss</td></tr> <tr><td>»» fee</td> <td>string</td> <td>total amount of fee</td></tr> <tr><td>»» refr</td> <td>string</td> <td>total amount of referrer rebates</td></tr> <tr><td>»» fund</td> <td>string</td> <td>total amount of funding costs</td></tr> <tr><td>»» point_dnw</td> <td>string</td> <td>total amount of point deposit and withdraw</td></tr> <tr><td>»» point_fee</td> <td>string</td> <td>total amount of point fee</td></tr> <tr><td>»» point_refr</td> <td>string</td> <td>total amount of referrer rebates of point fee</td></tr> <tr><td>»» bonus_dnw</td> <td>string</td> <td>total amount of perpetual contract bonus transfer</td></tr> <tr><td>»» bonus_offset</td> <td>string</td> <td>total amount of perpetual contract bonus deduction</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="retrieve-position-detail-in-dual-mode"><a href="#retrieve-position-detail-in-dual-mode" class="header-anchor">#</a> Retrieve position detail in dual mode</h2> <p><a id="opIdgetDualModePosition"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/dual_comp/positions/BTC_USDT'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/dual_comp/positions/BTC_USDT&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/dual_comp/positions/{contract}</code></p> <p><em>Retrieve position detail in dual mode</em></p> <h3 id="getdualmodeposition-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr></tbody></table> <h4 id="enumerated-values-47"><a href="#enumerated-values-47" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getdualmodeposition-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[<a href="#schemaposition">Position</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-margin-in-dual-mode"><a href="#update-position-margin-in-dual-mode" class="header-anchor">#</a> Update position margin in dual mode</h2> <p><a id="opIdupdateDualModePositionMargin"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/dual_comp/positions/BTC_USDT/margin'</span>
query_param <span class="token operator">=</span> <span class="token string">'change=0.01&amp;dual_side=dual_long'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/dual_comp/positions/BTC_USDT/margin&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;change=0.01&amp;dual_side=dual_long&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/dual_comp/positions/{contract}/margin</code></p> <p><em>Update position margin in dual mode</em></p> <h3 id="updatedualmodepositionmargin-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>change</td> <td>query</td> <td>string</td> <td>true</td> <td>Margin change. Use positive number to increase margin, negative number otherwise.</td></tr> <tr><td>dual_side</td> <td>query</td> <td>string</td> <td>true</td> <td>Long or short position</td></tr></tbody></table> <h4 id="enumerated-values-48"><a href="#enumerated-values-48" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="updatedualmodepositionmargin-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[<a href="#schemaposition">Position</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-leverage-in-dual-mode"><a href="#update-position-leverage-in-dual-mode" class="header-anchor">#</a> Update position leverage in dual mode</h2> <p><a id="opIdupdateDualModePositionLeverage"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/dual_comp/positions/BTC_USDT/leverage'</span>
query_param <span class="token operator">=</span> <span class="token string">'leverage=10'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/dual_comp/positions/BTC_USDT/leverage&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;leverage=10&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/dual_comp/positions/{contract}/leverage</code></p> <p><em>Update position leverage in dual mode</em></p> <h3 id="updatedualmodepositionleverage-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>leverage</td> <td>query</td> <td>string</td> <td>true</td> <td>New position leverage</td></tr> <tr><td>cross_leverage_limit</td> <td>query</td> <td>string</td> <td>false</td> <td>Cross margin leverage(valid only when <code>leverage</code> is 0)</td></tr></tbody></table> <h4 id="enumerated-values-49"><a href="#enumerated-values-49" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="updatedualmodepositionleverage-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[<a href="#schemaposition">Position</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-risk-limit-in-dual-mode"><a href="#update-position-risk-limit-in-dual-mode" class="header-anchor">#</a> Update position risk limit in dual mode</h2> <p><a id="opIdupdateDualModePositionRiskLimit"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/dual_comp/positions/BTC_USDT/risk_limit'</span>
query_param <span class="token operator">=</span> <span class="token string">'risk_limit=1000000'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/dual_comp/positions/BTC_USDT/risk_limit&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;risk_limit=1000000&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/dual_comp/positions/{contract}/risk_limit</code></p> <p><em>Update position risk limit in dual mode</em></p> <h3 id="updatedualmodepositionrisklimit-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>risk_limit</td> <td>query</td> <td>string</td> <td>true</td> <td>New Risk Limit Value</td></tr></tbody></table> <h4 id="enumerated-values-50"><a href="#enumerated-values-50" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="updatedualmodepositionrisklimit-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[<a href="#schemaposition">Position</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-futures-order"><a href="#create-a-futures-order" class="header-anchor">#</a> Create a futures order</h2> <p><a id="opIdcreateFuturesOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:6024,&quot;iceberg&quot;:0,&quot;price&quot;:&quot;3765&quot;,&quot;tif&quot;:&quot;gtc&quot;,&quot;text&quot;:&quot;t-my-custom-id&quot;,&quot;stp_act&quot;:&quot;-&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:6024,&quot;iceberg&quot;:0,&quot;price&quot;:&quot;3765&quot;,&quot;tif&quot;:&quot;gtc&quot;,&quot;text&quot;:&quot;t-my-custom-id&quot;,&quot;stp_act&quot;:&quot;-&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/orders</code></p> <p><em>Create a futures order</em></p> <ul><li>Creating futures orders requires <code>size</code>, which is number of contracts instead of currency amount. You can use <code>quanto_multiplier</code> in contract detail response to know how much currency 1 size contract represents</li> <li>Zero-filled order cannot be retrieved 10 minutes after order cancellation. You will get a 404 not found for such orders</li> <li>Set <code>reduce_only</code> to <code>true</code> can keep the position from changing side when reducing position size</li> <li>In single position mode, to close a position, you need to set <code>size</code> to 0 and <code>close</code> to <code>true</code></li> <li>In dual position mode, to close one side position, you need to set <code>auto_size</code> side, <code>reduce_only</code> to true and <code>size</code> to 0</li> <li>Set <code>stp_act</code> to decide the strategy of self-trade prevention. For detailed usage, refer to the <code>stp_act</code> parameter in request body</li></ul> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createfuturesorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td> <td>true</td> <td>none</td></tr> <tr><td>» contract</td> <td>body</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>» size</td> <td>body</td> <td>integer(int64)</td> <td>true</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>» iceberg</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>» price</td> <td>body</td> <td>string</td> <td>false</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code></td></tr> <tr><td>» close</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set as <code>true</code> to close the position, with <code>size</code> set to 0</td></tr> <tr><td>» reduce_only</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set as <code>true</code> to be reduce-only order</td></tr> <tr><td>» tif</td> <td>body</td> <td>string</td> <td>false</td> <td>Time in force</td></tr> <tr><td>» text</td> <td>body</td> <td>string</td> <td>false</td> <td>User defined information. If not empty, must follow the rules below:</td></tr> <tr><td>» auto_size</td> <td>body</td> <td>string</td> <td>false</td> <td>Set side to close dual-mode position. <code>close_long</code> closes the long side; while <code>close_short</code> the short one. Note <code>size</code> also needs to be set to 0</td></tr> <tr><td>» stp_act</td> <td>body</td> <td>string</td> <td>false</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="detailed-descriptions-22"><a href="#detailed-descriptions-22" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» tif</strong>: Time in force</p> <ul><li>gtc: GoodTillCancelled</li> <li>ioc: ImmediateOrCancelled, taker only</li> <li>poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</li> <li>fok: FillOrKill, fill either completely or none</li></ul> <p><strong>» text</strong>: User defined information. If not empty, must follow the rules below:</p> <ol><li>prefixed with <code>t-</code></li> <li>no longer than 28 bytes without <code>t-</code> prefix</li> <li>can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)
Besides user defined information, reserved contents are listed below, denoting how the order is created:</li></ol> <ul><li>web: from web</li> <li>api: from API</li> <li>app: from mobile phones</li> <li>auto_deleveraging: from ADL</li> <li>liquidation: from liquidation</li> <li>insurance: from insurance</li></ul> <p><strong>» stp_act</strong>: Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies</p> <ol><li>After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。</li> <li>When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。</li> <li>If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'</li></ol> <ul><li>cn: Cancel newest, Cancel new orders and keep old ones</li> <li>co: Cancel oldest, Cancel old orders and keep new ones</li> <li>cb: Cancel both, Both old and new orders will be cancelled</li></ul> <h4 id="enumerated-values-51"><a href="#enumerated-values-51" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>» tif</td> <td>gtc</td></tr> <tr><td>» tif</td> <td>ioc</td></tr> <tr><td>» tif</td> <td>poc</td></tr> <tr><td>» tif</td> <td>fok</td></tr> <tr><td>» auto_size</td> <td>close_long</td></tr> <tr><td>» auto_size</td> <td>close_short</td></tr> <tr><td>» stp_act</td> <td>co</td></tr> <tr><td>» stp_act</td> <td>cn</td></tr> <tr><td>» stp_act</td> <td>cb</td></tr> <tr><td>» stp_act</td> <td>-</td></tr> <tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createfuturesorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order details</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-futures-orders"><a href="#list-futures-orders" class="header-anchor">#</a> List futures orders</h2> <p><a id="opIdlistFuturesOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=open'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;status=open&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/orders</code></p> <p><em>List futures orders</em></p> <ul><li>Zero-fill order cannot be retrieved for 10 minutes after cancellation</li> <li>Historical orders, by default, only data within the past 6 months is supported.
If you need to query data for a longer period, please use <code>GET /futures/{settle}/orders_timerange</code>.</li></ul> <h3 id="listfuturesorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>Only list the orders with this status</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>last_id</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify list staring point using the <code>id</code> of last record in previous list-query results</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-52"><a href="#enumerated-values-52" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listfuturesorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemafuturesorder">FuturesOrder</a>]</td></tr></tbody></table> <h3 id="response-headers"><a href="#response-headers" class="header-anchor">#</a> Response Headers</h3> <table><thead><tr><th>Status</th> <th>Header</th> <th>Type</th> <th>Format</th> <th>Description</th></tr></thead> <tbody><tr><td>200</td> <td>X-Pagination-Limit</td> <td>integer</td> <td></td> <td>Request limit specified</td></tr> <tr><td>200</td> <td>X-Pagination-Offset</td> <td>integer</td> <td></td> <td>Request offset specified</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-all-open-orders-matched"><a href="#cancel-all-open-orders-matched" class="header-anchor">#</a> Cancel all <code>open</code> orders matched</h2> <p><a id="opIdcancelFuturesOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;contract=BTC_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /futures/{settle}/orders</code></p> <p><em>Cancel all <code>open</code> orders matched</em></p> <p>Zero-filled order cannot be retrieved 10 minutes after order cancellation</p> <h3 id="cancelfuturesorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>side</td> <td>query</td> <td>string</td> <td>false</td> <td>All bids or asks. Both included if not specified</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-53"><a href="#enumerated-values-53" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelfuturesorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>All orders matched cancelled</td> <td>[<a href="#schemafuturesorder">FuturesOrder</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-futures-orders-by-time-range"><a href="#list-futures-orders-by-time-range" class="header-anchor">#</a> List Futures Orders By Time Range</h2> <p><a id="opIdgetOrdersWithTimeRange"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/orders_timerange'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/orders_timerange&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/orders_timerange</code></p> <p><em>List Futures Orders By Time Range</em></p> <h3 id="getorderswithtimerange-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <h4 id="enumerated-values-54"><a href="#enumerated-values-54" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getorderswithtimerange-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemafuturesorder">FuturesOrder</a>]</td></tr></tbody></table> <h3 id="response-headers-2"><a href="#response-headers-2" class="header-anchor">#</a> Response Headers</h3> <table><thead><tr><th>Status</th> <th>Header</th> <th>Type</th> <th>Format</th> <th>Description</th></tr></thead> <tbody><tr><td>200</td> <td>X-Pagination-Limit</td> <td>integer</td> <td></td> <td>Request limit specified</td></tr> <tr><td>200</td> <td>X-Pagination-Offset</td> <td>integer</td> <td></td> <td>Request offset specified</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-batch-of-futures-orders"><a href="#create-a-batch-of-futures-orders" class="header-anchor">#</a> Create a batch of futures orders</h2> <p><a id="opIdcreateBatchFuturesOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/batch_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'[{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:6024,&quot;iceberg&quot;:0,&quot;price&quot;:&quot;3765&quot;,&quot;tif&quot;:&quot;gtc&quot;,&quot;text&quot;:&quot;t-my-custom-id&quot;,&quot;stp_act&quot;:&quot;-&quot;}]'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/batch_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'[{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:6024,&quot;iceberg&quot;:0,&quot;price&quot;:&quot;3765&quot;,&quot;tif&quot;:&quot;gtc&quot;,&quot;text&quot;:&quot;t-my-custom-id&quot;,&quot;stp_act&quot;:&quot;-&quot;}]'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/batch_orders</code></p> <p><em>Create a batch of futures orders</em></p> <ul><li>Up to 10 orders per request</li> <li>If any of the order's parameters are missing or in the wrong format, all of them will not be executed, and a http status 400 error will be returned directly</li> <li>If the parameters are checked and passed, all are executed. Even if there is a business logic error in the middle (such as insufficient funds), it will not affect other execution orders</li> <li>The returned result is in array format, and the order corresponds to the orders in the request body</li> <li>In the returned result, the <code>succeeded</code> field of type bool indicates whether the execution was successful or not</li> <li>If the execution is successful, the normal order content is included; if the execution fails, the <code>label</code> field is included to indicate the cause of the error</li> <li>In the rate limiting, each order is counted individually</li></ul> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="createbatchfuturesorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td>array[<a href="#schemafuturesorder">FuturesOrder</a>]</td> <td>true</td> <td>none</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-55"><a href="#enumerated-values-55" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="createbatchfuturesorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Request is completed</td> <td>[Inline]</td></tr></tbody></table> <h3 id="createbatchfuturesorder-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Futures order details]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Futures order details</td></tr> <tr><td>»» succeeded</td> <td>boolean</td> <td>Whether the batch of orders succeeded</td></tr> <tr><td>»» label</td> <td>string</td> <td>Error label, only exists if execution fails</td></tr> <tr><td>»» detail</td> <td>string</td> <td>Error detail, only present if execution failed and details need to be given</td></tr> <tr><td>»» id</td> <td>integer(int64)</td> <td>Futures order ID</td></tr> <tr><td>»» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>»» create_time</td> <td>number(double)</td> <td>Creation time of order</td></tr> <tr><td>»» finish_time</td> <td>number(double)</td> <td>Order finished time. Not returned if order is open</td></tr> <tr><td>»» finish_as</td> <td>string</td> <td>How the order was finished.<br><br>- filled: all filled<br>- cancelled: manually cancelled<br>- liquidated: cancelled because of liquidation<br>- ioc: time in force is <code>IOC</code>, finish immediately<br>- auto_deleveraged: finished by ADL<br>- reduce_only: cancelled because of increasing position while <code>reduce-only</code> set- position_closed: cancelled because of position close<br>- position_closed: canceled because the position was closed<br>- reduce_out: only reduce positions by excluding hard-to-fill orders<br>- stp: cancelled because self trade prevention</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: waiting to be traded<br>- <code>finished</code>: finished</td></tr> <tr><td>»» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>»» size</td> <td>integer(int64)</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>»» iceberg</td> <td>integer(int64)</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>»» price</td> <td>string</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code></td></tr> <tr><td>»» is_close</td> <td>boolean</td> <td>Is the order to close position</td></tr> <tr><td>»» is_reduce_only</td> <td>boolean</td> <td>Is the order reduce-only</td></tr> <tr><td>»» is_liq</td> <td>boolean</td> <td>Is the order for liquidation</td></tr> <tr><td>»» tif</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee<br>- fok: FillOrKill, fill either completely or none</td></tr> <tr><td>»» left</td> <td>integer(int64)</td> <td>Size left to be traded</td></tr> <tr><td>»» fill_price</td> <td>string</td> <td>Fill price of the order</td></tr> <tr><td>»» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- web: from web<br>- api: from API<br>- app: from mobile phones<br>- auto_deleveraging: from ADL<br>- liquidation: from liquidation<br>- insurance: from insurance</td></tr> <tr><td>»» tkfr</td> <td>string</td> <td>Taker fee</td></tr> <tr><td>»» mkfr</td> <td>string</td> <td>Maker fee</td></tr> <tr><td>»» refu</td> <td>integer</td> <td>Reference user ID</td></tr> <tr><td>»» stp_act</td> <td>string</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies<br><br>1. After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。<br>2. When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。<br>3. If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'<br><br>- cn: Cancel newest, Cancel new orders and keep old ones<br>- co: Cancel oldest, Cancel old orders and keep new ones<br>- cb: Cancel both, Both old and new orders will be cancelled</td></tr> <tr><td>»» stp_id</td> <td>integer</td> <td>Orders between users in the same <code>stp_id</code> group are not allowed to be self-traded<br><br>1. If the <code>stp_id</code> of two orders being matched is non-zero and equal, they will not be executed. Instead, the corresponding strategy will be executed based on the <code>stp_act</code> of the taker.<br>2. <code>stp_id</code> returns <code>0</code> by default for orders that have not been set for <code>STP group</code></td></tr></tbody></table> <h4 id="enumerated-values-56"><a href="#enumerated-values-56" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidated</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>auto_deleveraged</td></tr> <tr><td>finish_as</td> <td>reduce_only</td></tr> <tr><td>finish_as</td> <td>position_closed</td></tr> <tr><td>finish_as</td> <td>reduce_out</td></tr> <tr><td>finish_as</td> <td>stp</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>tif</td> <td>poc</td></tr> <tr><td>tif</td> <td>fok</td></tr> <tr><td>stp_act</td> <td>co</td></tr> <tr><td>stp_act</td> <td>cn</td></tr> <tr><td>stp_act</td> <td>cb</td></tr> <tr><td>stp_act</td> <td>-</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-single-order-2"><a href="#get-a-single-order-2" class="header-anchor">#</a> Get a single order</h2> <p><a id="opIdgetFuturesOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/orders/{order_id}</code></p> <p><em>Get a single order</em></p> <ul><li>Zero-fill order cannot be retrieved for 10 minutes after cancellation</li> <li>Historical orders, by default, only data within the past 6 months is supported.</li></ul> <h3 id="getfuturesorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Order ID returned, or user custom ID(i.e., <code>text</code> field).</td></tr></tbody></table> <h4 id="detailed-descriptions-23"><a href="#detailed-descriptions-23" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>order_id</strong>: Order ID returned, or user custom ID(i.e., <code>text</code> field).
Operations based on custom ID can only be checked when the order is in orderbook.  When the order is finished, it can be checked within 60 seconds after the end of the order.  After that, only order ID is accepted.</p> <h4 id="enumerated-values-57"><a href="#enumerated-values-57" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getfuturesorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order details</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-single-order-2"><a href="#cancel-a-single-order-2" class="header-anchor">#</a> Cancel a single order</h2> <p><a id="opIdcancelFuturesOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /futures/{settle}/orders/{order_id}</code></p> <p><em>Cancel a single order</em></p> <h3 id="cancelfuturesorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Order ID returned, or user custom ID(i.e., <code>text</code> field).</td></tr></tbody></table> <h4 id="detailed-descriptions-24"><a href="#detailed-descriptions-24" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>order_id</strong>: Order ID returned, or user custom ID(i.e., <code>text</code> field).
Operations based on custom ID can only be checked when the order is in orderbook.  When the order is finished, it can be checked within 60 seconds after the end of the order.  After that, only order ID is accepted.</p> <h4 id="enumerated-values-58"><a href="#enumerated-values-58" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="cancelfuturesorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order details</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="amend-an-order-2"><a href="#amend-an-order-2" class="header-anchor">#</a> Amend an order</h2> <p><a id="opIdamendFuturesOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;size&quot;:100,&quot;price&quot;:&quot;54321&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;PUT&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;size&quot;:100,&quot;price&quot;:&quot;54321&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>PUT /futures/{settle}/orders/{order_id}</code></p> <p><em>Amend an order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;54321&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="amendfuturesorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» size</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>New order size, including filled part.</td></tr> <tr><td>» price</td> <td>body</td> <td>string</td> <td>false</td> <td>New order price.</td></tr> <tr><td>» amend_text</td> <td>body</td> <td>string</td> <td>false</td> <td>Custom info during amending order</td></tr> <tr><td>» biz_info</td> <td>body</td> <td>string</td> <td>false</td> <td>Users can annotate this modification with information.</td></tr> <tr><td>» bbo</td> <td>body</td> <td>string</td> <td>false</td> <td>Users are able to modify the offer price manually.</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Order ID returned, or user custom ID(i.e., <code>text</code> field).</td></tr></tbody></table> <h4 id="detailed-descriptions-25"><a href="#detailed-descriptions-25" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» size</strong>: New order size, including filled part.</p> <ul><li>If new size is less than or equal to filled size, the order will be cancelled.</li> <li>Order side must be identical to the original one.</li> <li>Close order size cannot be changed.</li> <li>For reduce only orders, increasing size may leads to other reduce only orders being cancelled.</li> <li>If price is not changed, decreasing size will not change its precedence in order book, while increasing will move it to the last at current price.</li></ul> <p><strong>order_id</strong>: Order ID returned, or user custom ID(i.e., <code>text</code> field).
Operations based on custom ID can only be checked when the order is in orderbook.  When the order is finished, it can be checked within 60 seconds after the end of the order.  After that, only order ID is accepted.</p> <h4 id="enumerated-values-59"><a href="#enumerated-values-59" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="amendfuturesorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order details</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-personal-trading-history-2"><a href="#list-personal-trading-history-2" class="header-anchor">#</a> List personal trading history</h2> <p><a id="opIdgetMyTrades"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/my_trades'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/my_trades&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/my_trades</code></p> <p><em>List personal trading history</em></p> <p>By default, only data within the past 6 months is supported.
If you need to query data for a longer period, please use <code>GET /futures/{settle}/my_trades_timerange</code>.</p> <h3 id="getmytrades-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>order</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Futures order ID, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>last_id</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify the starting point for this list based on a previously retrieved id</td></tr></tbody></table> <h4 id="detailed-descriptions-26"><a href="#detailed-descriptions-26" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>last_id</strong>: Specify the starting point for this list based on a previously retrieved id</p> <p>This parameter is deprecated. If you need to iterate through and retrieve more records, we recommend using 'GET /futures/{settle}/my_trades_timerange'.</p> <h4 id="enumerated-values-60"><a href="#enumerated-values-60" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">121234231</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800.123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21893289839&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100.123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;taker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getmytrades-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getmytrades-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>integer(int64)</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Trading time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» order_id</td> <td>string</td> <td>Order ID related</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Trading size</td></tr> <tr><td>» close_size</td> <td>integer(int64)</td> <td>Number of closed positions:<br><br>close_size=0 &amp;&amp; size＞0       Open long position<br>close_size=0 &amp;&amp; size＜0       Open short position<br>close_size&gt;0 &amp;&amp; size&gt;0 &amp;&amp; size &lt;= close_size Close short postion<br>close_size&gt;0 &amp;&amp; size&gt;0 &amp;&amp; size &gt; close_size Close short position and open long position<br>close_size&lt;0 &amp;&amp; size&lt;0 &amp;&amp; size &gt;= close_size Close long postion<br>close_size&lt;0 &amp;&amp; size&lt;0 &amp;&amp; size &lt; close_size Close long position and open short position</td></tr> <tr><td>» price</td> <td>string</td> <td>Trading price</td></tr> <tr><td>» role</td> <td>string</td> <td>Trade role. Available values are <code>taker</code> and <code>maker</code></td></tr> <tr><td>» text</td> <td>string</td> <td>User defined information</td></tr> <tr><td>» fee</td> <td>string</td> <td>Fee deducted</td></tr> <tr><td>» point_fee</td> <td>string</td> <td>Points used to deduct fee</td></tr></tbody></table> <h4 id="enumerated-values-61"><a href="#enumerated-values-61" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>role</td> <td>taker</td></tr> <tr><td>role</td> <td>maker</td></tr></tbody></table> <h3 id="response-headers-3"><a href="#response-headers-3" class="header-anchor">#</a> Response Headers</h3> <table><thead><tr><th>Status</th> <th>Header</th> <th>Type</th> <th>Format</th> <th>Description</th></tr></thead> <tbody><tr><td>200</td> <td>X-Pagination-Limit</td> <td>integer</td> <td></td> <td>Request limit specified</td></tr> <tr><td>200</td> <td>X-Pagination-Offset</td> <td>integer</td> <td></td> <td>Request offset specified</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-personal-trading-history-by-time-range"><a href="#list-personal-trading-history-by-time-range" class="header-anchor">#</a> List personal trading history by time range</h2> <p><a id="opIdgetMyTradesWithTimeRange"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/my_trades_timerange'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/my_trades_timerange&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/my_trades_timerange</code></p> <p><em>List personal trading history by time range</em></p> <h3 id="getmytradeswithtimerange-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>role</td> <td>query</td> <td>string</td> <td>false</td> <td>Query role, maker or taker.</td></tr></tbody></table> <h4 id="enumerated-values-62"><a href="#enumerated-values-62" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;121234231&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800.123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21893289839&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100.123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;taker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getmytradeswithtimerange-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getmytradeswithtimerange-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» trade_id</td> <td>string</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Trading time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» order_id</td> <td>string</td> <td>Order ID related</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Trading size</td></tr> <tr><td>» close_size</td> <td>integer(int64)</td> <td>Number of closed positions:<br><br>close_size=0 &amp;&amp; size＞0       Open long position<br>close_size=0 &amp;&amp; size＜0       Open short position<br>close_size&gt;0 &amp;&amp; size&gt;0 &amp;&amp; size &lt;= close_size Close short postion<br>close_size&gt;0 &amp;&amp; size&gt;0 &amp;&amp; size &gt; close_size Close short position and open long position<br>close_size&lt;0 &amp;&amp; size&lt;0 &amp;&amp; size &gt;= close_size Close long postion<br>close_size&lt;0 &amp;&amp; size&lt;0 &amp;&amp; size &lt; close_size Close long position and open short position</td></tr> <tr><td>» price</td> <td>string</td> <td>Trading price</td></tr> <tr><td>» role</td> <td>string</td> <td>Trade role. Available values are <code>taker</code> and <code>maker</code></td></tr> <tr><td>» text</td> <td>string</td> <td>User defined information</td></tr> <tr><td>» fee</td> <td>string</td> <td>Fee deducted</td></tr> <tr><td>» point_fee</td> <td>string</td> <td>Points used to deduct fee</td></tr></tbody></table> <h4 id="enumerated-values-63"><a href="#enumerated-values-63" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>role</td> <td>taker</td></tr> <tr><td>role</td> <td>maker</td></tr></tbody></table> <h3 id="response-headers-4"><a href="#response-headers-4" class="header-anchor">#</a> Response Headers</h3> <table><thead><tr><th>Status</th> <th>Header</th> <th>Type</th> <th>Format</th> <th>Description</th></tr></thead> <tbody><tr><td>200</td> <td>X-Pagination-Limit</td> <td>integer</td> <td></td> <td>Request limit specified</td></tr> <tr><td>200</td> <td>X-Pagination-Offset</td> <td>integer</td> <td></td> <td>Request offset specified</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-position-close-history"><a href="#list-position-close-history" class="header-anchor">#</a> List position close history</h2> <p><a id="opIdlistPositionClose"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/position_close'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/position_close&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/position_close</code></p> <p><em>List position close history</em></p> <h3 id="listpositionclose-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>side</td> <td>query</td> <td>string</td> <td>false</td> <td>Query side.  long or shot</td></tr> <tr><td>pnl</td> <td>query</td> <td>string</td> <td>false</td> <td>Query profit or loss</td></tr></tbody></table> <h4 id="enumerated-values-64"><a href="#enumerated-values-64" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1546487347</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00013&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00011&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;long&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accum_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;first_open_time&quot;</span><span class="token operator">:</span> <span class="token number">1546487347</span><span class="token punctuation">,</span>
    <span class="token property">&quot;long_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2026.87&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;short_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2544.4&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listpositionclose-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listpositionclose-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» time</td> <td>number(double)</td> <td>Position close time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» side</td> <td>string</td> <td>Position side, long or short</td></tr> <tr><td>» pnl</td> <td>string</td> <td>PNL</td></tr> <tr><td>» pnl_pnl</td> <td>string</td> <td>PNL - Position P/L</td></tr> <tr><td>» pnl_fund</td> <td>string</td> <td>PNL - Funding Fees</td></tr> <tr><td>» pnl_fee</td> <td>string</td> <td>PNL - Transaction Fees</td></tr> <tr><td>» text</td> <td>string</td> <td>Text of close order</td></tr> <tr><td>» max_size</td> <td>string</td> <td>Max Trade Size</td></tr> <tr><td>» accum_size</td> <td>string</td> <td>Cumulative closed position volume</td></tr> <tr><td>» first_open_time</td> <td>integer(int64)</td> <td>First Open Time</td></tr> <tr><td>» long_price</td> <td>string</td> <td>When 'side' is 'long,' it indicates the opening average price; when 'side' is 'short,' it indicates the closing average price.</td></tr> <tr><td>» short_price</td> <td>string</td> <td>When 'side' is 'long,' it indicates the opening average price; when 'side' is 'short,' it indicates the closing average price</td></tr></tbody></table> <h4 id="enumerated-values-65"><a href="#enumerated-values-65" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>side</td> <td>long</td></tr> <tr><td>side</td> <td>short</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-liquidation-history"><a href="#list-liquidation-history" class="header-anchor">#</a> List liquidation history</h2> <p><a id="opIdlistLiquidates"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/liquidates'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/liquidates&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/liquidates</code></p> <p><em>List liquidation history</em></p> <h3 id="listliquidates-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>at</td> <td>query</td> <td>integer</td> <td>false</td> <td>Specify a liquidation timestamp</td></tr></tbody></table> <h4 id="enumerated-values-66"><a href="#enumerated-values-66" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1548654951</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;25&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.006705256878&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3536.123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3421.54&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3420.27&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">317393847</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3405&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3424&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listliquidates-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listliquidates-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» time</td> <td>integer(int64)</td> <td>Liquidation time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» leverage</td> <td>string</td> <td>Position leverage. Not returned in public endpoints.</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Position size</td></tr> <tr><td>» margin</td> <td>string</td> <td>Position margin. Not returned in public endpoints.</td></tr> <tr><td>» entry_price</td> <td>string</td> <td>Average entry price. Not returned in public endpoints.</td></tr> <tr><td>» liq_price</td> <td>string</td> <td>Liquidation price. Not returned in public endpoints.</td></tr> <tr><td>» mark_price</td> <td>string</td> <td>Mark price. Not returned in public endpoints.</td></tr> <tr><td>» order_id</td> <td>integer(int64)</td> <td>Liquidation order ID. Not returned in public endpoints.</td></tr> <tr><td>» order_price</td> <td>string</td> <td>Liquidation order price</td></tr> <tr><td>» fill_price</td> <td>string</td> <td>Liquidation order average taker price</td></tr> <tr><td>» left</td> <td>integer(int64)</td> <td>Liquidation order maker size</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-auto-deleveraging-history"><a href="#list-auto-deleveraging-history" class="header-anchor">#</a> List Auto-Deleveraging History</h2> <p><a id="opIdlistAutoDeleverages"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/auto_deleverages'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/auto_deleverages&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/auto_deleverages</code></p> <p><em>List Auto-Deleveraging History</em></p> <h3 id="listautodeleverages-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>at</td> <td>query</td> <td>integer</td> <td>false</td> <td>Specify an auto-deleveraging timestamp</td></tr></tbody></table> <h4 id="enumerated-values-67"><a href="#enumerated-values-67" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1675841679</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ACH_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">73873128</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1666</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2649.648633636364&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2790.8082&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">-10</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listautodeleverages-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listautodeleverages-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» time</td> <td>integer(int64)</td> <td>Automatic deleveraging time</td></tr> <tr><td>» user</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» order_id</td> <td>integer(int64)</td> <td>Order ID. Order IDs before 2023-02-20 are null</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» leverage</td> <td>string</td> <td>Position leverage</td></tr> <tr><td>» cross_leverage_limit</td> <td>string</td> <td>Cross margin leverage(valid only when <code>leverage</code> is 0)</td></tr> <tr><td>» entry_price</td> <td>string</td> <td>Average entry price</td></tr> <tr><td>» fill_price</td> <td>string</td> <td>Average fill price</td></tr> <tr><td>» trade_size</td> <td>integer(int64)</td> <td>Trading size</td></tr> <tr><td>» position_size</td> <td>integer(int64)</td> <td>Positions after auto-deleveraging</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="countdown-cancel-orders-2"><a href="#countdown-cancel-orders-2" class="header-anchor">#</a> Countdown cancel orders</h2> <p><a id="opIdcountdownCancelAllFutures"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/countdown_cancel_all'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;timeout&quot;:30,&quot;contract&quot;:&quot;BTC_USDT&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/countdown_cancel_all&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;timeout&quot;:30,&quot;contract&quot;:&quot;BTC_USDT&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/countdown_cancel_all</code></p> <p><em>Countdown cancel orders</em></p> <p>When the timeout set by the user is reached, if there is no cancel or set a new countdown, the related pending orders will be automatically cancelled.
This endpoint can be called repeatedly to set a new countdown or cancel the countdown.
For example, call this endpoint at 30s intervals, each countdown<code>timeout</code> is set to 30s.
If this endpoint is not called again within 30 seconds, all pending orders on the specified <code>market</code> will be automatically cancelled, if no <code>market</code> is specified, all market pending orders will be cancelled.
If the <code>timeout</code> is set to 0 within 30 seconds, the countdown timer will expire and the cacnel function will be cancelled.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;timeout&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="countdowncancelallfutures-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» timeout</td> <td>body</td> <td>integer(int32)</td> <td>true</td> <td>Countdown time, in seconds</td></tr> <tr><td>» contract</td> <td>body</td> <td>string</td> <td>false</td> <td>Futures contract</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="detailed-descriptions-27"><a href="#detailed-descriptions-27" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» timeout</strong>: Countdown time, in seconds
At least 5 seconds, 0 means cancel the countdown</p> <h4 id="enumerated-values-68"><a href="#enumerated-values-68" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;triggerTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1660039145000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="countdowncancelallfutures-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Set countdown successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="countdowncancelallfutures-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>triggerTime</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» triggerTime</td> <td>integer(int64)</td> <td>Timestamp of the end of the countdown, in milliseconds</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-user-trading-fee-rates-2"><a href="#query-user-trading-fee-rates-2" class="header-anchor">#</a> Query user trading fee rates</h2> <p><a id="opIdgetFuturesFee"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/fee'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/fee&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/fee</code></p> <p><em>Query user trading fee rates</em></p> <h3 id="getfuturesfee-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr></tbody></table> <h4 id="enumerated-values-69"><a href="#enumerated-values-69" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;1INCH_USDT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00010&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;AAVE_USDT&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00010&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getfuturesfee-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getfuturesfee-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <strong>additionalProperties</strong></td> <td>object</td> <td>The returned result is a map type, where the key represents the market and the value represents the taker and maker fee rates.</td></tr> <tr><td>»» taker_fee</td> <td>string</td> <td>Taker fee</td></tr> <tr><td>»» maker_fee</td> <td>string</td> <td>maker fee</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-batch-of-orders-with-an-id-list-2"><a href="#cancel-a-batch-of-orders-with-an-id-list-2" class="header-anchor">#</a> Cancel a batch of orders with an ID list</h2> <p><a id="opIdcancelBatchFutureOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/batch_cancel_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/batch_cancel_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'[&quot;1&quot;,&quot;2&quot;,&quot;3&quot;]'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/batch_cancel_orders</code></p> <p><em>Cancel a batch of orders with an ID list</em></p> <p>Multiple distinct order ID list can be specified。Each request can cancel a maximum of 20 records.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;3&quot;</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelbatchfutureorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td>array[string]</td> <td>true</td> <td>none</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-70"><a href="#enumerated-values-70" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelbatchfutureorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order cancellation operation completed</td> <td>[Inline]</td></tr></tbody></table> <h3 id="cancelbatchfutureorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» FutureCancelOrderResult</td> <td>object</td> <td>Order cancellation result</td></tr> <tr><td>»» id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»» succeeded</td> <td>boolean</td> <td>Whether cancellation succeeded</td></tr> <tr><td>»» message</td> <td>string</td> <td>Error message when failed to cancel the order; empty if succeeded</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="batch-modify-orders-with-specified-ids"><a href="#batch-modify-orders-with-specified-ids" class="header-anchor">#</a> Batch modify orders with specified IDs</h2> <p><a id="opIdamendBatchFutureOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/batch_amend_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'[{&quot;order_id&quot;:121212,&quot;amend_text&quot;:&quot;batch amend text&quot;,&quot;size&quot;:100,&quot;price&quot;:&quot;54321&quot;}]'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/batch_amend_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'[{&quot;order_id&quot;:121212,&quot;amend_text&quot;:&quot;batch amend text&quot;,&quot;size&quot;:100,&quot;price&quot;:&quot;54321&quot;}]'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/batch_amend_orders</code></p> <p><em>Batch modify orders with specified IDs</em></p> <p>You can specify multiple different order IDs. You can only modify up to 10 orders in one request.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">121212</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;batch amend text&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;54321&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="amendbatchfutureorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>x-gate-exptime</td> <td>header</td> <td>integer(int64)</td> <td>false</td> <td>Specify the expiration time (milliseconds); if the GATE receives the request time greater than the expiration time, the request will be rejected</td></tr> <tr><td>body</td> <td>body</td> <td>array[<a href="#schemabatchamendorderreq">BatchAmendOrderReq</a>]</td> <td>true</td> <td>none</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-71"><a href="#enumerated-values-71" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="amendbatchfutureorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Request is completed</td> <td>[Inline]</td></tr></tbody></table> <h3 id="amendbatchfutureorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Futures order details]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Futures order details</td></tr> <tr><td>»» succeeded</td> <td>boolean</td> <td>Whether the batch of orders succeeded</td></tr> <tr><td>»» label</td> <td>string</td> <td>Error label, only exists if execution fails</td></tr> <tr><td>»» detail</td> <td>string</td> <td>Error detail, only present if execution failed and details need to be given</td></tr> <tr><td>»» id</td> <td>integer(int64)</td> <td>Futures order ID</td></tr> <tr><td>»» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>»» create_time</td> <td>number(double)</td> <td>Creation time of order</td></tr> <tr><td>»» finish_time</td> <td>number(double)</td> <td>Order finished time. Not returned if order is open</td></tr> <tr><td>»» finish_as</td> <td>string</td> <td>How the order was finished.<br><br>- filled: all filled<br>- cancelled: manually cancelled<br>- liquidated: cancelled because of liquidation<br>- ioc: time in force is <code>IOC</code>, finish immediately<br>- auto_deleveraged: finished by ADL<br>- reduce_only: cancelled because of increasing position while <code>reduce-only</code> set- position_closed: cancelled because of position close<br>- position_closed: canceled because the position was closed<br>- reduce_out: only reduce positions by excluding hard-to-fill orders<br>- stp: cancelled because self trade prevention</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: waiting to be traded<br>- <code>finished</code>: finished</td></tr> <tr><td>»» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>»» size</td> <td>integer(int64)</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>»» iceberg</td> <td>integer(int64)</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>»» price</td> <td>string</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code></td></tr> <tr><td>»» is_close</td> <td>boolean</td> <td>Is the order to close position</td></tr> <tr><td>»» is_reduce_only</td> <td>boolean</td> <td>Is the order reduce-only</td></tr> <tr><td>»» is_liq</td> <td>boolean</td> <td>Is the order for liquidation</td></tr> <tr><td>»» tif</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee<br>- fok: FillOrKill, fill either completely or none</td></tr> <tr><td>»» left</td> <td>integer(int64)</td> <td>Size left to be traded</td></tr> <tr><td>»» fill_price</td> <td>string</td> <td>Fill price of the order</td></tr> <tr><td>»» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- web: from web<br>- api: from API<br>- app: from mobile phones<br>- auto_deleveraging: from ADL<br>- liquidation: from liquidation<br>- insurance: from insurance</td></tr> <tr><td>»» tkfr</td> <td>string</td> <td>Taker fee</td></tr> <tr><td>»» mkfr</td> <td>string</td> <td>Maker fee</td></tr> <tr><td>»» refu</td> <td>integer</td> <td>Reference user ID</td></tr> <tr><td>»» stp_act</td> <td>string</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies<br><br>1. After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。<br>2. When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。<br>3. If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'<br><br>- cn: Cancel newest, Cancel new orders and keep old ones<br>- co: Cancel oldest, Cancel old orders and keep new ones<br>- cb: Cancel both, Both old and new orders will be cancelled</td></tr> <tr><td>»» stp_id</td> <td>integer</td> <td>Orders between users in the same <code>stp_id</code> group are not allowed to be self-traded<br><br>1. If the <code>stp_id</code> of two orders being matched is non-zero and equal, they will not be executed. Instead, the corresponding strategy will be executed based on the <code>stp_act</code> of the taker.<br>2. <code>stp_id</code> returns <code>0</code> by default for orders that have not been set for <code>STP group</code></td></tr></tbody></table> <h4 id="enumerated-values-72"><a href="#enumerated-values-72" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidated</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>auto_deleveraged</td></tr> <tr><td>finish_as</td> <td>reduce_only</td></tr> <tr><td>finish_as</td> <td>position_closed</td></tr> <tr><td>finish_as</td> <td>reduce_out</td></tr> <tr><td>finish_as</td> <td>stp</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>tif</td> <td>poc</td></tr> <tr><td>tif</td> <td>fok</td></tr> <tr><td>stp_act</td> <td>co</td></tr> <tr><td>stp_act</td> <td>cn</td></tr> <tr><td>stp_act</td> <td>cb</td></tr> <tr><td>stp_act</td> <td>-</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-price-triggered-order-2"><a href="#create-a-price-triggered-order-2" class="header-anchor">#</a> Create a price-triggered order</h2> <p><a id="opIdcreatePriceTriggeredOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;initial&quot;:{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:100,&quot;price&quot;:&quot;5.03&quot;},&quot;trigger&quot;:{&quot;strategy_type&quot;:0,&quot;price_type&quot;:0,&quot;price&quot;:&quot;3000&quot;,&quot;rule&quot;:1,&quot;expiration&quot;:86400},&quot;order_type&quot;:&quot;close-long-order&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;initial&quot;:{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:100,&quot;price&quot;:&quot;5.03&quot;},&quot;trigger&quot;:{&quot;strategy_type&quot;:0,&quot;price_type&quot;:0,&quot;price&quot;:&quot;3000&quot;,&quot;rule&quot;:1,&quot;expiration&quot;:86400},&quot;order_type&quot;:&quot;close-long-order&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /futures/{settle}/price_orders</code></p> <p><em>Create a price-triggered order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createpricetriggeredorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td><a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a></td> <td>true</td> <td>none</td></tr> <tr><td>» initial</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>»» contract</td> <td>body</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>»» size</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>Order size. Positive size means to buy, while negative one means to sell. Set to 0 to close the position</td></tr> <tr><td>»» price</td> <td>body</td> <td>string</td> <td>true</td> <td>Order price. Set to 0 to use market price</td></tr> <tr><td>»» close</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set to true if trying to close the position</td></tr> <tr><td>»» tif</td> <td>body</td> <td>string</td> <td>false</td> <td>Time in force. If using market price, only <code>ioc</code> is supported.</td></tr> <tr><td>»» text</td> <td>body</td> <td>string</td> <td>false</td> <td>The source of the order, including:</td></tr> <tr><td>»» reduce_only</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set to true to create a reduce-only order</td></tr> <tr><td>»» auto_size</td> <td>body</td> <td>string</td> <td>false</td> <td>Set side to close dual-mode position. <code>close_long</code> closes the long side; while <code>close_short</code> the short one. Note <code>size</code> also needs to be set to 0</td></tr> <tr><td>» trigger</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>»» strategy_type</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>How the order will be triggered</td></tr> <tr><td>»» price_type</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>Price type. 0 - latest deal price, 1 - mark price, 2 - index price</td></tr> <tr><td>»» price</td> <td>body</td> <td>string</td> <td>false</td> <td>Value of price on price triggered, or price gap on price gap triggered</td></tr> <tr><td>»» rule</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>Trigger condition type</td></tr> <tr><td>»» expiration</td> <td>body</td> <td>integer</td> <td>false</td> <td>How long (in seconds) to wait for the condition to be triggered before cancelling the order.</td></tr> <tr><td>» order_type</td> <td>body</td> <td>string</td> <td>false</td> <td>Take-profit/stop-loss types, which include:</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="detailed-descriptions-28"><a href="#detailed-descriptions-28" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>»» tif</strong>: Time in force. If using market price, only <code>ioc</code> is supported.</p> <ul><li>gtc: GoodTillCancelled</li> <li>ioc: ImmediateOrCancelled</li></ul> <p><strong>»» text</strong>: The source of the order, including:</p> <ul><li>web: web</li> <li>api: api</li> <li>app: app</li></ul> <p><strong>»» strategy_type</strong>: How the order will be triggered</p> <ul><li><code>0</code>: by price, which means the order will be triggered if price condition is satisfied</li> <li><code>1</code>: by price gap, which means the order will be triggered if gap of recent two prices of specified <code>price_type</code> are satisfied.
Only <code>0</code> is supported currently</li></ul> <p><strong>»» rule</strong>: Trigger condition type</p> <ul><li><code>1</code>: calculated price based on <code>strategy_type</code> and <code>price_type</code> &gt;= <code>price</code></li> <li><code>2</code>: calculated price based on <code>strategy_type</code> and <code>price_type</code> &lt;= <code>price</code></li></ul> <p><strong>» order_type</strong>: Take-profit/stop-loss types, which include:</p> <ul><li><code>close-long-order</code>: order take-profit/stop-loss, close long position</li> <li><code>close-short-order</code>: order take-profit/stop-loss, close short position</li> <li><code>close-long-position</code>: position take-profit/stop-loss, close long position</li> <li><code>close-short-position</code>: position take-profit/stop-loss, close short position</li> <li><code>plan-close-long-position</code>: position planned take-profit/stop-loss, close long position</li> <li><code>plan-close-short-position</code>: position planned take-profit/stop-loss, close short position</li></ul> <p>The order take-profit/stop-loss can not be passed by request. These two types are read only.</p> <h4 id="enumerated-values-73"><a href="#enumerated-values-73" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>»» tif</td> <td>gtc</td></tr> <tr><td>»» tif</td> <td>ioc</td></tr> <tr><td>»» strategy_type</td> <td>0</td></tr> <tr><td>»» strategy_type</td> <td>1</td></tr> <tr><td>»» price_type</td> <td>0</td></tr> <tr><td>»» price_type</td> <td>1</td></tr> <tr><td>»» price_type</td> <td>2</td></tr> <tr><td>»» rule</td> <td>1</td></tr> <tr><td>»» rule</td> <td>2</td></tr> <tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1432329</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createpricetriggeredorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order created</td> <td>Inline</td></tr></tbody></table> <h3 id="createpricetriggeredorder-responseschema">Response Schema</h3> <p>Status Code <strong>201</strong></p> <p><em>TriggerOrderResponse</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Auto order ID</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-price-triggered-orders"><a href="#list-all-price-triggered-orders" class="header-anchor">#</a> List All Price-triggered Orders</h2> <p><a id="opIdlistPriceTriggeredOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=open'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;status=open&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/price_orders</code></p> <p><em>List All Price-triggered Orders</em></p> <h3 id="listpricetriggeredorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>Only list the orders with this status</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-74"><a href="#enumerated-values-74" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">13566</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listpricetriggeredorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-all-price-triggered-orders-2"><a href="#cancel-all-price-triggered-orders-2" class="header-anchor">#</a> Cancel All Price-triggered Orders</h2> <p><a id="opIdcancelPriceTriggeredOrderList"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /futures/{settle}/price_orders</code></p> <p><em>Cancel All Price-triggered Orders</em></p> <h3 id="cancelpricetriggeredorderlist-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-75"><a href="#enumerated-values-75" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">13566</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelpricetriggeredorderlist-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Batch cancellation request accepted. Query order status by listing orders</td> <td>[<a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-price-triggered-order-2"><a href="#get-a-price-triggered-order-2" class="header-anchor">#</a> Get a price-triggered order</h2> <p><a id="opIdgetPriceTriggeredOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/price_orders/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/price_orders/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /futures/{settle}/price_orders/{order_id}</code></p> <p><em>Get a price-triggered order</em></p> <h3 id="getpricetriggeredorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Retrieve the data of the order with the specified ID</td></tr></tbody></table> <h4 id="enumerated-values-76"><a href="#enumerated-values-76" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">13566</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getpricetriggeredorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Auto order detail</td> <td><a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-price-triggered-order-2"><a href="#cancel-a-price-triggered-order-2" class="header-anchor">#</a> cancel a price-triggered order</h2> <p><a id="opIdcancelPriceTriggeredOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/futures/usdt/price_orders/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/futures/usdt/price_orders/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /futures/{settle}/price_orders/{order_id}</code></p> <p><em>cancel a price-triggered order</em></p> <h3 id="cancelpricetriggeredorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Retrieve the data of the order with the specified ID</td></tr></tbody></table> <h4 id="enumerated-values-77"><a href="#enumerated-values-77" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>btc</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">13566</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="cancelpricetriggeredorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Auto order detail</td> <td><a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="delivery"><a href="#delivery" class="header-anchor">#</a> Delivery</h1> <p>Delivery contract API</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-futures-contracts-2"><a href="#list-all-futures-contracts-2" class="header-anchor">#</a> List all futures contracts</h2> <p><a id="opIdlistDeliveryContracts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/contracts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/delivery/usdt/contracts <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/contracts</code></p> <p><em>List all futures contracts</em></p> <h3 id="listdeliverycontracts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-78"><a href="#enumerated-values-78" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT_20200814&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cycle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WEEKLY&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;quanto_multiplier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9017&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9019&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9005.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;basis_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.185095&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;basis_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13.7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;basis_impact_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_price_interval&quot;</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_price_duration&quot;</span><span class="token operator">:</span> <span class="token number">1800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0015&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expire_time&quot;</span><span class="token operator">:</span> <span class="token number">1593763200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_min&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit_base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;140.726652109199&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit_step&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ref_discount_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ref_rebate_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price_deviate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_size_min&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_size_max&quot;</span><span class="token operator">:</span> <span class="token number">1000000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderbook_id&quot;</span><span class="token operator">:</span> <span class="token number">63</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">435</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">130</span><span class="token punctuation">,</span>
    <span class="token property">&quot;config_change_time&quot;</span><span class="token operator">:</span> <span class="token number">1593158867</span><span class="token punctuation">,</span>
    <span class="token property">&quot;in_delisting&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliverycontracts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemadeliverycontract">DeliveryContract</a>]</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-single-contract-2"><a href="#get-a-single-contract-2" class="header-anchor">#</a> Get a single contract</h2> <p><a id="opIdgetDeliveryContract"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/contracts/BTC_USDT_20200814'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/delivery/usdt/contracts/BTC_USDT_20200814 <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/contracts/{contract}</code></p> <p><em>Get a single contract</em></p> <h3 id="getdeliverycontract-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr></tbody></table> <h4 id="enumerated-values-79"><a href="#enumerated-values-79" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT_20200814&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cycle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WEEKLY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;direct&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quanto_multiplier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9017&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9019&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9005.3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;basis_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.185095&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;basis_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13.7&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;basis_impact_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle_price_interval&quot;</span><span class="token operator">:</span> <span class="token number">60</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle_price_duration&quot;</span><span class="token operator">:</span> <span class="token number">1800</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0015&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expire_time&quot;</span><span class="token operator">:</span> <span class="token number">1593763200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_min&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;140.726652109199&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_step&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;8000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;taker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_discount_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_rebate_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_deviate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_min&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_max&quot;</span><span class="token operator">:</span> <span class="token number">1000000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orderbook_id&quot;</span><span class="token operator">:</span> <span class="token number">63</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">26</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">435</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">130</span><span class="token punctuation">,</span>
  <span class="token property">&quot;config_change_time&quot;</span><span class="token operator">:</span> <span class="token number">1593158867</span><span class="token punctuation">,</span>
  <span class="token property">&quot;in_delisting&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getdeliverycontract-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Contract information</td> <td><a href="#schemadeliverycontract">DeliveryContract</a></td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futures-order-book-2"><a href="#futures-order-book-2" class="header-anchor">#</a> Futures order book</h2> <p><a id="opIdlistDeliveryOrderBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/order_book'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT_20200814'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/delivery/usdt/order_book?contract<span class="token operator">=</span>BTC_USDT_20200814 <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/order_book</code></p> <p><em>Futures order book</em></p> <p>Bids will be sorted by price from high to low, while asks sorted reversely</p> <h3 id="listdeliveryorderbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Order depth. 0 means no aggregation is applied. default to 0</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of order depth data in asks or bids</td></tr> <tr><td>with_id</td> <td>query</td> <td>boolean</td> <td>false</td> <td>Whether the order book update ID will be returned. This ID increases by 1 on every order book update</td></tr></tbody></table> <h4 id="enumerated-values-80"><a href="#enumerated-values-80" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr> <tr><td>interval</td> <td>0</td></tr> <tr><td>interval</td> <td>0.1</td></tr> <tr><td>interval</td> <td>0.01</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">123456</span><span class="token punctuation">,</span>
  <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1623898993.123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update&quot;</span><span class="token operator">:</span> <span class="token number">1623898993.121</span><span class="token punctuation">,</span>
  <span class="token property">&quot;asks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.52&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.53&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">40</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.17&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">150</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.16&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">203</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listdeliveryorderbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order book retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listdeliveryorderbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Order Book ID. Increases by 1 on every order book change. Set <code>with_id=true</code> to include this field in response</td></tr> <tr><td>» current</td> <td>number(double)</td> <td>Response data generation timestamp</td></tr> <tr><td>» update</td> <td>number(double)</td> <td>Order book changed timestamp</td></tr> <tr><td>» asks</td> <td>array</td> <td>Asks order depth</td></tr> <tr><td>»» futures_order_book_item</td> <td>object</td> <td>none</td></tr> <tr><td>»»» p</td> <td>string</td> <td>Price (quote currency)</td></tr> <tr><td>»»» s</td> <td>integer(int64)</td> <td>Size</td></tr> <tr><td>»» bids</td> <td>array</td> <td>Bids order depth</td></tr> <tr><td>»»» futures_order_book_item</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» p</td> <td>string</td> <td>Price (quote currency)</td></tr> <tr><td>»»»» s</td> <td>integer(int64)</td> <td>Size</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futures-trading-history-2"><a href="#futures-trading-history-2" class="header-anchor">#</a> Futures trading history</h2> <p><a id="opIdlistDeliveryTrades"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/trades'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT_20200814'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/delivery/usdt/trades?contract<span class="token operator">=</span>BTC_USDT_20200814 <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/trades</code></p> <p><em>Futures trading history</em></p> <h3 id="listdeliverytrades-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>last_id</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify the starting point for this list based on a previously retrieved id</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Specify starting time in Unix seconds. If not specified, <code>to</code> and <code>limit</code> will be used to limit response items.</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Specify end time in Unix seconds, default to current time</td></tr></tbody></table> <h4 id="detailed-descriptions-29"><a href="#detailed-descriptions-29" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>last_id</strong>: Specify the starting point for this list based on a previously retrieved id</p> <p>This parameter is deprecated. Use <code>from</code> and <code>to</code> instead to limit time range</p> <p><strong>from</strong>: Specify starting time in Unix seconds. If not specified, <code>to</code> and <code>limit</code> will be used to limit response items.
If items between <code>from</code> and <code>to</code> are more than <code>limit</code>, only <code>limit</code> number will be returned.</p> <h4 id="enumerated-values-81"><a href="#enumerated-values-81" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">121234231</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100.123&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliverytrades-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliverytrades-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>integer(int64)</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Trading time</td></tr> <tr><td>» create_time_ms</td> <td>number(double)</td> <td>Trading time, with milliseconds set to 3 decimal places.</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Trading size</td></tr> <tr><td>» price</td> <td>string</td> <td>Trading price (quote currency)</td></tr> <tr><td>» is_internal</td> <td>boolean</td> <td>Whether internal trade. Internal trade refers to the takeover of liquidation orders by the insurance fund and ADL users. Since it is not a normal matching on the market depth, the transaction price may deviate, and it will not be recorded in the K-line. If it is not an internal trade, this field will not be returned.</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-futures-candlesticks-2"><a href="#get-futures-candlesticks-2" class="header-anchor">#</a> Get futures candlesticks</h2> <p><a id="opIdlistDeliveryCandlesticks"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/candlesticks'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT_20200814'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/delivery/usdt/candlesticks?contract<span class="token operator">=</span>BTC_USDT_20200814 <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/candlesticks</code></p> <p><em>Get futures candlesticks</em></p> <p>Return specified contract candlesticks.
If prefix <code>contract</code> with <code>mark_</code>, the contract's mark price candlesticks are returned;
if prefix with <code>index_</code>, index price candlesticks will be returned.</p> <p>Maximum of 2000 points are returned in one query. Be sure not to exceed the limit when specifying <code>from</code>, <code>to</code> and <code>interval</code></p> <h3 id="listdeliverycandlesticks-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start time of candlesticks, formatted in Unix timestamp in seconds. Default to<code>to - 100 * interval</code> if not specified</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End time of candlesticks, formatted in Unix timestamp in seconds. Default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum recent data points to return. <code>limit</code> is conflicted with <code>from</code> and <code>to</code>. If either <code>from</code> or <code>to</code> is specified, request will be rejected.</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Interval time between data points. Note that <code>1w</code> means natual week(Mon-Sun), while <code>7d</code> means every 7d since unix 0</td></tr></tbody></table> <h4 id="enumerated-values-82"><a href="#enumerated-values-82" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr> <tr><td>interval</td> <td>10s</td></tr> <tr><td>interval</td> <td>30s</td></tr> <tr><td>interval</td> <td>1m</td></tr> <tr><td>interval</td> <td>5m</td></tr> <tr><td>interval</td> <td>15m</td></tr> <tr><td>interval</td> <td>30m</td></tr> <tr><td>interval</td> <td>1h</td></tr> <tr><td>interval</td> <td>2h</td></tr> <tr><td>interval</td> <td>4h</td></tr> <tr><td>interval</td> <td>6h</td></tr> <tr><td>interval</td> <td>8h</td></tr> <tr><td>interval</td> <td>12h</td></tr> <tr><td>interval</td> <td>1d</td></tr> <tr><td>interval</td> <td>7d</td></tr> <tr><td>interval</td> <td>1w</td></tr> <tr><td>interval</td> <td>30d</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">1539852480</span><span class="token punctuation">,</span>
    <span class="token property">&quot;v&quot;</span><span class="token operator">:</span> <span class="token number">97151</span><span class="token punctuation">,</span>
    <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;o&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliverycandlesticks-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliverycandlesticks-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>data point in every timestamp</td></tr> <tr><td>»» t</td> <td>number(double)</td> <td>Unix timestamp in seconds</td></tr> <tr><td>»» v</td> <td>integer(int64)</td> <td>size volume (contract size). Only returned if <code>contract</code> is not prefixed</td></tr> <tr><td>»» c</td> <td>string</td> <td>Close price (quote currency)</td></tr> <tr><td>»» h</td> <td>string</td> <td>Highest price (quote currency)</td></tr> <tr><td>»» l</td> <td>string</td> <td>Lowest price (quote currency)</td></tr> <tr><td>»» o</td> <td>string</td> <td>Open price (quote currency)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-futures-tickers-2"><a href="#list-futures-tickers-2" class="header-anchor">#</a> List futures tickers</h2> <p><a id="opIdlistDeliveryTickers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/tickers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/delivery/usdt/tickers <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/tickers</code></p> <p><em>List futures tickers</em></p> <h3 id="listdeliverytickers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract</td></tr></tbody></table> <h4 id="enumerated-values-83"><a href="#enumerated-values-83" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;low_24h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6278&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;high_24h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6790&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change_percentage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.43&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;32323904&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;184040233284&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_btc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;28613220&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_usd&quot;</span><span class="token operator">:</span> <span class="token string">&quot;184040233284&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;28613220&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_quote&quot;</span><span class="token operator">:</span> <span class="token string">&quot;184040233284&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;volume_24h_settle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;28613220&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6534&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;funding_rate_indicative&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6531&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;highest_bid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;34089.7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;highest_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lowest_ask&quot;</span><span class="token operator">:</span> <span class="token string">&quot;34217.9&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lowest_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliverytickers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliverytickers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» last</td> <td>string</td> <td>Last trading price</td></tr> <tr><td>» change_percentage</td> <td>string</td> <td>Change percentage.</td></tr> <tr><td>» total_size</td> <td>string</td> <td>Contract total size</td></tr> <tr><td>» low_24h</td> <td>string</td> <td>Lowest trading price in recent 24h</td></tr> <tr><td>» high_24h</td> <td>string</td> <td>Highest trading price in recent 24h</td></tr> <tr><td>» volume_24h</td> <td>string</td> <td>Trade size in recent 24h</td></tr> <tr><td>» volume_24h_btc</td> <td>string</td> <td>Trade volumes in recent 24h in BTC(deprecated, use <code>volume_24h_base</code>, <code>volume_24h_quote</code>, <code>volume_24h_settle</code> instead)</td></tr> <tr><td>» volume_24h_usd</td> <td>string</td> <td>Trade volumes in recent 24h in USD(deprecated, use <code>volume_24h_base</code>, <code>volume_24h_quote</code>, <code>volume_24h_settle</code> instead)</td></tr> <tr><td>» volume_24h_base</td> <td>string</td> <td>Trade volume in recent 24h, in base currency</td></tr> <tr><td>» volume_24h_quote</td> <td>string</td> <td>Trade volume in recent 24h, in quote currency</td></tr> <tr><td>» volume_24h_settle</td> <td>string</td> <td>Trade volume in recent 24h, in settle currency</td></tr> <tr><td>» mark_price</td> <td>string</td> <td>Recent mark price</td></tr> <tr><td>» funding_rate</td> <td>string</td> <td>Funding rate</td></tr> <tr><td>» funding_rate_indicative</td> <td>string</td> <td>Indicative Funding rate in next period. (deprecated. use <code>funding_rate</code>)</td></tr> <tr><td>» index_price</td> <td>string</td> <td>Index price</td></tr> <tr><td>» quanto_base_rate</td> <td>string</td> <td>Exchange rate of base currency and settlement currency in Quanto contract. Does not exists in contracts of other types</td></tr> <tr><td>» basis_rate</td> <td>string</td> <td>Basis rate</td></tr> <tr><td>» basis_value</td> <td>string</td> <td>Basis value</td></tr> <tr><td>» lowest_ask</td> <td>string</td> <td>Recent lowest ask</td></tr> <tr><td>» lowest_size</td> <td>string</td> <td>The latest seller's lowest price order quantity</td></tr> <tr><td>» highest_bid</td> <td>string</td> <td>Recent highest bid</td></tr> <tr><td>» highest_size</td> <td>string</td> <td>The latest buyer's highest price order volume</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futures-insurance-balance-history-2"><a href="#futures-insurance-balance-history-2" class="header-anchor">#</a> Futures insurance balance history</h2> <p><a id="opIdlistDeliveryInsuranceLedger"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/insurance'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/delivery/usdt/insurance <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/insurance</code></p> <p><em>Futures insurance balance history</em></p> <h3 id="listdeliveryinsuranceledger-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr></tbody></table> <h4 id="enumerated-values-84"><a href="#enumerated-values-84" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">1543968000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;b&quot;</span><span class="token operator">:</span> <span class="token string">&quot;83.0031&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliveryinsuranceledger-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliveryinsuranceledger-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» t</td> <td>integer(int64)</td> <td>Unix timestamp in seconds</td></tr> <tr><td>» b</td> <td>string</td> <td>Insurance balance</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-futures-account-2"><a href="#query-futures-account-2" class="header-anchor">#</a> Query futures account</h2> <p><a id="opIdlistDeliveryAccounts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/accounts</code></p> <p><em>Query futures account</em></p> <h3 id="listdeliveryaccounts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-85"><a href="#enumerated-values-85" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1666</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9707.803567115145&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3371.248828&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;38.712189181&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9669.091377934145&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bonus&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;in_dual_mode&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enable_evolved_classic&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;61855.56788525&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_maintenance_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;682.04678105&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1501.178222634128&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;27549.406108813951&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;isolated_position_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;68.3685&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1.645812875&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-358.919120009855&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_refr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bonus_dnw&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bonus_offset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listdeliveryaccounts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listdeliveryaccounts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>string</td> <td>total is the balance after the user's accumulated deposit, withdraw, profit and loss (including realized profit and loss, fund, fee and referral rebate), excluding unrealized profit and loss. <br>total = SUM(history_dnw, history_pnl, history_fee, history_refr, history_fund)</td></tr> <tr><td>» unrealised_pnl</td> <td>string</td> <td>Unrealized PNL</td></tr> <tr><td>» position_margin</td> <td>string</td> <td>Position margin</td></tr> <tr><td>» order_margin</td> <td>string</td> <td>Order margin of unfinished orders</td></tr> <tr><td>» available</td> <td>string</td> <td>The available balance for transferring or trading(including bonus.  Bonus can't be be withdrawn. The transfer amount needs to deduct the bonus)</td></tr> <tr><td>» point</td> <td>string</td> <td>POINT amount</td></tr> <tr><td>» currency</td> <td>string</td> <td>Settle currency</td></tr> <tr><td>» in_dual_mode</td> <td>boolean</td> <td>Whether dual mode is enabled</td></tr> <tr><td>» enable_credit</td> <td>boolean</td> <td>Whether portfolio margin account mode is enabled</td></tr> <tr><td>» position_initial_margin</td> <td>string</td> <td>Initial margin position, applicable to the portfolio margin account model</td></tr> <tr><td>» maintenance_margin</td> <td>string</td> <td>The maintenance deposit occupied by the position is suitable for the new classic account margin model and unified account model</td></tr> <tr><td>» bonus</td> <td>string</td> <td>Perpetual Contract Bonus</td></tr> <tr><td>» enable_evolved_classic</td> <td>boolean</td> <td>Classic account margin mode, true-new mode, false-old mode</td></tr> <tr><td>» cross_order_margin</td> <td>string</td> <td>Full -warehouse hanging order deposit, suitable for the new classic account margin model</td></tr> <tr><td>» cross_initial_margin</td> <td>string</td> <td>The initial security deposit of the full warehouse is suitable for the new classic account margin model</td></tr> <tr><td>» cross_maintenance_margin</td> <td>string</td> <td>Maintain deposit in full warehouse, suitable for new classic account margin models</td></tr> <tr><td>» cross_unrealised_pnl</td> <td>string</td> <td>The full warehouse does not achieve profit and loss, suitable for the new classic account margin model</td></tr> <tr><td>» cross_available</td> <td>string</td> <td>Full warehouse available amount, suitable for the new classic account margin model</td></tr> <tr><td>» isolated_position_margin</td> <td>string</td> <td>Ware -position margin, suitable for the new classic account margin model</td></tr> <tr><td>» enable_new_dual_mode</td> <td>boolean</td> <td>Whether to open a new two-way position mode</td></tr> <tr><td>» margin_mode</td> <td>integer</td> <td>Margin mode, 0-classic margin mode, 1-cross-currency margin mode, 2-combined margin mode</td></tr> <tr><td>» history</td> <td>object</td> <td>Statistical data</td></tr> <tr><td>»» dnw</td> <td>string</td> <td>total amount of deposit and withdraw</td></tr> <tr><td>»» pnl</td> <td>string</td> <td>total amount of trading profit and loss</td></tr> <tr><td>»» fee</td> <td>string</td> <td>total amount of fee</td></tr> <tr><td>»» refr</td> <td>string</td> <td>total amount of referrer rebates</td></tr> <tr><td>»» fund</td> <td>string</td> <td>total amount of funding costs</td></tr> <tr><td>»» point_dnw</td> <td>string</td> <td>total amount of point deposit and withdraw</td></tr> <tr><td>»» point_fee</td> <td>string</td> <td>total amount of point fee</td></tr> <tr><td>»» point_refr</td> <td>string</td> <td>total amount of referrer rebates of point fee</td></tr> <tr><td>»» bonus_dnw</td> <td>string</td> <td>total amount of perpetual contract bonus transfer</td></tr> <tr><td>»» bonus_offset</td> <td>string</td> <td>total amount of perpetual contract bonus deduction</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-account-book-3"><a href="#query-account-book-3" class="header-anchor">#</a> Query account book</h2> <p><a id="opIdlistDeliveryAccountBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/account_book'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/account_book&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/account_book</code></p> <p><em>Query account book</em></p> <h3 id="listdeliveryaccountbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Changing Type:</td></tr></tbody></table> <h4 id="detailed-descriptions-30"><a href="#detailed-descriptions-30" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>type</strong>: Changing Type:</p> <ul><li>dnw: Deposit &amp; Withdraw</li> <li>pnl: Profit &amp; Loss by reducing position</li> <li>fee: Trading fee</li> <li>refr: Referrer rebate</li> <li>fund: Funding</li> <li>point_dnw: POINT Deposit &amp; Withdraw</li> <li>point_fee: POINT Trading fee</li> <li>point_refr: POINT Referrer rebate</li></ul> <h4 id="enumerated-values-86"><a href="#enumerated-values-86" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr> <tr><td>type</td> <td>dnw</td></tr> <tr><td>type</td> <td>pnl</td></tr> <tr><td>type</td> <td>fee</td></tr> <tr><td>type</td> <td>refr</td></tr> <tr><td>type</td> <td>fund</td></tr> <tr><td>type</td> <td>point_dnw</td></tr> <tr><td>type</td> <td>point_fee</td></tr> <tr><td>type</td> <td>point_refr</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1682294400.123456</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000010152188&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.59316525194&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USD:6086261&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fee&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USD&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliveryaccountbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliveryaccountbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» time</td> <td>number(double)</td> <td>Change time</td></tr> <tr><td>» change</td> <td>string</td> <td>Change amount</td></tr> <tr><td>» balance</td> <td>string</td> <td>Balance after change</td></tr> <tr><td>» type</td> <td>string</td> <td>Changing Type：<br><br>- dnw: Deposit &amp; Withdraw<br>- pnl: Profit &amp; Loss by reducing position<br>- fee: Trading fee<br>- refr: Referrer rebate<br>- fund: Funding<br>- point_dnw: POINT Deposit &amp; Withdraw<br>- point_fee: POINT Trading fee<br>- point_refr: POINT Referrer rebate<br>- bonus_offset: bouns deduction</td></tr> <tr><td>» text</td> <td>string</td> <td>Comment</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract, the field is only available for data after 2023-10-30.</td></tr> <tr><td>» trade_id</td> <td>string</td> <td>trade id</td></tr> <tr><td>» id</td> <td>string</td> <td>账户变更记录 id</td></tr></tbody></table> <h4 id="enumerated-values-87"><a href="#enumerated-values-87" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>type</td> <td>dnw</td></tr> <tr><td>type</td> <td>pnl</td></tr> <tr><td>type</td> <td>fee</td></tr> <tr><td>type</td> <td>refr</td></tr> <tr><td>type</td> <td>fund</td></tr> <tr><td>type</td> <td>point_dnw</td></tr> <tr><td>type</td> <td>point_fee</td></tr> <tr><td>type</td> <td>point_refr</td></tr> <tr><td>type</td> <td>bonus_offset</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-positions-of-a-user-2"><a href="#list-all-positions-of-a-user-2" class="header-anchor">#</a> List all positions of a user</h2> <p><a id="opIdlistDeliveryPositions"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/positions'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/positions&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/positions</code></p> <p><em>List all positions of a user</em></p> <h3 id="listdeliverypositions-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-88"><a href="#enumerated-values-88" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliverypositions-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemaposition">Position</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-single-position-2"><a href="#get-single-position-2" class="header-anchor">#</a> Get single position</h2> <p><a id="opIdgetDeliveryPosition"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/positions/BTC_USDT_20200814'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/positions/BTC_USDT_20200814&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/positions/{contract}</code></p> <p><em>Get single position</em></p> <h3 id="getdeliveryposition-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr></tbody></table> <h4 id="enumerated-values-89"><a href="#enumerated-values-89" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getdeliveryposition-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Position information</td> <td><a href="#schemaposition">Position</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-margin-2"><a href="#update-position-margin-2" class="header-anchor">#</a> Update position margin</h2> <p><a id="opIdupdateDeliveryPositionMargin"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/positions/BTC_USDT_20200814/margin'</span>
query_param <span class="token operator">=</span> <span class="token string">'change=0.01'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/positions/BTC_USDT_20200814/margin&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;change=0.01&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /delivery/{settle}/positions/{contract}/margin</code></p> <p><em>Update position margin</em></p> <h3 id="updatedeliverypositionmargin-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>change</td> <td>query</td> <td>string</td> <td>true</td> <td>Margin change. Use positive number to increase margin, negative number otherwise.</td></tr></tbody></table> <h4 id="enumerated-values-90"><a href="#enumerated-values-90" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="updatedeliverypositionmargin-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Position information</td> <td><a href="#schemaposition">Position</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-leverage-2"><a href="#update-position-leverage-2" class="header-anchor">#</a> Update position leverage</h2> <p><a id="opIdupdateDeliveryPositionLeverage"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/positions/BTC_USDT_20200814/leverage'</span>
query_param <span class="token operator">=</span> <span class="token string">'leverage=10'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/positions/BTC_USDT_20200814/leverage&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;leverage=10&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /delivery/{settle}/positions/{contract}/leverage</code></p> <p><em>Update position leverage</em></p> <h3 id="updatedeliverypositionleverage-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>leverage</td> <td>query</td> <td>string</td> <td>true</td> <td>New position leverage</td></tr></tbody></table> <h4 id="enumerated-values-91"><a href="#enumerated-values-91" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="updatedeliverypositionleverage-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Position information</td> <td><a href="#schemaposition">Position</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="update-position-risk-limit-2"><a href="#update-position-risk-limit-2" class="header-anchor">#</a> Update position risk limit</h2> <p><a id="opIdupdateDeliveryPositionRiskLimit"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/positions/BTC_USDT_20200814/risk_limit'</span>
query_param <span class="token operator">=</span> <span class="token string">'risk_limit=10'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/positions/BTC_USDT_20200814/risk_limit&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;risk_limit=10&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /delivery/{settle}/positions/{contract}/risk_limit</code></p> <p><em>Update position risk limit</em></p> <h3 id="updatedeliverypositionrisklimit-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>risk_limit</td> <td>query</td> <td>string</td> <td>true</td> <td>New position risk limit</td></tr></tbody></table> <h4 id="enumerated-values-92"><a href="#enumerated-values-92" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-9440</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.005&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3568.62&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4.431548146258&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779.55&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;99999999&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3780.32&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.000507486844&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.045543982432&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1684994406</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="updatedeliverypositionrisklimit-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Position information</td> <td><a href="#schemaposition">Position</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-futures-order-2"><a href="#create-a-futures-order-2" class="header-anchor">#</a> Create a futures order</h2> <p><a id="opIdcreateDeliveryOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:6024,&quot;iceberg&quot;:0,&quot;price&quot;:&quot;3765&quot;,&quot;tif&quot;:&quot;gtc&quot;,&quot;text&quot;:&quot;t-my-custom-id&quot;,&quot;stp_act&quot;:&quot;-&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:6024,&quot;iceberg&quot;:0,&quot;price&quot;:&quot;3765&quot;,&quot;tif&quot;:&quot;gtc&quot;,&quot;text&quot;:&quot;t-my-custom-id&quot;,&quot;stp_act&quot;:&quot;-&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /delivery/{settle}/orders</code></p> <p><em>Create a futures order</em></p> <p>Zero-filled order cannot be retrieved 10 minutes after order cancellation</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createdeliveryorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td> <td>true</td> <td>none</td></tr> <tr><td>» contract</td> <td>body</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>» size</td> <td>body</td> <td>integer(int64)</td> <td>true</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>» iceberg</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>» price</td> <td>body</td> <td>string</td> <td>false</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code></td></tr> <tr><td>» close</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set as <code>true</code> to close the position, with <code>size</code> set to 0</td></tr> <tr><td>» reduce_only</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set as <code>true</code> to be reduce-only order</td></tr> <tr><td>» tif</td> <td>body</td> <td>string</td> <td>false</td> <td>Time in force</td></tr> <tr><td>» text</td> <td>body</td> <td>string</td> <td>false</td> <td>User defined information. If not empty, must follow the rules below:</td></tr> <tr><td>» auto_size</td> <td>body</td> <td>string</td> <td>false</td> <td>Set side to close dual-mode position. <code>close_long</code> closes the long side; while <code>close_short</code> the short one. Note <code>size</code> also needs to be set to 0</td></tr> <tr><td>» stp_act</td> <td>body</td> <td>string</td> <td>false</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="detailed-descriptions-31"><a href="#detailed-descriptions-31" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» tif</strong>: Time in force</p> <ul><li>gtc: GoodTillCancelled</li> <li>ioc: ImmediateOrCancelled, taker only</li> <li>poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</li> <li>fok: FillOrKill, fill either completely or none</li></ul> <p><strong>» text</strong>: User defined information. If not empty, must follow the rules below:</p> <ol><li>prefixed with <code>t-</code></li> <li>no longer than 28 bytes without <code>t-</code> prefix</li> <li>can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)
Besides user defined information, reserved contents are listed below, denoting how the order is created:</li></ol> <ul><li>web: from web</li> <li>api: from API</li> <li>app: from mobile phones</li> <li>auto_deleveraging: from ADL</li> <li>liquidation: from liquidation</li> <li>insurance: from insurance</li></ul> <p><strong>» stp_act</strong>: Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies</p> <ol><li>After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。</li> <li>When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。</li> <li>If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'</li></ol> <ul><li>cn: Cancel newest, Cancel new orders and keep old ones</li> <li>co: Cancel oldest, Cancel old orders and keep new ones</li> <li>cb: Cancel both, Both old and new orders will be cancelled</li></ul> <h4 id="enumerated-values-93"><a href="#enumerated-values-93" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>» tif</td> <td>gtc</td></tr> <tr><td>» tif</td> <td>ioc</td></tr> <tr><td>» tif</td> <td>poc</td></tr> <tr><td>» tif</td> <td>fok</td></tr> <tr><td>» auto_size</td> <td>close_long</td></tr> <tr><td>» auto_size</td> <td>close_short</td></tr> <tr><td>» stp_act</td> <td>co</td></tr> <tr><td>» stp_act</td> <td>cn</td></tr> <tr><td>» stp_act</td> <td>cb</td></tr> <tr><td>» stp_act</td> <td>-</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createdeliveryorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order details</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-futures-orders-2"><a href="#list-futures-orders-2" class="header-anchor">#</a> List futures orders</h2> <p><a id="opIdlistDeliveryOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=open'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;status=open&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/orders</code></p> <p><em>List futures orders</em></p> <p>Zero-filled order cannot be retrieved 10 minutes after order cancellation</p> <h3 id="listdeliveryorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract</td></tr> <tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>Only list the orders with this status</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>last_id</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify list staring point using the <code>id</code> of last record in previous list-query results</td></tr> <tr><td>count_total</td> <td>query</td> <td>integer</td> <td>false</td> <td>Whether to return total number matched. Default to 0(no return)</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-94"><a href="#enumerated-values-94" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>count_total</td> <td>0</td></tr> <tr><td>count_total</td> <td>1</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliveryorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemafuturesorder">FuturesOrder</a>]</td></tr></tbody></table> <h3 id="response-headers-5"><a href="#response-headers-5" class="header-anchor">#</a> Response Headers</h3> <table><thead><tr><th>Status</th> <th>Header</th> <th>Type</th> <th>Format</th> <th>Description</th></tr></thead> <tbody><tr><td>200</td> <td>X-Pagination-Limit</td> <td>integer</td> <td></td> <td>Request limit specified</td></tr> <tr><td>200</td> <td>X-Pagination-Offset</td> <td>integer</td> <td></td> <td>Request offset specified</td></tr> <tr><td>200</td> <td>X-Pagination-Total</td> <td>integer</td> <td></td> <td>Total number matched. Only returned if <code>count_total</code> set to 1</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-all-open-orders-matched-2"><a href="#cancel-all-open-orders-matched-2" class="header-anchor">#</a> Cancel all <code>open</code> orders matched</h2> <p><a id="opIdcancelDeliveryOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT_20200814'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;contract=BTC_USDT_20200814&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /delivery/{settle}/orders</code></p> <p><em>Cancel all <code>open</code> orders matched</em></p> <p>Zero-filled order cannot be retrieved 10 minutes after order cancellation</p> <h3 id="canceldeliveryorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>side</td> <td>query</td> <td>string</td> <td>false</td> <td>All bids or asks. Both included if not specified</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-95"><a href="#enumerated-values-95" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>side</td> <td>ask</td></tr> <tr><td>side</td> <td>bid</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="canceldeliveryorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>All orders matched cancelled</td> <td>[<a href="#schemafuturesorder">FuturesOrder</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-single-order-3"><a href="#get-a-single-order-3" class="header-anchor">#</a> Get a single order</h2> <p><a id="opIdgetDeliveryOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/orders/{order_id}</code></p> <p><em>Get a single order</em></p> <p>Zero-filled order cannot be retrieved 10 minutes after order cancellation</p> <h3 id="getdeliveryorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Retrieve the data of the order with the specified ID</td></tr></tbody></table> <h4 id="enumerated-values-96"><a href="#enumerated-values-96" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getdeliveryorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order details</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-single-order-3"><a href="#cancel-a-single-order-3" class="header-anchor">#</a> Cancel a single order</h2> <p><a id="opIdcancelDeliveryOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /delivery/{settle}/orders/{order_id}</code></p> <p><em>Cancel a single order</em></p> <h3 id="canceldeliveryorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Retrieve the data of the order with the specified ID</td></tr></tbody></table> <h4 id="enumerated-values-97"><a href="#enumerated-values-97" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">15675394</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1546569968</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">6024</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3765&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00025&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00075&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-my-custom-id&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="canceldeliveryorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order details</td> <td><a href="#schemafuturesorder">FuturesOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-personal-trading-history-3"><a href="#list-personal-trading-history-3" class="header-anchor">#</a> List personal trading history</h2> <p><a id="opIdgetMyDeliveryTrades"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/my_trades'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/my_trades&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/my_trades</code></p> <p><em>List personal trading history</em></p> <h3 id="getmydeliverytrades-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract</td></tr> <tr><td>order</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Futures order ID, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>last_id</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify list staring point using the <code>id</code> of last record in previous list-query results</td></tr> <tr><td>count_total</td> <td>query</td> <td>integer</td> <td>false</td> <td>Whether to return total number matched. Default to 0(no return)</td></tr></tbody></table> <h4 id="enumerated-values-98"><a href="#enumerated-values-98" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr> <tr><td>count_total</td> <td>0</td></tr> <tr><td>count_total</td> <td>1</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">121234231</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800.123</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;21893289839&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100.123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-123456&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;taker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getmydeliverytrades-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getmydeliverytrades-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>integer(int64)</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Trading time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» order_id</td> <td>string</td> <td>Order ID related</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Trading size</td></tr> <tr><td>» close_size</td> <td>integer(int64)</td> <td>Number of closed positions:<br><br>close_size=0 &amp;&amp; size＞0       Open long position<br>close_size=0 &amp;&amp; size＜0       Open short position<br>close_size&gt;0 &amp;&amp; size&gt;0 &amp;&amp; size &lt;= close_size Close short postion<br>close_size&gt;0 &amp;&amp; size&gt;0 &amp;&amp; size &gt; close_size Close short position and open long position<br>close_size&lt;0 &amp;&amp; size&lt;0 &amp;&amp; size &gt;= close_size Close long postion<br>close_size&lt;0 &amp;&amp; size&lt;0 &amp;&amp; size &lt; close_size Close long position and open short position</td></tr> <tr><td>» price</td> <td>string</td> <td>Trading price</td></tr> <tr><td>» role</td> <td>string</td> <td>Trade role. Available values are <code>taker</code> and <code>maker</code></td></tr> <tr><td>» text</td> <td>string</td> <td>User defined information</td></tr> <tr><td>» fee</td> <td>string</td> <td>Fee deducted</td></tr> <tr><td>» point_fee</td> <td>string</td> <td>Points used to deduct fee</td></tr></tbody></table> <h4 id="enumerated-values-99"><a href="#enumerated-values-99" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>role</td> <td>taker</td></tr> <tr><td>role</td> <td>maker</td></tr></tbody></table> <h3 id="response-headers-6"><a href="#response-headers-6" class="header-anchor">#</a> Response Headers</h3> <table><thead><tr><th>Status</th> <th>Header</th> <th>Type</th> <th>Format</th> <th>Description</th></tr></thead> <tbody><tr><td>200</td> <td>X-Pagination-Limit</td> <td>integer</td> <td></td> <td>Request limit specified</td></tr> <tr><td>200</td> <td>X-Pagination-Offset</td> <td>integer</td> <td></td> <td>Request offset specified</td></tr> <tr><td>200</td> <td>X-Pagination-Total</td> <td>integer</td> <td></td> <td>Total number matched. Only returned if <code>count_total</code> set to 1</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-position-close-history-2"><a href="#list-position-close-history-2" class="header-anchor">#</a> List position close history</h2> <p><a id="opIdlistDeliveryPositionClose"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/position_close'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/position_close&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/position_close</code></p> <p><em>List position close history</em></p> <h3 id="listdeliverypositionclose-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr></tbody></table> <h4 id="enumerated-values-100"><a href="#enumerated-values-100" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1546487347</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00013&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00011&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;long&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;accum_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;first_open_time&quot;</span><span class="token operator">:</span> <span class="token number">1546487347</span><span class="token punctuation">,</span>
    <span class="token property">&quot;long_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2026.87&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;short_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2544.4&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliverypositionclose-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliverypositionclose-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» time</td> <td>number(double)</td> <td>Position close time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» side</td> <td>string</td> <td>Position side, long or short</td></tr> <tr><td>» pnl</td> <td>string</td> <td>PNL</td></tr> <tr><td>» pnl_pnl</td> <td>string</td> <td>PNL - Position P/L</td></tr> <tr><td>» pnl_fund</td> <td>string</td> <td>PNL - Funding Fees</td></tr> <tr><td>» pnl_fee</td> <td>string</td> <td>PNL - Transaction Fees</td></tr> <tr><td>» text</td> <td>string</td> <td>Text of close order</td></tr> <tr><td>» max_size</td> <td>string</td> <td>Max Trade Size</td></tr> <tr><td>» accum_size</td> <td>string</td> <td>Cumulative closed position volume</td></tr> <tr><td>» first_open_time</td> <td>integer(int64)</td> <td>First Open Time</td></tr> <tr><td>» long_price</td> <td>string</td> <td>When 'side' is 'long,' it indicates the opening average price; when 'side' is 'short,' it indicates the closing average price.</td></tr> <tr><td>» short_price</td> <td>string</td> <td>When 'side' is 'long,' it indicates the opening average price; when 'side' is 'short,' it indicates the closing average price</td></tr></tbody></table> <h4 id="enumerated-values-101"><a href="#enumerated-values-101" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>side</td> <td>long</td></tr> <tr><td>side</td> <td>short</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-liquidation-history-2"><a href="#list-liquidation-history-2" class="header-anchor">#</a> List liquidation history</h2> <p><a id="opIdlistDeliveryLiquidates"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/liquidates'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/liquidates&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/liquidates</code></p> <p><em>List liquidation history</em></p> <h3 id="listdeliveryliquidates-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>at</td> <td>query</td> <td>integer</td> <td>false</td> <td>Specify a liquidation timestamp</td></tr></tbody></table> <h4 id="enumerated-values-102"><a href="#enumerated-values-102" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1548654951</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;25&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.006705256878&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3536.123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3421.54&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3420.27&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">317393847</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3405&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3424&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliveryliquidates-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliveryliquidates-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» time</td> <td>integer(int64)</td> <td>Liquidation time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» leverage</td> <td>string</td> <td>Position leverage. Not returned in public endpoints.</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Position size</td></tr> <tr><td>» margin</td> <td>string</td> <td>Position margin. Not returned in public endpoints.</td></tr> <tr><td>» entry_price</td> <td>string</td> <td>Average entry price. Not returned in public endpoints.</td></tr> <tr><td>» liq_price</td> <td>string</td> <td>Liquidation price. Not returned in public endpoints.</td></tr> <tr><td>» mark_price</td> <td>string</td> <td>Mark price. Not returned in public endpoints.</td></tr> <tr><td>» order_id</td> <td>integer(int64)</td> <td>Liquidation order ID. Not returned in public endpoints.</td></tr> <tr><td>» order_price</td> <td>string</td> <td>Liquidation order price</td></tr> <tr><td>» fill_price</td> <td>string</td> <td>Liquidation order average taker price</td></tr> <tr><td>» left</td> <td>integer(int64)</td> <td>Liquidation order maker size</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-settlement-history"><a href="#list-settlement-history" class="header-anchor">#</a> List settlement history</h2> <p><a id="opIdlistDeliverySettlements"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/settlements'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/settlements&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/settlements</code></p> <p><em>List settlement history</em></p> <h3 id="listdeliverysettlements-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>at</td> <td>query</td> <td>integer</td> <td>false</td> <td>Specify a settlement timestamp</td></tr></tbody></table> <h4 id="enumerated-values-103"><a href="#enumerated-values-103" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1548654951</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;25&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.006705256878&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3536.123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3421.54&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;profit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-6.87498&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.03079386&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliverysettlements-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliverysettlements-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» time</td> <td>integer(int64)</td> <td>Liquidation time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» leverage</td> <td>string</td> <td>Position leverage</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Position size</td></tr> <tr><td>» margin</td> <td>string</td> <td>Position margin</td></tr> <tr><td>» entry_price</td> <td>string</td> <td>Average entry price</td></tr> <tr><td>» settle_price</td> <td>string</td> <td>Settled price</td></tr> <tr><td>» profit</td> <td>string</td> <td>Profit</td></tr> <tr><td>» fee</td> <td>string</td> <td>Fee deducted</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-risk-limit-tiers-2"><a href="#list-risk-limit-tiers-2" class="header-anchor">#</a> List risk limit tiers</h2> <p><a id="opIdlistDeliveryRiskLimitTiers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/risk_limit_tiers'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/delivery/usdt/risk_limit_tiers <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/risk_limit_tiers</code></p> <p><em>List risk limit tiers</em></p> <p>When the 'contract' parameter is not passed, the default is to query the risk limits for the top 100 markets.'Limit' and 'offset' correspond to pagination queries at the market level, not to the length of the returned array. This only takes effect when the 'contract' parameter is empty.</p> <h3 id="listdeliveryrisklimittiers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <h4 id="enumerated-values-104"><a href="#enumerated-values-104" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;initial_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.02&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;500000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;initial_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.03&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.02&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;33.33&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;initial_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.02&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;50&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;500000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH_USDT&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdeliveryrisklimittiers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdeliveryrisklimittiers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Retrieve risk limit configurations for different tiers under a specified contract.]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Retrieve risk limit configurations for different tiers under a specified contract.</td></tr> <tr><td>»» tier</td> <td>integer(int)</td> <td>Tier</td></tr> <tr><td>»» risk_limit</td> <td>string</td> <td>Position risk limit</td></tr> <tr><td>»» initial_rate</td> <td>string</td> <td>Initial margin rate</td></tr> <tr><td>»» maintenance_rate</td> <td>string</td> <td>Maintenance margin rate</td></tr> <tr><td>»» leverage_max</td> <td>string</td> <td>Maximum leverage</td></tr> <tr><td>»» contract</td> <td>string</td> <td>Markets, visible only during market pagination requests</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-a-price-triggered-order-3"><a href="#create-a-price-triggered-order-3" class="header-anchor">#</a> Create a price-triggered order</h2> <p><a id="opIdcreatePriceTriggeredDeliveryOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;initial&quot;:{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:100,&quot;price&quot;:&quot;5.03&quot;},&quot;trigger&quot;:{&quot;strategy_type&quot;:0,&quot;price_type&quot;:0,&quot;price&quot;:&quot;3000&quot;,&quot;rule&quot;:1,&quot;expiration&quot;:86400},&quot;order_type&quot;:&quot;close-long-order&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;initial&quot;:{&quot;contract&quot;:&quot;BTC_USDT&quot;,&quot;size&quot;:100,&quot;price&quot;:&quot;5.03&quot;},&quot;trigger&quot;:{&quot;strategy_type&quot;:0,&quot;price_type&quot;:0,&quot;price&quot;:&quot;3000&quot;,&quot;rule&quot;:1,&quot;expiration&quot;:86400},&quot;order_type&quot;:&quot;close-long-order&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /delivery/{settle}/price_orders</code></p> <p><em>Create a price-triggered order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createpricetriggereddeliveryorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td><a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a></td> <td>true</td> <td>none</td></tr> <tr><td>» initial</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>»» contract</td> <td>body</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>»» size</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>Order size. Positive size means to buy, while negative one means to sell. Set to 0 to close the position</td></tr> <tr><td>»» price</td> <td>body</td> <td>string</td> <td>true</td> <td>Order price. Set to 0 to use market price</td></tr> <tr><td>»» close</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set to true if trying to close the position</td></tr> <tr><td>»» tif</td> <td>body</td> <td>string</td> <td>false</td> <td>Time in force. If using market price, only <code>ioc</code> is supported.</td></tr> <tr><td>»» text</td> <td>body</td> <td>string</td> <td>false</td> <td>The source of the order, including:</td></tr> <tr><td>»» reduce_only</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set to true to create a reduce-only order</td></tr> <tr><td>»» auto_size</td> <td>body</td> <td>string</td> <td>false</td> <td>Set side to close dual-mode position. <code>close_long</code> closes the long side; while <code>close_short</code> the short one. Note <code>size</code> also needs to be set to 0</td></tr> <tr><td>» trigger</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>»» strategy_type</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>How the order will be triggered</td></tr> <tr><td>»» price_type</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>Price type. 0 - latest deal price, 1 - mark price, 2 - index price</td></tr> <tr><td>»» price</td> <td>body</td> <td>string</td> <td>false</td> <td>Value of price on price triggered, or price gap on price gap triggered</td></tr> <tr><td>»» rule</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>Trigger condition type</td></tr> <tr><td>»» expiration</td> <td>body</td> <td>integer</td> <td>false</td> <td>How long (in seconds) to wait for the condition to be triggered before cancelling the order.</td></tr> <tr><td>» order_type</td> <td>body</td> <td>string</td> <td>false</td> <td>Take-profit/stop-loss types, which include:</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="detailed-descriptions-32"><a href="#detailed-descriptions-32" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>»» tif</strong>: Time in force. If using market price, only <code>ioc</code> is supported.</p> <ul><li>gtc: GoodTillCancelled</li> <li>ioc: ImmediateOrCancelled</li></ul> <p><strong>»» text</strong>: The source of the order, including:</p> <ul><li>web: web</li> <li>api: api</li> <li>app: app</li></ul> <p><strong>»» strategy_type</strong>: How the order will be triggered</p> <ul><li><code>0</code>: by price, which means the order will be triggered if price condition is satisfied</li> <li><code>1</code>: by price gap, which means the order will be triggered if gap of recent two prices of specified <code>price_type</code> are satisfied.
Only <code>0</code> is supported currently</li></ul> <p><strong>»» rule</strong>: Trigger condition type</p> <ul><li><code>1</code>: calculated price based on <code>strategy_type</code> and <code>price_type</code> &gt;= <code>price</code></li> <li><code>2</code>: calculated price based on <code>strategy_type</code> and <code>price_type</code> &lt;= <code>price</code></li></ul> <p><strong>» order_type</strong>: Take-profit/stop-loss types, which include:</p> <ul><li><code>close-long-order</code>: order take-profit/stop-loss, close long position</li> <li><code>close-short-order</code>: order take-profit/stop-loss, close short position</li> <li><code>close-long-position</code>: position take-profit/stop-loss, close long position</li> <li><code>close-short-position</code>: position take-profit/stop-loss, close short position</li> <li><code>plan-close-long-position</code>: position planned take-profit/stop-loss, close long position</li> <li><code>plan-close-short-position</code>: position planned take-profit/stop-loss, close short position</li></ul> <p>The order take-profit/stop-loss can not be passed by request. These two types are read only.</p> <h4 id="enumerated-values-105"><a href="#enumerated-values-105" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>»» tif</td> <td>gtc</td></tr> <tr><td>»» tif</td> <td>ioc</td></tr> <tr><td>»» strategy_type</td> <td>0</td></tr> <tr><td>»» strategy_type</td> <td>1</td></tr> <tr><td>»» price_type</td> <td>0</td></tr> <tr><td>»» price_type</td> <td>1</td></tr> <tr><td>»» price_type</td> <td>2</td></tr> <tr><td>»» rule</td> <td>1</td></tr> <tr><td>»» rule</td> <td>2</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1432329</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createpricetriggereddeliveryorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order created</td> <td>Inline</td></tr></tbody></table> <h3 id="createpricetriggereddeliveryorder-responseschema">Response Schema</h3> <p>Status Code <strong>201</strong></p> <p><em>TriggerOrderResponse</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Auto order ID</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-price-triggered-orders-2"><a href="#list-all-price-triggered-orders-2" class="header-anchor">#</a> List All Price-triggered Orders</h2> <p><a id="opIdlistPriceTriggeredDeliveryOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=open'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;status=open&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/price_orders</code></p> <p><em>List All Price-triggered Orders</em></p> <h3 id="listpricetriggereddeliveryorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>Only list the orders with this status</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Futures contract, return related data only if specified</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-106"><a href="#enumerated-values-106" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">13566</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listpricetriggereddeliveryorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[<a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-all-price-triggered-orders-3"><a href="#cancel-all-price-triggered-orders-3" class="header-anchor">#</a> Cancel All Price-triggered Orders</h2> <p><a id="opIdcancelPriceTriggeredDeliveryOrderList"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/price_orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/price_orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;contract=BTC_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /delivery/{settle}/price_orders</code></p> <p><em>Cancel All Price-triggered Orders</em></p> <h3 id="cancelpricetriggereddeliveryorderlist-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Futures contract</td></tr> <tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr></tbody></table> <h4 id="enumerated-values-107"><a href="#enumerated-values-107" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">13566</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="cancelpricetriggereddeliveryorderlist-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Batch cancellation request accepted. Query order status by listing orders</td> <td>[<a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a>]</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-price-triggered-order-3"><a href="#get-a-price-triggered-order-3" class="header-anchor">#</a> Get a price-triggered order</h2> <p><a id="opIdgetPriceTriggeredDeliveryOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/price_orders/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/price_orders/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /delivery/{settle}/price_orders/{order_id}</code></p> <p><em>Get a price-triggered order</em></p> <h3 id="getpricetriggereddeliveryorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Retrieve the data of the order with the specified ID</td></tr></tbody></table> <h4 id="enumerated-values-108"><a href="#enumerated-values-108" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">13566</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getpricetriggereddeliveryorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Auto order detail</td> <td><a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-price-triggered-order-3"><a href="#cancel-a-price-triggered-order-3" class="header-anchor">#</a> cancel a price-triggered order</h2> <p><a id="opIdcancelPriceTriggeredDeliveryOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/delivery/usdt/price_orders/string'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/delivery/usdt/price_orders/string&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /delivery/{settle}/price_orders/{order_id}</code></p> <p><em>cancel a price-triggered order</em></p> <h3 id="cancelpricetriggereddeliveryorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>settle</td> <td>path</td> <td>string</td> <td>true</td> <td>Settle currency</td></tr> <tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Retrieve the data of the order with the specified ID</td></tr></tbody></table> <h4 id="enumerated-values-109"><a href="#enumerated-values-109" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>settle</td> <td>usdt</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5.03&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">86400</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1283293</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764900</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">13566</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close-long-order&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="cancelpricetriggereddeliveryorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Auto order detail</td> <td><a href="#schemafuturespricetriggeredorder">FuturesPriceTriggeredOrder</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="options"><a href="#options" class="header-anchor">#</a> Options</h1> <p>Options API</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-underlyings"><a href="#list-all-underlyings" class="header-anchor">#</a> List all underlyings</h2> <p><a id="opIdlistOptionsUnderlyings"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/underlyings'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/underlyings <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/underlyings</code></p> <p><em>List all underlyings</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70000&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionsunderlyings-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionsunderlyings-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» name</td> <td>string</td> <td>Underlying name</td></tr> <tr><td>» index_price</td> <td>string</td> <td>Spot index price (quote currency)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-expiration-times"><a href="#list-all-expiration-times" class="header-anchor">#</a> List all expiration times</h2> <p><a id="opIdlistOptionsExpirations"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/expirations'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/expirations?underlying<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/expirations</code></p> <p><em>List all expiration times</em></p> <h3 id="listoptionsexpirations-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token number">1637913600</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionsexpirations-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List expiration times of specified underlying</td> <td>[integer]</td></tr></tbody></table> <h3 id="listoptionsexpirations-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>integer(int64)</td> <td>Unix timestamp of the expiration time</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-all-the-contracts-with-specified-underlying-and-expiration-time"><a href="#list-all-the-contracts-with-specified-underlying-and-expiration-time" class="header-anchor">#</a> List all the contracts with specified underlying and expiration time</h2> <p><a id="opIdlistOptionsContracts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/contracts'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/contracts?underlying<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/contracts</code></p> <p><em>List all the contracts with specified underlying and expiration time</em></p> <h3 id="listoptionscontracts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr> <tr><td>expiration</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Unix timestamp of the expiration time</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20211130-65000-C&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WEEK&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1636702700</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration_time&quot;</span><span class="token operator">:</span> <span class="token number">1637913600</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_call&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strike_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14010&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orderbook_id&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;underlying_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;multiplier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;maker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0004&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;taker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0004&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price_limit_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ref_discount_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ref_rebate_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_price_deviate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_size_min&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_size_max&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">50</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionscontracts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionscontracts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Options contract detail]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Options contract detail</td></tr> <tr><td>»» name</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>»» tag</td> <td>string</td> <td>tag</td></tr> <tr><td>»» create_time</td> <td>number(double)</td> <td>Creation time</td></tr> <tr><td>»» expiration_time</td> <td>number(double)</td> <td>Expiration time</td></tr> <tr><td>»» is_call</td> <td>boolean</td> <td><code>true</code> means call options, while <code>false</code> is put options</td></tr> <tr><td>»» multiplier</td> <td>string</td> <td>Multiplier used in converting from invoicing to settlement currency</td></tr> <tr><td>»» underlying</td> <td>string</td> <td>Underlying</td></tr> <tr><td>»» underlying_price</td> <td>string</td> <td>Underlying price (quote currency)</td></tr> <tr><td>»» last_price</td> <td>string</td> <td>Last trading price</td></tr> <tr><td>»» mark_price</td> <td>string</td> <td>Current mark price (quote currency)</td></tr> <tr><td>»» index_price</td> <td>string</td> <td>Current index price (quote currency)</td></tr> <tr><td>»» maker_fee_rate</td> <td>string</td> <td>Maker fee rate, where negative means rebate</td></tr> <tr><td>»» taker_fee_rate</td> <td>string</td> <td>Taker fee rate</td></tr> <tr><td>»» order_price_round</td> <td>string</td> <td>Minimum order price increment</td></tr> <tr><td>»» mark_price_round</td> <td>string</td> <td>Minimum mark price increment</td></tr> <tr><td>»» order_size_min</td> <td>integer(int64)</td> <td>Minimum order size the contract allowed</td></tr> <tr><td>»» order_size_max</td> <td>integer(int64)</td> <td>Maximum order size the contract allowed</td></tr> <tr><td>»» order_price_deviate</td> <td>string</td> <td>The positive and negative offset allowed between the order price and the current mark price, that is, the order price <code>order_price</code> must meet the following conditions:<br><br> order_price is within the range of mark_price +/- order_price_deviate * underlying_price  and does not distinguish between buy and sell orders</td></tr> <tr><td>»» ref_discount_rate</td> <td>string</td> <td>Referral fee rate discount</td></tr> <tr><td>»» ref_rebate_rate</td> <td>string</td> <td>Referrer commission rate</td></tr> <tr><td>»» orderbook_id</td> <td>integer(int64)</td> <td>Current orderbook ID</td></tr> <tr><td>»» trade_id</td> <td>integer(int64)</td> <td>Current trade ID</td></tr> <tr><td>»» trade_size</td> <td>integer(int64)</td> <td>Historical accumulated trade size</td></tr> <tr><td>»» position_size</td> <td>integer(int64)</td> <td>Current total long position size</td></tr> <tr><td>»» orders_limit</td> <td>integer</td> <td>Maximum number of open orders</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-specified-contract-detail"><a href="#query-specified-contract-detail" class="header-anchor">#</a> Query specified contract detail</h2> <p><a id="opIdgetOptionsContract"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/contracts/BTC_USDT-20211130-65000-C'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/contracts/BTC_USDT-20211130-65000-C <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/contracts/{contract}</code></p> <p><em>Query specified contract detail</em></p> <h3 id="getoptionscontract-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>none</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20211130-65000-C&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tag&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WEEK&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1636702700</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expiration_time&quot;</span><span class="token operator">:</span> <span class="token number">1637913600</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_call&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;strike_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;65000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14010&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orderbook_id&quot;</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;underlying_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;multiplier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;taker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0004&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price_limit_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_discount_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_rebate_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_deviate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_min&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_max&quot;</span><span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">50</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getoptionscontract-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getoptionscontract-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Options contract detail</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» name</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>» tag</td> <td>string</td> <td>tag</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Creation time</td></tr> <tr><td>» expiration_time</td> <td>number(double)</td> <td>Expiration time</td></tr> <tr><td>» is_call</td> <td>boolean</td> <td><code>true</code> means call options, while <code>false</code> is put options</td></tr> <tr><td>» multiplier</td> <td>string</td> <td>Multiplier used in converting from invoicing to settlement currency</td></tr> <tr><td>» underlying</td> <td>string</td> <td>Underlying</td></tr> <tr><td>» underlying_price</td> <td>string</td> <td>Underlying price (quote currency)</td></tr> <tr><td>» last_price</td> <td>string</td> <td>Last trading price</td></tr> <tr><td>» mark_price</td> <td>string</td> <td>Current mark price (quote currency)</td></tr> <tr><td>» index_price</td> <td>string</td> <td>Current index price (quote currency)</td></tr> <tr><td>» maker_fee_rate</td> <td>string</td> <td>Maker fee rate, where negative means rebate</td></tr> <tr><td>» taker_fee_rate</td> <td>string</td> <td>Taker fee rate</td></tr> <tr><td>» order_price_round</td> <td>string</td> <td>Minimum order price increment</td></tr> <tr><td>» mark_price_round</td> <td>string</td> <td>Minimum mark price increment</td></tr> <tr><td>» order_size_min</td> <td>integer(int64)</td> <td>Minimum order size the contract allowed</td></tr> <tr><td>» order_size_max</td> <td>integer(int64)</td> <td>Maximum order size the contract allowed</td></tr> <tr><td>» order_price_deviate</td> <td>string</td> <td>The positive and negative offset allowed between the order price and the current mark price, that is, the order price <code>order_price</code> must meet the following conditions:<br><br> order_price is within the range of mark_price +/- order_price_deviate * underlying_price  and does not distinguish between buy and sell orders</td></tr> <tr><td>» ref_discount_rate</td> <td>string</td> <td>Referral fee rate discount</td></tr> <tr><td>» ref_rebate_rate</td> <td>string</td> <td>Referrer commission rate</td></tr> <tr><td>» orderbook_id</td> <td>integer(int64)</td> <td>Current orderbook ID</td></tr> <tr><td>» trade_id</td> <td>integer(int64)</td> <td>Current trade ID</td></tr> <tr><td>» trade_size</td> <td>integer(int64)</td> <td>Historical accumulated trade size</td></tr> <tr><td>» position_size</td> <td>integer(int64)</td> <td>Current total long position size</td></tr> <tr><td>» orders_limit</td> <td>integer</td> <td>Maximum number of open orders</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-settlement-history-2"><a href="#list-settlement-history-2" class="header-anchor">#</a> List settlement history</h2> <p><a id="opIdlistOptionsSettlements"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/settlements'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/settlements?underlying<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/settlements</code></p> <p><em>List settlement history</em></p> <h3 id="listoptionssettlements-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1598839200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;profit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;312.35&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.3284&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11687.65&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC-WEEKLY-200824-11000-P&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strike_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12000&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionssettlements-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionssettlements-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» time</td> <td>number(double)</td> <td>Last changed time of configuration</td></tr> <tr><td>» contract</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>» profit</td> <td>string</td> <td>Settlement profit per size (quote currency)</td></tr> <tr><td>» fee</td> <td>string</td> <td>Settlement fee per size (quote currency)</td></tr> <tr><td>» strike_price</td> <td>string</td> <td>Strike price (quote currency)</td></tr> <tr><td>» settle_price</td> <td>string</td> <td>Settlement price (quote currency)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-specified-contract-s-settlement"><a href="#get-specified-contract-s-settlement" class="header-anchor">#</a> Get specified contract's settlement</h2> <p><a id="opIdgetOptionsSettlement"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/settlements/BTC_USDT-20211130-65000-C'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT&amp;at=0'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/settlements/BTC_USDT-20211130-65000-C?underlying<span class="token operator">=</span>BTC_USDT<span class="token operator">&amp;</span><span class="token assign-left variable">at</span><span class="token operator">=</span><span class="token number">0</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/settlements/{contract}</code></p> <p><em>Get specified contract's settlement</em></p> <h3 id="getoptionssettlement-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>none</td></tr> <tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr> <tr><td>at</td> <td>query</td> <td>integer(int64)</td> <td>true</td> <td>none</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1598839200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;profit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;312.35&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.3284&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11687.65&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC-WEEKLY-200824-11000-P&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;strike_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getoptionssettlement-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getoptionssettlement-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» time</td> <td>number(double)</td> <td>Last changed time of configuration</td></tr> <tr><td>» contract</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>» profit</td> <td>string</td> <td>Settlement profit per size (quote currency)</td></tr> <tr><td>» fee</td> <td>string</td> <td>Settlement fee per size (quote currency)</td></tr> <tr><td>» strike_price</td> <td>string</td> <td>Strike price (quote currency)</td></tr> <tr><td>» settle_price</td> <td>string</td> <td>Settlement price (quote currency)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-my-options-settlements"><a href="#list-my-options-settlements" class="header-anchor">#</a> List my options settlements</h2> <p><a id="opIdlistMyOptionsSettlements"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/my_settlements'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/my_settlements&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;underlying=BTC_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/my_settlements</code></p> <p><em>List my options settlements</em></p> <h3 id="listmyoptionssettlements-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Options contract name</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_profit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20220624-26000-C&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strike_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;26000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1656057600</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20917.461281337048&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.00116042&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listmyoptionssettlements-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listmyoptionssettlements-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» time</td> <td>number(double)</td> <td>Settlement time</td></tr> <tr><td>» underlying</td> <td>string</td> <td>Underlying</td></tr> <tr><td>» contract</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>» strike_price</td> <td>string</td> <td>Strike price (quote currency)</td></tr> <tr><td>» settle_price</td> <td>string</td> <td>Settlement price (quote currency)</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Size</td></tr> <tr><td>» settle_profit</td> <td>string</td> <td>Settlement profit (quote currency)</td></tr> <tr><td>» fee</td> <td>string</td> <td>Fee (quote currency)</td></tr> <tr><td>» realised_pnl</td> <td>string</td> <td>The accumulated profit and loss of opening a position, including premium, fee, settlement profit, etc. (quote currency)</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="options-order-book"><a href="#options-order-book" class="header-anchor">#</a> Options order book</h2> <p><a id="opIdlistOptionsOrderBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/order_book'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT-20210916-5000-C'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/order_book?contract<span class="token operator">=</span>BTC_USDT-20210916-5000-C <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/order_book</code></p> <p><em>Options order book</em></p> <p>Bids will be sorted by price from high to low, while asks sorted reversely</p> <h3 id="listoptionsorderbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Options contract name</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Order depth. 0 means no aggregation is applied. default to 0</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of order depth data in asks or bids</td></tr> <tr><td>with_id</td> <td>query</td> <td>boolean</td> <td>false</td> <td>Whether the order book update ID will be returned. This ID increases by 1 on every order book update</td></tr></tbody></table> <h4 id="enumerated-values-110"><a href="#enumerated-values-110" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>interval</td> <td>0</td></tr> <tr><td>interval</td> <td>0.1</td></tr> <tr><td>interval</td> <td>0.01</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">123456</span><span class="token punctuation">,</span>
  <span class="token property">&quot;current&quot;</span><span class="token operator">:</span> <span class="token number">1623898993.123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update&quot;</span><span class="token operator">:</span> <span class="token number">1623898993.121</span><span class="token punctuation">,</span>
  <span class="token property">&quot;asks&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.52&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.53&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">40</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bids&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.17&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">150</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;p&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.16&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;s&quot;</span><span class="token operator">:</span> <span class="token number">203</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listoptionsorderbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order book retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listoptionsorderbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Order Book ID. Increases by 1 on every order book change. Set <code>with_id=true</code> to include this field in response</td></tr> <tr><td>» current</td> <td>number(double)</td> <td>Response data generation timestamp</td></tr> <tr><td>» update</td> <td>number(double)</td> <td>Order book changed timestamp</td></tr> <tr><td>» asks</td> <td>array</td> <td>Asks order depth</td></tr> <tr><td>»» futures_order_book_item</td> <td>object</td> <td>none</td></tr> <tr><td>»»» p</td> <td>string</td> <td>Price (quote currency)</td></tr> <tr><td>»»» s</td> <td>integer(int64)</td> <td>Size</td></tr> <tr><td>»» bids</td> <td>array</td> <td>Bids order depth</td></tr> <tr><td>»»» futures_order_book_item</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» p</td> <td>string</td> <td>Price (quote currency)</td></tr> <tr><td>»»»» s</td> <td>integer(int64)</td> <td>Size</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-tickers-of-options-contracts"><a href="#list-tickers-of-options-contracts" class="header-anchor">#</a> List tickers of options contracts</h2> <p><a id="opIdlistOptionsTickers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/tickers'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/tickers?underlying<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/tickers</code></p> <p><em>List tickers of options contracts</em></p> <h3 id="listoptionstickers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20211130-65000-C&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;14010&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ask1_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ask1_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bid1_size&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bid1_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vega&quot;</span><span class="token operator">:</span> <span class="token string">&quot;41.41202&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;theta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-120.1506&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rho&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6.52485&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gamma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00004&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;delta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.33505&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_iv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.123&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;bid_iv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.023&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ask_iv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.342&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionstickers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionstickers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Options contract detail</td></tr> <tr><td>»» name</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>»» last_price</td> <td>string</td> <td>Last trading price (quote currency)</td></tr> <tr><td>»» mark_price</td> <td>string</td> <td>Current mark price (quote currency)</td></tr> <tr><td>»» index_price</td> <td>string</td> <td>Current index price (quote currency)</td></tr> <tr><td>»» ask1_size</td> <td>integer(int64)</td> <td>Best ask size</td></tr> <tr><td>»» ask1_price</td> <td>string</td> <td>Best ask price</td></tr> <tr><td>»» bid1_size</td> <td>integer(int64)</td> <td>Best bid size</td></tr> <tr><td>»» bid1_price</td> <td>string</td> <td>Best bid price</td></tr> <tr><td>»» position_size</td> <td>integer(int64)</td> <td>Current total long position size</td></tr> <tr><td>»» mark_iv</td> <td>string</td> <td>Implied volatility</td></tr> <tr><td>»» bid_iv</td> <td>string</td> <td>Bid side implied volatility</td></tr> <tr><td>»» ask_iv</td> <td>string</td> <td>Ask side implied volatility</td></tr> <tr><td>»» leverage</td> <td>string</td> <td>Current leverage. Formula: underlying_price / mark_price * delta</td></tr> <tr><td>»» delta</td> <td>string</td> <td>Delta</td></tr> <tr><td>»» gamma</td> <td>string</td> <td>Gamma</td></tr> <tr><td>»» vega</td> <td>string</td> <td>Vega</td></tr> <tr><td>»» theta</td> <td>string</td> <td>Theta</td></tr> <tr><td>»» rho</td> <td>string</td> <td>Rho</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-underlying-ticker"><a href="#get-underlying-ticker" class="header-anchor">#</a> Get underlying ticker</h2> <p><a id="opIdlistOptionsUnderlyingTickers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/underlying/tickers/BTC_USDT'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/underlying/tickers/BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/underlying/tickers/{underlying}</code></p> <p><em>Get underlying ticker</em></p> <h3 id="listoptionsunderlyingtickers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>path</td> <td>string</td> <td>true</td> <td>Underlying</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;trade_put&quot;</span><span class="token operator">:</span> <span class="token number">33505</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_call&quot;</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span>
  <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;76543.3&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listoptionsunderlyingtickers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listoptionsunderlyingtickers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Options underlying detail</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» trade_put</td> <td>integer(int64)</td> <td>Total put options trades amount in last 24h</td></tr> <tr><td>» trade_call</td> <td>integer(int64)</td> <td>Total call options trades amount in last 24h</td></tr> <tr><td>» index_price</td> <td>string</td> <td>Index price (quote currency)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-options-candlesticks"><a href="#get-options-candlesticks" class="header-anchor">#</a> Get options candlesticks</h2> <p><a id="opIdlistOptionsCandlesticks"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/candlesticks'</span>
query_param <span class="token operator">=</span> <span class="token string">'contract=BTC_USDT-20210916-5000-C'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/candlesticks?contract<span class="token operator">=</span>BTC_USDT-20210916-5000-C <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/candlesticks</code></p> <p><em>Get options candlesticks</em></p> <h3 id="listoptionscandlesticks-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>true</td> <td>Options contract name</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Interval time between data points</td></tr></tbody></table> <h4 id="enumerated-values-111"><a href="#enumerated-values-111" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>interval</td> <td>1m</td></tr> <tr><td>interval</td> <td>5m</td></tr> <tr><td>interval</td> <td>15m</td></tr> <tr><td>interval</td> <td>30m</td></tr> <tr><td>interval</td> <td>1h</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">1539852480</span><span class="token punctuation">,</span>
    <span class="token property">&quot;v&quot;</span><span class="token operator">:</span> <span class="token number">97151</span><span class="token punctuation">,</span>
    <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;o&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionscandlesticks-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionscandlesticks-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>data point in every timestamp</td></tr> <tr><td>»» t</td> <td>number(double)</td> <td>Unix timestamp in seconds</td></tr> <tr><td>»» v</td> <td>integer(int64)</td> <td>size volume (contract size). Only returned if <code>contract</code> is not prefixed</td></tr> <tr><td>»» c</td> <td>string</td> <td>Close price (quote currency, unit: underlying corresponding option price)</td></tr> <tr><td>»» h</td> <td>string</td> <td>Highest price (quote currency, unit: underlying corresponding option price)</td></tr> <tr><td>»» l</td> <td>string</td> <td>Lowest price (quote currency, unit: underlying corresponding option price)</td></tr> <tr><td>»» o</td> <td>string</td> <td>Open price (quote currency, unit: underlying corresponding option price)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="mark-price-candlesticks-of-an-underlying"><a href="#mark-price-candlesticks-of-an-underlying" class="header-anchor">#</a> Mark price candlesticks of an underlying</h2> <p><a id="opIdlistOptionsUnderlyingCandlesticks"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/underlying/candlesticks'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/underlying/candlesticks?underlying<span class="token operator">=</span>BTC_USDT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/underlying/candlesticks</code></p> <p><em>Mark price candlesticks of an underlying</em></p> <h3 id="listoptionsunderlyingcandlesticks-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>interval</td> <td>query</td> <td>string</td> <td>false</td> <td>Interval time between data points</td></tr></tbody></table> <h4 id="enumerated-values-112"><a href="#enumerated-values-112" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>interval</td> <td>1m</td></tr> <tr><td>interval</td> <td>5m</td></tr> <tr><td>interval</td> <td>15m</td></tr> <tr><td>interval</td> <td>30m</td></tr> <tr><td>interval</td> <td>1h</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;t&quot;</span><span class="token operator">:</span> <span class="token number">1539852480</span><span class="token punctuation">,</span>
    <span class="token property">&quot;v&quot;</span><span class="token operator">:</span> <span class="token number">97151</span><span class="token punctuation">,</span>
    <span class="token property">&quot;c&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;h&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;l&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;o&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.032&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sum&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3580&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionsunderlyingcandlesticks-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionsunderlyingcandlesticks-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[data point in every timestamp]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>data point in every timestamp</td></tr> <tr><td>»» t</td> <td>number(double)</td> <td>Unix timestamp in seconds</td></tr> <tr><td>»» v</td> <td>integer(int64)</td> <td>size volume (contract size). Only returned if <code>contract</code> is not prefixed</td></tr> <tr><td>»» c</td> <td>string</td> <td>Close price (quote currency)</td></tr> <tr><td>»» h</td> <td>string</td> <td>Highest price (quote currency)</td></tr> <tr><td>»» l</td> <td>string</td> <td>Lowest price (quote currency)</td></tr> <tr><td>»» o</td> <td>string</td> <td>Open price (quote currency)</td></tr> <tr><td>»» sum</td> <td>string</td> <td>Trading volume (unit: Quote currency)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="options-trade-history"><a href="#options-trade-history" class="header-anchor">#</a> Options trade history</h2> <p><a id="opIdlistOptionsTrades"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/trades'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/options/trades <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /options/trades</code></p> <p><em>Options trade history</em></p> <h3 id="listoptionstrades-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Options contract name</td></tr> <tr><td>type</td> <td>query</td> <td>string(P)</td> <td>false</td> <td><code>C</code> is call, while <code>P</code> is put</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">121234231</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1514764800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-100</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100.123&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionstrades-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionstrades-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>integer(int64)</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Trading time</td></tr> <tr><td>» create_time_ms</td> <td>number(double)</td> <td>Trading time, with milliseconds set to 3 decimal places.</td></tr> <tr><td>» contract</td> <td>string</td> <td>Futures contract</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Trading size</td></tr> <tr><td>» price</td> <td>string</td> <td>Trading price (quote currency)</td></tr> <tr><td>» is_internal</td> <td>boolean</td> <td>Whether internal trade. Internal trade refers to the takeover of liquidation orders by the insurance fund and ADL users. Since it is not a normal matching on the market depth, the transaction price may deviate, and it will not be recorded in the K-line. If it is not an internal trade, this field will not be returned.</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-options-account"><a href="#list-options-account" class="header-anchor">#</a> List options account</h2> <p><a id="opIdlistOptionsAccount"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/accounts'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/accounts&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/accounts</code></p> <p><em>List options account</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">666</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;short_enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mmp_enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_triggered&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin_mode&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1650.443022&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-40.1136&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;equity&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1610.329422&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.7811&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;init_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maint_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;135.541485&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;139.74496&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ask_order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;139.74496&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;bid_order_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;available&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1514.901537&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_notional_limit&quot;</span><span class="token operator">:</span> <span class="token number">1000000</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listoptionsaccount-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listoptionsaccount-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» total</td> <td>string</td> <td>Account balance</td></tr> <tr><td>» position_value</td> <td>string</td> <td>Position value, long position value is positive, short position value is negative</td></tr> <tr><td>» equity</td> <td>string</td> <td>Account equity, the sum of account balance and position value</td></tr> <tr><td>» short_enabled</td> <td>boolean</td> <td>If the account is allowed to short</td></tr> <tr><td>» mmp_enabled</td> <td>boolean</td> <td>Whether to enable MMP</td></tr> <tr><td>» liq_triggered</td> <td>boolean</td> <td>Whether to trigger position liquidation</td></tr> <tr><td>» margin_mode</td> <td>integer(int32)</td> <td>｜ 保证金模式：<br>- 0：经典现货保证金模式 - 1：跨币种保证金模式 - 2：组合保证金模式</td></tr> <tr><td>» unrealised_pnl</td> <td>string</td> <td>Unrealized PNL</td></tr> <tr><td>» init_margin</td> <td>string</td> <td>Initial position margin</td></tr> <tr><td>» maint_margin</td> <td>string</td> <td>Position maintenance margin</td></tr> <tr><td>» order_margin</td> <td>string</td> <td>Order margin of unfinished orders</td></tr> <tr><td>» ask_order_margin</td> <td>string</td> <td>Margin for outstanding sell orders</td></tr> <tr><td>» bid_order_margin</td> <td>string</td> <td>Margin for outstanding buy orders</td></tr> <tr><td>» available</td> <td>string</td> <td>Available balance to transfer out or trade</td></tr> <tr><td>» point</td> <td>string</td> <td>POINT amount</td></tr> <tr><td>» currency</td> <td>string</td> <td>Settle currency</td></tr> <tr><td>» orders_limit</td> <td>integer(int32)</td> <td>Maximum number of outstanding orders</td></tr> <tr><td>» position_notional_limit</td> <td>integer(int64)</td> <td>Notional value upper limit, including the nominal value of positions and outstanding orders</td></tr></tbody></table> <h4 id="enumerated-values-113"><a href="#enumerated-values-113" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>margin_mode</td> <td>0</td></tr> <tr><td>margin_mode</td> <td>1</td></tr> <tr><td>margin_mode</td> <td>2</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-account-changing-history"><a href="#list-account-changing-history" class="header-anchor">#</a> List account changing history</h2> <p><a id="opIdlistOptionsAccountBook"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/account_book'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/account_book&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/account_book</code></p> <p><em>List account changing history</em></p> <h3 id="listoptionsaccountbook-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Changing Type:</td></tr></tbody></table> <h4 id="detailed-descriptions-33"><a href="#detailed-descriptions-33" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>type</strong>: Changing Type:</p> <ul><li>dnw: Deposit &amp; Withdraw</li> <li>prem: Trading premium</li> <li>fee: Trading fee</li> <li>refr: Referrer rebate</li> <li>set: settlement PNL</li></ul> <h4 id="enumerated-values-114"><a href="#enumerated-values-114" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>type</td> <td>dnw</td></tr> <tr><td>type</td> <td>prem</td></tr> <tr><td>type</td> <td>fee</td></tr> <tr><td>type</td> <td>refr</td></tr> <tr><td>type</td> <td>set</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1636426005</span><span class="token punctuation">,</span>
    <span class="token property">&quot;change&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.16&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;balance&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7378.189&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20211216-5000-P:25&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fee&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionsaccountbook-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionsaccountbook-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» time</td> <td>number(double)</td> <td>Change time</td></tr> <tr><td>» change</td> <td>string</td> <td>Amount changed (USDT)</td></tr> <tr><td>» balance</td> <td>string</td> <td>Account total balance after change (USDT)</td></tr> <tr><td>» type</td> <td>string</td> <td>Changing Type:<br>- dnw: Deposit &amp; Withdraw<br>- prem: Trading premium<br>- fee: Trading fee<br>- refr: Referrer rebate<br>- point_dnw: POINT Deposit &amp; Withdraw<br>- point_fee: POINT Trading fee<br>- point_refr: POINT Referrer rebate</td></tr> <tr><td>» text</td> <td>string</td> <td>custom text</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-user-s-positions-of-specified-underlying"><a href="#list-user-s-positions-of-specified-underlying" class="header-anchor">#</a> List user's positions of specified underlying</h2> <p><a id="opIdlistOptionsPositions"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/positions'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/positions&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/positions</code></p> <p><em>List user's positions of specified underlying</em></p> <h3 id="listoptionspositions-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>false</td> <td>Underlying</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">11027586</span><span class="token punctuation">,</span>
    <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;underlying_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20211216-5000-P&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;120&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mark_iv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9638&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-320&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5779&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;delta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.0046&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;gamma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;vega&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.87656&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;theta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1.00247&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionspositions-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionspositions-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Options position information]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Options position information</td></tr> <tr><td>»» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>»» underlying</td> <td>string</td> <td>Underlying</td></tr> <tr><td>»» underlying_price</td> <td>string</td> <td>Underlying price (quote currency)</td></tr> <tr><td>»» contract</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>»» size</td> <td>integer(int64)</td> <td>Position size (contract size)</td></tr> <tr><td>»» entry_price</td> <td>string</td> <td>Entry size (quote currency)</td></tr> <tr><td>»» mark_price</td> <td>string</td> <td>Current mark price (quote currency)</td></tr> <tr><td>»» mark_iv</td> <td>string</td> <td>Implied volatility</td></tr> <tr><td>»» realised_pnl</td> <td>string</td> <td>Realized PNL</td></tr> <tr><td>»» unrealised_pnl</td> <td>string</td> <td>Unrealized PNL</td></tr> <tr><td>»» pending_orders</td> <td>integer</td> <td>Current open orders</td></tr> <tr><td>»» close_order</td> <td>object|null</td> <td>Current close order if any, or <code>null</code></td></tr> <tr><td>»»» id</td> <td>integer(int64)</td> <td>Close order ID</td></tr> <tr><td>»»» price</td> <td>string</td> <td>Close order price （quote currency)</td></tr> <tr><td>»»» is_liq</td> <td>boolean</td> <td>Is the close order from liquidation</td></tr> <tr><td>»» delta</td> <td>string</td> <td>Delta</td></tr> <tr><td>»» gamma</td> <td>string</td> <td>Gamma</td></tr> <tr><td>»» vega</td> <td>string</td> <td>Vega</td></tr> <tr><td>»» theta</td> <td>string</td> <td>Theta</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-specified-contract-position"><a href="#get-specified-contract-position" class="header-anchor">#</a> Get specified contract position</h2> <p><a id="opIdgetOptionsPosition"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/positions/BTC_USDT-20211130-65000-C'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/positions/BTC_USDT-20211130-65000-C&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/positions/{contract}</code></p> <p><em>Get specified contract position</em></p> <h3 id="getoptionsposition-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>path</td> <td>string</td> <td>true</td> <td>none</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">11027586</span><span class="token punctuation">,</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;underlying_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;70000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20211216-5000-P&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1234&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;120&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;6000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_iv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9638&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-320&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">232323</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5779&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;delta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-0.0046&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gamma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;vega&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.87656&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;theta&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1.00247&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getoptionsposition-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getoptionsposition-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Options position information</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>» underlying</td> <td>string</td> <td>Underlying</td></tr> <tr><td>» underlying_price</td> <td>string</td> <td>Underlying price (quote currency)</td></tr> <tr><td>» contract</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Position size (contract size)</td></tr> <tr><td>» entry_price</td> <td>string</td> <td>Entry size (quote currency)</td></tr> <tr><td>» mark_price</td> <td>string</td> <td>Current mark price (quote currency)</td></tr> <tr><td>» mark_iv</td> <td>string</td> <td>Implied volatility</td></tr> <tr><td>» realised_pnl</td> <td>string</td> <td>Realized PNL</td></tr> <tr><td>» unrealised_pnl</td> <td>string</td> <td>Unrealized PNL</td></tr> <tr><td>» pending_orders</td> <td>integer</td> <td>Current open orders</td></tr> <tr><td>» close_order</td> <td>object|null</td> <td>Current close order if any, or <code>null</code></td></tr> <tr><td>»» id</td> <td>integer(int64)</td> <td>Close order ID</td></tr> <tr><td>»» price</td> <td>string</td> <td>Close order price （quote currency)</td></tr> <tr><td>»» is_liq</td> <td>boolean</td> <td>Is the close order from liquidation</td></tr> <tr><td>» delta</td> <td>string</td> <td>Delta</td></tr> <tr><td>» gamma</td> <td>string</td> <td>Gamma</td></tr> <tr><td>» vega</td> <td>string</td> <td>Vega</td></tr> <tr><td>» theta</td> <td>string</td> <td>Theta</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-user-s-liquidation-history-of-specified-underlying"><a href="#list-user-s-liquidation-history-of-specified-underlying" class="header-anchor">#</a> List user's liquidation history of specified underlying</h2> <p><a id="opIdlistOptionsPositionClose"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/position_close'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/position_close&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;underlying=BTC_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/position_close</code></p> <p><em>List user's liquidation history of specified underlying</em></p> <h3 id="listoptionspositionclose-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Options contract name</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;time&quot;</span><span class="token operator">:</span> <span class="token number">1631764800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-42914.291&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settle_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-10001&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;short&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20210916-5000-C&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;settled&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionspositionclose-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionspositionclose-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» time</td> <td>number(double)</td> <td>Position close time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>» side</td> <td>string</td> <td>Position side, long or short</td></tr> <tr><td>» pnl</td> <td>string</td> <td>PNL</td></tr> <tr><td>» text</td> <td>string</td> <td>Text of close order</td></tr> <tr><td>» settle_size</td> <td>string</td> <td>settlement size</td></tr></tbody></table> <h4 id="enumerated-values-115"><a href="#enumerated-values-115" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>side</td> <td>long</td></tr> <tr><td>side</td> <td>short</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-an-options-order"><a href="#create-an-options-order" class="header-anchor">#</a> Create an options order</h2> <p><a id="opIdcreateOptionsOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;size&quot;:-1,&quot;iceberg&quot;:0,&quot;contract&quot;:&quot;BTC_USDT-20210916-5000-C&quot;,&quot;text&quot;:&quot;-&quot;,&quot;tif&quot;:&quot;gtc&quot;,&quot;price&quot;:&quot;100&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;size&quot;:-1,&quot;iceberg&quot;:0,&quot;contract&quot;:&quot;BTC_USDT-20210916-5000-C&quot;,&quot;text&quot;:&quot;-&quot;,&quot;tif&quot;:&quot;gtc&quot;,&quot;price&quot;:&quot;100&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /options/orders</code></p> <p><em>Create an options order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20210916-5000-C&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createoptionsorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» contract</td> <td>body</td> <td>string</td> <td>true</td> <td>Contract name</td></tr> <tr><td>» size</td> <td>body</td> <td>integer(int64)</td> <td>true</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>» iceberg</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>» price</td> <td>body</td> <td>string</td> <td>false</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code> (USDT)</td></tr> <tr><td>» close</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set as <code>true</code> to close the position, with <code>size</code> set to 0</td></tr> <tr><td>» reduce_only</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Set as <code>true</code> to be reduce-only order</td></tr> <tr><td>» mmp</td> <td>body</td> <td>boolean</td> <td>false</td> <td>When set to true, delegate to MMP</td></tr> <tr><td>» tif</td> <td>body</td> <td>string</td> <td>false</td> <td>Time in force</td></tr> <tr><td>» text</td> <td>body</td> <td>string</td> <td>false</td> <td>User defined information. If not empty, must follow the rules below:</td></tr></tbody></table> <h4 id="detailed-descriptions-34"><a href="#detailed-descriptions-34" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» tif</strong>: Time in force</p> <ul><li>gtc: GoodTillCancelled</li> <li>ioc: ImmediateOrCancelled, taker only</li> <li>poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</li></ul> <p><strong>» text</strong>: User defined information. If not empty, must follow the rules below:</p> <ol><li>prefixed with <code>t-</code></li> <li>no longer than 28 bytes without <code>t-</code> prefix</li> <li>can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)
Besides user defined information, reserved contents are listed below, denoting how the order is created:</li></ol> <ul><li>web: from web</li> <li>api: from API</li> <li>app: from mobile phones</li> <li>auto_deleveraging: from ADL</li> <li>liquidation: from liquidation</li> <li>insurance: from insurance</li></ul> <h4 id="enumerated-values-116"><a href="#enumerated-values-116" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>» tif</td> <td>gtc</td></tr> <tr><td>» tif</td> <td>ioc</td></tr> <tr><td>» tif</td> <td>poc</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>201 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_mmp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20210916-5000-C&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763361</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763397</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createoptionsorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>201</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.2" target="_blank" rel="noopener noreferrer">Created<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order detail</td> <td>Inline</td></tr></tbody></table> <h3 id="createoptionsorder-responseschema">Response Schema</h3> <p>Status Code <strong>201</strong></p> <p><em>Options order detail</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Options order ID</td></tr> <tr><td>» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Creation time of order</td></tr> <tr><td>» finish_time</td> <td>number(double)</td> <td>Order finished time. Not returned if order is open</td></tr> <tr><td>» finish_as</td> <td>string</td> <td>Ending method, including:<br><br>- filled: fully completed<br>- canceled: user canceled<br>- liquidated: forced liquidation cancellation<br>- ioc: Not fully filled immediately because tif is set to ioc<br>- auto_deleveraged: automatic deleveraging cancel<br>- reduce_only: Increased position is cancelled, because reduce_only is set or the position is closed<br>- position_closed: Because the position was closed, the pending order was canceled<br>- reduce_out: Only reduce the excluded pending orders that are not easy to be filled<br>- mmp_cancelled: MMP canceled</td></tr> <tr><td>» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: waiting to be traded<br>- <code>finished</code>: finished</td></tr> <tr><td>» contract</td> <td>string</td> <td>Contract name</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>» iceberg</td> <td>integer(int64)</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>» price</td> <td>string</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code> (USDT)</td></tr> <tr><td>» is_close</td> <td>boolean</td> <td>Is the order to close position</td></tr> <tr><td>» is_reduce_only</td> <td>boolean</td> <td>Is the order reduce-only</td></tr> <tr><td>» is_liq</td> <td>boolean</td> <td>Is the order for liquidation</td></tr> <tr><td>» is_mmp</td> <td>boolean</td> <td>Whether it is MMP delegation. Corresponds to <code>mmp</code> in the request.</td></tr> <tr><td>» tif</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</td></tr> <tr><td>» left</td> <td>integer(int64)</td> <td>Size left to be traded</td></tr> <tr><td>» fill_price</td> <td>string</td> <td>Fill price of the order</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- web: from web<br>- api: from API<br>- app: from mobile phones<br>- auto_deleveraging: from ADL<br>- liquidation: from liquidation<br>- insurance: from insurance</td></tr> <tr><td>» tkfr</td> <td>string</td> <td>Taker fee</td></tr> <tr><td>» mkfr</td> <td>string</td> <td>Maker fee</td></tr> <tr><td>» refu</td> <td>integer</td> <td>Reference user ID</td></tr> <tr><td>» refr</td> <td>string</td> <td>Referrer rebate</td></tr></tbody></table> <h4 id="enumerated-values-117"><a href="#enumerated-values-117" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidated</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>auto_deleveraged</td></tr> <tr><td>finish_as</td> <td>reduce_only</td></tr> <tr><td>finish_as</td> <td>position_closed</td></tr> <tr><td>finish_as</td> <td>reduce_out</td></tr> <tr><td>finish_as</td> <td>mmp_cancelled</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>tif</td> <td>poc</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-options-orders"><a href="#list-options-orders" class="header-anchor">#</a> List options orders</h2> <p><a id="opIdlistOptionsOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=open'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;status=open&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/orders</code></p> <p><em>List options orders</em></p> <h3 id="listoptionsorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Options contract name</td></tr> <tr><td>underlying</td> <td>query</td> <td>string</td> <td>false</td> <td>Underlying</td></tr> <tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>Only list the orders with this status</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <h4 id="enumerated-values-118"><a href="#enumerated-values-118" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_mmp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20210916-5000-C&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763361</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763397</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listoptionsorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listoptionsorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Options order detail]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Options order detail</td></tr> <tr><td>»» id</td> <td>integer(int64)</td> <td>Options order ID</td></tr> <tr><td>»» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>»» create_time</td> <td>number(double)</td> <td>Creation time of order</td></tr> <tr><td>»» finish_time</td> <td>number(double)</td> <td>Order finished time. Not returned if order is open</td></tr> <tr><td>»» finish_as</td> <td>string</td> <td>Ending method, including:<br><br>- filled: fully completed<br>- canceled: user canceled<br>- liquidated: forced liquidation cancellation<br>- ioc: Not fully filled immediately because tif is set to ioc<br>- auto_deleveraged: automatic deleveraging cancel<br>- reduce_only: Increased position is cancelled, because reduce_only is set or the position is closed<br>- position_closed: Because the position was closed, the pending order was canceled<br>- reduce_out: Only reduce the excluded pending orders that are not easy to be filled<br>- mmp_cancelled: MMP canceled</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: waiting to be traded<br>- <code>finished</code>: finished</td></tr> <tr><td>»» contract</td> <td>string</td> <td>Contract name</td></tr> <tr><td>»» size</td> <td>integer(int64)</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>»» iceberg</td> <td>integer(int64)</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>»» price</td> <td>string</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code> (USDT)</td></tr> <tr><td>»» is_close</td> <td>boolean</td> <td>Is the order to close position</td></tr> <tr><td>»» is_reduce_only</td> <td>boolean</td> <td>Is the order reduce-only</td></tr> <tr><td>»» is_liq</td> <td>boolean</td> <td>Is the order for liquidation</td></tr> <tr><td>»» is_mmp</td> <td>boolean</td> <td>Whether it is MMP delegation. Corresponds to <code>mmp</code> in the request.</td></tr> <tr><td>»» tif</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</td></tr> <tr><td>»» left</td> <td>integer(int64)</td> <td>Size left to be traded</td></tr> <tr><td>»» fill_price</td> <td>string</td> <td>Fill price of the order</td></tr> <tr><td>»» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- web: from web<br>- api: from API<br>- app: from mobile phones<br>- auto_deleveraging: from ADL<br>- liquidation: from liquidation<br>- insurance: from insurance</td></tr> <tr><td>»» tkfr</td> <td>string</td> <td>Taker fee</td></tr> <tr><td>»» mkfr</td> <td>string</td> <td>Maker fee</td></tr> <tr><td>»» refu</td> <td>integer</td> <td>Reference user ID</td></tr> <tr><td>»» refr</td> <td>string</td> <td>Referrer rebate</td></tr></tbody></table> <h4 id="enumerated-values-119"><a href="#enumerated-values-119" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidated</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>auto_deleveraged</td></tr> <tr><td>finish_as</td> <td>reduce_only</td></tr> <tr><td>finish_as</td> <td>position_closed</td></tr> <tr><td>finish_as</td> <td>reduce_out</td></tr> <tr><td>finish_as</td> <td>mmp_cancelled</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>tif</td> <td>poc</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-all-open-orders-matched-3"><a href="#cancel-all-open-orders-matched-3" class="header-anchor">#</a> Cancel all <code>open</code> orders matched</h2> <p><a id="opIdcancelOptionsOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /options/orders</code></p> <p><em>Cancel all <code>open</code> orders matched</em></p> <h3 id="canceloptionsorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Options contract name</td></tr> <tr><td>underlying</td> <td>query</td> <td>string</td> <td>false</td> <td>Underlying</td></tr> <tr><td>side</td> <td>query</td> <td>string</td> <td>false</td> <td>All bids or asks. Both included if not specified</td></tr></tbody></table> <h4 id="enumerated-values-120"><a href="#enumerated-values-120" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>side</td> <td>ask</td></tr> <tr><td>side</td> <td>bid</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_mmp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20210916-5000-C&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763361</span><span class="token punctuation">,</span>
    <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763397</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="canceloptionsorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>All orders matched cancelled</td> <td>[Inline]</td></tr></tbody></table> <h3 id="canceloptionsorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Options order detail]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Options order detail</td></tr> <tr><td>»» id</td> <td>integer(int64)</td> <td>Options order ID</td></tr> <tr><td>»» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>»» create_time</td> <td>number(double)</td> <td>Creation time of order</td></tr> <tr><td>»» finish_time</td> <td>number(double)</td> <td>Order finished time. Not returned if order is open</td></tr> <tr><td>»» finish_as</td> <td>string</td> <td>Ending method, including:<br><br>- filled: fully completed<br>- canceled: user canceled<br>- liquidated: forced liquidation cancellation<br>- ioc: Not fully filled immediately because tif is set to ioc<br>- auto_deleveraged: automatic deleveraging cancel<br>- reduce_only: Increased position is cancelled, because reduce_only is set or the position is closed<br>- position_closed: Because the position was closed, the pending order was canceled<br>- reduce_out: Only reduce the excluded pending orders that are not easy to be filled<br>- mmp_cancelled: MMP canceled</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: waiting to be traded<br>- <code>finished</code>: finished</td></tr> <tr><td>»» contract</td> <td>string</td> <td>Contract name</td></tr> <tr><td>»» size</td> <td>integer(int64)</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>»» iceberg</td> <td>integer(int64)</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>»» price</td> <td>string</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code> (USDT)</td></tr> <tr><td>»» is_close</td> <td>boolean</td> <td>Is the order to close position</td></tr> <tr><td>»» is_reduce_only</td> <td>boolean</td> <td>Is the order reduce-only</td></tr> <tr><td>»» is_liq</td> <td>boolean</td> <td>Is the order for liquidation</td></tr> <tr><td>»» is_mmp</td> <td>boolean</td> <td>Whether it is MMP delegation. Corresponds to <code>mmp</code> in the request.</td></tr> <tr><td>»» tif</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</td></tr> <tr><td>»» left</td> <td>integer(int64)</td> <td>Size left to be traded</td></tr> <tr><td>»» fill_price</td> <td>string</td> <td>Fill price of the order</td></tr> <tr><td>»» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- web: from web<br>- api: from API<br>- app: from mobile phones<br>- auto_deleveraging: from ADL<br>- liquidation: from liquidation<br>- insurance: from insurance</td></tr> <tr><td>»» tkfr</td> <td>string</td> <td>Taker fee</td></tr> <tr><td>»» mkfr</td> <td>string</td> <td>Maker fee</td></tr> <tr><td>»» refu</td> <td>integer</td> <td>Reference user ID</td></tr> <tr><td>»» refr</td> <td>string</td> <td>Referrer rebate</td></tr></tbody></table> <h4 id="enumerated-values-121"><a href="#enumerated-values-121" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidated</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>auto_deleveraged</td></tr> <tr><td>finish_as</td> <td>reduce_only</td></tr> <tr><td>finish_as</td> <td>position_closed</td></tr> <tr><td>finish_as</td> <td>reduce_out</td></tr> <tr><td>finish_as</td> <td>mmp_cancelled</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>tif</td> <td>poc</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-single-order-4"><a href="#get-a-single-order-4" class="header-anchor">#</a> Get a single order</h2> <p><a id="opIdgetOptionsOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/orders/{order_id}</code></p> <p><em>Get a single order</em></p> <h3 id="getoptionsorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>Order ID returned on successful order creation</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_mmp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20210916-5000-C&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763361</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763397</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getoptionsorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order detail</td> <td>Inline</td></tr></tbody></table> <h3 id="getoptionsorder-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Options order detail</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Options order ID</td></tr> <tr><td>» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Creation time of order</td></tr> <tr><td>» finish_time</td> <td>number(double)</td> <td>Order finished time. Not returned if order is open</td></tr> <tr><td>» finish_as</td> <td>string</td> <td>Ending method, including:<br><br>- filled: fully completed<br>- canceled: user canceled<br>- liquidated: forced liquidation cancellation<br>- ioc: Not fully filled immediately because tif is set to ioc<br>- auto_deleveraged: automatic deleveraging cancel<br>- reduce_only: Increased position is cancelled, because reduce_only is set or the position is closed<br>- position_closed: Because the position was closed, the pending order was canceled<br>- reduce_out: Only reduce the excluded pending orders that are not easy to be filled<br>- mmp_cancelled: MMP canceled</td></tr> <tr><td>» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: waiting to be traded<br>- <code>finished</code>: finished</td></tr> <tr><td>» contract</td> <td>string</td> <td>Contract name</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>» iceberg</td> <td>integer(int64)</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>» price</td> <td>string</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code> (USDT)</td></tr> <tr><td>» is_close</td> <td>boolean</td> <td>Is the order to close position</td></tr> <tr><td>» is_reduce_only</td> <td>boolean</td> <td>Is the order reduce-only</td></tr> <tr><td>» is_liq</td> <td>boolean</td> <td>Is the order for liquidation</td></tr> <tr><td>» is_mmp</td> <td>boolean</td> <td>Whether it is MMP delegation. Corresponds to <code>mmp</code> in the request.</td></tr> <tr><td>» tif</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</td></tr> <tr><td>» left</td> <td>integer(int64)</td> <td>Size left to be traded</td></tr> <tr><td>» fill_price</td> <td>string</td> <td>Fill price of the order</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- web: from web<br>- api: from API<br>- app: from mobile phones<br>- auto_deleveraging: from ADL<br>- liquidation: from liquidation<br>- insurance: from insurance</td></tr> <tr><td>» tkfr</td> <td>string</td> <td>Taker fee</td></tr> <tr><td>» mkfr</td> <td>string</td> <td>Maker fee</td></tr> <tr><td>» refu</td> <td>integer</td> <td>Reference user ID</td></tr> <tr><td>» refr</td> <td>string</td> <td>Referrer rebate</td></tr></tbody></table> <h4 id="enumerated-values-122"><a href="#enumerated-values-122" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidated</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>auto_deleveraged</td></tr> <tr><td>finish_as</td> <td>reduce_only</td></tr> <tr><td>finish_as</td> <td>position_closed</td></tr> <tr><td>finish_as</td> <td>reduce_out</td></tr> <tr><td>finish_as</td> <td>mmp_cancelled</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>tif</td> <td>poc</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancel-a-single-order-4"><a href="#cancel-a-single-order-4" class="header-anchor">#</a> Cancel a single order</h2> <p><a id="opIdcancelOptionsOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /options/orders/{order_id}</code></p> <p><em>Cancel a single order</em></p> <h3 id="canceloptionsorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>Order ID returned on successful order creation</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;finished&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_mmp&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20210916-5000-C&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763361</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763397</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="canceloptionsorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Order detail</td> <td>Inline</td></tr></tbody></table> <h3 id="canceloptionsorder-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Options order detail</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Options order ID</td></tr> <tr><td>» user</td> <td>integer</td> <td>User ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Creation time of order</td></tr> <tr><td>» finish_time</td> <td>number(double)</td> <td>Order finished time. Not returned if order is open</td></tr> <tr><td>» finish_as</td> <td>string</td> <td>Ending method, including:<br><br>- filled: fully completed<br>- canceled: user canceled<br>- liquidated: forced liquidation cancellation<br>- ioc: Not fully filled immediately because tif is set to ioc<br>- auto_deleveraged: automatic deleveraging cancel<br>- reduce_only: Increased position is cancelled, because reduce_only is set or the position is closed<br>- position_closed: Because the position was closed, the pending order was canceled<br>- reduce_out: Only reduce the excluded pending orders that are not easy to be filled<br>- mmp_cancelled: MMP canceled</td></tr> <tr><td>» status</td> <td>string</td> <td>Order status<br><br>- <code>open</code>: waiting to be traded<br>- <code>finished</code>: finished</td></tr> <tr><td>» contract</td> <td>string</td> <td>Contract name</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>» iceberg</td> <td>integer(int64)</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>» price</td> <td>string</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code> (USDT)</td></tr> <tr><td>» is_close</td> <td>boolean</td> <td>Is the order to close position</td></tr> <tr><td>» is_reduce_only</td> <td>boolean</td> <td>Is the order reduce-only</td></tr> <tr><td>» is_liq</td> <td>boolean</td> <td>Is the order for liquidation</td></tr> <tr><td>» is_mmp</td> <td>boolean</td> <td>Whether it is MMP delegation. Corresponds to <code>mmp</code> in the request.</td></tr> <tr><td>» tif</td> <td>string</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee</td></tr> <tr><td>» left</td> <td>integer(int64)</td> <td>Size left to be traded</td></tr> <tr><td>» fill_price</td> <td>string</td> <td>Fill price of the order</td></tr> <tr><td>» text</td> <td>string</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- web: from web<br>- api: from API<br>- app: from mobile phones<br>- auto_deleveraging: from ADL<br>- liquidation: from liquidation<br>- insurance: from insurance</td></tr> <tr><td>» tkfr</td> <td>string</td> <td>Taker fee</td></tr> <tr><td>» mkfr</td> <td>string</td> <td>Maker fee</td></tr> <tr><td>» refu</td> <td>integer</td> <td>Reference user ID</td></tr> <tr><td>» refr</td> <td>string</td> <td>Referrer rebate</td></tr></tbody></table> <h4 id="enumerated-values-123"><a href="#enumerated-values-123" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidated</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>auto_deleveraged</td></tr> <tr><td>finish_as</td> <td>reduce_only</td></tr> <tr><td>finish_as</td> <td>position_closed</td></tr> <tr><td>finish_as</td> <td>reduce_out</td></tr> <tr><td>finish_as</td> <td>mmp_cancelled</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>tif</td> <td>poc</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="countdown-cancel-orders-3"><a href="#countdown-cancel-orders-3" class="header-anchor">#</a> Countdown cancel orders</h2> <p><a id="opIdcountdownCancelAllOptions"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/countdown_cancel_all'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;timeout&quot;:30,&quot;contract&quot;:&quot;BTC_USDT-20241001-46000-C&quot;,&quot;underlying&quot;:&quot;BTC_USDT&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/countdown_cancel_all&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;timeout&quot;:30,&quot;contract&quot;:&quot;BTC_USDT-20241001-46000-C&quot;,&quot;underlying&quot;:&quot;BTC_USDT&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /options/countdown_cancel_all</code></p> <p><em>Countdown cancel orders</em></p> <p>Option order heartbeat detection, when the <code>timeout</code> time set by the user is reached, if the existing countdown is not canceled or a new countdown is set, the related <code>option pending order</code> will be automatically canceled.
This interface can be called repeatedly to set a new countdown or cancel the countdown.
Usage example: Repeat this interface at intervals of 30 seconds, with each countdown <code>timeout</code> set to 30 (seconds).
If this interface is not called again within 30 seconds, all pending orders on the <code>underlying</code> <code>contract</code> you specified will be automatically cancelled. If <code>underlying</code> <code>contract</code> is not specified, all pending orders of the user will be automatically cancelled
If <code>timeout</code> is set to 0 within 30 seconds, the countdown timer will expire and the automatic order cancellation function will be cancelled.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;timeout&quot;</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20241001-46000-C&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="countdowncancelalloptions-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» timeout</td> <td>body</td> <td>integer(int32)</td> <td>true</td> <td>Countdown time, in seconds</td></tr> <tr><td>» contract</td> <td>body</td> <td>string</td> <td>false</td> <td>Options contract name</td></tr> <tr><td>» underlying</td> <td>body</td> <td>string</td> <td>false</td> <td>Underlying</td></tr></tbody></table> <h4 id="detailed-descriptions-35"><a href="#detailed-descriptions-35" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» timeout</strong>: Countdown time, in seconds
At least 5 seconds, 0 means cancel the countdown</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;triggerTime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1660039145000&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="countdowncancelalloptions-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Set countdown successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="countdowncancelalloptions-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>triggerTime</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» triggerTime</td> <td>integer(int64)</td> <td>Timestamp of the end of the countdown, in milliseconds</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-personal-trading-history-4"><a href="#list-personal-trading-history-4" class="header-anchor">#</a> List personal trading history</h2> <p><a id="opIdlistMyOptionsTrades"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/my_trades'</span>
query_param <span class="token operator">=</span> <span class="token string">'underlying=BTC_USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/my_trades&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;underlying=BTC_USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/my_trades</code></p> <p><em>List personal trading history</em></p> <h3 id="listmyoptionstrades-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>true</td> <td>Underlying (Obtained by listing underlying endpoint)</td></tr> <tr><td>contract</td> <td>query</td> <td>string</td> <td>false</td> <td>Options contract name</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;underlying_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;48000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT-20210916-5000-C&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;role&quot;</span><span class="token operator">:</span> <span class="token string">&quot;taker&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1631763397</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listmyoptionstrades-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listmyoptionstrades-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>Trade ID</td></tr> <tr><td>» create_time</td> <td>number(double)</td> <td>Trading time</td></tr> <tr><td>» contract</td> <td>string</td> <td>Options contract name</td></tr> <tr><td>» order_id</td> <td>integer</td> <td>Order ID related</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>Trading size</td></tr> <tr><td>» price</td> <td>string</td> <td>Trading price (quote currency)</td></tr> <tr><td>» underlying_price</td> <td>string</td> <td>Underlying price (quote currency)</td></tr> <tr><td>» role</td> <td>string</td> <td>Trade role. Available values are <code>taker</code> and <code>maker</code></td></tr></tbody></table> <h4 id="enumerated-values-124"><a href="#enumerated-values-124" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>role</td> <td>taker</td></tr> <tr><td>role</td> <td>maker</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="mmp-settings"><a href="#mmp-settings" class="header-anchor">#</a> MMP Settings</h2> <p><a id="opIdsetOptionsMMP"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/mmp'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;underlying&quot;:&quot;BTC_USDT&quot;,&quot;window&quot;:5000,&quot;frozen_period&quot;:200,&quot;qty_limit&quot;:&quot;10&quot;,&quot;delta_limit&quot;:&quot;10&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/mmp&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;underlying&quot;:&quot;BTC_USDT&quot;,&quot;window&quot;:5000,&quot;frozen_period&quot;:200,&quot;qty_limit&quot;:&quot;10&quot;,&quot;delta_limit&quot;:&quot;10&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /options/mmp</code></p> <p><em>MMP Settings</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;window&quot;</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;frozen_period&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;qty_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;delta_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="setoptionsmmp-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» underlying</td> <td>body</td> <td>string</td> <td>true</td> <td>Underlying</td></tr> <tr><td>» window</td> <td>body</td> <td>integer(int32)</td> <td>true</td> <td>Time window (milliseconds), between 1-5000, 0 means disabling MMP</td></tr> <tr><td>» frozen_period</td> <td>body</td> <td>integer(int32)</td> <td>true</td> <td>Freeze duration (milliseconds), 0 means always frozen, need to call reset API to unfreeze</td></tr> <tr><td>» qty_limit</td> <td>body</td> <td>string</td> <td>true</td> <td>Trading volume upper limit (positive number, up to 2 decimal places)</td></tr> <tr><td>» delta_limit</td> <td>body</td> <td>string</td> <td>true</td> <td>Upper limit of net delta value (positive number, up to 2 decimal places)</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;window&quot;</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;frozen_period&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;qty_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;delta_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;frozen_until_ms&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="setoptionsmmp-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>MMP Information</td> <td>Inline</td></tr></tbody></table> <h3 id="setoptionsmmp-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>MMP Settings</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» underlying</td> <td>string</td> <td>Underlying</td></tr> <tr><td>» window</td> <td>integer(int32)</td> <td>Time window (milliseconds), between 1-5000, 0 means disabling MMP</td></tr> <tr><td>» frozen_period</td> <td>integer(int32)</td> <td>Freeze duration (milliseconds), 0 means always frozen, need to call reset API to unfreeze</td></tr> <tr><td>» qty_limit</td> <td>string</td> <td>Trading volume upper limit (positive number, up to 2 decimal places)</td></tr> <tr><td>» delta_limit</td> <td>string</td> <td>Upper limit of net delta value (positive number, up to 2 decimal places)</td></tr> <tr><td>» trigger_time_ms</td> <td>integer(int64)</td> <td>Trigger freeze time (milliseconds), 0 means no freeze is triggered</td></tr> <tr><td>» frozen_until_ms</td> <td>integer(int64)</td> <td>Unfreeze time (milliseconds). If the freeze duration is not configured, there will be no unfreeze time after the freeze is triggered.</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="mmp-query"><a href="#mmp-query" class="header-anchor">#</a> MMP Query</h2> <p><a id="opIdgetOptionsMMP"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/mmp'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/mmp&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /options/mmp</code></p> <p><em>MMP Query</em></p> <h3 id="getoptionsmmp-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>underlying</td> <td>query</td> <td>string</td> <td>false</td> <td>Underlying</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;window&quot;</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;frozen_period&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
    <span class="token property">&quot;qty_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;delta_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;trigger_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;frozen_until_ms&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getoptionsmmp-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getoptionsmmp-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[MMP Settings]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>MMP Settings</td></tr> <tr><td>»» underlying</td> <td>string</td> <td>Underlying</td></tr> <tr><td>»» window</td> <td>integer(int32)</td> <td>Time window (milliseconds), between 1-5000, 0 means disabling MMP</td></tr> <tr><td>»» frozen_period</td> <td>integer(int32)</td> <td>Freeze duration (milliseconds), 0 means always frozen, need to call reset API to unfreeze</td></tr> <tr><td>»» qty_limit</td> <td>string</td> <td>Trading volume upper limit (positive number, up to 2 decimal places)</td></tr> <tr><td>»» delta_limit</td> <td>string</td> <td>Upper limit of net delta value (positive number, up to 2 decimal places)</td></tr> <tr><td>»» trigger_time_ms</td> <td>integer(int64)</td> <td>Trigger freeze time (milliseconds), 0 means no freeze is triggered</td></tr> <tr><td>»» frozen_until_ms</td> <td>integer(int64)</td> <td>Unfreeze time (milliseconds). If the freeze duration is not configured, there will be no unfreeze time after the freeze is triggered.</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="mmp-reset"><a href="#mmp-reset" class="header-anchor">#</a> MMP Reset</h2> <p><a id="opIdresetOptionsMMP"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/options/mmp/reset'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;underlying&quot;:&quot;BTC_USDT&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/options/mmp/reset&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;underlying&quot;:&quot;BTC_USDT&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /options/mmp/reset</code></p> <p><em>MMP Reset</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="resetoptionsmmp-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» underlying</td> <td>body</td> <td>string</td> <td>true</td> <td>Underlying</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;window&quot;</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;frozen_period&quot;</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  <span class="token property">&quot;qty_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;delta_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;frozen_until_ms&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="resetoptionsmmp-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>MMP Information</td> <td>Inline</td></tr></tbody></table> <h3 id="resetoptionsmmp-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>MMP Settings</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» underlying</td> <td>string</td> <td>Underlying</td></tr> <tr><td>» window</td> <td>integer(int32)</td> <td>Time window (milliseconds), between 1-5000, 0 means disabling MMP</td></tr> <tr><td>» frozen_period</td> <td>integer(int32)</td> <td>Freeze duration (milliseconds), 0 means always frozen, need to call reset API to unfreeze</td></tr> <tr><td>» qty_limit</td> <td>string</td> <td>Trading volume upper limit (positive number, up to 2 decimal places)</td></tr> <tr><td>» delta_limit</td> <td>string</td> <td>Upper limit of net delta value (positive number, up to 2 decimal places)</td></tr> <tr><td>» trigger_time_ms</td> <td>integer(int64)</td> <td>Trigger freeze time (milliseconds), 0 means no freeze is triggered</td></tr> <tr><td>» frozen_until_ms</td> <td>integer(int64)</td> <td>Unfreeze time (milliseconds). If the freeze duration is not configured, there will be no unfreeze time after the freeze is triggered.</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="earnuni"><a href="#earnuni" class="header-anchor">#</a> EarnUni</h1> <p>Lend &amp; Earn</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-currencies-for-lending"><a href="#list-currencies-for-lending" class="header-anchor">#</a> List currencies for lending</h2> <p><a id="opIdlistUniCurrencies"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/currencies'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/earn/uni/currencies <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /earn/uni/currencies</code></p> <p><em>List currencies for lending</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_lend_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_lend_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;200000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00057&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000001&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listunicurrencies-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listunicurrencies-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Currency detail]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Currency detail</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»» min_lend_amount</td> <td>string</td> <td>The minimum lending amount, in the unit of the currency.</td></tr> <tr><td>»» max_lend_amount</td> <td>string</td> <td>The total maximum lending amount, in USDT</td></tr> <tr><td>»» max_rate</td> <td>string</td> <td>Maximum rate (Hourly)</td></tr> <tr><td>»» min_rate</td> <td>string</td> <td>Minimum rate (Hourly)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-currency-detail-for-lending"><a href="#get-currency-detail-for-lending" class="header-anchor">#</a> Get currency detail for lending</h2> <p><a id="opIdgetUniCurrency"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/currencies/btc'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/earn/uni/currencies/btc <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /earn/uni/currencies/{currency}</code></p> <p><em>Get currency detail for lending</em></p> <h3 id="getunicurrency-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>path</td> <td>string</td> <td>true</td> <td>Currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_lend_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;max_lend_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;200000000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;max_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00057&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000001&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getunicurrency-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getunicurrency-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Currency detail</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>» min_lend_amount</td> <td>string</td> <td>The minimum lending amount, in the unit of the currency.</td></tr> <tr><td>» max_lend_amount</td> <td>string</td> <td>The total maximum lending amount, in USDT</td></tr> <tr><td>» max_rate</td> <td>string</td> <td>Maximum rate (Hourly)</td></tr> <tr><td>» min_rate</td> <td>string</td> <td>Minimum rate (Hourly)</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="lend-or-redeem"><a href="#lend-or-redeem" class="header-anchor">#</a> Lend or redeem</h2> <p><a id="opIdcreateUniLend"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/lends'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;AE&quot;,&quot;amount&quot;:&quot;100&quot;,&quot;min_rate&quot;:&quot;0.00001&quot;,&quot;type&quot;:&quot;lend&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/uni/lends&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;AE&quot;,&quot;amount&quot;:&quot;100&quot;,&quot;min_rate&quot;:&quot;0.00001&quot;,&quot;type&quot;:&quot;lend&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /earn/uni/lends</code></p> <p><em>Lend or redeem</em></p> <p><code>Lending</code>:</p> <p>The minimum interest rate is required in lending. The lending result is updated hourly and the interest profit is paid on the next hour. A high interest rate might lead to unsuccessful lending and no profit will be gained for that hour.
If the funds are redeemed before the hourly settlement, no interest can be obtained for that hour.
About priority: the orders created or amended first under the same interest rate will be lent out first</p> <p><code>Redemption</code>:</p> <p>Funds that failed to be lent can be redeemed immediately.
For the successfully lent funds, enjoy the hourly income, and the redemption will arrive at the next hour</p> <p><code>Note</code>:</p> <p>Two minutes before and after the hour is the settlement time, lending and redemption are prohibited.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00001&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lend&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createunilend-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency name</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>The amount of currency could be lent</td></tr> <tr><td>» type</td> <td>body</td> <td>string</td> <td>true</td> <td>type: lend - lend, redeem - redeem</td></tr> <tr><td>» min_rate</td> <td>body</td> <td>string</td> <td>false</td> <td>The minimum interest rate. If the value is too high, it might lead to the unsuccessful lending and no profit will be gained for that hour.</td></tr></tbody></table> <h4 id="enumerated-values-125"><a href="#enumerated-values-125" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>» type</td> <td>lend</td></tr> <tr><td>» type</td> <td>redeem</td></tr></tbody></table> <h3 id="createunilend-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Operated successfully</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-user-s-lending-orders"><a href="#list-user-s-lending-orders" class="header-anchor">#</a> List user's lending orders</h2> <p><a id="opIdlistUserUniLends"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/lends'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/uni/lends&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /earn/uni/lends</code></p> <p><em>List user's lending orders</em></p> <h3 id="listuserunilends-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;current_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.999992&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.999992&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lent_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;frozen_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interest_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;interest_dividend&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reinvest_left_amount&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listuserunilends-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listuserunilends-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Loan record</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» current_amount</td> <td>string</td> <td>Current amount</td></tr> <tr><td>»» amount</td> <td>string</td> <td>Total amount</td></tr> <tr><td>»» lent_amount</td> <td>string</td> <td>Lent amount</td></tr> <tr><td>»» frozen_amount</td> <td>string</td> <td>Frozen amount</td></tr> <tr><td>»» min_rate</td> <td>string</td> <td>Minimum interest rate</td></tr> <tr><td>»» interest_status</td> <td>string</td> <td>Interest status: interest_dividend - regular dividend, interest_reinvest - interest reinvestment</td></tr> <tr><td>»» reinvest_left_amount</td> <td>string</td> <td>Amount not reinvested</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time of the lending order</td></tr> <tr><td>»» update_time</td> <td>integer(int64)</td> <td>Upated time of the lending order</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="amend-lending-order"><a href="#amend-lending-order" class="header-anchor">#</a> Amend lending order</h2> <p><a id="opIdchangeUniLend"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/lends'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;AE&quot;,&quot;min_rate&quot;:&quot;0.0001&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'PATCH'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'PATCH'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;PATCH&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/uni/lends&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;AE&quot;,&quot;min_rate&quot;:&quot;0.0001&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>PATCH /earn/uni/lends</code></p> <p><em>Amend lending order</em></p> <p>Currently only supports amending the minimum interest rate (hour)</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="changeunilend-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>false</td> <td>Currency name</td></tr> <tr><td>» min_rate</td> <td>body</td> <td>string</td> <td>false</td> <td>Minimum interest rate</td></tr></tbody></table> <h3 id="changeunilend-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Updated</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-records-of-lending"><a href="#list-records-of-lending" class="header-anchor">#</a> List records of lending</h2> <p><a id="opIdlistUniLendRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/lend_records'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/uni/lend_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /earn/uni/lend_records</code></p> <p><em>List records of lending</em></p> <h3 id="listunilendrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>type: lend - lend, redeem - redeem</td></tr></tbody></table> <h4 id="enumerated-values-126"><a href="#enumerated-values-126" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Parameter</th> <th>Value</th></tr></thead> <tbody><tr><td>type</td> <td>lend</td></tr> <tr><td>type</td> <td>redeem</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lend&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_wallet_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_lent_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;last_frozen_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listunilendrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listunilendrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Interest Record</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency name</td></tr> <tr><td>»» amount</td> <td>string</td> <td>current amount</td></tr> <tr><td>»» last_wallet_amount</td> <td>string</td> <td>Last wallet amount</td></tr> <tr><td>»» last_lent_amount</td> <td>string</td> <td>Last lent amount</td></tr> <tr><td>»» last_frozen_amount</td> <td>string</td> <td>Last frozen amount</td></tr> <tr><td>»» type</td> <td>string</td> <td>Record type: lend - lend, redeem - redeem</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-the-user-s-total-interest-income-of-specified-currency"><a href="#get-the-user-s-total-interest-income-of-specified-currency" class="header-anchor">#</a> Get the user's total interest income of specified currency</h2> <p><a id="opIdgetUniInterest"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/interests/btc'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/uni/interests/btc&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /earn/uni/interests/{currency}</code></p> <p><em>Get the user's total interest income of specified currency</em></p> <h3 id="getuniinterest-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>path</td> <td>string</td> <td>true</td> <td>Currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;123.345&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getuniinterest-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getuniinterest-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>UniLendInterest</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>» interest</td> <td>string</td> <td>Interest</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-interest-records-3"><a href="#list-interest-records-3" class="header-anchor">#</a> List interest records</h2> <p><a id="opIdlistUniInterestRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/interest_records'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/uni/interest_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /earn/uni/interest_records</code></p> <p><em>List interest records</em></p> <h3 id="listuniinterestrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Retrieve data of the specified currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Maximum response items.  Default: 100, minimum: 1, Maximum: 100</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;AE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;actual_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0005&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.05&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;interest_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;interest_dividend&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1673247054000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listuniinterestrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listuniinterestrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Interest Record</td></tr> <tr><td>»» status</td> <td>integer</td> <td>Status: 0 - fail, 1 - success</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» actual_rate</td> <td>string</td> <td>Actual Rate</td></tr> <tr><td>»» interest</td> <td>string</td> <td>Interest</td></tr> <tr><td>»» interest_status</td> <td>string</td> <td>Interest status: interest_dividend - regular dividend, interest_reinvest - interest reinvestment</td></tr> <tr><td>»» create_time</td> <td>integer(int64)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="set-interest-reinvestment-toggle"><a href="#set-interest-reinvestment-toggle" class="header-anchor">#</a> Set interest reinvestment toggle</h2> <p><a id="opIdswitchInterestReinvest"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/interest_reinvest'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;status&quot;:true}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'PUT'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;PUT&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/uni/interest_reinvest&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;currency&quot;:&quot;BTC&quot;,&quot;status&quot;:true}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>PUT /earn/uni/interest_reinvest</code></p> <p><em>Set interest reinvestment toggle</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="switchinterestreinvest-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Currency</td></tr> <tr><td>» status</td> <td>body</td> <td>boolean</td> <td>true</td> <td>Interest toggle settings, true - interest reinvestment, false - regular dividend</td></tr></tbody></table> <h3 id="switchinterestreinvest-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-currency-interest-compounding-status"><a href="#query-currency-interest-compounding-status" class="header-anchor">#</a> query currency interest compounding status</h2> <p><a id="opIdgetUniInterestStatus"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/uni/interest_status/btc'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/uni/interest_status/btc&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /earn/uni/interest_status/{currency}</code></p> <p><em>query currency interest compounding status</em></p> <h3 id="getuniintereststatus-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>path</td> <td>string</td> <td>true</td> <td>Currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;interest_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;interest_dividend&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getuniintereststatus-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getuniintereststatus-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>UniCurrencyInterest</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>» interest_status</td> <td>string</td> <td>Interest status: interest_dividend - regular dividend, interest_reinvest - interest reinvestment</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="collateral-loan"><a href="#collateral-loan" class="header-anchor">#</a> Collateral-loan</h1> <p>Collateral Loan</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="place-order"><a href="#place-order" class="header-anchor">#</a> Place order</h2> <p><a id="opIdcreateCollateralLoan"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;collateral_amount&quot;:&quot;1&quot;,&quot;collateral_currency&quot;:&quot;BTC&quot;,&quot;borrow_amount&quot;:&quot;49&quot;,&quot;borrow_currency&quot;:&quot;USDT&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;collateral_amount&quot;:&quot;1&quot;,&quot;collateral_currency&quot;:&quot;BTC&quot;,&quot;borrow_amount&quot;:&quot;49&quot;,&quot;borrow_currency&quot;:&quot;USDT&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /loan/collateral/orders</code></p> <p><em>Place order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;collateral_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;49&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createcollateralloan-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» collateral_amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Collateral amount</td></tr> <tr><td>» collateral_currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Collateral</td></tr> <tr><td>» borrow_amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Borrowing amount</td></tr> <tr><td>» borrow_currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Borrowed currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10005578</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createcollateralloan-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>Inline</td></tr></tbody></table> <h3 id="createcollateralloan-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-orders-2"><a href="#list-orders-2" class="header-anchor">#</a> List Orders</h2> <p><a id="opIdlistCollateralLoanOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/collateral/orders</code></p> <p><em>List Orders</em></p> <h3 id="listcollateralloanorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>collateral_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Collateral</td></tr> <tr><td>borrow_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Borrowed currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10000421</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;init_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0003934533764831&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;current_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0004521768651985&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;liquidate_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;initial_status&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_time&quot;</span><span class="token operator">:</span> <span class="token number">1688462668</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left_repay_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;990.0219384&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left_repay_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0219384&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcollateralloanorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcollateralloanorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Collateral Order]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Collateral Order</td></tr> <tr><td>»» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>»» collateral_currency</td> <td>string</td> <td>Collateral</td></tr> <tr><td>»» collateral_amount</td> <td>string</td> <td>Collateral amount</td></tr> <tr><td>»» borrow_currency</td> <td>string</td> <td>Borrowed currency</td></tr> <tr><td>»» borrow_amount</td> <td>string</td> <td>Borrowing amount</td></tr> <tr><td>»» repaid_amount</td> <td>string</td> <td>Repaid amount</td></tr> <tr><td>»» repaid_principal</td> <td>string</td> <td>Repaid principal</td></tr> <tr><td>»» repaid_interest</td> <td>string</td> <td>Repaid interest</td></tr> <tr><td>»» init_ltv</td> <td>string</td> <td>The initial collateralization rate</td></tr> <tr><td>»» current_ltv</td> <td>string</td> <td>The current collateralization rate</td></tr> <tr><td>»» liquidate_ltv</td> <td>string</td> <td>The liquidation collateralization rate</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status:<br>- initial: Initial state after placing the order<br>- collateral_deducted: Collateral deduction successful<br>- collateral_returning: Loan failed - Collateral return pending<br>- lent: Loan successful<br>- repaying: Repayment in progress<br>- liquidating: Liquidation in progress<br>- finished: Order completed<br>- closed_liquidated: Liquidation and repayment completed</td></tr> <tr><td>»» borrow_time</td> <td>integer(int64)</td> <td>Borrowing time, timestamp in seconds</td></tr> <tr><td>»» left_repay_total</td> <td>string</td> <td>Outstanding principal and interest (outstanding principal + outstanding interest)</td></tr> <tr><td>»» left_repay_principal</td> <td>string</td> <td>outstanding principal</td></tr> <tr><td>»» left_repay_interest</td> <td>string</td> <td>outstanding interest</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-a-single-order-5"><a href="#get-a-single-order-5" class="header-anchor">#</a> Get a single order</h2> <p><a id="opIdgetCollateralLoanOrderDetail"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/orders/100001'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/orders/100001&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/collateral/orders/{order_id}</code></p> <p><em>Get a single order</em></p> <h3 id="getcollateralloanorderdetail-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>Order ID returned on successful order creation</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10000421</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;init_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0003934533764831&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;current_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0004521768651985&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liquidate_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;initial_status&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_time&quot;</span><span class="token operator">:</span> <span class="token number">1688462668</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left_repay_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;990.0219384&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left_repay_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0219384&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getcollateralloanorderdetail-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>Inline</td></tr></tbody></table> <h3 id="getcollateralloanorderdetail-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Collateral Order</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>» collateral_currency</td> <td>string</td> <td>Collateral</td></tr> <tr><td>» collateral_amount</td> <td>string</td> <td>Collateral amount</td></tr> <tr><td>» borrow_currency</td> <td>string</td> <td>Borrowed currency</td></tr> <tr><td>» borrow_amount</td> <td>string</td> <td>Borrowing amount</td></tr> <tr><td>» repaid_amount</td> <td>string</td> <td>Repaid amount</td></tr> <tr><td>» repaid_principal</td> <td>string</td> <td>Repaid principal</td></tr> <tr><td>» repaid_interest</td> <td>string</td> <td>Repaid interest</td></tr> <tr><td>» init_ltv</td> <td>string</td> <td>The initial collateralization rate</td></tr> <tr><td>» current_ltv</td> <td>string</td> <td>The current collateralization rate</td></tr> <tr><td>» liquidate_ltv</td> <td>string</td> <td>The liquidation collateralization rate</td></tr> <tr><td>» status</td> <td>string</td> <td>Order status:<br>- initial: Initial state after placing the order<br>- collateral_deducted: Collateral deduction successful<br>- collateral_returning: Loan failed - Collateral return pending<br>- lent: Loan successful<br>- repaying: Repayment in progress<br>- liquidating: Liquidation in progress<br>- finished: Order completed<br>- closed_liquidated: Liquidation and repayment completed</td></tr> <tr><td>» borrow_time</td> <td>integer(int64)</td> <td>Borrowing time, timestamp in seconds</td></tr> <tr><td>» left_repay_total</td> <td>string</td> <td>Outstanding principal and interest (outstanding principal + outstanding interest)</td></tr> <tr><td>» left_repay_principal</td> <td>string</td> <td>outstanding principal</td></tr> <tr><td>» left_repay_interest</td> <td>string</td> <td>outstanding interest</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="repayment"><a href="#repayment" class="header-anchor">#</a> Repayment</h2> <p><a id="opIdrepayCollateralLoan"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/repay'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;order_id&quot;:37438962,&quot;repay_amount&quot;:&quot;1000&quot;,&quot;repaid_all&quot;:false}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/repay&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;order_id&quot;:37438962,&quot;repay_amount&quot;:&quot;1000&quot;,&quot;repaid_all&quot;:false}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /loan/collateral/repay</code></p> <p><em>Repayment</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">37438962</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repay_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_all&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="repaycollateralloan-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» order_id</td> <td>body</td> <td>integer(int64)</td> <td>true</td> <td>Order ID</td></tr> <tr><td>» repay_amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Repayment amount, it is mandatory when making partial repayments</td></tr> <tr><td>» repaid_all</td> <td>body</td> <td>boolean</td> <td>true</td> <td>Repayment method, set to <code>true</code> for full repayment, and <code>false</code> for partial repayment;</td></tr></tbody></table> <h4 id="detailed-descriptions-36"><a href="#detailed-descriptions-36" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» repaid_all</strong>: Repayment method, set to <code>true</code> for full repayment, and <code>false</code> for partial repayment;
When set to false for partial repayment, the repay_amount parameter cannot be greater than the remaining amount to be repaid by the user.</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;repaid_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;111&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="repaycollateralloan-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Operated successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="repaycollateralloan-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Repay</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» repaid_principal</td> <td>string</td> <td>Principal</td></tr> <tr><td>» repaid_interest</td> <td>string</td> <td>Interest</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="repayment-history"><a href="#repayment-history" class="header-anchor">#</a> Repayment history</h2> <p><a id="opIdlistRepayRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/repay_records'</span>
query_param <span class="token operator">=</span> <span class="token string">'source=repay'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/repay_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;source=repay&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/collateral/repay_records</code></p> <p><em>Repayment history</em></p> <h3 id="listrepayrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>source</td> <td>query</td> <td>string</td> <td>true</td> <td>Operation type: repay - Regular repayment, liquidate - Liquidation</td></tr> <tr><td>borrow_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Borrowed currency</td></tr> <tr><td>collateral_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Collateral</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10000425</span><span class="token punctuation">,</span>
    <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">181</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.00000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.00000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;init_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00039345337648310000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_time&quot;</span><span class="token operator">:</span> <span class="token number">1688471851</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repay_time&quot;</span><span class="token operator">:</span> <span class="token number">1688526310</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.25446901544300000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;before_left_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11.00000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pre_left_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;990.00000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;after_left_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;990.00000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;before_left_collateral&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.00000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;after_left_collateral&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.00000000000000000000&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listrepayrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listrepayrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Repayment record</td></tr> <tr><td>»» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>»» record_id</td> <td>integer(int64)</td> <td>Repayment record ID</td></tr> <tr><td>»» repaid_amount</td> <td>string</td> <td>Repayment amount</td></tr> <tr><td>»» borrow_currency</td> <td>string</td> <td>Borrowed currency</td></tr> <tr><td>»» collateral_currency</td> <td>string</td> <td>Collateral</td></tr> <tr><td>»» init_ltv</td> <td>string</td> <td>The initial collateralization rate</td></tr> <tr><td>»» borrow_time</td> <td>integer(int64)</td> <td>Borrowing time, timestamp</td></tr> <tr><td>»» repay_time</td> <td>integer(int64)</td> <td>Repayment time, timestamp</td></tr> <tr><td>»» total_interest</td> <td>string</td> <td>Total interest</td></tr> <tr><td>»» before_left_principal</td> <td>string</td> <td>Principal to be repaid before repayment</td></tr> <tr><td>»» after_left_principal</td> <td>string</td> <td>Principal to be repaid after repayment</td></tr> <tr><td>»» before_left_collateral</td> <td>string</td> <td>Collateral quantity before repayment</td></tr> <tr><td>»» after_left_collateral</td> <td>string</td> <td>Collateral quantity after repayment</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="increase-or-redeem-collateral"><a href="#increase-or-redeem-collateral" class="header-anchor">#</a> Increase or redeem collateral</h2> <p><a id="opIdoperateCollateral"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/collaterals'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;collateral_amount&quot;:&quot;1212&quot;,&quot;collateral_currency&quot;:&quot;BTC&quot;,&quot;order_id&quot;:1130,&quot;type&quot;:&quot;append&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/collaterals&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;collateral_amount&quot;:&quot;1212&quot;,&quot;collateral_currency&quot;:&quot;BTC&quot;,&quot;order_id&quot;:1130,&quot;type&quot;:&quot;append&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /loan/collateral/collaterals</code></p> <p><em>Increase or redeem collateral</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;collateral_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1212&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">1130</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;append&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="operatecollateral-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» order_id</td> <td>body</td> <td>integer(int64)</td> <td>true</td> <td>Order ID</td></tr> <tr><td>» collateral_currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Collateral</td></tr> <tr><td>» collateral_amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Collateral amount</td></tr> <tr><td>» type</td> <td>body</td> <td>string</td> <td>true</td> <td>Operation types: append - for adding collateral, redeem - for withdrawing collateral</td></tr></tbody></table> <h3 id="operatecollateral-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>204</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.5" target="_blank" rel="noopener noreferrer">No Content<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Operated successfully</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-collateral-adjustment-records"><a href="#query-collateral-adjustment-records" class="header-anchor">#</a> Query collateral adjustment records</h2> <p><a id="opIdlistCollateralRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/collaterals'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/collaterals&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/collateral/collaterals</code></p> <p><em>Query collateral adjustment records</em></p> <h3 id="listcollateralrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>borrow_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Borrowed currency</td></tr> <tr><td>collateral_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Collateral</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10000417</span><span class="token punctuation">,</span>
    <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">10000452</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000.00000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pre_collateral&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.00000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;after_collateral&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.00000000000000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pre_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00039345555621480000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;after_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00019672777810740000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;operate_time&quot;</span><span class="token operator">:</span> <span class="token number">1688461924</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcollateralrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcollateralrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Collateral record</td></tr> <tr><td>»» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>»» record_id</td> <td>integer(int64)</td> <td>Collateral record ID</td></tr> <tr><td>»» borrow_currency</td> <td>string</td> <td>Borrowed currency</td></tr> <tr><td>»» borrow_amount</td> <td>string</td> <td>Borrowing amount</td></tr> <tr><td>»» collateral_currency</td> <td>string</td> <td>Collateral</td></tr> <tr><td>»» before_collateral</td> <td>string</td> <td>The collateral amount before adjustment</td></tr> <tr><td>»» after_collateral</td> <td>string</td> <td>The collateral amount after adjustment</td></tr> <tr><td>»» before_ltv</td> <td>string</td> <td>The collateral ratio before adjustment</td></tr> <tr><td>»» after_ltv</td> <td>string</td> <td>The collateral ratio after adjustment</td></tr> <tr><td>»» operate_time</td> <td>integer(int64)</td> <td>Timestamp of the operation, in seconds</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-the-total-borrowing-and-collateral-amount-for-the-user"><a href="#query-the-total-borrowing-and-collateral-amount-for-the-user" class="header-anchor">#</a> Query the total borrowing and collateral amount for the user</h2> <p><a id="opIdgetUserTotalAmount"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/total_amount'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/total_amount&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/collateral/total_amount</code></p> <p><em>Query the total borrowing and collateral amount for the user</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;111&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getusertotalamount-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getusertotalamount-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Total borrowed amount and pledged collateral amount by the user</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» borrow_amount</td> <td>string</td> <td>Total borrowing amount, calculated in USDT</td></tr> <tr><td>» collateral_amount</td> <td>string</td> <td>Total collateral amount, calculated in USDT</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-user-s-collateralization-ratio"><a href="#query-user-s-collateralization-ratio" class="header-anchor">#</a> Query user's collateralization ratio</h2> <p><a id="opIdgetUserLtvInfo"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/ltv'</span>
query_param <span class="token operator">=</span> <span class="token string">'collateral_currency=BTC&amp;borrow_currency=USDT'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/collateral/ltv&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;collateral_currency=BTC&amp;borrow_currency=USDT&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/collateral/ltv</code></p> <p><em>Query user's collateralization ratio</em></p> <h3 id="getuserltvinfo-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>collateral_currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Collateral</td></tr> <tr><td>borrow_currency</td> <td>query</td> <td>string</td> <td>true</td> <td>Borrowed currency</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;collateral_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;init_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.7&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;alert_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.8&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liquidate_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left_borrowable_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;4233030.635065916703&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getuserltvinfo-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getuserltvinfo-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>User's currency statistics data</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» collateral_currency</td> <td>string</td> <td>Collateral</td></tr> <tr><td>» borrow_currency</td> <td>string</td> <td>Borrowed currency</td></tr> <tr><td>» init_ltv</td> <td>string</td> <td>The initial collateralization rate</td></tr> <tr><td>» alert_ltv</td> <td>string</td> <td>Warning collateralization ratio</td></tr> <tr><td>» liquidate_ltv</td> <td>string</td> <td>The liquidation collateralization rate</td></tr> <tr><td>» min_borrow_amount</td> <td>string</td> <td>Minimum borrowable amount for the loan currency</td></tr> <tr><td>» left_borrowable_amount</td> <td>string</td> <td>Remaining borrowable amount for the loan currency</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-supported-borrowing-and-collateral-currencies"><a href="#query-supported-borrowing-and-collateral-currencies" class="header-anchor">#</a> Query supported borrowing and collateral currencies</h2> <p><a id="opIdlistCollateralCurrencies"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/collateral/currencies'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/loan/collateral/currencies <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /loan/collateral/currencies</code></p> <p><em>Query supported borrowing and collateral currencies</em></p> <h3 id="listcollateralcurrencies-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>loan_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>The parameter loan_currency is used to specify the borrowing currency. If loan_currency is not provided, the API will return all supported borrowing currencies. If loan_currency is provided, the API will return an array of collateral currencies supported for the specified borrowing currency.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;loan_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_currency&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;GT&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listcollateralcurrencies-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listcollateralcurrencies-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Supported borrowing and collateral currencies</td></tr> <tr><td>»» loan_currency</td> <td>string</td> <td>Borrowed currency</td></tr> <tr><td>»» collateral_currency</td> <td>array</td> <td>List of supported collateral currencies</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="multi-collateral-loan"><a href="#multi-collateral-loan" class="header-anchor">#</a> Multi-collateral-loan</h1> <p>Multi-Collateral Loan</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-multi-collateral-order"><a href="#create-multi-collateral-order" class="header-anchor">#</a> Create Multi-Collateral Order</h2> <p><a id="opIdcreateMultiCollateral"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;order_id&quot;:1721387470,&quot;order_type&quot;:&quot;fixed&quot;,&quot;fixed_type&quot;:&quot;7d&quot;,&quot;fixed_rate&quot;:0.00001,&quot;auto_renew&quot;:true,&quot;auto_repay&quot;:true,&quot;borrow_currency&quot;:&quot;BTC&quot;,&quot;borrow_amount&quot;:&quot;1&quot;,&quot;collateral_currencies&quot;:[{&quot;currency&quot;:&quot;USDT&quot;,&quot;amount&quot;:&quot;1000&quot;}]}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/multi_collateral/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;order_id&quot;:1721387470,&quot;order_type&quot;:&quot;fixed&quot;,&quot;fixed_type&quot;:&quot;7d&quot;,&quot;fixed_rate&quot;:0.00001,&quot;auto_renew&quot;:true,&quot;auto_repay&quot;:true,&quot;borrow_currency&quot;:&quot;BTC&quot;,&quot;borrow_amount&quot;:&quot;1&quot;,&quot;collateral_currencies&quot;:[{&quot;currency&quot;:&quot;USDT&quot;,&quot;amount&quot;:&quot;1000&quot;}]}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /loan/multi_collateral/orders</code></p> <p><em>Create Multi-Collateral Order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">1721387470</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fixed_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7d&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fixed_rate&quot;</span><span class="token operator">:</span> <span class="token number">0.00001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;auto_renew&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;auto_repay&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createmulticollateral-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» order_id</td> <td>body</td> <td>string</td> <td>false</td> <td>Order ID</td></tr> <tr><td>» order_type</td> <td>body</td> <td>string</td> <td>false</td> <td>current - current, fixed - fixed, if not specified, default to current</td></tr> <tr><td>» fixed_type</td> <td>body</td> <td>string</td> <td>false</td> <td>Fixed interest rate loan period: 7d - 7 days, 30d - 30 days. Must be provided for fixed</td></tr> <tr><td>» fixed_rate</td> <td>body</td> <td>string</td> <td>false</td> <td>Fixed interest rate, must be specified for fixed</td></tr> <tr><td>» auto_renew</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Fixed interest rate, automatic renewal</td></tr> <tr><td>» auto_repay</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Fixed interest rate, automatic repayment</td></tr> <tr><td>» borrow_currency</td> <td>body</td> <td>string</td> <td>true</td> <td>Borrowed currency</td></tr> <tr><td>» borrow_amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Borrowing amount</td></tr> <tr><td>» collateral_currencies</td> <td>body</td> <td>array</td> <td>false</td> <td>Collateral currency and amount</td></tr> <tr><td>»» CollateralCurrency</td> <td>body</td> <td>object</td> <td>false</td> <td>none</td></tr> <tr><td>»»» currency</td> <td>body</td> <td>string</td> <td>false</td> <td>Currency</td></tr> <tr><td>»»» amount</td> <td>body</td> <td>string</td> <td>false</td> <td>Size</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10005578</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createmulticollateral-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>Inline</td></tr></tbody></table> <h3 id="createmulticollateral-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-multi-collateral-orders"><a href="#list-multi-collateral-orders" class="header-anchor">#</a> List Multi-Collateral Orders</h2> <p><a id="opIdlistMultiCollateralOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/multi_collateral/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/orders</code></p> <p><em>List Multi-Collateral Orders</em></p> <h3 id="listmulticollateralorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>page</td> <td>query</td> <td>integer</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>sort</td> <td>query</td> <td>string</td> <td>false</td> <td>Sort types: time_desc - default sorting by creation time in descending order, ltv_asc - ascending order of ltv, ltv_desc - descending order of ltv.</td></tr> <tr><td>order_type</td> <td>query</td> <td>string</td> <td>false</td> <td>Order type, current - query current orders, fixed - query fixed orders. If not specified, default to querying current orders</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10005578&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixed&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fixed_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7d&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;fixed_rate&quot;</span><span class="token operator">:</span> <span class="token number">0.00001</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expire_time&quot;</span><span class="token operator">:</span> <span class="token number">1703820105</span><span class="token punctuation">,</span>
    <span class="token property">&quot;auto_renew&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;auto_repay&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;current_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001004349664281&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lent&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_time&quot;</span><span class="token operator">:</span> <span class="token number">1702615021</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_left_repay_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;106.491212982&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_left_collateral_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1060300.18&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.6491&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;left_repay_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;left_repay_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00002&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;left_repay_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;106.491212982&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;112794.7&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;left_collateral&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9.4&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;left_collateral_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1060270.18&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;left_collateral&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;left_collateral_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listmulticollateralorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listmulticollateralorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>[Multi-Collateral Order]</td></tr> <tr><td>» <em>None</em></td> <td>object</td> <td>Multi-Collateral Order</td></tr> <tr><td>»» order_id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>»» order_type</td> <td>string</td> <td>current - current, fixed - fixed</td></tr> <tr><td>»» fixed_type</td> <td>string</td> <td>Fixed interest rate loan periods: 7d - 7 days, 30d - 30 days.</td></tr> <tr><td>»» fixed_rate</td> <td>string</td> <td>Fixed interest rate</td></tr> <tr><td>»» expire_time</td> <td>integer(int64)</td> <td>Expiration time, timestamp, unit in seconds.</td></tr> <tr><td>»» auto_renew</td> <td>boolean</td> <td>Fixed interest rate, automatic renewal</td></tr> <tr><td>»» auto_repay</td> <td>boolean</td> <td>Fixed interest rate, automatic repayment</td></tr> <tr><td>»» current_ltv</td> <td>string</td> <td>The current collateralization rate</td></tr> <tr><td>»» status</td> <td>string</td> <td>Order status:<br>- initial: Initial state after placing the order<br>- collateral_deducted: Collateral deduction successful<br>- collateral_returning: Loan failed - Collateral return pending<br>- lent: Loan successful<br>- repaying: Repayment in progress<br>- liquidating: Liquidation in progress<br>- finished: Order completed<br>- closed_liquidated: Liquidation and repayment completed</td></tr> <tr><td>»» borrow_time</td> <td>integer(int64)</td> <td>Borrowing time, timestamp in seconds</td></tr> <tr><td>»» total_left_repay_usdt</td> <td>string</td> <td>Value of Left repay amount converted in USDT</td></tr> <tr><td>»» total_left_collateral_usdt</td> <td>string</td> <td>Value of Collateral amount in USDT</td></tr> <tr><td>»» borrow_currencies</td> <td>array</td> <td>Borrowing Currency List</td></tr> <tr><td>»»» BorrowCurrencyInfo</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»»» left_repay_principal</td> <td>string</td> <td>outstanding principal</td></tr> <tr><td>»»»» left_repay_interest</td> <td>string</td> <td>outstanding interest</td></tr> <tr><td>»»»» left_repay_usdt</td> <td>string</td> <td>Value of left total repayments amount in USDT</td></tr> <tr><td>»»» collateral_currencies</td> <td>array</td> <td>Collateral Currency List</td></tr> <tr><td>»»»» CollateralCurrencyInfo</td> <td>object</td> <td>none</td></tr> <tr><td>»»»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»»»» left_collateral</td> <td>string</td> <td>Left Collateral Amount</td></tr> <tr><td>»»»»» left_collateral_usdt</td> <td>string</td> <td>Value of left collateral amount in USDT</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-multi-collateral-order-detail"><a href="#get-multi-collateral-order-detail" class="header-anchor">#</a> Get Multi-Collateral Order Detail</h2> <p><a id="opIdgetMultiCollateralOrderDetail"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/orders/12345'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/multi_collateral/orders/12345&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/orders/{order_id}</code></p> <p><em>Get Multi-Collateral Order Detail</em></p> <h3 id="getmulticollateralorderdetail-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>path</td> <td>string</td> <td>true</td> <td>Order ID returned on successful order creation</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10005578&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fixed&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fixed_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7d&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fixed_rate&quot;</span><span class="token operator">:</span> <span class="token number">0.00001</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expire_time&quot;</span><span class="token operator">:</span> <span class="token number">1703820105</span><span class="token punctuation">,</span>
  <span class="token property">&quot;auto_renew&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;auto_repay&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;current_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001004349664281&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;lent&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_time&quot;</span><span class="token operator">:</span> <span class="token number">1702615021</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_left_repay_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;106.491212982&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total_left_collateral_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1060300.18&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;borrow_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10.6491&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left_repay_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left_repay_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00002&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left_repay_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;106.491212982&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;112794.7&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left_collateral&quot;</span><span class="token operator">:</span> <span class="token string">&quot;9.4&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left_collateral_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1060270.18&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left_collateral&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;left_collateral_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getmulticollateralorderdetail-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>Inline</td></tr></tbody></table> <h3 id="getmulticollateralorderdetail-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Multi-Collateral Order</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» order_id</td> <td>string</td> <td>Order ID</td></tr> <tr><td>» order_type</td> <td>string</td> <td>current - current, fixed - fixed</td></tr> <tr><td>» fixed_type</td> <td>string</td> <td>Fixed interest rate loan periods: 7d - 7 days, 30d - 30 days.</td></tr> <tr><td>» fixed_rate</td> <td>string</td> <td>Fixed interest rate</td></tr> <tr><td>» expire_time</td> <td>integer(int64)</td> <td>Expiration time, timestamp, unit in seconds.</td></tr> <tr><td>» auto_renew</td> <td>boolean</td> <td>Fixed interest rate, automatic renewal</td></tr> <tr><td>» auto_repay</td> <td>boolean</td> <td>Fixed interest rate, automatic repayment</td></tr> <tr><td>» current_ltv</td> <td>string</td> <td>The current collateralization rate</td></tr> <tr><td>» status</td> <td>string</td> <td>Order status:<br>- initial: Initial state after placing the order<br>- collateral_deducted: Collateral deduction successful<br>- collateral_returning: Loan failed - Collateral return pending<br>- lent: Loan successful<br>- repaying: Repayment in progress<br>- liquidating: Liquidation in progress<br>- finished: Order completed<br>- closed_liquidated: Liquidation and repayment completed</td></tr> <tr><td>» borrow_time</td> <td>integer(int64)</td> <td>Borrowing time, timestamp in seconds</td></tr> <tr><td>» total_left_repay_usdt</td> <td>string</td> <td>Value of Left repay amount converted in USDT</td></tr> <tr><td>» total_left_collateral_usdt</td> <td>string</td> <td>Value of Collateral amount in USDT</td></tr> <tr><td>» borrow_currencies</td> <td>array</td> <td>Borrowing Currency List</td></tr> <tr><td>»» BorrowCurrencyInfo</td> <td>object</td> <td>none</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»» left_repay_principal</td> <td>string</td> <td>outstanding principal</td></tr> <tr><td>»»» left_repay_interest</td> <td>string</td> <td>outstanding interest</td></tr> <tr><td>»»» left_repay_usdt</td> <td>string</td> <td>Value of left total repayments amount in USDT</td></tr> <tr><td>»» collateral_currencies</td> <td>array</td> <td>Collateral Currency List</td></tr> <tr><td>»»» CollateralCurrencyInfo</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»»» left_collateral</td> <td>string</td> <td>Left Collateral Amount</td></tr> <tr><td>»»»» left_collateral_usdt</td> <td>string</td> <td>Value of left collateral amount in USDT</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="repay-multi-collateral-loan"><a href="#repay-multi-collateral-loan" class="header-anchor">#</a> Repay Multi-Collateral Loan</h2> <p><a id="opIdrepayMultiCollateralLoan"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/repay'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;order_id&quot;:10005578,&quot;repay_items&quot;:[{&quot;currency&quot;:&quot;btc&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;repaid_all&quot;:false}]}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/multi_collateral/repay&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;order_id&quot;:10005578,&quot;repay_items&quot;:[{&quot;currency&quot;:&quot;btc&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;repaid_all&quot;:false}]}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /loan/multi_collateral/repay</code></p> <p><em>Repay Multi-Collateral Loan</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10005578</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repay_items&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;btc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;repaid_all&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="repaymulticollateralloan-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» order_id</td> <td>body</td> <td>integer(int64)</td> <td>true</td> <td>Order ID</td></tr> <tr><td>» repay_items</td> <td>body</td> <td>array</td> <td>true</td> <td>Repay Currency Item</td></tr> <tr><td>»» MultiLoanRepayItem</td> <td>body</td> <td>object</td> <td>false</td> <td>none</td></tr> <tr><td>»»» currency</td> <td>body</td> <td>string</td> <td>false</td> <td>Repayment currency</td></tr> <tr><td>»»» amount</td> <td>body</td> <td>string</td> <td>false</td> <td>Size</td></tr> <tr><td>»»» repaid_all</td> <td>body</td> <td>boolean</td> <td>false</td> <td>Repayment method, set to true for full repayment, false for partial repayment.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10005679</span><span class="token punctuation">,</span>
  <span class="token property">&quot;repaid_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;INVALID_PARAM_VALUE&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Invalid parameter value&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;repaid_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;repaid_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0001&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="repaymulticollateralloan-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Operated successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="repaymulticollateralloan-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Repay Multi-Collateral Loan</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>» repaid_currencies</td> <td>array</td> <td>Repay Currency List</td></tr> <tr><td>»» RepayCurrencyRes</td> <td>object</td> <td>none</td></tr> <tr><td>»»» succeeded</td> <td>boolean</td> <td>Has the repayment been successful</td></tr> <tr><td>»»» label</td> <td>string</td> <td>Error identifier for unsuccessful operations; empty for successful.</td></tr> <tr><td>»»» message</td> <td>string</td> <td>Error description in case of operation failure; empty when successful.</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Repayment currency</td></tr> <tr><td>»»» repaid_principal</td> <td>string</td> <td>Principal</td></tr> <tr><td>»»» repaid_interest</td> <td>string</td> <td>Principal</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-multi-collateral-repay-records"><a href="#list-multi-collateral-repay-records" class="header-anchor">#</a> List Multi-Collateral Repay Records</h2> <p><a id="opIdlistMultiRepayRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/repay'</span>
query_param <span class="token operator">=</span> <span class="token string">'type=repay'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/multi_collateral/repay&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;type=repay&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/repay</code></p> <p><em>List Multi-Collateral Repay Records</em></p> <h3 id="listmultirepayrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>type</td> <td>query</td> <td>string</td> <td>true</td> <td>Operation type: repay - Regular repayment, liquidate - Liquidation</td></tr> <tr><td>borrow_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Borrowed currency</td></tr> <tr><td>page</td> <td>query</td> <td>integer</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10005679</span><span class="token punctuation">,</span>
    <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">1348</span><span class="token punctuation">,</span>
    <span class="token property">&quot;init_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2141&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;before_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.215&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;after_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.312&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_time&quot;</span><span class="token operator">:</span> <span class="token number">1702995889</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repay_time&quot;</span><span class="token operator">:</span> <span class="token number">1703053927</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BAT&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;103.02&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;103.02&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.999017&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;102.91873134&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETC&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.6014228107&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;601.4228107&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;601.4228107&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;repaid_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BAT&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;103.02&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;repaid_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.001&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;repaid_principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000983&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;repaid_interest&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000017&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;repaid_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.10302&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;total_interest_list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BAT&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;103.02&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000017&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00175134&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left_repay_interest_list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BAT&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;103.02&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000017&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00175134&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listmultirepayrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listmultirepayrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Mult Repay Record</td></tr> <tr><td>»» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>»» record_id</td> <td>integer(int64)</td> <td>Repayment record ID</td></tr> <tr><td>»» init_ltv</td> <td>string</td> <td>The initial collateralization rate</td></tr> <tr><td>»» before_ltv</td> <td>string</td> <td>Ltv before the operation</td></tr> <tr><td>»» after_ltv</td> <td>string</td> <td>Ltv after the operation</td></tr> <tr><td>»» borrow_time</td> <td>integer(int64)</td> <td>Borrowing time, timestamp in seconds.</td></tr> <tr><td>»» repay_time</td> <td>integer(int64)</td> <td>Repayment time, timestamp in seconds.</td></tr> <tr><td>»» borrow_currencies</td> <td>array</td> <td>List of borrowing information</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»» before_amount</td> <td>string</td> <td>Amount before the operation</td></tr> <tr><td>»»» before_amount_usdt</td> <td>string</td> <td>USDT Amount before the operation.</td></tr> <tr><td>»»» after_amount</td> <td>string</td> <td>Amount after the operation.</td></tr> <tr><td>»»» after_amount_usdt</td> <td>string</td> <td>USDT Amount after the operation.</td></tr> <tr><td>»» collateral_currencies</td> <td>array</td> <td>List of collateral information</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»» before_amount</td> <td>string</td> <td>Amount before the operation</td></tr> <tr><td>»»» before_amount_usdt</td> <td>string</td> <td>USDT Amount before the operation.</td></tr> <tr><td>»»» after_amount</td> <td>string</td> <td>Amount after the operation.</td></tr> <tr><td>»»» after_amount_usdt</td> <td>string</td> <td>USDT Amount after the operation.</td></tr> <tr><td>»» repaid_currencies</td> <td>array</td> <td>Repay Currency List</td></tr> <tr><td>»»» RepayRecordRepaidCurrency</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» currency</td> <td>string</td> <td>Repayment currency</td></tr> <tr><td>»»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»»» repaid_amount</td> <td>string</td> <td>Repayment amount</td></tr> <tr><td>»»»» repaid_principal</td> <td>string</td> <td>Principal</td></tr> <tr><td>»»»» repaid_interest</td> <td>string</td> <td>Interest</td></tr> <tr><td>»»»» repaid_amount_usdt</td> <td>string</td> <td>Value of the repayment amount in USDT</td></tr> <tr><td>»»» total_interest_list</td> <td>array</td> <td>Total Interest List</td></tr> <tr><td>»»»» RepayRecordTotalInterest</td> <td>object</td> <td>none</td></tr> <tr><td>»»»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»»»» amount</td> <td>string</td> <td>Interest Amount</td></tr> <tr><td>»»»»» amount_usdt</td> <td>string</td> <td>Interest amount converted to USDT</td></tr> <tr><td>»»»» left_repay_interest_list</td> <td>array</td> <td>List of left repay interest</td></tr> <tr><td>»»»»» RepayRecordLeftInterest</td> <td>object</td> <td>none</td></tr> <tr><td>»»»»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»»»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»»»»» before_amount</td> <td>string</td> <td>Interest amount before repayment</td></tr> <tr><td>»»»»»» before_amount_usdt</td> <td>string</td> <td>Converted value of interest before repayment in USDT</td></tr> <tr><td>»»»»»» after_amount</td> <td>string</td> <td>Interest amount after repayment</td></tr> <tr><td>»»»»»» after_amount_usdt</td> <td>string</td> <td>Converted value of interest after repayment in USDT</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="operate-multi-collateral"><a href="#operate-multi-collateral" class="header-anchor">#</a> Operate Multi-Collateral</h2> <p><a id="opIdoperateMultiCollateral"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/mortgage'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;order_id&quot;:10005578,&quot;type&quot;:&quot;append&quot;,&quot;collaterals&quot;:[{&quot;currency&quot;:&quot;btc&quot;,&quot;amount&quot;:&quot;0.5&quot;}]}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/multi_collateral/mortgage&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;order_id&quot;:10005578,&quot;type&quot;:&quot;append&quot;,&quot;collaterals&quot;:[{&quot;currency&quot;:&quot;btc&quot;,&quot;amount&quot;:&quot;0.5&quot;}]}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /loan/multi_collateral/mortgage</code></p> <p><em>Operate Multi-Collateral</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10005578</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;append&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collaterals&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;btc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="operatemulticollateral-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» order_id</td> <td>body</td> <td>integer(int64)</td> <td>true</td> <td>Order ID</td></tr> <tr><td>» type</td> <td>body</td> <td>string</td> <td>true</td> <td>Operation types: append - for adding collateral, redeem - for withdrawing collateral</td></tr> <tr><td>» collaterals</td> <td>body</td> <td>array</td> <td>false</td> <td>Collateral Currency List</td></tr> <tr><td>»» currency</td> <td>body</td> <td>string</td> <td>false</td> <td>Currency</td></tr> <tr><td>»» amount</td> <td>body</td> <td>string</td> <td>false</td> <td>Size</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10005679</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;succeeded&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;btc&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="operatemulticollateral-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Operated successfully</td> <td>Inline</td></tr></tbody></table> <h3 id="operatemulticollateral-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Result of multi-collateral adjustment</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>» collateral_currencies</td> <td>array</td> <td>Collateral Currency Information</td></tr> <tr><td>»» CollateralCurrencyRes</td> <td>object</td> <td>none</td></tr> <tr><td>»»» succeeded</td> <td>boolean</td> <td>Update success status</td></tr> <tr><td>»»» label</td> <td>string</td> <td>Error identifier for unsuccessful operations; empty for successful.</td></tr> <tr><td>»»» message</td> <td>string</td> <td>Error description in case of operation failure; empty when successful.</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»» amount</td> <td>string</td> <td>Quantity of successful collateral operation; 0 if the operation fails.</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-collateral-adjustment-records-2"><a href="#query-collateral-adjustment-records-2" class="header-anchor">#</a> Query collateral adjustment records</h2> <p><a id="opIdlistMultiCollateralRecords"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/mortgage'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/multi_collateral/mortgage&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/mortgage</code></p> <p><em>Query collateral adjustment records</em></p> <h3 id="listmulticollateralrecords-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>page</td> <td>query</td> <td>integer</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp of the query</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>collateral_currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Collateral</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">10000417</span><span class="token punctuation">,</span>
    <span class="token property">&quot;record_id&quot;</span><span class="token operator">:</span> <span class="token number">10000452</span><span class="token punctuation">,</span>
    <span class="token property">&quot;before_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00039345555621480000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;after_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00019672777810740000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;operate_time&quot;</span><span class="token operator">:</span> <span class="token number">1688461924</span><span class="token punctuation">,</span>
    <span class="token property">&quot;borrow_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.6&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1006&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;collateral_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;30000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;before_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.6&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;after_amount_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1006&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listmulticollateralrecords-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listmulticollateralrecords-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Multi-Collateral adjustment record.</td></tr> <tr><td>»» order_id</td> <td>integer(int64)</td> <td>Order ID</td></tr> <tr><td>»» record_id</td> <td>integer(int64)</td> <td>Collateral record ID</td></tr> <tr><td>»» before_ltv</td> <td>string</td> <td>The collateral ratio before adjustment</td></tr> <tr><td>»» after_ltv</td> <td>string</td> <td>The collateral ratio before adjustment</td></tr> <tr><td>»» operate_time</td> <td>integer(int64)</td> <td>Operation time, timestamp in seconds.</td></tr> <tr><td>»» borrow_currencies</td> <td>array</td> <td>Borrowing Currency List</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»» before_amount</td> <td>string</td> <td>Amount before the operation</td></tr> <tr><td>»»» before_amount_usdt</td> <td>string</td> <td>USDT Amount before the operation.</td></tr> <tr><td>»»» after_amount</td> <td>string</td> <td>Amount after the operation.</td></tr> <tr><td>»»» after_amount_usdt</td> <td>string</td> <td>USDT Amount after the operation.</td></tr> <tr><td>»» collateral_currencies</td> <td>array</td> <td>Collateral Currency List</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»» before_amount</td> <td>string</td> <td>Amount before the operation</td></tr> <tr><td>»»» before_amount_usdt</td> <td>string</td> <td>USDT Amount before the operation.</td></tr> <tr><td>»»» after_amount</td> <td>string</td> <td>Amount after the operation.</td></tr> <tr><td>»»» after_amount_usdt</td> <td>string</td> <td>USDT Amount after the operation.</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-user-currency-quota"><a href="#list-user-currency-quota" class="header-anchor">#</a> List User Currency Quota</h2> <p><a id="opIdlistUserCurrencyQuota"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/currency_quota'</span>
query_param <span class="token operator">=</span> <span class="token string">'type=collateral&amp;currency=BTC'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/loan/multi_collateral/currency_quota&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;type=collateral&amp;currency=BTC&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/currency_quota</code></p> <p><em>List User Currency Quota</em></p> <h3 id="listusercurrencyquota-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>type</td> <td>query</td> <td>string</td> <td>true</td> <td>Currency types: collateral - collateral currency, borrow - borrowing currency.</td></tr> <tr><td>currency</td> <td>query</td> <td>string</td> <td>true</td> <td>When specifying collateral currencies, you can use commas to separate multiple currencies; for borrowing currencies, only one currency can be provided.</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;35306.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_quota&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left_quota&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2768152.4958445218723677&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;left_quote_usdt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;97732668833.536273678&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listusercurrencyquota-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listusercurrencyquota-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Currency Quota</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»» min_quota</td> <td>string</td> <td>Minimum borrowing/collateral quota for the currency</td></tr> <tr><td>»» left_quota</td> <td>string</td> <td>Remaining borrowing/collateral limit for the currency</td></tr> <tr><td>»» left_quote_usdt</td> <td>string</td> <td>Remaining currency limit converted to USDT</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-supported-borrowing-and-collateral-currencies-in-multi-collateral"><a href="#query-supported-borrowing-and-collateral-currencies-in-multi-collateral" class="header-anchor">#</a> Query supported borrowing and collateral currencies in Multi-Collateral</h2> <p><a id="opIdlistMultiCollateralCurrencies"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/currencies'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/loan/multi_collateral/currencies <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/currencies</code></p> <p>*Query supported borrowing and collateral currencies in Multi-Collateral *</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;loan_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1212&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;12&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;collateral_currencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1212&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;discount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.7&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="listmulticollateralcurrencies-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="listmulticollateralcurrencies-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Borrowing and collateral currencies supported for Multi-Collateral.</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» loan_currencies</td> <td>array</td> <td>List of supported borrowing currencies</td></tr> <tr><td>»» MultiLoanItem</td> <td>object</td> <td>none</td></tr> <tr><td>»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»» price</td> <td>string</td> <td>Latest price of the currency</td></tr> <tr><td>»» collateral_currencies</td> <td>array</td> <td>List of supported collateral currencies</td></tr> <tr><td>»»» MultiCollateralItem</td> <td>object</td> <td>none</td></tr> <tr><td>»»»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»»»» index_price</td> <td>string</td> <td>Currency Index Price</td></tr> <tr><td>»»»» discount</td> <td>string</td> <td>Discount</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-multi-collateral-ratio"><a href="#get-multi-collateral-ratio" class="header-anchor">#</a> Get Multi-Collateral ratio</h2> <p><a id="opIdgetMultiCollateralLtv"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/ltv'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/loan/multi_collateral/ltv <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/ltv</code></p> <p><em>Get Multi-Collateral ratio</em></p> <p>The Multi-Collateral ratio is fixed, irrespective of the currency.</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;init_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.7&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;alert_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.8&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liquidate_ltv&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.9&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getmulticollateralltv-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="getmulticollateralltv-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>Collateral Ratio</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» init_ltv</td> <td>string</td> <td>The initial collateralization rate</td></tr> <tr><td>» alert_ltv</td> <td>string</td> <td>Warning collateralization ratio</td></tr> <tr><td>» liquidate_ltv</td> <td>string</td> <td>The liquidation collateralization rate</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-fixed-interest-rates-for-the-currency-for-7-days-and-30-days"><a href="#query-fixed-interest-rates-for-the-currency-for-7-days-and-30-days" class="header-anchor">#</a> Query fixed interest rates for the currency for 7 days and 30 days</h2> <p><a id="opIdgetMultiCollateralFixRate"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/fixed_rate'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/loan/multi_collateral/fixed_rate <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/fixed_rate</code></p> <p><em>Query fixed interest rates for the currency for 7 days and 30 days</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rate_7d&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000023&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rate_30d&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">1703820105</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getmulticollateralfixrate-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getmulticollateralfixrate-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Multi-collateral fixed interest rate</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» rate_7d</td> <td>string</td> <td>Fixed interest rate for a lending period of 7 days</td></tr> <tr><td>»» rate_30d</td> <td>string</td> <td>Fixed interest rate for a lending period of 30 days</td></tr> <tr><td>»» update_time</td> <td>integer(int64)</td> <td>Update time, timestamp, unit in seconds</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-the-current-interest-rate-of-the-currency"><a href="#query-the-current-interest-rate-of-the-currency" class="header-anchor">#</a> Query the current interest rate of the currency</h2> <p><a id="opIdgetMultiCollateralCurrentRate"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/loan/multi_collateral/current_rate'</span>
query_param <span class="token operator">=</span> <span class="token string">'currencies=BTC,GT'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/loan/multi_collateral/current_rate?currencies<span class="token operator">=</span>BTC,GT <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /loan/multi_collateral/current_rate</code></p> <p><em>Query the current interest rate of the currency</em></p> <p>Query the current interest rate of the currency in the last hour. The current interest rate is updated every hour.</p> <h3 id="getmulticollateralcurrentrate-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currencies</td> <td>query</td> <td>array[string]</td> <td>true</td> <td>Specify the currency name to query the array. The array is separated by commas and has a maximum of 100 items.</td></tr> <tr><td>vip_level</td> <td>query</td> <td>string</td> <td>false</td> <td>VIP level, defaults to 0 if not transferred</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;current_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000023&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getmulticollateralcurrentrate-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getmulticollateralcurrentrate-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Multi-currency pledge current interest rate</td></tr> <tr><td>»» currency</td> <td>string</td> <td>Currency</td></tr> <tr><td>»» current_rate</td> <td>string</td> <td>Currency current interest rate</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="earn"><a href="#earn" class="header-anchor">#</a> Earn</h1> <p>earn</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="eth2-swap"><a href="#eth2-swap" class="header-anchor">#</a> ETH2 swap</h2> <p><a id="opIdswapETH2"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/staking/eth2/swap'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;side&quot;:&quot;1&quot;,&quot;amount&quot;:&quot;1.5&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/staking/eth2/swap&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;side&quot;:&quot;1&quot;,&quot;amount&quot;:&quot;1.5&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /earn/staking/eth2/swap</code></p> <p><em>ETH2 swap</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.5&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="swapeth2-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» side</td> <td>body</td> <td>string</td> <td>true</td> <td>1-Forward Swap（ETH -&gt; ETH2）, 2-Reverse Swap（ETH2 -&gt; ETH）</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>amount</td></tr></tbody></table> <h3 id="swapeth2-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>swap success</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="eth2-historical-rate-of-return-query"><a href="#eth2-historical-rate-of-return-query" class="header-anchor">#</a> ETH2 historical rate of return query</h2> <p><a id="opIdrateListETH2"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/staking/eth2/rate_records'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/staking/eth2/rate_records&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /earn/staking/eth2/rate_records</code></p> <p><em>ETH2 historical rate of return query</em></p> <p>Check the ETH earnings rate record for the last 31 days</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;date_time&quot;</span><span class="token operator">:</span> <span class="token number">1690348815</span><span class="token punctuation">,</span>
    <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-07-26&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;60.00&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;date_time&quot;</span><span class="token operator">:</span> <span class="token number">1690435215</span><span class="token punctuation">,</span>
    <span class="token property">&quot;date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2023-07-27&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20.00&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="ratelisteth2-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td>[Inline]</td></tr></tbody></table> <h3 id="ratelisteth2-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» date_time</td> <td>integer(int64)</td> <td>Date and Time Stamp</td></tr> <tr><td>» date</td> <td>string</td> <td>Date</td></tr> <tr><td>» rate</td> <td>string</td> <td>percentage</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="dual-investment-product-list"><a href="#dual-investment-product-list" class="header-anchor">#</a> Dual Investment product list</h2> <p><a id="opIdlistDualInvestmentPlans"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/dual/investment_plan'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/earn/dual/investment_plan <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /earn/dual/investment_plan</code></p> <p><em>Dual Investment product list</em></p> <h3 id="listdualinvestmentplans-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>plan_id</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Financial project id</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">272</span><span class="token punctuation">,</span>
    <span class="token property">&quot;instrument_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DOGE-17NOV23-0.067-P&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;put&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;invest_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;exercise_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DOGE&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;exercise_price&quot;</span><span class="token operator">:</span> <span class="token number">0.067</span><span class="token punctuation">,</span>
    <span class="token property">&quot;delivery_time&quot;</span><span class="token operator">:</span> <span class="token number">1700208000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_copies&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_copies&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;start_time&quot;</span><span class="token operator">:</span> <span class="token number">1697685172</span><span class="token punctuation">,</span>
    <span class="token property">&quot;end_time&quot;</span><span class="token operator">:</span> <span class="token number">1697685172</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ONGOING&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;apy_display&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0114000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;per_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdualinvestmentplans-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdualinvestmentplans-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int32)</td> <td>Plan ID</td></tr> <tr><td>» instrument_name</td> <td>string</td> <td>Instrument Name</td></tr> <tr><td>» invest_currency</td> <td>string</td> <td>Investment Currency</td></tr> <tr><td>» exercise_currency</td> <td>string</td> <td>Strike Currency</td></tr> <tr><td>» exercise_price</td> <td>number(double)</td> <td>Strike price</td></tr> <tr><td>» delivery_time</td> <td>integer(int32)</td> <td>Settlement time</td></tr> <tr><td>» min_copies</td> <td>integer(int32)</td> <td>Minimum Copies</td></tr> <tr><td>» max_copies</td> <td>integer(int32)</td> <td>Maximum Copies</td></tr> <tr><td>» per_value</td> <td>string</td> <td>Per Unit Value</td></tr> <tr><td>» apy_display</td> <td>string</td> <td>APY</td></tr> <tr><td>» start_time</td> <td>integer(int32)</td> <td>start time</td></tr> <tr><td>» end_time</td> <td>integer(int32)</td> <td>Finished time</td></tr> <tr><td>» status</td> <td>string</td> <td>Status: <br><br><code>NOTSTARTED</code>-not started <br><code>ONGOING</code>-ongoing <br><code>ENDED</code>-ended</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="dual-investment-order-list"><a href="#dual-investment-order-list" class="header-anchor">#</a> Dual Investment order list</h2> <p><a id="opIdlistDualOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/dual/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/dual/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /earn/dual/orders</code></p> <p><em>Dual Investment order list</em></p> <h3 id="listdualorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start checkout time</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End settlement time</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">373</span><span class="token punctuation">,</span>
    <span class="token property">&quot;plan_id&quot;</span><span class="token operator">:</span> <span class="token number">176</span><span class="token punctuation">,</span>
    <span class="token property">&quot;copies&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;invest_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settlement_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1697685172</span><span class="token punctuation">,</span>
    <span class="token property">&quot;complete_time&quot;</span><span class="token operator">:</span> <span class="token number">1697685172</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CANCELED&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;invest_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;exercise_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settlement_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;exercise_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;24500.0000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;settlement_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;delivery_time&quot;</span><span class="token operator">:</span> <span class="token number">1697685172</span><span class="token punctuation">,</span>
    <span class="token property">&quot;apy_display&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.6800000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;apy_settlement&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0000000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-custom-text&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="listdualorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td>[Inline]</td></tr></tbody></table> <h3 id="listdualorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int32)</td> <td>Order ID</td></tr> <tr><td>» plan_id</td> <td>integer(int32)</td> <td>Plan ID</td></tr> <tr><td>» copies</td> <td>string</td> <td>Copies</td></tr> <tr><td>» invest_amount</td> <td>string</td> <td>Investment Amount</td></tr> <tr><td>» settlement_amount</td> <td>string</td> <td>Settlement Amount</td></tr> <tr><td>» create_time</td> <td>integer(int32)</td> <td>Creation time</td></tr> <tr><td>» complete_time</td> <td>integer(int32)</td> <td>Completion Time</td></tr> <tr><td>» status</td> <td>string</td> <td>Status:<br><br><code>INIT</code>-INIT<br><code>SETTLEMENT_SUCCESS</code>-Settlement Success<br><code>SETTLEMENT_PROCESSING</code>-SEttlement Processing<br><code>CANCELED</code>-Canceled<br><code>FAILED</code>-Failed</td></tr> <tr><td>» invest_currency</td> <td>string</td> <td>Investment Currency</td></tr> <tr><td>» exercise_currency</td> <td>string</td> <td>Strike Currency</td></tr> <tr><td>» exercise_price</td> <td>string</td> <td>Strike price</td></tr> <tr><td>» settlement_price</td> <td>string</td> <td>settlement price</td></tr> <tr><td>» settlement_currency</td> <td>string</td> <td>Settle currency</td></tr> <tr><td>» apy_display</td> <td>string</td> <td>APY</td></tr> <tr><td>» apy_settlement</td> <td>string</td> <td>Settlement APY</td></tr> <tr><td>» delivery_time</td> <td>integer(int32)</td> <td>Settlement time</td></tr> <tr><td>» text</td> <td>string</td> <td>Custom order information</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="place-dual-investment-order"><a href="#place-dual-investment-order" class="header-anchor">#</a> Place Dual Investment order</h2> <p><a id="opIdplaceDualOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/dual/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;plan_id&quot;:&quot;176&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;text&quot;:&quot;t-custom-text&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/dual/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;plan_id&quot;:&quot;176&quot;,&quot;amount&quot;:&quot;1&quot;,&quot;text&quot;:&quot;t-custom-text&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /earn/dual/orders</code></p> <p><em>Place Dual Investment order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;plan_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;176&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;t-custom-text&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="placedualorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» plan_id</td> <td>body</td> <td>string</td> <td>true</td> <td>Plan ID</td></tr> <tr><td>» copies</td> <td>body</td> <td>string</td> <td>false</td> <td>The number of copies is mutually exclusive with the amount field and will be deprecated soon. It is recommended to use the amount parameter.</td></tr> <tr><td>» is_max</td> <td>body</td> <td>integer(int32)</td> <td>false</td> <td>Whether to purchase at the maximum. Mutually exclusive with the amount field. Will be deprecated soon. It is recommended to use the amount parameter.</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>true</td> <td>Subscription amount, mutually exclusive with the copies field</td></tr> <tr><td>» text</td> <td>body</td> <td>string</td> <td>false</td> <td>User defined information. If not empty, must follow the rules below:</td></tr></tbody></table> <h4 id="detailed-descriptions-37"><a href="#detailed-descriptions-37" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>» text</strong>: User defined information. If not empty, must follow the rules below:</p> <ol><li>prefixed with <code>t-</code></li> <li>no longer than 28 bytes without <code>t-</code> prefix</li> <li>can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)</li></ol> <h3 id="placedualorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="structured-product-list"><a href="#structured-product-list" class="header-anchor">#</a> Structured Product List</h2> <p><a id="opIdlistStructuredProducts"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/structured/products'</span>
query_param <span class="token operator">=</span> <span class="token string">'status=in_process'</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> GET https://api.gateio.ws/api/v4/earn/structured/products?status<span class="token operator">=</span>in_process <span class="token punctuation">\</span>
  <span class="token parameter variable">-H</span> <span class="token string">'Accept: application/json'</span>

</code></pre></div></div> <p><code>GET /earn/structured/products</code></p> <p><em>Structured Product List</em></p> <h3 id="liststructuredproducts-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>type</td> <td>query</td> <td>string</td> <td>false</td> <td>Product Type (default all)</td></tr> <tr><td>status</td> <td>query</td> <td>string</td> <td>true</td> <td>Status (default: all)</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr></tbody></table> <h4 id="detailed-descriptions-38"><a href="#detailed-descriptions-38" class="header-anchor">#</a> Detailed descriptions</h4> <p><strong>type</strong>: Product Type (default all)</p> <p><code>SharkFin2.0</code>-SharkFin
<code>BullishSharkFin</code>-BullishSharkFin
<code>BearishSharkFin</code>-BearishSharkFin
<code>DoubleNoTouch</code>-DoubleNoTouch
<code>RangeAccrual</code>-RangeAccrual
<code>SnowBall</code>-SnowBall</p> <p><strong>status</strong>: Status (default: all)</p> <p><code>in_process</code>-processing
<code>will_begin</code>-unstarted
<code>wait_settlement</code>-unsettled
<code>done</code>-finish</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">3700</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BullishSharkFin&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name_en&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Bullish Sharkfin_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;investment_period&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
    <span class="token property">&quot;min_annual_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.50&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mid_annual_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;7.50&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_annual_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;13.00&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;watch_market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BTC_USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;investment_coin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;start_time&quot;</span><span class="token operator">:</span> <span class="token number">1698224400</span><span class="token punctuation">,</span>
    <span class="token property">&quot;end_time&quot;</span><span class="token operator">:</span> <span class="token number">1700902800</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;in_process&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="liststructuredproducts-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td>[Inline]</td></tr></tbody></table> <h3 id="liststructuredproducts-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Structured Products</td></tr> <tr><td>»» id</td> <td>integer(int32)</td> <td>Plan ID</td></tr> <tr><td>»» type</td> <td>string</td> <td>product type: <br><br><code>SharkFin2.0</code>-Shark Fin2.0 <br><code>BullishSharkFin</code>-Bullish Shark Fin <br><code>BearishSharkFin</code>-Bearish Shark Fin<br><code>DoubleNoTouch</code>-Double No-Touch<br><code>RangeAccrual</code>-Range Accrual<br><code>SnowBall</code>-Snow Ball</td></tr> <tr><td>»» name_en</td> <td>string</td> <td>name</td></tr> <tr><td>»» investment_coin</td> <td>string</td> <td>Investment Currency</td></tr> <tr><td>»» investment_period</td> <td>string</td> <td>Investment term</td></tr> <tr><td>»» min_annual_rate</td> <td>string</td> <td>Minimum annual rate</td></tr> <tr><td>»» mid_annual_rate</td> <td>string</td> <td>Intermediate annual rate</td></tr> <tr><td>»» max_annual_rate</td> <td>string</td> <td>Maximum annual rate</td></tr> <tr><td>»» watch_market</td> <td>string</td> <td>Watch market</td></tr> <tr><td>»» start_time</td> <td>integer(int32)</td> <td>start time</td></tr> <tr><td>»» end_time</td> <td>integer(int32)</td> <td>Finished time</td></tr> <tr><td>»» status</td> <td>string</td> <td>Status: <br><br><code>in_process</code>-in progress <br><code>will_begin</code>-will begin <br><code>wait_settlement</code>-waiting for settlement <br><code>done</code>-done</td></tr></tbody></table> <aside class="success">
This operation does not require authentication
</aside></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="structured-product-order-list"><a href="#structured-product-order-list" class="header-anchor">#</a> Structured Product Order List</h2> <p><a id="opIdlistStructuredOrders"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/structured/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/structured/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /earn/structured/orders</code></p> <p><em>Structured Product Order List</em></p> <h3 id="liststructuredorders-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Start timestamp</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>End timestamp</td></tr> <tr><td>page</td> <td>query</td> <td>integer(int32)</td> <td>false</td> <td>Page number</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span>
    <span class="token property">&quot;pid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3691&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lock_coin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ETH&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;20&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SUCCESS&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;income&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.000000&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1697685172</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="liststructuredorders-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td>[Inline]</td></tr></tbody></table> <h3 id="liststructuredorders-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Structured order</td></tr> <tr><td>»» id</td> <td>integer(int32)</td> <td>Order ID</td></tr> <tr><td>»» pid</td> <td>string</td> <td>Plan ID</td></tr> <tr><td>»» lock_coin</td> <td>string</td> <td>Locked coin</td></tr> <tr><td>»» amount</td> <td>string</td> <td>Locked amount</td></tr> <tr><td>»» status</td> <td>string</td> <td>Status: <br><br>SUCCESS - SUCCESS <br>FAILED - FAILED<br>DONE - DONE</td></tr> <tr><td>»» income</td> <td>string</td> <td>Income</td></tr> <tr><td>»» create_time</td> <td>integer(int32)</td> <td>Created time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="place-structured-product-order"><a href="#place-structured-product-order" class="header-anchor">#</a> Place Structured Product Order</h2> <p><a id="opIdplaceStructuredOrder"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/earn/structured/orders'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;pid&quot;:&quot;1&quot;,&quot;amount&quot;:&quot;0.5&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/earn/structured/orders&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;pid&quot;:&quot;1&quot;,&quot;amount&quot;:&quot;0.5&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /earn/structured/orders</code></p> <p><em>Place Structured Product Order</em></p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;pid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="placestructuredorder-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» pid</td> <td>body</td> <td>string</td> <td>false</td> <td>Plan ID</td></tr> <tr><td>» amount</td> <td>body</td> <td>string</td> <td>false</td> <td>Purchase Amount</td></tr></tbody></table> <h3 id="placestructuredorder-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="account"><a href="#account" class="header-anchor">#</a> Account</h1> <p>Get account detail</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-account-detail"><a href="#get-account-detail" class="header-anchor">#</a> Get account detail</h2> <p><a id="opIdgetAccountDetail"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/detail'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/detail&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /account/detail</code></p> <p><em>Get account detail</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">1667201533</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ip_whitelist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;127.0.0.1&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pairs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;USDT_BTC&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;copy_trading_role&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getaccountdetail-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td>Inline</td></tr></tbody></table> <h3 id="getaccountdetail-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>AccountDetail</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» ip_whitelist</td> <td>array</td> <td>IP whitelist</td></tr> <tr><td>» currency_pairs</td> <td>array</td> <td>CurrencyPair whitelisting</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» tier</td> <td>integer(int64)</td> <td>User VIP level</td></tr> <tr><td>» key</td> <td>object</td> <td>API Key detail</td></tr> <tr><td>»» mode</td> <td>integer(int32)</td> <td>mode: 1 - classic account 2 - portfolio margin account</td></tr> <tr><td>» copy_trading_role</td> <td>integer(int32)</td> <td>User role: 0 - Ordinary user 1 - Order leader 2 - Follower 3 - Order leader and follower</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="get-user-transaction-rate-limit-information"><a href="#get-user-transaction-rate-limit-information" class="header-anchor">#</a> Get user transaction rate limit information</h2> <p><a id="opIdgetAccountRateLimit"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/rate_limit'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/rate_limit&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /account/rate_limit</code></p> <p><em>Get user transaction rate limit information</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ratio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;main_ratio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1728230400&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;futures&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;ratio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;main_ratio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1728230400&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="getaccountratelimit-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successful</td> <td>[Inline]</td></tr></tbody></table> <h3 id="getaccountratelimit-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <p><em>AccountRateLimit</em></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>AccountRateLimit</td> <td>array</td> <td>Account flow limit</td></tr> <tr><td>» tier</td> <td>string</td> <td>Frequency limit level (For detailed frequency limit rules, see <a href="#rate-limit-based-on-fill-ratio">Transaction ratio frequency limit</a>)</td></tr> <tr><td>» ratio</td> <td>string</td> <td>Transaction rate</td></tr> <tr><td>» main_ratio</td> <td>string</td> <td>Total transaction ratio of main account</td></tr> <tr><td>» updated_at</td> <td>string</td> <td>Update time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="create-stp-group"><a href="#create-stp-group" class="header-anchor">#</a> Create STP Group</h2> <p><a id="opIdcreateSTPGroup"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/stp_groups'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;name&quot;:&quot;stp_name&quot;}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/stp_groups&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;name&quot;:&quot;stp_name&quot;}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /account/stp_groups</code></p> <p><em>Create STP Group</em></p> <p>Only the main account is allowed to create a new STP user group</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;stp_name&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createstpgroup-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td>object</td> <td>true</td> <td>none</td></tr> <tr><td>» id</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>STP Group ID</td></tr> <tr><td>» name</td> <td>body</td> <td>string</td> <td>true</td> <td>STP Group name</td></tr> <tr><td>» creator_id</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>Creator ID</td></tr> <tr><td>» create_time</td> <td>body</td> <td>integer(int64)</td> <td>false</td> <td>Creation time</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">123435</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;group&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1548000000</span><span class="token punctuation">,</span>
  <span class="token property">&quot;creator_id&quot;</span><span class="token operator">:</span> <span class="token number">10000</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="createstpgroup-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>User added successfully. Returning the current users within the STP group.</td> <td>Inline</td></tr></tbody></table> <h3 id="createstpgroup-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» id</td> <td>integer(int64)</td> <td>STP Group ID</td></tr> <tr><td>» name</td> <td>string</td> <td>STP Group name</td></tr> <tr><td>» creator_id</td> <td>integer(int64)</td> <td>Creator ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-stp-groups"><a href="#list-stp-groups" class="header-anchor">#</a> List STP Groups</h2> <p><a id="opIdlistSTPGroups"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/stp_groups'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/stp_groups&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /account/stp_groups</code></p> <p><em>List STP Groups</em></p> <p>Retrieve the list of STP groups created by the main account user only</p> <h3 id="liststpgroups-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>name</td> <td>query</td> <td>string</td> <td>false</td> <td>Perform a fuzzy search based on the name</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">123435</span><span class="token punctuation">,</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;group&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1548000000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;creator_id&quot;</span><span class="token operator">:</span> <span class="token number">10000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="liststpgroups-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="liststpgroups-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» id</td> <td>integer(int64)</td> <td>STP Group ID</td></tr> <tr><td>» name</td> <td>string</td> <td>STP Group name</td></tr> <tr><td>» creator_id</td> <td>integer(int64)</td> <td>Creator ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="list-users-of-the-stp-group"><a href="#list-users-of-the-stp-group" class="header-anchor">#</a> List users of the STP group</h2> <p><a id="opIdlistSTPGroupsUsers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/stp_groups/1/users'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/stp_groups/1/users&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /account/stp_groups/{stp_id}/users</code></p> <p><em>List users of the STP group</em></p> <p>Only the main account that created this STP group is allowed to list the user ID of the STP group</p> <h3 id="liststpgroupsusers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>stp_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>STP Group ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1548000000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="liststpgroupsusers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>[Inline]</td></tr></tbody></table> <h3 id="liststpgroupsusers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» stp_id</td> <td>integer(int64)</td> <td>STP Group ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="add-users-to-the-stp-group"><a href="#add-users-to-the-stp-group" class="header-anchor">#</a> Add users to the STP group</h2> <p><a id="opIdaddSTPGroupUsers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/stp_groups/1/users'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'[1,2,3]'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/stp_groups/1/users&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'[1,2,3]'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /account/stp_groups/{stp_id}/users</code></p> <p><em>Add users to the STP group</em></p> <ul><li>Only the master account that created the STP user group is allowed to add users to the STP user group.- Only accounts under the main account are allowed to be added. Cross-account is not permitted</li></ul> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token number">3</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="addstpgroupusers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>stp_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>STP Group ID</td></tr> <tr><td>body</td> <td>body</td> <td>array[integer]</td> <td>true</td> <td>User ID</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1548000000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="addstpgroupusers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>User added successfully. Returning the current users within the STP group.</td> <td>[Inline]</td></tr></tbody></table> <h3 id="addstpgroupusers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» stp_id</td> <td>integer(int64)</td> <td>STP Group ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="delete-the-user-in-the-stp-group"><a href="#delete-the-user-in-the-stp-group" class="header-anchor">#</a> Delete the user in the STP group</h2> <p><a id="opIddeleteSTPGroupUsers"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/stp_groups/1/users'</span>
query_param <span class="token operator">=</span> <span class="token string">'user_id=1'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'DELETE'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;DELETE&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/stp_groups/1/users&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;user_id=1&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>DELETE /account/stp_groups/{stp_id}/users</code></p> <p><em>Delete the user in the STP group</em></p> <ul><li>Only the main account that created this STP group is allowed to delete users from the STP user group</li> <li>Deletion is limited to accounts under the current main account; cross-account deletion is not permitted</li></ul> <h3 id="deletestpgroupusers-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>stp_id</td> <td>path</td> <td>integer(int64)</td> <td>true</td> <td>STP Group ID</td></tr> <tr><td>user_id</td> <td>query</td> <td>integer(int64)</td> <td>true</td> <td>STP user ID, multiple can be separated by commas</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">1548000000</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div></div> <h3 id="deletestpgroupusers-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>[Inline]</td></tr></tbody></table> <h3 id="deletestpgroupusers-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td><em>None</em></td> <td>array</td> <td>none</td></tr> <tr><td>» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>» stp_id</td> <td>integer(int64)</td> <td>STP Group ID</td></tr> <tr><td>» create_time</td> <td>integer(int64)</td> <td>Creation time</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="set-gt-deduction"><a href="#set-gt-deduction" class="header-anchor">#</a> Set GT deduction.</h2> <p><a id="opIdsetDebitFee"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/debit_fee'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
body<span class="token operator">=</span><span class="token string">'{&quot;enabled&quot;:true}'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">,</span> body<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'POST'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>body<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;POST&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/debit_fee&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">'{&quot;enabled&quot;:true}'</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token parameter variable">-d</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;Content-Type: application/json&quot;</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>POST /account/debit_fee</code></p> <p><em>Set GT deduction.</em></p> <p>Enable or disable GT deduction for the current account.</p> <div type="example" class="examples"><blockquote><p>Body parameter</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="setdebitfee-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>body</td> <td>body</td> <td><a href="#schemadebitfee">DebitFee</a></td> <td>true</td> <td>none</td></tr> <tr><td>» enabled</td> <td>body</td> <td>boolean</td> <td>true</td> <td>Whether GT fee discount is used</td></tr></tbody></table> <h3 id="setdebitfee-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td>None</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="query-gt-deduction-configuration"><a href="#query-gt-deduction-configuration" class="header-anchor">#</a> Query GT deduction configuration.</h2> <p><a id="opIdgetDebitFee"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/account/debit_fee'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/account/debit_fee&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /account/debit_fee</code></p> <p><em>Query GT deduction configuration.</em></p> <p>Query the current GT deduction configuration for the account.</p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="getdebitfee-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Success</td> <td><a href="#schemadebitfee">DebitFee</a></td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h1 id="rebate-2"><a href="#rebate-2" class="header-anchor">#</a> Rebate</h1> <p>broker rebate endpints</p></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="the-agency-obtains-the-transaction-history-of-the-recommended-user"><a href="#the-agency-obtains-the-transaction-history-of-the-recommended-user" class="header-anchor">#</a> The agency obtains the transaction history of the recommended user</h2> <p><a id="opIdagencyTransactionHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/agency/transaction_history'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/agency/transaction_history&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/agency/transaction_history</code></p> <p><em>The agency obtains the transaction history of the recommended user</em></p> <p>Record time range cannot exceed 30 days</p> <h3 id="agencytransactionhistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify the currency pair, if not specified, return all currency pairs</td></tr> <tr><td>user_id</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>User ID. If not specified, all user records will be returned</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range beginning, default to 7 days before current time</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;transaction_time&quot;</span><span class="token operator">:</span> <span class="token number">1539852480</span><span class="token punctuation">,</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;group_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gateio&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fee_asset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SPOT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount_asset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="agencytransactionhistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="agencytransactionhistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» total</td> <td>integer(int64)</td> <td>Total</td></tr> <tr><td>» list</td> <td>array</td> <td>List of transaction history</td></tr> <tr><td>»» AgencyTransaction</td> <td>object</td> <td>none</td></tr> <tr><td>»»» transaction_time</td> <td>integer(int64)</td> <td>Transaction Time. (unix timestamp)</td></tr> <tr><td>»»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»»» group_name</td> <td>string</td> <td>Group name</td></tr> <tr><td>»»» fee</td> <td>string</td> <td>Fee</td></tr> <tr><td>»»» fee_asset</td> <td>string</td> <td>Fee currency</td></tr> <tr><td>»»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»»» amount</td> <td>string</td> <td>Commission Amount</td></tr> <tr><td>»»» amount_asset</td> <td>string</td> <td>Commission Asset</td></tr> <tr><td>»»» source</td> <td>string</td> <td>Source.  SPOT - SPOT Rebate, FUTURES - Futures Rebate</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="the-agency-obtains-the-commission-history-of-the-recommended-user"><a href="#the-agency-obtains-the-commission-history-of-the-recommended-user" class="header-anchor">#</a> The agency obtains the commission history of the recommended user</h2> <p><a id="opIdagencyCommissionsHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/agency/commission_history'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/agency/commission_history&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/agency/commission_history</code></p> <p><em>The agency obtains the commission history of the recommended user</em></p> <p>Record time range cannot exceed 30 days</p> <h3 id="agencycommissionshistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Filter by currency. Return all currency records if not specified</td></tr> <tr><td>user_id</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>User ID. If not specified, all user records will be returned</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range beginning, default to 7 days before current time</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
  <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;commission_time&quot;</span><span class="token operator">:</span> <span class="token number">1539852480</span><span class="token punctuation">,</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
      <span class="token property">&quot;group_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gateio&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commission_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SPOT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commission_asset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;GT&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="agencycommissionshistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="agencycommissionshistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>» total</td> <td>integer(int64)</td> <td>Total</td></tr> <tr><td>» list</td> <td>array</td> <td>List of comission history</td></tr> <tr><td>»» AgencyCommission</td> <td>object</td> <td>none</td></tr> <tr><td>»»» commission_time</td> <td>integer(int64)</td> <td>Commission Time. (unix timestamp)</td></tr> <tr><td>»»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»»» group_name</td> <td>string</td> <td>Group name</td></tr> <tr><td>»»» commission_amount</td> <td>string</td> <td>Commission Amount</td></tr> <tr><td>»»» commission_asset</td> <td>string</td> <td>Commission Asset</td></tr> <tr><td>»»» source</td> <td>string</td> <td>Source.  SPOT - SPOT Rebate, FUTURES - Futures Rebate</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="partner-obtains-transaction-records-of-recommended-users"><a href="#partner-obtains-transaction-records-of-recommended-users" class="header-anchor">#</a> Partner obtains transaction records of recommended users</h2> <p><a id="opIdpartnerTransactionHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/partner/transaction_history'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/partner/transaction_history&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/partner/transaction_history</code></p> <p><em>Partner obtains transaction records of recommended users</em></p> <p>Record time range cannot exceed 30 days</p> <h3 id="partnertransactionhistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>query</td> <td>string</td> <td>false</td> <td>Specify the currency pair, if not specified, return all currency pairs</td></tr> <tr><td>user_id</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>User ID. If not specified, all user records will be returned</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range beginning, default to 7 days before current time</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">15</span><span class="token punctuation">,</span>
  <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">1879032535</span><span class="token punctuation">,</span>
      <span class="token property">&quot;group_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.00044800&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;transaction_time&quot;</span><span class="token operator">:</span> <span class="token number">1718615824</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;29.98688000USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount_asset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BCH_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SPOT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fee_asset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;BCH&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="partnertransactionhistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="partnertransactionhistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>integer(int64)</td> <td>Total</td></tr> <tr><td>» list</td> <td>array</td> <td>List of transaction history</td></tr> <tr><td>»» PartnerTransaction</td> <td>object</td> <td>none</td></tr> <tr><td>»»» transaction_time</td> <td>integer(int64)</td> <td>Transaction Time. (unix timestamp)</td></tr> <tr><td>»»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»»» group_name</td> <td>string</td> <td>Group name</td></tr> <tr><td>»»» fee</td> <td>string</td> <td>Fee</td></tr> <tr><td>»»» fee_asset</td> <td>string</td> <td>Fee currency</td></tr> <tr><td>»»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»»» amount</td> <td>string</td> <td>Commission Amount</td></tr> <tr><td>»»» amount_asset</td> <td>string</td> <td>Commission Asset</td></tr> <tr><td>»»» source</td> <td>string</td> <td>Source.  SPOT - SPOT Rebate, FUTURES - Futures Rebate</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="partner-obtains-commission-records-of-recommended-users"><a href="#partner-obtains-commission-records-of-recommended-users" class="header-anchor">#</a> Partner obtains commission records of recommended users</h2> <p><a id="opIdpartnerCommissionsHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/partner/commission_history'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/partner/commission_history&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/partner/commission_history</code></p> <p><em>Partner obtains commission records of recommended users</em></p> <p>Record time range cannot exceed 30 days</p> <h3 id="partnercommissionshistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>currency</td> <td>query</td> <td>string</td> <td>false</td> <td>Filter by currency. Return all currency records if not specified</td></tr> <tr><td>user_id</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>User ID. If not specified, all user records will be returned</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range beginning, default to 7 days before current time</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">52</span><span class="token punctuation">,</span>
  <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">1879043947</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commission_time&quot;</span><span class="token operator">:</span> <span class="token number">1718616728</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commission_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.2216934846&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;commission_asset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;SPOT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;group_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="partnercommissionshistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="partnercommissionshistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>integer(int64)</td> <td>Total</td></tr> <tr><td>» list</td> <td>array</td> <td>List of comission history</td></tr> <tr><td>»» PartnerCommission</td> <td>object</td> <td>none</td></tr> <tr><td>»»» commission_time</td> <td>integer(int64)</td> <td>Commission Time. (unix timestamp)</td></tr> <tr><td>»»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»»» group_name</td> <td>string</td> <td>Group name</td></tr> <tr><td>»»» commission_amount</td> <td>string</td> <td>Commission Amount</td></tr> <tr><td>»»» commission_asset</td> <td>string</td> <td>Commission Asset</td></tr> <tr><td>»»» source</td> <td>string</td> <td>Source.  SPOT - SPOT Rebate, FUTURES - Futures Rebate</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="partner-subordinate-list"><a href="#partner-subordinate-list" class="header-anchor">#</a> Partner subordinate list</h2> <p><a id="opIdpartnerSubList"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/partner/sub_list'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/partner/sub_list&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/partner/sub_list</code></p> <p><em>Partner subordinate list</em></p> <p>Including sub-agents, direct customers, indirect customers</p> <h3 id="partnersublist-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>User ID. If not specified, all user records will be returned</td></tr> <tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;user_join_time&quot;</span><span class="token operator">:</span> <span class="token number">1666255731</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">&quot;user_join_time&quot;</span><span class="token operator">:</span> <span class="token number">1666271213</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;user_join_time&quot;</span><span class="token operator">:</span> <span class="token number">1666422143</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="partnersublist-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="partnersublist-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>integer(int64)</td> <td>Total</td></tr> <tr><td>» list</td> <td>array</td> <td>Subordinate list</td></tr> <tr><td>»» PartnerSub</td> <td>object</td> <td>none</td></tr> <tr><td>»»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»»» user_join_time</td> <td>integer(int64)</td> <td>The time when the user joined the system, in seconds Unix timestamp</td></tr> <tr><td>»»» type</td> <td>integer(int64)</td> <td>Type (1-Sub-agent 2-Indirect Customer 3-Direct Customer)</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="the-broker-obtains-the-user-s-commission-rebate-records"><a href="#the-broker-obtains-the-user-s-commission-rebate-records" class="header-anchor">#</a> The broker obtains the user's commission rebate records</h2> <p><a id="opIdrebateBrokerCommissionHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/broker/commission_history'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/broker/commission_history&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/broker/commission_history</code></p> <p><em>The broker obtains the user's commission rebate records</em></p> <p>Record time range cannot exceed 30 days</p> <h3 id="rebatebrokercommissionhistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>user_id</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>User ID. If not specified, all user records will be returned</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>The start time of the query record. If not specified, the default is to push forward 30 days from the current time.</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">110285442</span><span class="token punctuation">,</span>
      <span class="token property">&quot;group_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5000045000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;transaction_time&quot;</span><span class="token operator">:</span> <span class="token number">1702545051</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1000.00900000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DOGE_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Futures&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fee_asset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">47</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="rebatebrokercommissionhistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="rebatebrokercommissionhistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>integer(int64)</td> <td>Total</td></tr> <tr><td>» list</td> <td>array</td> <td>List of comission history</td></tr> <tr><td>»» BrokerCommission</td> <td>object</td> <td>none</td></tr> <tr><td>»»» commission_time</td> <td>integer(int64)</td> <td>Commission Time. (unix timestamp)</td></tr> <tr><td>»»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»»» group_name</td> <td>string</td> <td>Group name</td></tr> <tr><td>»»» amount</td> <td>string</td> <td>The amount of commission rebates</td></tr> <tr><td>»»» fee</td> <td>string</td> <td>Fee</td></tr> <tr><td>»»» fee_asset</td> <td>string</td> <td>Fee currency</td></tr> <tr><td>»»» rebate_fee</td> <td>string</td> <td>The income from rebates, converted to USDT</td></tr> <tr><td>»»» source</td> <td>string</td> <td>Rebate Type: Spot、Futures、Options</td></tr> <tr><td>»»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="the-broker-obtains-the-user-s-trading-history"><a href="#the-broker-obtains-the-user-s-trading-history" class="header-anchor">#</a> The broker obtains the user's trading history</h2> <p><a id="opIdrebateBrokerTransactionHistory"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/broker/transaction_history'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/broker/transaction_history&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/broker/transaction_history</code></p> <p><em>The broker obtains the user's trading history</em></p> <p>Record time range cannot exceed 30 days</p> <h3 id="rebatebrokertransactionhistory-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>limit</td> <td>query</td> <td>integer</td> <td>false</td> <td>Maximum number of records to be returned in a single list</td></tr> <tr><td>offset</td> <td>query</td> <td>integer</td> <td>false</td> <td>List offset, starting from 0</td></tr> <tr><td>user_id</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>User ID. If not specified, all user records will be returned</td></tr> <tr><td>from</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>The start time of the query record. If not specified, the default is to push forward 30 days from the current time.</td></tr> <tr><td>to</td> <td>query</td> <td>integer(int64)</td> <td>false</td> <td>Time range ending, default to current time</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">110285442</span><span class="token punctuation">,</span>
      <span class="token property">&quot;group_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.5000045000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;transaction_time&quot;</span><span class="token operator">:</span> <span class="token number">1702545051</span><span class="token punctuation">,</span>
      <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-1000.00900000&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;DOGE_USDT&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;source&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Futures&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;fee_asset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;USDT&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;total&quot;</span><span class="token operator">:</span> <span class="token number">47</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="rebatebrokertransactionhistory-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="rebatebrokertransactionhistory-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» total</td> <td>integer(int64)</td> <td>Total</td></tr> <tr><td>» list</td> <td>array</td> <td>List of transaction history</td></tr> <tr><td>»» BrokerTransaction</td> <td>object</td> <td>none</td></tr> <tr><td>»»» transaction_time</td> <td>integer(int64)</td> <td>Transaction Time. (unix timestamp)</td></tr> <tr><td>»»» user_id</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»»» group_name</td> <td>string</td> <td>Group name</td></tr> <tr><td>»»» fee</td> <td>string</td> <td>fee (usdt)</td></tr> <tr><td>»»» currency_pair</td> <td>string</td> <td>Currency pair</td></tr> <tr><td>»»» amount</td> <td>string</td> <td>Commission Amount</td></tr> <tr><td>»»» fee_asset</td> <td>string</td> <td>Fee currency</td></tr> <tr><td>»»» source</td> <td>string</td> <td>Rebate Type: Spot、Futures、Options</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="user-retrieves-rebate-information"><a href="#user-retrieves-rebate-information" class="header-anchor">#</a> User retrieves rebate information</h2> <p><a id="opIdrebateUserInfo"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/user/info'</span>
query_param <span class="token operator">=</span> <span class="token string">''</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/user/info&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/user/info</code></p> <p><em>User retrieves rebate information</em></p> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;invite_uid&quot;</span><span class="token operator">:</span> <span class="token number">987</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="rebateuserinfo-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Successfully retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="rebateuserinfo-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» <em>None</em></td> <td>object</td> <td>Retrieve user rebate information</td></tr> <tr><td>»» invite_uid</td> <td>integer(int64)</td> <td>My inviter's UID</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="user-subordinate-relationship"><a href="#user-subordinate-relationship" class="header-anchor">#</a> User-subordinate relationship</h2> <p><a id="opIduserSubRelation"></a></p> <div type="example" class="examples"><blockquote><p>Code samples</p></blockquote></div> <div type="example" class="examples"><div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># coding: utf-8</span>
<span class="token keyword">import</span> requests
<span class="token keyword">import</span> time
<span class="token keyword">import</span> hashlib
<span class="token keyword">import</span> hmac

host <span class="token operator">=</span> <span class="token string">&quot;https://api.gateio.ws&quot;</span>
prefix <span class="token operator">=</span> <span class="token string">&quot;/api/v4&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'Accept'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span> <span class="token string">'Content-Type'</span><span class="token punctuation">:</span> <span class="token string">'application/json'</span><span class="token punctuation">}</span>

url <span class="token operator">=</span> <span class="token string">'/rebate/user/sub_relation'</span>
query_param <span class="token operator">=</span> <span class="token string">'user_id_list=1, 2, 3'</span>
<span class="token comment"># for `gen_sign` implementation, refer to section `Authentication` above</span>
sign_headers <span class="token operator">=</span> gen_sign<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> prefix <span class="token operator">+</span> url<span class="token punctuation">,</span> query_param<span class="token punctuation">)</span>
headers<span class="token punctuation">.</span>update<span class="token punctuation">(</span>sign_headers<span class="token punctuation">)</span>
r <span class="token operator">=</span> requests<span class="token punctuation">.</span>request<span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> host <span class="token operator">+</span> prefix <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;?&quot;</span> <span class="token operator">+</span> query_param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div></div> <div type="example" class="examples"><div class="language-shell extra-class"><pre class="language-shell"><code><span class="token assign-left variable">key</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_KEY&quot;</span>
<span class="token assign-left variable">secret</span><span class="token operator">=</span><span class="token string">&quot;YOUR_API_SECRET&quot;</span>
<span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token string">&quot;https://api.gateio.ws&quot;</span>
<span class="token assign-left variable">prefix</span><span class="token operator">=</span><span class="token string">&quot;/api/v4&quot;</span>
<span class="token assign-left variable">method</span><span class="token operator">=</span><span class="token string">&quot;GET&quot;</span>
<span class="token assign-left variable">url</span><span class="token operator">=</span><span class="token string">&quot;/rebate/user/sub_relation&quot;</span>
<span class="token assign-left variable">query_param</span><span class="token operator">=</span><span class="token string">&quot;user_id_list=1, 2, 3&quot;</span>
<span class="token assign-left variable">body_param</span><span class="token operator">=</span><span class="token string">''</span>
<span class="token assign-left variable">timestamp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%s<span class="token variable">)</span></span>
<span class="token assign-left variable">body_hash</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$body_param</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>
<span class="token assign-left variable">sign_string</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$method</span><span class="token entity" title="\n">\n</span><span class="token variable">$prefix</span><span class="token variable">$url</span><span class="token entity" title="\n">\n</span><span class="token variable">$query_param</span><span class="token entity" title="\n">\n</span><span class="token variable">$body_hash</span><span class="token entity" title="\n">\n</span><span class="token variable">$timestamp</span>&quot;</span>
<span class="token assign-left variable">sign</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">printf</span> <span class="token string">&quot;<span class="token variable">$sign_string</span>&quot;</span> <span class="token operator">|</span> openssl sha512 <span class="token parameter variable">-hmac</span> <span class="token string">&quot;<span class="token variable">$secret</span>&quot;</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'{print $NF}'</span><span class="token variable">)</span></span>

<span class="token assign-left variable">full_url</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$host</span><span class="token variable">$prefix</span><span class="token variable">$url</span>?<span class="token variable">$query_param</span>&quot;</span>
<span class="token function">curl</span> <span class="token parameter variable">-X</span> <span class="token variable">$method</span> <span class="token variable">$full_url</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-H</span> <span class="token string">&quot;Timestamp: <span class="token variable">$timestamp</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;KEY: <span class="token variable">$key</span>&quot;</span> <span class="token parameter variable">-H</span> <span class="token string">&quot;SIGN: <span class="token variable">$sign</span>&quot;</span>

</code></pre></div></div> <p><code>GET /rebate/user/sub_relation</code></p> <p><em>User-subordinate relationship</em></p> <p>Query whether the specified user is in the system</p> <h3 id="usersubrelation-parameters">Parameters</h3> <table><thead><tr><th>Name</th> <th>In</th> <th>Type</th> <th>Required</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id_list</td> <td>query</td> <td>string</td> <td>true</td> <td>Query the user's ID list, split by,, if there are more than 100, take 100</td></tr></tbody></table> <div type="example" class="examples"><blockquote><p>Example responses</p></blockquote> <blockquote><p>200 Response</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;list&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;belong&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ref_uid&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">9</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;belong&quot;</span><span class="token operator">:</span> <span class="token string">&quot;partner&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ref_uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;belong&quot;</span><span class="token operator">:</span> <span class="token string">&quot;referral&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
      <span class="token property">&quot;ref_uid&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token property">&quot;uid&quot;</span><span class="token operator">:</span> <span class="token number">3</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div> <h3 id="usersubrelation-responses">Responses</h3> <table><thead><tr><th>Status</th> <th>Meaning</th> <th>Description</th> <th>Schema</th></tr></thead> <tbody><tr><td>200</td> <td><a href="https://tools.ietf.org/html/rfc7231#section-6.3.1" target="_blank" rel="noopener noreferrer">OK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>List retrieved</td> <td>Inline</td></tr></tbody></table> <h3 id="usersubrelation-responseschema">Response Schema</h3> <p>Status Code <strong>200</strong></p> <table><thead><tr><th>Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td>» list</td> <td>array</td> <td>Subordinate relationship list</td></tr> <tr><td>»» UserSub</td> <td>object</td> <td>none</td></tr> <tr><td>»»» uid</td> <td>integer(int64)</td> <td>User ID</td></tr> <tr><td>»»» belong</td> <td>string</td> <td>The system to which the user belongs (partner referral). If empty, it means not belonging to any system.</td></tr> <tr><td>»»» type</td> <td>integer(int64)</td> <td>Type (0-not in the system 1-direct subordinate agent 2-indirect subordinate agent 3-direct direct customer 4-indirect direct customer 5-ordinary user)</td></tr> <tr><td>»»» ref_uid</td> <td>integer(int64)</td> <td>Inviter user ID</td></tr></tbody></table> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To perform this operation, you must be authenticated by API key and secret</p></div></div> <div class="content-block__examples"></div></div></div></div> <h1 id="schemas"><a href="#schemas" class="header-anchor">#</a> Schemas</h1> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="subaccountkey"><a href="#subaccountkey" class="header-anchor">#</a> SubAccountKey</h2> <p><a id="schemasubaccountkey"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;perms&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;read_only&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ip_whitelist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;string&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;key&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;state&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;updated_at&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_access&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <h3 id="properties"><a href="#properties" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>user_id</td> <td>string</td> <td>false</td> <td>read-only</td> <td>User ID</td></tr> <tr><td>mode</td> <td>integer(int32)</td> <td>false</td> <td>none</td> <td>Mode: 1 - classic 2 - portfolio account</td></tr> <tr><td>name</td> <td>string</td> <td>false</td> <td>none</td> <td>API key name</td></tr> <tr><td>perms</td> <td>array</td> <td>false</td> <td>none</td> <td>none</td></tr> <tr><td>» name</td> <td>string</td> <td>false</td> <td>none</td> <td>Permission function name (no value will be cleared)<br>- wallet: wallet<br>- spot: spot/leverage<br>- futures: perpetual contract<br>- delivery: delivery contract<br>- earn: financial management<br>- custody: custody<br>- options: options<br>- account: account information<br>- loan: loan<br>- margin: leverage<br>- unified: unified account<br>- copy: copy</td></tr> <tr><td>» read_only</td> <td>boolean</td> <td>false</td> <td>none</td> <td>read only</td></tr> <tr><td>ip_whitelist</td> <td>array</td> <td>false</td> <td>none</td> <td>ip white list (list will be removed if no value is passed)</td></tr> <tr><td>key</td> <td>string</td> <td>false</td> <td>read-only</td> <td>API Key</td></tr> <tr><td>state</td> <td>integer(int32)</td> <td>false</td> <td>read-only</td> <td>State 1 - normal 2 - locked 3 - frozen</td></tr> <tr><td>created_at</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Creation time</td></tr> <tr><td>updated_at</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Last update time</td></tr> <tr><td>last_access</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Last access time</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="estimaterate"><a href="#estimaterate" class="header-anchor">#</a> EstimateRate</h2> <p><a id="schemaestimaterate"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;property1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;property2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Estimate the current hourly lending rates, categorized by currency</em></p> <h3 id="properties-2"><a href="#properties-2" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td><strong>additionalProperties</strong></td> <td>string</td> <td>false</td> <td>none</td> <td>none</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="currencypair"><a href="#currencypair" class="header-anchor">#</a> CurrencyPair</h2> <p><a id="schemacurrencypair"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;base_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quote&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quote_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_base_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;min_quote_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;max_base_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;max_quote_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount_precision&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;precision&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;untradable&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;sell_start&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;buy_start&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Spot currency pair</em></p> <h3 id="properties-3"><a href="#properties-3" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>string</td> <td>false</td> <td>none</td> <td>Currency pair</td></tr> <tr><td>base</td> <td>string</td> <td>false</td> <td>none</td> <td>Base currency</td></tr> <tr><td>base_name</td> <td>string</td> <td>false</td> <td>none</td> <td>Transaction currency name</td></tr> <tr><td>quote</td> <td>string</td> <td>false</td> <td>none</td> <td>Quote currency</td></tr> <tr><td>quote_name</td> <td>string</td> <td>false</td> <td>none</td> <td>Name of the denominated currency</td></tr> <tr><td>fee</td> <td>string</td> <td>false</td> <td>none</td> <td>Trading fee</td></tr> <tr><td>min_base_amount</td> <td>string</td> <td>false</td> <td>none</td> <td>Minimum amount of base currency to trade, <code>null</code> means no limit</td></tr> <tr><td>min_quote_amount</td> <td>string</td> <td>false</td> <td>none</td> <td>Minimum amount of quote currency to trade, <code>null</code> means no limit</td></tr> <tr><td>max_base_amount</td> <td>string</td> <td>false</td> <td>none</td> <td>Maximum amount of base currency to trade, <code>null</code> means no limit</td></tr> <tr><td>max_quote_amount</td> <td>string</td> <td>false</td> <td>none</td> <td>Maximum amount of quote currency to trade, <code>null</code> means no limit</td></tr> <tr><td>amount_precision</td> <td>integer</td> <td>false</td> <td>none</td> <td>Amount scale</td></tr> <tr><td>precision</td> <td>integer</td> <td>false</td> <td>none</td> <td>Price scale</td></tr> <tr><td>trade_status</td> <td>string</td> <td>false</td> <td>none</td> <td>How currency pair can be traded<br><br>- untradable: cannot be bought or sold<br>- buyable: can be bought<br>- sellable: can be sold<br>- tradable: can be bought or sold</td></tr> <tr><td>sell_start</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Sell start unix timestamp in seconds</td></tr> <tr><td>buy_start</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Buy start unix timestamp in seconds</td></tr> <tr><td>type</td> <td>string</td> <td>false</td> <td>none</td> <td>Trading pair type, normal: normal, premarket: pre-market</td></tr></tbody></table> <h4 id="enumerated-values-127"><a href="#enumerated-values-127" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>trade_status</td> <td>untradable</td></tr> <tr><td>trade_status</td> <td>buyable</td></tr> <tr><td>trade_status</td> <td>sellable</td></tr> <tr><td>trade_status</td> <td>tradable</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="order-2"><a href="#order-2" class="header-anchor">#</a> Order</h2> <p><a id="schemaorder"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time_ms&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;spot&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;auto_borrow&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;auto_repay&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;filled_total&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;avg_deal_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;point_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_maker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_taker_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gt_discount&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;rebated_fee_currency&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cn&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;action_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Spot order details</em></p> <h3 id="properties-4"><a href="#properties-4" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Order ID</td></tr> <tr><td>text</td> <td>string</td> <td>false</td> <td>none</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br><br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- 101: from android<br>- 102: from IOS<br>- 103: from IPAD<br>- 104: from webapp<br>- 3: from web<br>- 2: from apiv2<br>- apiv4: from apiv4</td></tr> <tr><td>amend_text</td> <td>string</td> <td>false</td> <td>read-only</td> <td>The custom data that the user remarked when amending the order</td></tr> <tr><td>create_time</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Creation time of order</td></tr> <tr><td>update_time</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Last modification time of order</td></tr> <tr><td>create_time_ms</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Creation time of order (in milliseconds)</td></tr> <tr><td>update_time_ms</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Last modification time of order (in milliseconds)</td></tr> <tr><td>status</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Order status<br><br>- <code>open</code>: to be filled<br>- <code>closed</code>: filled<br>- <code>cancelled</code>: cancelled</td></tr> <tr><td>currency_pair</td> <td>string</td> <td>true</td> <td>none</td> <td>Currency pair</td></tr> <tr><td>type</td> <td>string</td> <td>false</td> <td>none</td> <td>Order Type  <br><br>- limit : Limit Order<br>- market : Market Order</td></tr> <tr><td>account</td> <td>string</td> <td>false</td> <td>none</td> <td>Account type, spot - spot account, margin - leveraged account, unified - unified account</td></tr> <tr><td>side</td> <td>string</td> <td>true</td> <td>none</td> <td>Order side</td></tr> <tr><td>amount</td> <td>string</td> <td>true</td> <td>none</td> <td>When <code>type</code> is limit, it refers to base currency.  For instance, <code>BTC_USDT</code> means <code>BTC</code> <br>When <code>type</code> is <code>market</code>, it refers to different currency according to <code>side</code> <br>- <code>side</code> : <code>buy</code> means quote currency, <code>BTC_USDT</code> means <code>USDT</code><br>- <code>side</code> : <code>sell</code> means base currency，<code>BTC_USDT</code> means <code>BTC</code></td></tr> <tr><td>price</td> <td>string</td> <td>false</td> <td>none</td> <td>Price can't be empty when <code>type</code>= <code>limit</code></td></tr> <tr><td>time_in_force</td> <td>string</td> <td>false</td> <td>none</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee<br>- fok: FillOrKill, fill either completely or none<br>Only <code>ioc</code> and <code>fok</code> are supported when <code>type</code>=<code>market</code></td></tr> <tr><td>iceberg</td> <td>string</td> <td>false</td> <td>none</td> <td>Amount to display for the iceberg order. Null or 0 for normal orders.  Hiding all amount is not supported.</td></tr> <tr><td>auto_borrow</td> <td>boolean</td> <td>false</td> <td>write-only</td> <td>Used in margin or cross margin trading to allow automatic loan of insufficient amount if balance is not enough.</td></tr> <tr><td>auto_repay</td> <td>boolean</td> <td>false</td> <td>none</td> <td>Enable or disable automatic repayment for automatic borrow loan generated by cross margin order. Default is disabled. Note that:<br><br>1. This field is only effective for cross margin orders. Margin account does not support setting auto repayment for orders.<br>2. <code>auto_borrow</code> and <code>auto_repay</code> can be both set to true in one order.</td></tr> <tr><td>left</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Amount left to fill</td></tr> <tr><td>filled_amount</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Amount traded to fill</td></tr> <tr><td>fill_price</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Total filled in quote currency. Deprecated in favor of <code>filled_total</code></td></tr> <tr><td>filled_total</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Total filled in quote currency</td></tr> <tr><td>avg_deal_price</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Average fill price</td></tr> <tr><td>fee</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Fee deducted</td></tr> <tr><td>fee_currency</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Fee currency unit</td></tr> <tr><td>point_fee</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Points used to deduct fee</td></tr> <tr><td>gt_fee</td> <td>string</td> <td>false</td> <td>read-only</td> <td>GT used to deduct fee</td></tr> <tr><td>gt_maker_fee</td> <td>string</td> <td>false</td> <td>read-only</td> <td>GT used to deduct maker fee</td></tr> <tr><td>gt_taker_fee</td> <td>string</td> <td>false</td> <td>read-only</td> <td>GT used to deduct taker fee</td></tr> <tr><td>gt_discount</td> <td>boolean</td> <td>false</td> <td>read-only</td> <td>Whether GT fee discount is used</td></tr> <tr><td>rebated_fee</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Rebated fee</td></tr> <tr><td>rebated_fee_currency</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Rebated fee currency unit</td></tr> <tr><td>stp_id</td> <td>integer</td> <td>false</td> <td>read-only</td> <td>Orders between users in the same <code>stp_id</code> group are not allowed to be self-traded<br><br>1. If the <code>stp_id</code> of two orders being matched is non-zero and equal, they will not be executed. Instead, the corresponding strategy will be executed based on the <code>stp_act</code> of the taker.<br>2. <code>stp_id</code> returns <code>0</code> by default for orders that have not been set for <code>STP group</code></td></tr> <tr><td>stp_act</td> <td>string</td> <td>false</td> <td>none</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies<br><br>1. After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。<br>2. When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。<br>3. If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'<br><br>- cn: Cancel newest, Cancel new orders and keep old ones<br>- co: Cancel oldest, Cancel old orders and keep new ones<br>- cb: Cancel both, Both old and new orders will be cancelled</td></tr> <tr><td>finish_as</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Order completion statuses include:<br><br>- open: Awaiting processing<br>- filled: Fully filled<br>- cancelled: Cancelled by user<br>- liquidate_cancelled: Cancelled due to liquidation<br>- small: Order quantity too small<br>- depth_not_enough: Cancelled due to insufficient market depth<br>- trader_not_enough: Cancelled due to insufficient counterparty<br>- ioc: Not immediately filled because tif is set to ioc<br>- poc: Not met the order strategy because tif is set to poc<br>- fok: Not fully filled immediately because tif is set to fok<br>- stp: Cancelled due to self-trade prevention<br>- unknown: Unknown</td></tr> <tr><td>action_mode</td> <td>string</td> <td>false</td> <td>write-only</td> <td>Processing Mode:<br>When placing an order, different fields are returned based on action_mode. This field is only valid during the request and is not included in the response result<br>ACK: Asynchronous mode, only returns key order fields<br>RESULT: No clearing information<br>FULL: Full mode (default)</td></tr></tbody></table> <h4 id="enumerated-values-128"><a href="#enumerated-values-128" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>closed</td></tr> <tr><td>status</td> <td>cancelled</td></tr> <tr><td>type</td> <td>limit</td></tr> <tr><td>type</td> <td>market</td></tr> <tr><td>side</td> <td>buy</td></tr> <tr><td>side</td> <td>sell</td></tr> <tr><td>time_in_force</td> <td>gtc</td></tr> <tr><td>time_in_force</td> <td>ioc</td></tr> <tr><td>time_in_force</td> <td>poc</td></tr> <tr><td>time_in_force</td> <td>fok</td></tr> <tr><td>stp_act</td> <td>cn</td></tr> <tr><td>stp_act</td> <td>co</td></tr> <tr><td>stp_act</td> <td>cb</td></tr> <tr><td>stp_act</td> <td>-</td></tr> <tr><td>finish_as</td> <td>open</td></tr> <tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidate_cancelled</td></tr> <tr><td>finish_as</td> <td>depth_not_enough</td></tr> <tr><td>finish_as</td> <td>trader_not_enough</td></tr> <tr><td>finish_as</td> <td>small</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>poc</td></tr> <tr><td>finish_as</td> <td>fok</td></tr> <tr><td>finish_as</td> <td>stp</td></tr> <tr><td>finish_as</td> <td>unknown</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="cancelbatchorder"><a href="#cancelbatchorder" class="header-anchor">#</a> CancelBatchOrder</h2> <p><a id="schemacancelbatchorder"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;action_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Info of order to be cancelled</em></p> <h3 id="properties-5"><a href="#properties-5" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>currency_pair</td> <td>string</td> <td>true</td> <td>none</td> <td>Order currency pair</td></tr> <tr><td>id</td> <td>string</td> <td>true</td> <td>none</td> <td>Order ID or user custom ID.<br>Custom ID are accepted only within 30 minutes after order creation</td></tr> <tr><td>action_mode</td> <td>string</td> <td>false</td> <td>none</td> <td>Processing Mode:<br>When placing an order, different fields are returned based on action_mode. This field is only valid during the request and is not included in the response result<br>ACK: Asynchronous mode, only returns key order fields<br>RESULT: No clearing information<br>FULL: Full mode (default)</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="batchamenditem"><a href="#batchamenditem" class="header-anchor">#</a> BatchAmendItem</h2> <p><a id="schemabatchamenditem"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;currency_pair&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;action_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Order information that needs to be modified</em></p> <h3 id="properties-6"><a href="#properties-6" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>string</td> <td>true</td> <td>none</td> <td>The order ID returned upon successful creation or the custom ID specified by the user during creation (i.e., the 'text' field).</td></tr> <tr><td>currency_pair</td> <td>string</td> <td>true</td> <td>none</td> <td>Currency pair</td></tr> <tr><td>account</td> <td>string</td> <td>false</td> <td>none</td> <td>Default spot, unified account and warehouse-by-store leverage account.</td></tr> <tr><td>amount</td> <td>string</td> <td>false</td> <td>none</td> <td>trade amount, only one of amount and price can be specified</td></tr> <tr><td>price</td> <td>string</td> <td>false</td> <td>none</td> <td>trade price, only one of amount and price can be specified</td></tr> <tr><td>amend_text</td> <td>string</td> <td>false</td> <td>none</td> <td>Custom info during amending order</td></tr> <tr><td>action_mode</td> <td>string</td> <td>false</td> <td>none</td> <td>Processing Mode:<br>When placing an order, different fields are returned based on action_mode. This field is only valid during the request and is not included in the response result<br>ACK: Asynchronous mode, only returns key order fields<br>RESULT: No clearing information<br>FULL: Full mode (default)</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="spotpricetriggeredorder"><a href="#spotpricetriggeredorder" class="header-anchor">#</a> SpotPriceTriggeredOrder</h2> <p><a id="schemaspotpricetriggeredorder"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;put&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;limit&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;side&quot;</span><span class="token operator">:</span> <span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;account&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;time_in_force&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;auto_borrow&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;auto_repay&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;market&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ctime&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ftime&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fired_order_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Spot order detail</em></p> <h3 id="properties-7"><a href="#properties-7" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>trigger</td> <td>object</td> <td>true</td> <td>none</td> <td>none</td></tr> <tr><td>» price</td> <td>string</td> <td>true</td> <td>none</td> <td>Trigger price</td></tr> <tr><td>» rule</td> <td>string</td> <td>true</td> <td>none</td> <td>Price trigger condition<br><br>- &gt;=: triggered when market price larger than or equal to <code>price</code> field<br>- &lt;=: triggered when market price less than or equal to <code>price</code> field</td></tr> <tr><td>» expiration</td> <td>integer</td> <td>true</td> <td>none</td> <td>How long (in seconds) to wait for the condition to be triggered before cancelling the order.</td></tr> <tr><td>put</td> <td>object</td> <td>true</td> <td>none</td> <td>none</td></tr> <tr><td>» type</td> <td>string</td> <td>false</td> <td>none</td> <td>Order type，default to <code>limit</code><br><br>- limit : Limit Order<br>- market : Market Order</td></tr> <tr><td>» side</td> <td>string</td> <td>true</td> <td>none</td> <td>Order side<br><br>- buy: buy side<br>- sell: sell side</td></tr> <tr><td>» price</td> <td>string</td> <td>true</td> <td>none</td> <td>Order price</td></tr> <tr><td>» amount</td> <td>string</td> <td>true</td> <td>none</td> <td>When <code>type</code> is limit, it refers to base currency.  For instance, <code>BTC_USDT</code> means <code>BTC</code> <br>When <code>type</code> is <code>market</code>, it refers to different currency according to <code>side</code> <br>- <code>side</code> : <code>buy</code> means quote currency, <code>BTC_USDT</code> means <code>USDT</code><br>- <code>side</code> : <code>sell</code> means base currency，<code>BTC_USDT</code> means <code>BTC</code></td></tr> <tr><td>» account</td> <td>string</td> <td>true</td> <td>none</td> <td>Trading account type.  Portfolio margin account must set to <code>unified</code><br><br>- normal: spot trading<br>- margin: margin trading<br>- unified: unified trading</td></tr> <tr><td>» time_in_force</td> <td>string</td> <td>false</td> <td>none</td> <td>time_in_force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only</td></tr> <tr><td>» auto_borrow</td> <td>boolean</td> <td>false</td> <td>none</td> <td>Whether to borrow coins automatically</td></tr> <tr><td>» auto_repay</td> <td>boolean</td> <td>false</td> <td>none</td> <td>Whether to repay the loan automatically</td></tr> <tr><td>» text</td> <td>string</td> <td>false</td> <td>none</td> <td>The source of the order, including:<br>- web: web<br>- api: api<br>- app: app</td></tr> <tr><td>id</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Auto order ID</td></tr> <tr><td>user</td> <td>integer</td> <td>false</td> <td>read-only</td> <td>User ID</td></tr> <tr><td>market</td> <td>string</td> <td>true</td> <td>none</td> <td>Currency pair</td></tr> <tr><td>ctime</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Creation time</td></tr> <tr><td>ftime</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Finished time</td></tr> <tr><td>fired_order_id</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>ID of the newly created order on condition triggered</td></tr> <tr><td>status</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Status<br><br>- open: open<br>- cancelled: being manually cancelled<br>- finish: successfully executed<br>- failed: failed to execute<br>- expired - expired</td></tr> <tr><td>reason</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Additional remarks on how the order was finished</td></tr></tbody></table> <h4 id="enumerated-values-129"><a href="#enumerated-values-129" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>rule</td> <td>&gt;=</td></tr> <tr><td>rule</td> <td>&lt;=</td></tr> <tr><td>type</td> <td>limit</td></tr> <tr><td>type</td> <td>market</td></tr> <tr><td>side</td> <td>buy</td></tr> <tr><td>side</td> <td>sell</td></tr> <tr><td>account</td> <td>normal</td></tr> <tr><td>account</td> <td>margin</td></tr> <tr><td>account</td> <td>unified</td></tr> <tr><td>time_in_force</td> <td>gtc</td></tr> <tr><td>time_in_force</td> <td>ioc</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="contract"><a href="#contract" class="header-anchor">#</a> Contract</h2> <p><a id="schemacontract"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;inverse&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quanto_multiplier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_min&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;internal&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;taker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_interval&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_next_apply&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_step&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_min&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_max&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_deviate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_discount_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_rebate_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orderbook_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;config_change_time&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;in_delisting&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enable_bonus&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;enable_credit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;funding_cap_ratio&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Futures contract details</em></p> <h3 id="properties-8"><a href="#properties-8" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>name</td> <td>string</td> <td>false</td> <td>none</td> <td>Futures contract</td></tr> <tr><td>type</td> <td>string</td> <td>false</td> <td>none</td> <td>Futures contract type</td></tr> <tr><td>quanto_multiplier</td> <td>string</td> <td>false</td> <td>none</td> <td>Multiplier used in converting from invoicing to settlement currency</td></tr> <tr><td>leverage_min</td> <td>string</td> <td>false</td> <td>none</td> <td>Minimum leverage</td></tr> <tr><td>leverage_max</td> <td>string</td> <td>false</td> <td>none</td> <td>Maximum leverage</td></tr> <tr><td>maintenance_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Maintenance rate of margin</td></tr> <tr><td>mark_type</td> <td>string</td> <td>false</td> <td>none</td> <td>Mark price type, internal - based on internal trading, index - based on external index price</td></tr> <tr><td>mark_price</td> <td>string</td> <td>false</td> <td>none</td> <td>Current mark price</td></tr> <tr><td>index_price</td> <td>string</td> <td>false</td> <td>none</td> <td>Current index price</td></tr> <tr><td>last_price</td> <td>string</td> <td>false</td> <td>none</td> <td>Last trading price</td></tr> <tr><td>maker_fee_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Maker fee rate, where negative means rebate</td></tr> <tr><td>taker_fee_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Taker fee rate</td></tr> <tr><td>order_price_round</td> <td>string</td> <td>false</td> <td>none</td> <td>Minimum order price increment</td></tr> <tr><td>mark_price_round</td> <td>string</td> <td>false</td> <td>none</td> <td>Minimum mark price increment</td></tr> <tr><td>funding_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Current funding rate</td></tr> <tr><td>funding_interval</td> <td>integer</td> <td>false</td> <td>none</td> <td>Funding application interval, unit in seconds</td></tr> <tr><td>funding_next_apply</td> <td>number(double)</td> <td>false</td> <td>none</td> <td>Next funding time</td></tr> <tr><td>risk_limit_base</td> <td>string</td> <td>false</td> <td>none</td> <td>Risk limit base,deprecated</td></tr> <tr><td>risk_limit_step</td> <td>string</td> <td>false</td> <td>none</td> <td>Step of adjusting risk limit,deprecated</td></tr> <tr><td>risk_limit_max</td> <td>string</td> <td>false</td> <td>none</td> <td>Maximum risk limit the contract allowed,deprecated,It is recommended to use /futures/{settle}/risk_limit_tiers to query risk limits.</td></tr> <tr><td>order_size_min</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Minimum order size the contract allowed</td></tr> <tr><td>order_size_max</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Maximum order size the contract allowed</td></tr> <tr><td>order_price_deviate</td> <td>string</td> <td>false</td> <td>none</td> <td>deviation between order price and current index price. If price of an order is denoted as order_price, it must meet the following condition:<br><br>    abs(order_price - mark_price) &lt;= mark_price * order_price_deviate</td></tr> <tr><td>ref_discount_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Referral fee rate discount</td></tr> <tr><td>ref_rebate_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Referrer commission rate</td></tr> <tr><td>orderbook_id</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Current orderbook ID</td></tr> <tr><td>trade_id</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Current trade ID</td></tr> <tr><td>trade_size</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Historical accumulated trade size</td></tr> <tr><td>position_size</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Current total long position size</td></tr> <tr><td>config_change_time</td> <td>number(double)</td> <td>false</td> <td>none</td> <td>Last changed time of configuration</td></tr> <tr><td>in_delisting</td> <td>boolean</td> <td>false</td> <td>none</td> <td><code>in_delisting=true</code> And when position_size&gt;0, it means the contract is in the offline transition period<br><code>in_delisting=true</code> And when position_size=0, it means the contract is offline</td></tr> <tr><td>orders_limit</td> <td>integer</td> <td>false</td> <td>none</td> <td>Maximum number of open orders</td></tr> <tr><td>enable_bonus</td> <td>boolean</td> <td>false</td> <td>none</td> <td>Whether bouns is enabled</td></tr> <tr><td>enable_credit</td> <td>boolean</td> <td>false</td> <td>none</td> <td>Whether portfolio margin account is enabled</td></tr> <tr><td>create_time</td> <td>number(double)</td> <td>false</td> <td>none</td> <td>Created time of the contract</td></tr> <tr><td>funding_cap_ratio</td> <td>string</td> <td>false</td> <td>none</td> <td>The factor for the maximum of the funding rate. Maximum of funding rate = (1/market maximum leverage - maintenance margin rate) * funding_cap_ratio</td></tr></tbody></table> <h4 id="enumerated-values-130"><a href="#enumerated-values-130" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>type</td> <td>inverse</td></tr> <tr><td>type</td> <td>direct</td></tr> <tr><td>mark_type</td> <td>internal</td></tr> <tr><td>mark_type</td> <td>index</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="position"><a href="#position" class="header-anchor">#</a> Position</h2> <p><a id="schemaposition"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;entry_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;liq_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;initial_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_margin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;unrealised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fund&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pnl_fee&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_close_pnl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;realised_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;history_point&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;adl_ranking&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;pending_orders&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close_order&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;single&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cross_leverage_limit&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_time&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;update_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;open_time&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Futures position details</em></p> <h3 id="properties-9"><a href="#properties-9" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>user</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>User ID</td></tr> <tr><td>contract</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Futures contract</td></tr> <tr><td>size</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Position size</td></tr> <tr><td>leverage</td> <td>string</td> <td>false</td> <td>none</td> <td>Position leverage. 0 means cross margin; positive number means isolated margin</td></tr> <tr><td>risk_limit</td> <td>string</td> <td>false</td> <td>none</td> <td>Position risk limit</td></tr> <tr><td>leverage_max</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Maximum leverage under current risk limit</td></tr> <tr><td>maintenance_rate</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Maintenance rate under current risk limit</td></tr> <tr><td>value</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Position value calculated in settlement currency</td></tr> <tr><td>margin</td> <td>string</td> <td>false</td> <td>none</td> <td>Position margin</td></tr> <tr><td>entry_price</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Entry price</td></tr> <tr><td>liq_price</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Liquidation price</td></tr> <tr><td>mark_price</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Current mark price</td></tr> <tr><td>initial_margin</td> <td>string</td> <td>false</td> <td>read-only</td> <td>The initial margin occupied by the position, applicable to the portfolio margin account</td></tr> <tr><td>maintenance_margin</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Maintenance margin required for the position, applicable to portfolio margin account</td></tr> <tr><td>unrealised_pnl</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Unrealized PNL</td></tr> <tr><td>realised_pnl</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Realized PNL</td></tr> <tr><td>pnl_pnl</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Realized PNL - Position P/L</td></tr> <tr><td>pnl_fund</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Realized PNL -  Funding Fees</td></tr> <tr><td>pnl_fee</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Realized PNL - Transaction Fees</td></tr> <tr><td>history_pnl</td> <td>string</td> <td>false</td> <td>read-only</td> <td>History realized PNL</td></tr> <tr><td>last_close_pnl</td> <td>string</td> <td>false</td> <td>read-only</td> <td>PNL of last position close</td></tr> <tr><td>realised_point</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Realized POINT PNL</td></tr> <tr><td>history_point</td> <td>string</td> <td>false</td> <td>read-only</td> <td>History realized POINT PNL</td></tr> <tr><td>adl_ranking</td> <td>integer</td> <td>false</td> <td>read-only</td> <td>Ranking of auto deleveraging, a total of 1-5 grades, <code>1</code> is the highest, <code>5</code> is the lowest, and <code>6</code> is the special case when there is no position held or in liquidation</td></tr> <tr><td>pending_orders</td> <td>integer</td> <td>false</td> <td>read-only</td> <td>Current open orders</td></tr> <tr><td>close_order</td> <td>object|null</td> <td>false</td> <td>read-only</td> <td>Current close order if any, or <code>null</code></td></tr> <tr><td>» id</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Close order ID</td></tr> <tr><td>» price</td> <td>string</td> <td>false</td> <td>none</td> <td>Close order price</td></tr> <tr><td>» is_liq</td> <td>boolean</td> <td>false</td> <td>none</td> <td>Is the close order from liquidation</td></tr> <tr><td>mode</td> <td>string</td> <td>false</td> <td>none</td> <td>Position mode, including:<br><br>- <code>single</code>: dual mode is not enabled- <code>dual_long</code>: long position in dual mode- <code>dual_short</code>: short position in dual mode</td></tr> <tr><td>cross_leverage_limit</td> <td>string</td> <td>false</td> <td>none</td> <td>Cross margin leverage(valid only when <code>leverage</code> is 0)</td></tr> <tr><td>update_time</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Last update time</td></tr> <tr><td>update_id</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Update id. Each time the position is updated, the value will be +1.</td></tr> <tr><td>open_time</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>First Open Time</td></tr></tbody></table> <h4 id="enumerated-values-131"><a href="#enumerated-values-131" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>mode</td> <td>single</td></tr> <tr><td>mode</td> <td>dual_long</td></tr> <tr><td>mode</td> <td>dual_short</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futuresorder"><a href="#futuresorder" class="header-anchor">#</a> FuturesOrder</h2> <p><a id="schemafuturesorder"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;filled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;iceberg&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;is_liq&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;left&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;fill_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mkfr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;refu&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;auto_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;close_long&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;stp_act&quot;</span><span class="token operator">:</span> <span class="token string">&quot;co&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;biz_info&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Futures order details</em></p> <h3 id="properties-10"><a href="#properties-10" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>id</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Futures order ID</td></tr> <tr><td>user</td> <td>integer</td> <td>false</td> <td>read-only</td> <td>User ID</td></tr> <tr><td>create_time</td> <td>number(double)</td> <td>false</td> <td>read-only</td> <td>Creation time of order</td></tr> <tr><td>finish_time</td> <td>number(double)</td> <td>false</td> <td>read-only</td> <td>Order finished time. Not returned if order is open</td></tr> <tr><td>finish_as</td> <td>string</td> <td>false</td> <td>read-only</td> <td>How the order was finished.<br><br>- filled: all filled<br>- cancelled: manually cancelled<br>- liquidated: cancelled because of liquidation<br>- ioc: time in force is <code>IOC</code>, finish immediately<br>- auto_deleveraged: finished by ADL<br>- reduce_only: cancelled because of increasing position while <code>reduce-only</code> set- position_closed: cancelled because of position close<br>- position_closed: canceled because the position was closed<br>- reduce_out: only reduce positions by excluding hard-to-fill orders<br>- stp: cancelled because self trade prevention</td></tr> <tr><td>status</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Order status<br><br>- <code>open</code>: waiting to be traded<br>- <code>finished</code>: finished</td></tr> <tr><td>contract</td> <td>string</td> <td>true</td> <td>none</td> <td>Futures contract</td></tr> <tr><td>size</td> <td>integer(int64)</td> <td>true</td> <td>none</td> <td>Order size. Specify positive number to make a bid, and negative number to ask</td></tr> <tr><td>iceberg</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Display size for iceberg order. 0 for non-iceberg. Note that you will have to pay the taker fee for the hidden size</td></tr> <tr><td>price</td> <td>string</td> <td>false</td> <td>none</td> <td>Order price. 0 for market order with <code>tif</code> set as <code>ioc</code></td></tr> <tr><td>close</td> <td>boolean</td> <td>false</td> <td>write-only</td> <td>Set as <code>true</code> to close the position, with <code>size</code> set to 0</td></tr> <tr><td>is_close</td> <td>boolean</td> <td>false</td> <td>read-only</td> <td>Is the order to close position</td></tr> <tr><td>reduce_only</td> <td>boolean</td> <td>false</td> <td>write-only</td> <td>Set as <code>true</code> to be reduce-only order</td></tr> <tr><td>is_reduce_only</td> <td>boolean</td> <td>false</td> <td>read-only</td> <td>Is the order reduce-only</td></tr> <tr><td>is_liq</td> <td>boolean</td> <td>false</td> <td>read-only</td> <td>Is the order for liquidation</td></tr> <tr><td>tif</td> <td>string</td> <td>false</td> <td>none</td> <td>Time in force<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled, taker only<br>- poc: PendingOrCancelled, makes a post-only order that always enjoys a maker fee<br>- fok: FillOrKill, fill either completely or none</td></tr> <tr><td>left</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Size left to be traded</td></tr> <tr><td>fill_price</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Fill price of the order</td></tr> <tr><td>text</td> <td>string</td> <td>false</td> <td>none</td> <td>User defined information. If not empty, must follow the rules below:<br><br>1. prefixed with <code>t-</code><br>2. no longer than 28 bytes without <code>t-</code> prefix<br>3. can only include 0-9, A-Z, a-z, underscore(_), hyphen(-) or dot(.)<br>Besides user defined information, reserved contents are listed below, denoting how the order is created:<br><br>- web: from web<br>- api: from API<br>- app: from mobile phones<br>- auto_deleveraging: from ADL<br>- liquidation: from liquidation<br>- insurance: from insurance</td></tr> <tr><td>tkfr</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Taker fee</td></tr> <tr><td>mkfr</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Maker fee</td></tr> <tr><td>refu</td> <td>integer</td> <td>false</td> <td>read-only</td> <td>Reference user ID</td></tr> <tr><td>auto_size</td> <td>string</td> <td>false</td> <td>write-only</td> <td>Set side to close dual-mode position. <code>close_long</code> closes the long side; while <code>close_short</code> the short one. Note <code>size</code> also needs to be set to 0</td></tr> <tr><td>stp_id</td> <td>integer</td> <td>false</td> <td>read-only</td> <td>Orders between users in the same <code>stp_id</code> group are not allowed to be self-traded<br><br>1. If the <code>stp_id</code> of two orders being matched is non-zero and equal, they will not be executed. Instead, the corresponding strategy will be executed based on the <code>stp_act</code> of the taker.<br>2. <code>stp_id</code> returns <code>0</code> by default for orders that have not been set for <code>STP group</code></td></tr> <tr><td>stp_act</td> <td>string</td> <td>false</td> <td>none</td> <td>Self-Trading Prevention Action. Users can use this field to set self-trade prevetion strategies<br><br>1. After users join the <code>STP Group</code>, he can pass <code>stp_act</code> to limit the user's self-trade prevetion strategy. If <code>stp_act</code> is not passed, the default is <code>cn</code> strategy。<br>2. When the user does not join the <code>STP group</code>, an error will be returned when passing the <code>stp_act</code> parameter。<br>3. If the user did not use 'stp_act' when placing the order, 'stp_act' will return '-'<br><br>- cn: Cancel newest, Cancel new orders and keep old ones<br>- co: Cancel oldest, Cancel old orders and keep new ones<br>- cb: Cancel both, Both old and new orders will be cancelled</td></tr> <tr><td>amend_text</td> <td>string</td> <td>false</td> <td>read-only</td> <td>The custom data that the user remarked when amending the order</td></tr> <tr><td>biz_info</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Additional information</td></tr></tbody></table> <h4 id="enumerated-values-132"><a href="#enumerated-values-132" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>finish_as</td> <td>filled</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>liquidated</td></tr> <tr><td>finish_as</td> <td>ioc</td></tr> <tr><td>finish_as</td> <td>auto_deleveraged</td></tr> <tr><td>finish_as</td> <td>reduce_only</td></tr> <tr><td>finish_as</td> <td>position_closed</td></tr> <tr><td>finish_as</td> <td>reduce_out</td></tr> <tr><td>finish_as</td> <td>stp</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>tif</td> <td>poc</td></tr> <tr><td>tif</td> <td>fok</td></tr> <tr><td>auto_size</td> <td>close_long</td></tr> <tr><td>auto_size</td> <td>close_short</td></tr> <tr><td>stp_act</td> <td>co</td></tr> <tr><td>stp_act</td> <td>cn</td></tr> <tr><td>stp_act</td> <td>cb</td></tr> <tr><td>stp_act</td> <td>-</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="batchamendorderreq"><a href="#batchamendorderreq" class="header-anchor">#</a> BatchAmendOrderReq</h2> <p><a id="schemabatchamendorderreq"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;order_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;amend_text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Modify contract order parameters</em></p> <h3 id="properties-11"><a href="#properties-11" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>order_id</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Order id, order_id and text must contain at least one</td></tr> <tr><td>text</td> <td>string</td> <td>false</td> <td>none</td> <td>User-defined order text, at least one of order_id and text must be passed</td></tr> <tr><td>size</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>The new order size, including the executed order size.<br>- If it is less than or equal to the executed quantity, the order will be cancelled.<br>- The new order direction must be consistent with the original one.<br>- The size of the closing order cannot be modified.<br>- For orders that only reduce positions, if the size is increased, other orders that only reduce positions may be kicked out.<br>- If the price is not modified, reducing the size will not affect the depth of the queue, and increasing the size will place it at the end of the current price.</td></tr> <tr><td>price</td> <td>string</td> <td>false</td> <td>none</td> <td>New order price.</td></tr> <tr><td>amend_text</td> <td>string</td> <td>false</td> <td>none</td> <td>Custom info during amending order</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="futurespricetriggeredorder"><a href="#futurespricetriggeredorder" class="header-anchor">#</a> FuturesPriceTriggeredOrder</h2> <p><a id="schemafuturespricetriggeredorder"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;initial&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;contract&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;close&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;tif&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gtc&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;auto_size&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_reduce_only&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;is_close&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trigger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;strategy_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price_type&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;rule&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;expiration&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;create_time&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_time&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token string">&quot;open&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;finish_as&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelled&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;reason&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;me_order_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Futures order details</em></p> <h3 id="properties-12"><a href="#properties-12" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>initial</td> <td>object</td> <td>true</td> <td>none</td> <td>none</td></tr> <tr><td>» contract</td> <td>string</td> <td>true</td> <td>none</td> <td>Futures contract</td></tr> <tr><td>» size</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Order size. Positive size means to buy, while negative one means to sell. Set to 0 to close the position</td></tr> <tr><td>» price</td> <td>string</td> <td>true</td> <td>none</td> <td>Order price. Set to 0 to use market price</td></tr> <tr><td>» close</td> <td>boolean</td> <td>false</td> <td>write-only</td> <td>Set to true if trying to close the position</td></tr> <tr><td>» tif</td> <td>string</td> <td>false</td> <td>none</td> <td>Time in force. If using market price, only <code>ioc</code> is supported.<br><br>- gtc: GoodTillCancelled<br>- ioc: ImmediateOrCancelled</td></tr> <tr><td>» text</td> <td>string</td> <td>false</td> <td>none</td> <td>The source of the order, including:<br>- web: web<br>- api: api<br>- app: app</td></tr> <tr><td>» reduce_only</td> <td>boolean</td> <td>false</td> <td>none</td> <td>Set to true to create a reduce-only order</td></tr> <tr><td>» auto_size</td> <td>string</td> <td>false</td> <td>write-only</td> <td>Set side to close dual-mode position. <code>close_long</code> closes the long side; while <code>close_short</code> the short one. Note <code>size</code> also needs to be set to 0</td></tr> <tr><td>» is_reduce_only</td> <td>boolean</td> <td>false</td> <td>read-only</td> <td>Is the order reduce-only</td></tr> <tr><td>» is_close</td> <td>boolean</td> <td>false</td> <td>read-only</td> <td>Is the order to close position</td></tr> <tr><td>trigger</td> <td>object</td> <td>true</td> <td>none</td> <td>none</td></tr> <tr><td>» strategy_type</td> <td>integer(int32)</td> <td>false</td> <td>none</td> <td>How the order will be triggered<br><br> - <code>0</code>: by price, which means the order will be triggered if price condition is satisfied<br> - <code>1</code>: by price gap, which means the order will be triggered if gap of recent two prices of specified <code>price_type</code> are satisfied. <br>Only <code>0</code> is supported currently</td></tr> <tr><td>» price_type</td> <td>integer(int32)</td> <td>false</td> <td>none</td> <td>Price type. 0 - latest deal price, 1 - mark price, 2 - index price</td></tr> <tr><td>» price</td> <td>string</td> <td>false</td> <td>none</td> <td>Value of price on price triggered, or price gap on price gap triggered</td></tr> <tr><td>» rule</td> <td>integer(int32)</td> <td>false</td> <td>none</td> <td>Trigger condition type<br><br>- <code>1</code>: calculated price based on <code>strategy_type</code> and <code>price_type</code> &gt;= <code>price</code><br>- <code>2</code>: calculated price based on <code>strategy_type</code> and <code>price_type</code> &lt;= <code>price</code></td></tr> <tr><td>» expiration</td> <td>integer</td> <td>false</td> <td>none</td> <td>How long (in seconds) to wait for the condition to be triggered before cancelling the order.</td></tr> <tr><td>id</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Auto order ID</td></tr> <tr><td>user</td> <td>integer</td> <td>false</td> <td>read-only</td> <td>User ID</td></tr> <tr><td>create_time</td> <td>number(double)</td> <td>false</td> <td>read-only</td> <td>Creation time</td></tr> <tr><td>finish_time</td> <td>number(double)</td> <td>false</td> <td>read-only</td> <td>Finished time</td></tr> <tr><td>trade_id</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>ID of the newly created order on condition triggered</td></tr> <tr><td>status</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Auto order status<br><br>- <code>open</code>: order is active<br>- <code>finished</code>: order is finished<br>- <code>inactive</code>: order is not active, only for close-long-order or close-short-order<br>- <code>invalid</code>: order is invalid, only for close-long-order or close-short-order</td></tr> <tr><td>finish_as</td> <td>string</td> <td>false</td> <td>read-only</td> <td>How order is finished</td></tr> <tr><td>reason</td> <td>string</td> <td>false</td> <td>read-only</td> <td>Additional remarks on how the order was finished</td></tr> <tr><td>order_type</td> <td>string</td> <td>false</td> <td>none</td> <td>Take-profit/stop-loss types, which include:<br><br>- <code>close-long-order</code>: order take-profit/stop-loss, close long position<br>- <code>close-short-order</code>: order take-profit/stop-loss, close short position<br>- <code>close-long-position</code>: position take-profit/stop-loss, close long position<br>- <code>close-short-position</code>: position take-profit/stop-loss, close short position<br>- <code>plan-close-long-position</code>: position planned take-profit/stop-loss, close long position<br>- <code>plan-close-short-position</code>: position planned take-profit/stop-loss, close short position<br><br>The order take-profit/stop-loss can not be passed by request. These two types are read only.</td></tr> <tr><td>me_order_id</td> <td>integer(int64)</td> <td>false</td> <td>read-only</td> <td>Corresponding order ID of order take-profit/stop-loss.</td></tr></tbody></table> <h4 id="enumerated-values-133"><a href="#enumerated-values-133" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>tif</td> <td>gtc</td></tr> <tr><td>tif</td> <td>ioc</td></tr> <tr><td>strategy_type</td> <td>0</td></tr> <tr><td>strategy_type</td> <td>1</td></tr> <tr><td>price_type</td> <td>0</td></tr> <tr><td>price_type</td> <td>1</td></tr> <tr><td>price_type</td> <td>2</td></tr> <tr><td>rule</td> <td>1</td></tr> <tr><td>rule</td> <td>2</td></tr> <tr><td>status</td> <td>open</td></tr> <tr><td>status</td> <td>finished</td></tr> <tr><td>status</td> <td>inactive</td></tr> <tr><td>status</td> <td>invalid</td></tr> <tr><td>finish_as</td> <td>cancelled</td></tr> <tr><td>finish_as</td> <td>succeeded</td></tr> <tr><td>finish_as</td> <td>failed</td></tr> <tr><td>finish_as</td> <td>expired</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="deliverycontract"><a href="#deliverycontract" class="header-anchor">#</a> DeliveryContract</h2> <p><a id="schemadeliverycontract"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;underlying&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;cycle&quot;</span><span class="token operator">:</span> <span class="token string">&quot;WEEKLY&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;inverse&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;quanto_multiplier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_min&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;leverage_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maintenance_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;internal&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;index_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;last_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;maker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;taker_fee_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;mark_price_round&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;basis_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;basis_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;basis_impact_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle_price&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle_price_interval&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;settle_price_duration&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;expire_time&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_base&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_step&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;risk_limit_max&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_min&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_size_max&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;order_price_deviate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_discount_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;ref_rebate_rate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orderbook_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_id&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;trade_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;position_size&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token property">&quot;config_change_time&quot;</span><span class="token operator">:</span> <span class="token number">0.1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;in_delisting&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;orders_limit&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <p><em>Futures contract details</em></p> <h3 id="properties-13"><a href="#properties-13" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>name</td> <td>string</td> <td>false</td> <td>none</td> <td>Futures contract</td></tr> <tr><td>underlying</td> <td>string</td> <td>false</td> <td>none</td> <td>Underlying</td></tr> <tr><td>cycle</td> <td>string</td> <td>false</td> <td>none</td> <td>Cycle type, e.g. WEEKLY, QUARTERLY</td></tr> <tr><td>type</td> <td>string</td> <td>false</td> <td>none</td> <td>Futures contract type</td></tr> <tr><td>quanto_multiplier</td> <td>string</td> <td>false</td> <td>none</td> <td>Multiplier used in converting from invoicing to settlement currency</td></tr> <tr><td>leverage_min</td> <td>string</td> <td>false</td> <td>none</td> <td>Minimum leverage</td></tr> <tr><td>leverage_max</td> <td>string</td> <td>false</td> <td>none</td> <td>Maximum leverage</td></tr> <tr><td>maintenance_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Maintenance rate of margin</td></tr> <tr><td>mark_type</td> <td>string</td> <td>false</td> <td>none</td> <td>Mark price type, internal - based on internal trading, index - based on external index price</td></tr> <tr><td>mark_price</td> <td>string</td> <td>false</td> <td>none</td> <td>Current mark price</td></tr> <tr><td>index_price</td> <td>string</td> <td>false</td> <td>none</td> <td>Current index price</td></tr> <tr><td>last_price</td> <td>string</td> <td>false</td> <td>none</td> <td>Last trading price</td></tr> <tr><td>maker_fee_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Maker fee rate, where negative means rebate</td></tr> <tr><td>taker_fee_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Taker fee rate</td></tr> <tr><td>order_price_round</td> <td>string</td> <td>false</td> <td>none</td> <td>Minimum order price increment</td></tr> <tr><td>mark_price_round</td> <td>string</td> <td>false</td> <td>none</td> <td>Minimum mark price increment</td></tr> <tr><td>basis_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Fair basis rate</td></tr> <tr><td>basis_value</td> <td>string</td> <td>false</td> <td>none</td> <td>Fair basis value</td></tr> <tr><td>basis_impact_value</td> <td>string</td> <td>false</td> <td>none</td> <td>Funding used for calculating impact bid, ask price</td></tr> <tr><td>settle_price</td> <td>string</td> <td>false</td> <td>none</td> <td>Settle price</td></tr> <tr><td>settle_price_interval</td> <td>integer</td> <td>false</td> <td>none</td> <td>Settle price update interval</td></tr> <tr><td>settle_price_duration</td> <td>integer</td> <td>false</td> <td>none</td> <td>Settle price update duration in seconds</td></tr> <tr><td>expire_time</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Contract expiry timestamp</td></tr> <tr><td>risk_limit_base</td> <td>string</td> <td>false</td> <td>none</td> <td>Risk limit base</td></tr> <tr><td>risk_limit_step</td> <td>string</td> <td>false</td> <td>none</td> <td>Step of adjusting risk limit</td></tr> <tr><td>risk_limit_max</td> <td>string</td> <td>false</td> <td>none</td> <td>Maximum risk limit the contract allowed</td></tr> <tr><td>order_size_min</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Minimum order size the contract allowed</td></tr> <tr><td>order_size_max</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Maximum order size the contract allowed</td></tr> <tr><td>order_price_deviate</td> <td>string</td> <td>false</td> <td>none</td> <td>deviation between order price and current index price. If price of an order is denoted as order_price, it must meet the following condition:<br><br>    abs(order_price - mark_price) &lt;= mark_price * order_price_deviate</td></tr> <tr><td>ref_discount_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Referral fee rate discount</td></tr> <tr><td>ref_rebate_rate</td> <td>string</td> <td>false</td> <td>none</td> <td>Referrer commission rate</td></tr> <tr><td>orderbook_id</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Current orderbook ID</td></tr> <tr><td>trade_id</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Current trade ID</td></tr> <tr><td>trade_size</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Historical accumulated trade size</td></tr> <tr><td>position_size</td> <td>integer(int64)</td> <td>false</td> <td>none</td> <td>Current total long position size</td></tr> <tr><td>config_change_time</td> <td>number(double)</td> <td>false</td> <td>none</td> <td>Last changed time of configuration</td></tr> <tr><td>in_delisting</td> <td>boolean</td> <td>false</td> <td>none</td> <td>Contract is delisting</td></tr> <tr><td>orders_limit</td> <td>integer</td> <td>false</td> <td>none</td> <td>Maximum number of open orders</td></tr></tbody></table> <h4 id="enumerated-values-134"><a href="#enumerated-values-134" class="header-anchor">#</a> Enumerated Values</h4> <table><thead><tr><th>Property</th> <th>Value</th></tr></thead> <tbody><tr><td>cycle</td> <td>WEEKLY</td></tr> <tr><td>cycle</td> <td>BI-WEEKLY</td></tr> <tr><td>cycle</td> <td>QUARTERLY</td></tr> <tr><td>cycle</td> <td>BI-QUARTERLY</td></tr> <tr><td>type</td> <td>inverse</td></tr> <tr><td>type</td> <td>direct</td></tr> <tr><td>mark_type</td> <td>internal</td></tr> <tr><td>mark_type</td> <td>index</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div> <div style="height:auto;"><div class="content-block" style="display:;"><div class="content-block__heading"></div> <div class="content-block__body"><div class="content-block__cont"><h2 id="debitfee"><a href="#debitfee" class="header-anchor">#</a> DebitFee</h2> <p><a id="schemadebitfee"></a></p> <div type="example" class="examples"><div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <h3 id="properties-14"><a href="#properties-14" class="header-anchor">#</a> Properties</h3> <table><thead><tr><th>Name</th> <th>Type</th> <th>Required</th> <th>Restrictions</th> <th>Description</th></tr></thead> <tbody><tr><td>enabled</td> <td>boolean</td> <td>true</td> <td>none</td> <td>Whether GT fee discount is used</td></tr></tbody></table></div> <div class="content-block__examples"></div></div></div></div></div> <div class="content__footer-container"><div class="content__footer"><div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">1/17/2025, 2:16:19 AM</span></div> <!----></div></div></div></div></div> <!----></div><div class="global-ui"></div></div>
    <script src="/docs/developers/assets/js/app.66c6dd1a.js" defer></script><script src="/docs/developers/assets/js/2.3ee83fe4.js" defer></script><script src="/docs/developers/assets/js/9.13400a70.js" defer></script>
  </body>
</html>
